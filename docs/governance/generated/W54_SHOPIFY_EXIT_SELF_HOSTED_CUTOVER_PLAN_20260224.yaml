plan_id: W54_SHOPIFY_EXIT_SELF_HOSTED_CUTOVER_PLAN_20260224
generated_at: "2026-02-24T17:00:00Z"
status: planned
mode: roadmap-only
objective: Decommission Shopify dependency and cut over mintprints web origin to self-hosted R730XD stack with governed rollback.

scope:
  business_zone: mintprints
  target_domains:
    - mintprints.com
    - www.mintprints.com
  target_origin:
    host: R730XD
    platform: self-hosted web stack
  constraints:
    - Planning-only in W54 (no live DNS or mail mutations).
    - Preserve W48 boundaries and keep ronny/spine-comms domains isolated.

current_state_assumption:
  transfer_state: pending transfer initiated
  domains:
    - mintprints.com
    - mintprints.co
    - ronny.works

wave_sequence:
  - wave_0_dependency_inventory
  - wave_1_self_host_preflight
  - wave_2_cutover_execution
  - wave_3_postcheck
  - wave_4_soak
  - wave_5_closeout

no_mail_break_controls:
  - Freeze MX/SPF/DKIM/DMARC changes during website-origin cutover.
  - Verify mail send/receive synthetic checks before cutover and during soak.
  - Keep existing mail endpoints and DNS mail records unchanged across rollout.
  - Treat any mail regression as immediate rollback trigger.

waves:
  wave_0_dependency_inventory:
    prechecks:
      - Enumerate Shopify-owned DNS records and app dependencies.
      - Document storefront, cart, checkout, account, and webhook dependency map.
      - Capture baseline web + mail health and performance.
    execution_steps:
      - Create governed change request for website_origin_cutover.
      - Classify which Shopify capabilities are removed, replaced, or deferred.
      - Define acceptance tests for quote/order/contact flows on replacement stack.
    rollback_steps:
      - Keep Shopify DNS records and subscriptions intact until execution wave is approved.
    soak_criteria:
      - Dependency matrix approved by owner with zero unknown critical dependencies.
    closeout_criteria:
      - Inventory artifacts linked to cutover request.

  wave_1_self_host_preflight:
    prechecks:
      - Self-hosted origin on R730XD serves staging content with valid TLS and redirects.
      - Backups and rollback artifacts captured for DNS and origin config.
      - Edge/Tunnel routing plan prepared for apex and www.
    execution_steps:
      - Run pre-cutover load and smoke tests on self-hosted origin.
      - Validate reverse-proxy/Tunnel configuration and health probes.
      - Confirm no-mail-break controls attached to execution checklist.
    rollback_steps:
      - Block cutover if self-host tests fail; keep Shopify origin authoritative.
    soak_criteria:
      - 24-hour staging stability with no critical errors.
    closeout_criteria:
      - Execution window approved with explicit rollback owner.

  wave_2_cutover_execution:
    prechecks:
      - Cutover window active with stakeholders on bridge.
      - Final pre-cut web and mail synthetic checks pass.
      - Rollback record set and command sequence ready.
    execution_steps:
      - Repoint apex and www to self-hosted origin path.
      - Keep account and mail-related hostnames unchanged unless separately approved.
      - Disable Shopify storefront entry path after successful origin validation.
    rollback_steps:
      - Revert apex/www DNS targets to prior Shopify records.
      - Re-enable Shopify storefront path if self-hosted origin fails critical checks.
    soak_criteria:
      - Critical user journeys pass on new origin for first 2 hours.
    closeout_criteria:
      - Execution receipt captured with exact changed records and timestamps.

  wave_3_postcheck:
    prechecks:
      - DNS propagation visible in multiple resolvers.
      - Application and infrastructure logs available.
    execution_steps:
      - Validate apex/www HTTP behavior, TLS, redirects, and origin health.
      - Confirm quote/contact/order proxy paths and webhooks behave as expected.
      - Verify mail send/receive remains healthy.
    rollback_steps:
      - Trigger full rollback for any critical path or mail regression.
    soak_criteria:
      - 24-hour stable operation with no Sev1/Sev2 incidents.
    closeout_criteria:
      - Postcheck evidence complete and signed off.

  wave_4_soak:
    prechecks:
      - Monitoring, alerting, and on-call coverage active.
    execution_steps:
      - Continue synthetic and real-user monitoring for 72 hours.
      - Track error budget and performance regressions against baseline.
    rollback_steps:
      - Roll back to Shopify path if sustained critical regression exceeds threshold.
    soak_criteria:
      - 72-hour stability, no-mail-break maintained, and performance within baseline envelope.
    closeout_criteria:
      - Eligible for Shopify contract decommission.

  wave_5_closeout:
    prechecks:
      - All previous waves complete with linked evidence.
    execution_steps:
      - Decommission remaining Shopify dependencies approved for retirement.
      - Update domain runbooks, contracts, and receipts.
      - File follow-on backlog items for residual dependency reduction.
    rollback_steps:
      - Re-open transition and execute rollback if latent defects appear within warranty window.
    soak_criteria:
      - No unresolved critical defects at final review.
    closeout_criteria:
      - Shopify exit roadmap marked execution-ready for W55.
