status: authoritative
owner: "@ronny"
last_verified: "2026-02-23"
scope: w20-normalization-patch-plan
generated_at: "2026-02-23T07:58:56Z"
task_id: WORKBENCH-BUILD-W20-STRATEGY-ONLY-20260223
mode: strategy-only

inventories:
  frontmatter_gap_count: 152
  frontmatter_gap_class_a: 135
  frontmatter_gap_class_b: 17
  hardcoded_path_counts:
    total_occurrences: 784
    total_files: 318
    contract_sensitive:
      occurrences: 469
      files: 190
    docs_examples:
      occurrences: 315
      files: 128
    generated_surfaces:
      occurrences: 0
      files: 0
  temporal_field_counts:
    updated_at:
      occurrences: 83
      files: 83
    updated:
      occurrences: 75
      files: 66
    last_verified:
      occurrences: 489
      files: 467
  mcp_registry_sources_count: 4

confirmed_safe_targets_for_w21:
  - id: W21-T1
    target: Bounded Class-B frontmatter introduction in ops/bindings
    constraints:
      - "Use Class-B list only"
      - "Batch size <= 10 files"
      - "Verify after each batch"
  - id: W21-T2
    target: Docs/examples path normalization (/Users/ronnyworks/code -> ~/code)
    constraints:
      - "Non-generated docs/examples only"
      - "No contract-sensitive files"
  - id: W21-T3
    target: Temporal metadata normalization on touched files only
    constraints:
      - "Docs: prefer last_verified"
      - "Bindings: keep updated_at unless schema requires updated"
  - id: W21-T4
    target: MCP inventory/documentation alignment
    constraints:
      - "No runtime MCP config mutation"
      - "Contract remains source of authority"

blocked_targets:
  - target: /Users/ronnyworks/code/workbench/.spine-link.yaml
    reason: "repo_path must stay absolute under current D153/generator contracts"
  - target: /Users/ronnyworks/code/workbench/bin/{ops,verify,mint}
    reason: "symlink strategy is runtime-sensitive and out of scope"
  - target: /Users/ronnyworks/code/agentic-spine/ops/bindings/agents.registry.yaml (project_binding.repo_path)
    reason: "absolute path currently enforced"
  - target: mass rewrite of /Users/ronnyworks/code/agentic-spine/ops/bindings/*
    reason: "high-risk, contract-first migration required"
  - target: generator-managed outputs
    reason: "must change source/generator first"

sequence_of_operations:
  - "1) Docs/examples path normalization in approved files only"
  - "2) Verify core + workbench pack + hygiene-weekly + proposals.status"
  - "3) Class-B frontmatter batch (<=10), then verify"
  - "4) Temporal field normalization only on touched files"
  - "5) MCP docs parity updates only"

rollback_plan:
  - "One commit per micro-batch"
  - "Revert only failing batch on gate regression"
  - "Stop progression until all required verify surfaces are green"

expected_gate_impact:
  - gate: D153
    expectation: "No change; absolute-path contracts remain untouched"
  - gate: D125
    expectation: "No change; MCP runtime configs untouched"
  - gate: D148
    expectation: "No change; MCP contract untouched"
  - gate: D85
    expectation: "Low risk; docs-only updates avoid script header churn"
  - gate: D60
    expectation: "Low risk; avoid deprecated terminology in docs"

excluded_surfaces:
  - /Users/ronnyworks/code/workbench/.spine-link.yaml
  - /Users/ronnyworks/code/workbench/bin/ops
  - /Users/ronnyworks/code/workbench/bin/verify
  - /Users/ronnyworks/code/workbench/bin/mint
  - /Users/ronnyworks/code/agentic-spine/ops/bindings/agents.registry.yaml
  - /Users/ronnyworks/code/agentic-spine/docs/governance/generated/* (except W20 artifacts)

mcp_registry_inventory:
  proposed_ssot: /Users/ronnyworks/code/agentic-spine/ops/bindings/mcp.runtime.contract.yaml
  canonical_read_order:
    - order: 1
      path: /Users/ronnyworks/code/agentic-spine/ops/bindings/mcp.runtime.contract.yaml
      role: contract_authority
    - order: 2
      path: /Users/ronnyworks/code/agentic-spine/.mcp.json
      role: runtime_surface_codex
    - order: 3
      path: /Users/ronnyworks/code/workbench/.mcp.json
      role: runtime_surface_claude_desktop
    - order: 4
      path: /Users/ronnyworks/code/workbench/dotfiles/opencode/opencode.json
      role: runtime_surface_opencode
  sources:
    - path: /Users/ronnyworks/code/agentic-spine/.mcp.json
      type: runtime_config
      key: mcpServers
      servers: [finance-agent, mint-pricing, mint-suppliers, spine]
    - path: /Users/ronnyworks/code/workbench/.mcp.json
      type: runtime_config
      key: mcpServers
      servers: [finance-agent, media-agent]
    - path: /Users/ronnyworks/code/workbench/dotfiles/opencode/opencode.json
      type: runtime_config
      key: mcp
      servers: [playwright, spine]
    - path: /Users/ronnyworks/code/agentic-spine/ops/bindings/mcp.runtime.contract.yaml
      type: contract_authority
      key: required_servers_by_surface
      servers:
        codex: [spine]
        claude_desktop: [spine, immich-photos, communications-agent]
        opencode: [spine]
