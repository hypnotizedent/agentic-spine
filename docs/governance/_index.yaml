# Governance Document Index
# Machine-readable catalog of all governance documents.
# Every doc in this folder MUST have an entry here.
# If a doc is not listed, it should not be in governance/.
#
# Status: authoritative
# Last verified: 2026-02-13
# Loop: LOOP-SPINE-AGENT-RUNWAY-20260210

documents:
  # ── Registries & SSOTs (Machine-Readable Authority) ──
  - file: SSOT_REGISTRY.yaml
    purpose: "Master index of all SSOT claims with priority tiers and conflict resolution"
    type: registry

  - file: SERVICE_REGISTRY.yaml
    purpose: "Machine-readable SSOT for services: what exists and where they run"
    type: registry

  - file: STACK_REGISTRY.yaml
    purpose: "Machine-readable SSOT for compose stacks and authoritative entrypoints"
    type: registry

  - file: DOMAIN_ROUTING_REGISTRY.yaml
    purpose: "Machine-readable routing truth: hostname -> layer -> authority"
    type: registry

  - file: SCRIPTS_REGISTRY.md
    purpose: "Official inventory of all operator scripts allowed as governance surfaces"
    type: registry

  # ── Infrastructure SSOTs ──
  - file: DEVICE_IDENTITY_SSOT.md
    purpose: "Complete device inventory across all sites with verification methods"
    type: ssot

  - file: MACBOOK_SSOT.md
    purpose: "Authoritative inventory of MacBook workstation infrastructure and configuration"
    type: ssot

  - file: MACBOOK_BOOTSTRAP_CONTRACT.md
    purpose: "Canonical fresh-Mac bootstrap requirements, phases, and ownership boundaries"
    type: contract

  - file: MINILAB_SSOT.md
    purpose: "Authoritative inventory of home lab infrastructure with receipts"
    type: ssot

  - file: SHOP_SERVER_SSOT.md
    purpose: "Authoritative inventory of shop server hardware and VM configurations"
    type: ssot

  - file: CAMERA_SSOT.md
    purpose: "Authoritative inventory of camera infrastructure with live ISAPI verification"
    type: ssot

  # ── Authority Documents (Governance Rules) ──
  - file: REPO_STRUCTURE_AUTHORITY.md
    purpose: "Single source of truth for repository folder hierarchy and organization"
    type: authority

  - file: COMPOSE_AUTHORITY.md
    purpose: "Authority map preventing compose guessing by defining live locations"
    type: authority

  - file: STACK_AUTHORITY.md
    purpose: "Rules for active stacks and authoritative compose config locations"
    type: authority

  - file: INGRESS_AUTHORITY.md
    purpose: "Authority for routing layer between DNS and services"
    type: authority

  - file: GIT_REMOTE_AUTHORITY.md
    purpose: "Authority for Gitea canonical repository and GitHub mirror relationship"
    type: authority

  # ── Core Governance & Policy ──
  - file: CANONICAL.md
    purpose: "Declaration that governance directory contains authoritative sources"
    type: reference

  - file: AGENTS_GOVERNANCE.md
    purpose: "Agent infrastructure governance: registry, lifecycle, discovery, and verification contracts"
    type: policy

  - file: AGENT_GOVERNANCE_BRIEF.md
    purpose: "Canonical brief summarizing all agent governance constraints"
    type: policy

  - file: AGENT_BOUNDARIES.md
    purpose: "Explicit rules for what agents can and cannot do"
    type: policy

  - file: AGENT_TERMINOLOGY_GLOSSARY.md
    purpose: "Canonical definitions for overloaded agent terms in the spine ecosystem"
    type: reference

  - file: CORE_AGENTIC_SCOPE.md
    purpose: "Definition of CORE agentic scope boundaries and responsibilities"
    type: policy

  - file: AGENTS_LOCATION.md
    purpose: "Contract governing agent location and discovery"
    type: policy

  - file: SECURITY_POLICIES.md
    purpose: "Baseline security governance for firewall, secrets, and access control"
    type: policy

  - file: NETWORK_POLICIES.md
    purpose: "Baseline network governance including Tailscale ACLs and multi-site rules"
    type: policy

  - file: HOST_DRIFT_POLICY.md
    purpose: "Governance rules for /Users/ronnyworks during stabilization"
    type: policy

  - file: POST_GAP_OPERATING_MODEL.md
    purpose: "Canonical post-gap stability contract with lifecycle standards, ownership model, and 30/60/90 roadmap"
    type: policy

  - file: BUILD_MODE_CHECKLIST.md
    purpose: "Operator checklist with stop-gates and definition-of-done by change type"
    type: policy

  - file: ONBOARDING_PLAYBOOK.md
    purpose: "Canonical onboarding command flow for VM/agent/capability/tool/surface changes"
    type: policy

  - file: SECRETS_POLICY.md
    purpose: "Governance rules for secrets management and rotation"
    type: policy

  - file: GAP_LIFECYCLE.md
    purpose: "Gap registry lifecycle, mutation capabilities, and claim semantics"
    type: policy

  - file: RUNWAY_TOOLING_PRODUCT_OPERATING_CONTRACT_V1.md
    purpose: "Cross-repo operating contract for stable parallel execution across spine, workbench, and mint-modules"
    type: policy

  - file: MINT_PRODUCT_GOVERNANCE.md
    purpose: "Product governance policy for Mint project"
    type: policy

  - file: INFRASTRUCTURE_AUTHORITY.md
    purpose: "Infrastructure authority document (deprecated, superseded by SERVICE_REGISTRY.yaml)"
    type: authority

  # ── Share Channel Governance ──
  - file: WORKBENCH_SHARE_PROTOCOL.md
    purpose: "One-way publish flow, security boundaries, roles for GitHub share channel"
    type: policy

  # ── Operational Runbooks ──
  - file: MAILROOM_RUNBOOK.md
    purpose: "Operational guide for the mailroom — the spine's only runtime surface"
    type: runbook

  - file: NETWORK_RUNBOOK.md
    purpose: "Reusable procedures for network changes across the homelab"
    type: runbook

  - file: DR_RUNBOOK.md
    purpose: "Disaster recovery procedures covering per-site failure scenarios"
    type: runbook

  - file: PHASE4_OBSERVABILITY_RUNBOOK.md
    purpose: "Runbook for Phase 4 infrastructure relocation observability VM"
    type: runbook

  - file: SHOP_NETWORK_AUDIT_RUNBOOK.md
    purpose: "Complete shop network drift detection and audit procedure"
    type: runbook

  - file: HASS_OPERATIONAL_RUNBOOK.md
    purpose: "Home Assistant operational procedures and troubleshooting"
    type: runbook

  - file: HASS_MCP_INTEGRATION.md
    purpose: "Policy boundary for Home Assistant MCP usage versus governed spine capabilities"
    type: policy

  - file: HASS_AGENT_GOTCHAS.md
    purpose: "Agent friction points and gotchas for Home Assistant operations"
    type: reference

  - file: HASS_SSOT_BASELINE.md
    purpose: "HA SSOT baseline architecture, refresh workflow, and regression detection"
    type: reference

  - file: HASS_INDEX.md
    purpose: "Home Assistant documentation index — single entry point for all HA governance"
    type: reference

  - file: HOME_NETWORK_AUDIT_RUNBOOK.md
    purpose: "Home site network audit and drift detection procedure"
    type: runbook

  - file: HOME_NETWORK_DEVICE_ONBOARDING.md
    purpose: "Home site device onboarding procedure"
    type: runbook

  - file: N8N_RECOVERY_RUNBOOK.md
    purpose: "n8n recovery and restoration procedure"
    type: runbook

  # ── Templates & Procedures ──
  - file: CHANGE_PACK_TEMPLATE.md
    purpose: "Copy/paste execution artifact template for network changes"
    type: template

  - file: SSOT_UPDATE_TEMPLATE.md
    purpose: "Workflow template for SSOT verification and updates"
    type: template

  - file: ISSUE_CLOSURE_SOP.md
    purpose: "Standard operating procedure for issue closure workflow"
    type: template

  # ── Infrastructure & Architecture ──
  - file: SHOP_VM_ARCHITECTURE.md
    purpose: "Shop server VM architecture derived from registries and SSOTs"
    type: reference

  - file: INFRASTRUCTURE_MAP.md
    purpose: "Historical infrastructure inventory and reconciliation table"
    type: reference

  - file: INFRA_RELOCATION_PROTOCOL.md
    purpose: "Transactional workflow for VM provisioning and service migrations"
    type: runbook

  - file: ../core/VM_CREATION_CONTRACT.md
    purpose: "Canonical lifecycle phases, artifacts, and SSOT touchpoints for VM creation through decommission"
    type: policy

  - file: SHOP_NETWORK_DEVICE_ONBOARDING.md
    purpose: "Canonical runbook for onboarding new shop network devices"
    type: runbook

  - file: SHOP_NETWORK_NORMALIZATION.md
    purpose: "Target state definition for shop network normalization"
    type: reference

  # ── Backup & Disaster Recovery ──
  - file: BACKUP_GOVERNANCE.md
    purpose: "Governance strategy for backup cadence and procedures"
    type: policy

  - file: HOME_BACKUP_STRATEGY.md
    purpose: "Tombstone pointer — merged into BACKUP_GOVERNANCE.md (2026-02-13)"
    type: reference

  - file: BACKUP_CALENDAR.md
    purpose: "Backup calendar (.ics) making cadence visible and subscribable"
    type: reference

  - file: RTO_RPO.md
    purpose: "Per-service recovery objectives: RTO and RPO definitions"
    type: policy

  - file: AUTHENTIK_BACKUP_RESTORE.md
    purpose: "App-level backup and restore procedure for Authentik"
    type: runbook

  - file: GITEA_BACKUP_RESTORE.md
    purpose: "App-level backup and restore procedure for Gitea"
    type: runbook

  - file: INFISICAL_BACKUP_RESTORE.md
    purpose: "App-level backup and restore procedure for Infisical"
    type: runbook

  - file: INFISICAL_RESTORE_DRILL.md
    purpose: "Quarterly executable restore drill for validating Infisical backup/restore readiness"
    type: runbook

  - file: VAULTWARDEN_BACKUP_RESTORE.md
    purpose: "App-level backup and restore procedure for Vaultwarden"
    type: runbook

  - file: TERMINAL_C_DAILY_RUNBOOK.md
    purpose: "Control-plane daily runbook for lane orchestration, fan-in, and closeout"
    type: runbook

  # ── Scripts & Tools Governance ──
  - file: SCRIPTS_AUTHORITY.md
    purpose: "Single source of truth for all scripts and operator surfaces"
    type: authority

  - file: MAKER_TOOLS_GOVERNANCE.md
    purpose: "Governance rules for maker tools plugin and digital-to-physical"
    type: policy

  - file: VERIFY_SURFACE_INDEX.md
    purpose: "Map of verify scripts and their callers and intent"
    type: reference

  - file: WORKBENCH_TOOLING_INDEX.md
    purpose: "Read-only index of external workbench tooling"
    type: reference

  # ── Claude & Session Governance ──
  - file: OUTPUT_CONTRACTS.md
    purpose: "Canonical schemas for all spine work artifacts: loop scopes, gap filings, proposals, gate templates"
    type: contract

  - file: CLAUDE_ENTRYPOINT_SHIM.md
    purpose: "Contract for ~/.claude/CLAUDE.md and related Claude home-config files"
    type: authority

  - file: SESSION_PROTOCOL.md
    purpose: "Entry point protocol for every agent in /Users/ronnyworks/code/agentic-spine"
    type: policy

  - file: ORCHESTRATION_CAPABILITY.md
    purpose: "Machine-enforced orchestration contract and strict per-lane terminal entry behavior"
    type: policy

  - file: OPENCODE_GOVERNED_ENTRY.md
    purpose: "Governed OpenCode launch/model/provider contract and entrypoint consistency rules"
    type: authority

  - file: WORKER_LANE_TEMPLATE_PACK.md
    purpose: "Canonical worker lane prompt templates and required handoff contract"
    type: template

  - file: MAILROOM_BRIDGE.md
    purpose: "Governed remote read/write interface to the spine mailroom"
    type: authority

  - file: IPHONE_MCP_SETUP.md
    purpose: "iPhone MCP setup guide for tailnet-based bridge access"
    type: runbook

  # ── Quality & Index Documents ──
  - file: GOVERNANCE_INDEX.md
    purpose: "Human-readable guide to governance structure and navigation"
    type: reference

  - file: SPINE_INDEX.md
    purpose: "Generated index of spine repository structure"
    type: reference

  - file: RAG_INDEXING_RULES.md
    purpose: "Rules for RAG quality and document indexing"
    type: policy

  - file: RAG_REINDEX_RUNBOOK.md
    purpose: "Governed RAG reindex checklist, acceptance criteria, and failure recovery"
    type: runbook

  - file: RAG_PASSIVE_PIPELINE_PROTOCOL.md
    purpose: "Passive RAG lifecycle contract with normalized metrics and auto-closeout criteria"
    type: policy

  - file: SEARCH_EXCLUSIONS.md
    purpose: "Definitions of search-excluded surfaces and paths"
    type: policy

  # ── Release & Patching ──
  - file: RELEASE_PROTOCOL.md
    purpose: "Canonical release protocol and versioning rules"
    type: policy

  - file: PATCH_CADENCE.md
    purpose: "Update schedules and procedures for OS, apps, containers"
    type: policy

  - file: REBOOT_HEALTH_GATE.md
    purpose: "Reboot validation health gate procedure"
    type: runbook

  - file: HEALTH_TIMELINE_POLICY.md
    purpose: "Governed policy for transient outage forensics and health timeline reconstruction"
    type: policy

  - file: RAG_QUERY_PATTERNS.md
    purpose: "Agent query patterns, failure modes, and fallback behavior for RAG system"
    type: policy

  - file: OPS_PATCH_HISTORY.md
    purpose: "Record of critical ops path hardening without legacy fallbacks"
    type: reference

  # ── Portability & Assumptions ──
  - file: PORTABILITY_ASSUMPTIONS.md
    purpose: "Environment assumptions for spine portability"
    type: reference

  - file: EXCLUDED_SURFACES.md
    purpose: "Explicit list of surfaces out of scope for spine governance"
    type: policy

  # ── Historical Evidence (Completed Extractions) ──
  - file: FINANCE_LEGACY_EXTRACTION_MATRIX.md
    purpose: "Evidence document for completed finance legacy extraction"
    type: reference

  - file: HASS_LEGACY_EXTRACTION_MATRIX.md
    purpose: "Evidence document for completed Home Assistant legacy extraction"
    type: reference

  - file: IMMICH_LEGACY_EXTRACTION_MATRIX.md
    purpose: "Evidence document for completed Immich legacy extraction"
    type: reference

  # ── Archive & Deprecation ──
  - file: ARCHIVE_POLICY.md
    purpose: "Archive directory governance: retention, cleanup cadence, reader expectations"
    type: policy

  - file: LEGACY_DEPRECATION.md
    purpose: "Rules for handling references to legacy repositories"
    type: policy

  - file: AUDIT_VERIFICATION.md
    purpose: "Optimization audit verification procedures and results"
    type: audit

# ── Subdirectories ──

audits:
  description: "Historical audit documents and verification records"
  path: "_audits/"
  documents:
    - file: "2026-02-10-drift-gates-certification.md"
      purpose: "Drift gates certification audit and verification"

    - file: "2026-02-10-drift-gates-consolidation-proposal.md"
      purpose: "Proposal for drift gates consolidation and optimization"

    - file: "AGENT_DISPATCH_PIPELINE_GAP_SCAN.md"
      purpose: "Gap analysis of agent dispatch pipeline"

    - file: "AGENT_RUNTIME_AUDIT.md"
      purpose: "Audit of agent runtime behavior and performance"

    - file: "AUTHORITY_CLAIMS_TRIAGE.md"
      purpose: "Triage of all authority claims across governance"

    - file: "CODE_AUDIT_20260208.md"
      purpose: "Comprehensive code audit dated 2026-02-08"

    - file: "GLM47_DEEP_AUDIT_VERIFICATION_20260209.md"
      purpose: "Deep audit verification for GLM47 infrastructure"

    - file: "HOME_ROOT_HIDDEN_BASELINE_20260207.md"
      purpose: "Baseline of home root hidden files and configuration"

    - file: "HOST_CANONICALIZATION_CLOSEOUT_20260207.md"
      purpose: "Closeout report for host canonicalization initiative"

    - file: "RAG_INTEGRATION_RATIONALE.md"
      purpose: "Rationale and analysis for RAG integration decisions"

    - file: "STATE_OF_THE_UNION_SUMMARY.md"
      purpose: "Summary of current state and union of all initiatives"

# ── Bindings (ops/bindings/) ──

bindings:
  description: "Non-secret configuration bindings in ops/bindings/"
  path: "../ops/bindings/"
  documents:
    - file: "share.publish.allowlist.yaml"
      purpose: "Paths allowed for share channel publishing"
      type: binding

    - file: "share.publish.denylist.yaml"
      purpose: "Patterns blocked from share channel publishing"
      type: binding

    - file: "cross-repo.authority.yaml"
      purpose: "Cross-repo authority mapping"
      type: binding

    - file: "vm.lifecycle.yaml"
      purpose: "VM lifecycle state tracking"
      type: binding

    - file: "vm.operating.profile.yaml"
      purpose: "Per-VM operating behavior contracts (ssh mode, docker access, probe policy)"
      type: binding

    - file: "lifecycle.standards.yaml"
      purpose: "Lifecycle schema/defaults and required artifacts across onboarding work types"
      type: binding

    - file: "change.intake.policy.yaml"
      purpose: "Deterministic intake rules for cap-run, inline notes, and proposal flow"
      type: binding

    - file: "audit.suppressions.policy.yaml"
      purpose: "Time-bounded suppression governance with required evidence and expiry controls"
      type: binding

metadata:
  last_verified: "2026-02-15"
  verification_method: "directory enumeration + frontmatter extraction"
  total_governance_documents: 94
  total_audit_documents: 11
  total_binding_documents: 8
  total_documents: 113
  status: "authoritative"
