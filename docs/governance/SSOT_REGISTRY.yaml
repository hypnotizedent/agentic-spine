# SSOT Registry - agentic-spine
# Single Source of Truth for all SSOT claims
#
# This file is machine-readable. Parse with: yq '.ssots[]' docs/governance/SSOT_REGISTRY.yaml
#
# Priority: 1 = highest (foundational), 5 = lowest (derived/reference)
# When documents conflict, lower priority number wins.
#
# Status: authoritative
# Last verified: 2026-02-06
# GitHub Issue: #541

version: "1.1"
updated: "2026-02-06"
github_issue: "#541"

# Conflict Resolution Order:
# 1. Check this registry for both documents
# 2. Compare priority numbers (lower wins)
# 3. Check last_reviewed dates (more recent = more likely correct)
# 4. If still unclear, escalate to @ronny

ssots:
  # ─────────────────────────────────────────────────────────────
  # TIER 1: Foundational (Priority 1) - These define reality
  # ─────────────────────────────────────────────────────────────

  - id: service-registry
    name: Service Registry
    path: docs/governance/SERVICE_REGISTRY.yaml
    scope: services-topology
    priority: 1
    applies_to:
      - "What services exist"
      - "Where services run (host, port, IP)"
      - "Service health and drift"
      - "Network topology"
    owner: "@ronny"
    last_reviewed: "2026-02-05"
    notes: "Ground truth for all service locations. YAML lives in docs/governance/SERVICE_REGISTRY.yaml."
    archived: false

  - id: repo-structure
    name: Repo Structure Authority
    path: docs/governance/REPO_STRUCTURE_AUTHORITY.md
    scope: repository-structure
    priority: 1
    applies_to:
      - "Where folders belong"
      - "File placement rules"
      - "Pillar definitions"
      - "Naming conventions"
    owner: "@ronny"
    last_reviewed: "2026-01-23"
    notes: "ONLY authority for folder hierarchy. Git hooks enforce this."
    archived: false

  - id: device-identity
    name: Device Identity SSOT
    path: docs/governance/DEVICE_IDENTITY_SSOT.md
    scope: device-naming-identity
    priority: 1
    applies_to:
      - "Device naming rules"
      - "Tailscale hostnames and IPs"
      - "Device verification commands"
      - "Tier classification (1-4)"
    owner: "@ronny"
    last_reviewed: "2026-02-06"
    notes: "Created in #615. Canonical for device identity. References SERVICE_REGISTRY for service-level detail."
    archived: false

  - id: shop-server-ssot
    name: Shop Server SSOT
    path: docs/governance/SHOP_SERVER_SSOT.md
    scope: shop-infrastructure
    priority: 1
    applies_to:
      - "Dell R730XD hardware specs"
      - "Shop rack infrastructure"
      - "VM inventory (200-203)"
      - "ZFS pools and storage"
      - "Dell N2024P switch config"
      - "NVR and camera system"
      - "Shop network topology"
    owner: "@ronny"
    last_reviewed: "2026-02-06"
    notes: "Canonical for shop rack baseline (hardware + topology + ops). No secrets; credentials live in Infisical."
    archived: false

  - id: macbook-ssot
    name: MacBook SSOT
    path: docs/governance/MACBOOK_SSOT.md
    scope: workstation-infrastructure
    priority: 1
    applies_to:
      - "MacBook hardware specs"
      - "Local Docker containers"
      - "Local AI/RAG tooling (deferred)"
      - "Developer tooling"
      - "Workstation backups"
    owner: "@ronny"
    last_reviewed: "2026-02-06"
    notes: "Canonical for workstation baseline. RAG is optional/deferred; do not treat it as Tier-1 health."
    archived: false

  - id: minilab-ssot
    name: Minilab SSOT
    path: docs/governance/MINILAB_SSOT.md
    scope: home-infrastructure
    priority: 1
    applies_to:
      - "Beelink (proxmox-home) specs"
      - "Synology NAS configuration"
      - "Home VM/LXC inventory (100-105)"
      - "Home network (10.0.0.0/24)"
      - "Home automation (HA, Zigbee, Z-Wave)"
    owner: "@ronny"
    last_reviewed: "2026-02-06"
    notes: "Canonical for home minilab. Consolidates discovery audit and NAS storage config."
    archived: false

  - id: session-protocol
    name: Session Protocol
    path: docs/governance/SESSION_PROTOCOL.md
    scope: session-entry
    priority: 1
    applies_to:
      - "Session entry point"
      - "Agent startup protocol"
      - "Context injection rules"
    owner: "@ronny"
    last_reviewed: "2026-01-25"
    notes: "Entry point for all agent sessions. Auto-loads .brain/rules.md."
    archived: false

  # ─────────────────────────────────────────────────────────────
  # TIER 2: Domain-Specific (Priority 2) - Authority within scope
  # ─────────────────────────────────────────────────────────────

  - id: secrets-policy
    name: Secrets Policy
    path: docs/governance/SECRETS_POLICY.md
    scope: secrets-management
    priority: 2
    applies_to:
      - "Where secrets are stored"
      - "How to load secrets"
      - "What NOT to commit"
      - "Infisical usage"
    owner: "@ronny"
    last_reviewed: "2026-01-25"
    notes: "Infisical is SSOT for all secrets. Pre-commit hook enforces."
    archived: false

  - id: legacy-deprecation
    name: Legacy Deprecation Policy
    path: docs/governance/LEGACY_DEPRECATION.md
    scope: legacy-handling
    priority: 2
    applies_to:
      - "Legacy reference rules"
      - "External repository references"
      - "Migration protocol"
      - "Historical capture marking"
    owner: "@ronny"
    last_reviewed: "2026-02-05"
    notes: "Rules for handling ronny-ops and workbench references in the spine."
    archived: false

  - id: mailroom-runbook
    name: Mailroom Runbook
    path: docs/governance/MAILROOM_RUNBOOK.md
    scope: mailroom-operations
    priority: 2
    applies_to:
      - "Queue bucket meanings (queued/running/done/failed/parked)"
      - "Ledger schema and queries"
      - "Open loops tracking"
      - "Watcher status and restart"
      - "Log inspection"
      - "Health checks"
    owner: "@ronny"
    last_reviewed: "2026-02-05"
    notes: "Operational guide for the mailroom runtime surface."
    archived: false

  - id: backup-governance
    name: Backup Governance
    path: docs/governance/BACKUP_GOVERNANCE.md
    scope: backup-strategy
    priority: 2
    applies_to:
      - "Proxmox vzdump configuration"
      - "Storage targets (tank-backups)"
      - "Backup schedules and retention"
      - "Big data strategy (100GB+)"
    owner: "@ronny"
    last_reviewed: "2026-01-25"
    notes: "Created in #622. Canonical for infrastructure-level backups. See pillar BACKUP.md for app-level."
    archived: false

  - id: reboot-health-gate
    name: Reboot Health Gate
    path: docs/governance/REBOOT_HEALTH_GATE.md
    scope: reboot-validation
    priority: 2
    applies_to:
      - "Pre-reboot validation"
      - "Post-reboot verification"
      - "Safe reboot procedures"
    owner: "@ronny"
    last_reviewed: "2026-01-25"
    notes: "Created in #610. Runbook for safe infrastructure reboots."
    archived: false

  - id: scripts-authority
    name: Scripts Authority
    path: docs/governance/SCRIPTS_AUTHORITY.md
    scope: scripts-placement
    priority: 2
    applies_to:
      - "Where scripts belong"
      - "Script naming conventions"
      - "Script organization rules"
    owner: "@ronny"
    last_reviewed: "2026-01-25"
    notes: "Rules for script placement and naming."
    archived: false

  - id: agent-boundaries
    name: Agent Boundaries
    path: docs/governance/AGENT_BOUNDARIES.md
    scope: agent-rules
    priority: 2
    applies_to:
      - "What agents can/cannot do"
      - "Agent execution constraints"
      - "Safety boundaries"
    owner: "@ronny"
    last_reviewed: "2026-01-25"
    notes: "Defines agent constraints and safety rules."
    archived: false

  # ─────────────────────────────────────────────────────────────
  # TIER 3: Operational (Priority 3) - Rules and procedures
  # ─────────────────────────────────────────────────────────────

  - id: ssot-update-template
    name: SSOT Update Template
    path: docs/governance/SSOT_UPDATE_TEMPLATE.md
    scope: ssot-update-workflow
    priority: 3
    applies_to:
      - "How to update SSOT documents"
      - "Receipt-driven doc workflow"
      - "Evidence linking requirements"
      - "Post-edit verification steps"
    owner: "@ronny"
    last_reviewed: "2026-02-05"
    notes: "Template for receipt-driven SSOT updates. Ensures discoveries are traced and verified."
    archived: false

  - id: search-exclusions
    name: Search Exclusions
    path: docs/governance/SEARCH_EXCLUSIONS.md
    scope: search-indexing
    priority: 3
    applies_to:
      - "What directories are excluded from search"
      - "RAG exclusion patterns"
      - "Search pollution prevention"
    owner: "@ronny"
    last_reviewed: "2026-01-23"
    notes: "Created in #541 to document exclusion rules."
    archived: false

  - id: rag-indexing-rules
    name: RAG Indexing Rules
    path: docs/governance/RAG_INDEXING_RULES.md
    scope: rag-quality
    priority: 3
    applies_to:
      - "What gets indexed to RAG"
      - "Quality gates for knowledge base"
      - "Naming conventions for indexed docs"
    owner: "@ronny"
    last_reviewed: "2026-01-22"
    notes: "Quality gate for knowledge base. Prevents pollution."
    archived: false

  - id: issue-closure-sop
    name: Issue Closure SOP
    path: docs/governance/ISSUE_CLOSURE_SOP.md
    scope: issue-workflow
    priority: 3
    applies_to:
      - "When issues can be closed"
      - "Issue closure checklist"
      - "Verification requirements"
    owner: "@ronny"
    last_reviewed: "2026-01-25"
    notes: "Standard operating procedure for closing issues."
    archived: false

  # ─────────────────────────────────────────────────────────────
  # TIER 4: Index/Registry (Priority 4) - Pointers to other docs
  # ─────────────────────────────────────────────────────────────

  - id: governance-index
    name: Governance Index
    path: docs/governance/GOVERNANCE_INDEX.md
    scope: governance-guide
    priority: 4
    applies_to:
      - "How governance works"
      - "Entry chain"
      - "Conflict resolution"
    owner: "@ronny"
    last_reviewed: "2026-01-23"
    notes: "Human-readable governance guide. Created in #541."
    archived: false

  - id: scripts-registry
    name: Scripts Registry
    path: docs/governance/SCRIPTS_REGISTRY.md
    scope: script-authority
    priority: 4
    applies_to:
      - "Canonical scripts index"
      - "Script authority chain"
      - "Legacy script tombstones"
    owner: "@ronny"
    last_reviewed: "2026-01-31"
    notes: "If a script is not listed here, it's not canonical."
    archived: false

# ─────────────────────────────────────────────────────────────
# Validation Rules
# ─────────────────────────────────────────────────────────────
#
# 1. Every SSOT must have front-matter with:
#    status: authoritative
#    owner: "@ronny"
#    last_verified: YYYY-MM-DD
#
# 2. SSOTs must be in this registry to be recognized
#
# 3. If a doc claims SSOT but isn't here, either:
#    - Add it to this registry, OR
#    - Remove the SSOT claim from the doc
#
# 4. Review cycle: Monthly (or after major changes)

# ─────────────────────────────────────────────────────────────
# REMOVED ENTRIES (2026-02-04)
# ─────────────────────────────────────────────────────────────
# These entries were imported from the ronny-ops workbench registry
# and are not spine-scoped. Tracked in AGENTIC_GAP_MAP.md.
#
# - quote-intake-slimming-proposal (docs/runbooks/QUOTE_INTAKE_SLIMMING_PROPOSAL.md)
#     Reason: Proposal doc, not governance; mint-os/workbench specific
#
# - artwork-ticket-model (docs/runbooks/artwork-files/ARTWORK_TICKET_MODEL.md)
#     Reason: Module spec; belongs in workbench, not spine
#
# - minio-rclone-setup (docs/runbooks/artwork-files/MINIO_RCLONE_SETUP.md)
#     Reason: Setup guide; workbench-scoped
#
# - artwork-module.release_gate (docs/runbooks/ARTWORK_EXTRACTION_VERIFY_PACK.md)
#     Reason: Release gate for artwork module; workbench-scoped
#
# - infisical-restructure (docs/secrets/INFISICAL_RESTRUCTURE_PLAN.md)
#     Reason: One-time migration plan; completed or stale
#
# - mint-files-integration (docs/MINT_FILES_INTEGRATION.md)
#     Reason: Integration matrix; belongs in workbench
#
# - spine-standard-route (docs/governance/SPINE_STANDARD_ROUTE.md)
#     Reason: Navigation entry; replaced by docs/README.md
#
# - spec-required-sop (docs/governance/SPEC_REQUIRED_SOP.md)
#     Reason: Meta-SOP; content covered by CONTRIBUTING.md + docs.lint

# ─────────────────────────────────────────────────────────────
# REMOVED ENTRIES (2026-02-05)
# ─────────────────────────────────────────────────────────────
# External workbench and mint-os SSOTs were removed from the spine registry
# as part of the constitution reset. Reference external tooling only via
# WORKBENCH_TOOLING_INDEX.md.
