---
status: authoritative
owner: "@ronny"
last_verified: 2026-02-09
scope: glm47-deep-audit-verification
---

# GLM 4.7 Deep Audit Verification (2026-02-09)

Scope: validate a user-provided “DEEP AUDIT REPORT: /code/ Gap Analysis (Corrected)” generated by GLM 4.7 against the actual `/Users/ronnyworks/code/*` state.

This verification was executed from the spine runtime (`/Users/ronnyworks/code/agentic-spine`) and is evidence-backed via governed receipts.

## Executive Outcome

- The GLM report is **directionally right** about **workbench product gaps** (missing domain agents; limited product stacks).
- The GLM report is **materially wrong** about **spine governance gaps** (it claims missing SSOT/compose/portability documents that already exist and are extracted).
- Two **new, higher-leverage findings** were found that were not in the GLM report:
  - Extraction tracking mismatch was detected and then resolved (see below).
  - Agent governance vs implementation drift was detected for `n8n-agent` (see below); current workbench state now shows `agents/n8n/` exists (verify committed vs local-only before relying on it).

## Evidence Index (Receipts + Outbox)

All receipts live under `receipts/sessions/`.

### Spine Baseline

- Drift gates count + pass: `RCAP-20260209-082229__spine.verify__Rg0sz83970`
- Watcher + queues: `RCAP-20260209-080057__spine.status__Rdtzc29379`

### GLM Claim Checks (Key File/Tree Evidence)

- Spine governance docs exist (SSOT registry / compose authority / portability): `RCAP-20260209-080430__monolith.tree__Rrari39355`
- Gap map says these are extracted:
  - SSOT registry: `RCAP-20260209-080423__monolith.search__Rreaz39168`
  - Compose authority: `RCAP-20260209-080423__monolith.search__Rflea39170`
  - Portability assumptions: `RCAP-20260209-080423__monolith.search__R7bxt39169`
- Workbench compose inventory: `RCAP-20260209-080438__monolith.tree__Ra57l39586`
- Workbench agents inventory: `RCAP-20260209-080445__monolith.tree__Rezra39806`
- Workbench agents inventory (post-state): `RCAP-20260209-085424__monolith.tree__Rlu6g62239`
- Workbench legacy runbooks directory exists: `RCAP-20260209-080553__monolith.tree__Rr0lz45162`
- MCP governance (inventory): `RCAP-20260209-081526__mcp.inventory.status__R7g6072125`
- Mint modules:
  - Inventory: `RCAP-20260209-080502__monolith.tree__Rupi940259`
  - order-intake has README: `RCAP-20260209-080507__monolith.tree__Rhqiu40315`
  - artwork is Phase 1.5: `RCAP-20260209-080513__monolith.search__R60uh40485`

### Runtime Context (Supports “what exists”)

- Live compose status (n8n + mcpjungle are up; media-stack down): `RCAP-20260209-081016__docker.compose.status__Rbqfd56809`
- HTTP health probes (n8n OK, mcpjungle OK; some endpoints failing): `RCAP-20260209-081016__services.health.status__R7t4356808`
- Backups already governed (backup.status exists): `RCAP-20260209-081531__backup.status__Rdwwx72511`

### New Discrepancies (Not In GLM)

- `infra.extraction.status` previously reported 32.6% INCOMPLETE: `RCAP-20260209-081243__infra.extraction.status__Rdsou64866`
- `AGENTIC_GAP_MAP` claimed 100% coverage: `RCAP-20260209-081514__monolith.search__Rs0e171797`
- **Resolved:** `infra.extraction.status` now reports 100.0% OK after aligning the checker to the workbench quarantine doc layout: `RCAP-20260209-084154__infra.extraction.status__R76dz23095`
- Agent governance vs implementation mismatch signals:
  - Contracts present: `RCAP-20260209-082024__monolith.tree__R0rup83599`
  - Registry points to workbench `agents/n8n`: `RCAP-20260209-082041__monolith.search__Rylwh83744`
  - At verification time, workbench had only `agents/media`: `RCAP-20260209-080445__monolith.tree__Rezra39806`
  - Post-state: workbench now includes `agents/n8n/`: `RCAP-20260209-085424__monolith.tree__Rlu6g62239`, `RCAP-20260209-085540__monolith.tree__Rkbmb98752`

### Mailroom Subagent Runs (Trace)

- Subagent-1 verification memo (useful; mostly accurate): Outbox `mailroom/outbox/S20260209-081639__inline__Rwedm74585__RESULT.md` with receipt `RS20260209-081639__inline__Rwedm74585`.
- Subagent-2 extraction plan (contains multiple invented paths/caps; treat as brainstorming, not SSOT): Outbox `mailroom/outbox/S20260209-081719__inline__Rf4b079096__RESULT.md` with receipt `RS20260209-081719__inline__Rf4b079096`.

## GLM Findings: Verified vs Corrected

| GLM claim (condensed) | Verdict | Correction / Notes |
|---|---:|---|
| Spine missing SSOT registry | ❌ Incorrect | `docs/governance/SSOT_REGISTRY.yaml` exists and is referenced as extracted in `docs/core/AGENTIC_GAP_MAP.md`. Evidence: `RCAP-20260209-080430__monolith.tree__Rrari39355`, `RCAP-20260209-080423__monolith.search__Rreaz39168`. |
| COMPOSE_AUTHORITY missing/incomplete | ❌ Incorrect | `docs/governance/COMPOSE_AUTHORITY.md` exists and is extracted. Evidence: `RCAP-20260209-080430__monolith.tree__Rrari39355`, `RCAP-20260209-080423__monolith.search__Rflea39170`. |
| PORTABILITY_ASSUMPTIONS missing | ❌ Incorrect | `docs/governance/PORTABILITY_ASSUMPTIONS.md` exists (and is last_verified 2026-02-09). Evidence: `RCAP-20260209-080430__monolith.tree__Rrari39355`, `RCAP-20260209-080423__monolith.search__R7bxt39169`. |
| Spine has 47 drift gates | ❌ Incorrect | Current drift-gate run shows **D1..D51** (51 gates). Evidence: `RCAP-20260209-082229__spine.verify__Rg0sz83970`. |
| Workbench missing email/calendar/project-management/customer-service stacks | ✅ Correct (as stated) | `workbench/infra/compose` contains only: `arr` (deferred marker), `dashy`, `homeassistant`, `immich`, `mcpjungle`, `mint-os`, `n8n`, `storage`. Evidence: `RCAP-20260209-080438__monolith.tree__Ra57l39586`. |
| Workbench missing domain agents (only media exists) | ⚠️ Time-sensitive | At verification time, `workbench/agents` contained only `media/` (`RCAP-20260209-080445__monolith.tree__Rezra39806`). Later the same day, `agents/n8n/` appeared (`RCAP-20260209-085424__monolith.tree__Rlu6g62239`). |
| No n8n-agent exists | ⚠️ Time-sensitive | At verification time, the registry referenced `~/code/workbench/agents/n8n/` but the implementation surface was absent (`RCAP-20260209-080445__monolith.tree__Rezra39806`). Post-state now shows `agents/n8n/` exists (`RCAP-20260209-085540__monolith.tree__Rkbmb98752`). |
| order-intake exists but has no README | ❌ Incorrect | `mint-modules/order-intake/README.md` exists. Evidence: `RCAP-20260209-080507__monolith.tree__Rhqiu40315`. |
| artwork module is Phase 1.5 | ✅ Correct | Evidence: `RCAP-20260209-080513__monolith.search__R60uh40485`. |
| No runbooks migrated into workbench | ❌ Incorrect (directory existence) / ⚠️ Debatable (promotion) | Runbooks exist in the workbench documentation tree (quarantined legacy infra runbooks). Evidence: `RCAP-20260209-080553__monolith.tree__Rr0lz45162`. Whether they should be promoted out of quarantine is a governance/product choice, not a factual absence. |
| MCP servers not governed | ⚠️ Partially correct | Central governance exists for **inventory integrity** (`mcp.inventory.status` PASS). Evidence: `RCAP-20260209-081526__mcp.inventory.status__R7g6072125`. What is still missing is **lifecycle orchestration** (start/stop/order/receipted ops) if desired. |
| Backup governance missing in spine | ❌ Incorrect | `backup.status` capability exists and is active. Evidence: `RCAP-20260209-081531__backup.status__Rdwwx72511`. |

## Clean Extraction Plan (No Copy/Paste From ronny-ops)

This plan is aligned to `docs/core/EXTRACTION_PROTOCOL.md` and the agent governance contract (`docs/governance/AGENTS_GOVERNANCE.md`).

### Phase 0: Normalize Truth Surfaces (1 day)

1. **Resolve extraction tracking inconsistency**
   - Decide which part of the workbench documentation tree is canonical for extracted infra docs: core (`docs/infrastructure/**`) vs quarantined legacy (`docs/legacy/infrastructure/**`).
   - Make `ops cap run infra.extraction.status` measure the same scope that `docs/core/AGENTIC_GAP_MAP.md` claims (or update `AGENTIC_GAP_MAP.md` if the tool is correct).
   - Proof: receipts from `infra.extraction.status`, plus a doc update with `docs.lint` + `spine.verify` passing.

2. **Fix agent registry accuracy for n8n**
   - Either:
     - Create the missing implementation directory `workbench/agents/n8n/` (minimal scaffolding), or
     - Downgrade `implementation_status` to reflect reality (do not claim “active” if missing).
   - Proof: `spine.verify` still passes; workbench tree shows `agents/n8n/` exists (or registry shows planned).

3. **Stop creating “false failed” receipts for grep-no-match**
   - Operational policy: avoid `ops cap run monolith.search <pattern>` when the match might not exist (ripgrep exit 1 yields a failed receipt).
   - Optional hardening: replace `monolith.search` with a wrapper that treats exit 1 (no matches) as OK, but still fails on exit 2 (error).

### Phase 1: Make One Domain Real (n8n-agent MVP) (2-4 days)

Target: “n8n workflows are governed” without inventing new infra.

1. **Workbench implementation skeleton**
   - Create: `workbench/agents/n8n/` with:
     - `AGENT.md` (identity + owns/defers aligned to `ops/agents/n8n-agent.contract.md`)
     - `README.md` (operator entry points; how to export/import workflows; how to review failures)
     - `playbooks/` (workflow naming/versioning; incident triage; rollback)
     - `tools/` (read-only helpers first: list workflows, export, validate JSON)

2. **Receipt-producing operational surface**
   - Prefer spine capabilities for any action that touches remote hosts/APIs, using `secrets.exec` where needed.
   - If you must keep tooling in workbench, the invocation should still flow through spine (so it’s receipted).

3. **Workflow-as-code discipline**
   - Treat `workbench/infra/compose/n8n/workflows/` as the “repo-as-log” surface for workflow export/import.
   - Add a small policy doc under `workbench/infra/compose/n8n/runbooks/` defining:
     - Naming conventions
     - Versioning
     - Export cadence
     - Failure triage SOP

Proof checklist:
- `ops cap run services.health.status` shows `n8n` OK.
- An export/import operation produces a receipt (capability run) and records changes under `workbench/infra/compose/n8n/workflows/`.

### Phase 2: Build the “No Junk” Harvest Pipeline (ronny-ops → spine) (1 week baseline)

Selection rubric:
- Extract only items that become a **capability** or a **spine-native SSOT**.
- Do not extract “script piles” or “runbook piles” as runtime.

Move A (doc-only snapshot) for tangled legacy:
- Create a spine doc snapshot: `docs/core/<TOPIC>_LEGACY_SNAPSHOT.md`
- Include:
  - What exists in legacy
  - What is unsafe (state roots, hardcoded paths, secrets)
  - What to re-implement as capabilities
- Proof: `docs.lint` + `spine.verify` receipts.

Move B (wrap-only capability) for clean surfaces:
- New code only, in spine:
  - `ops/plugins/<topic>/bin/<capability>` (or appropriate plugin)
  - Register in `ops/capabilities.yaml`
- Must:
  - Use bindings for host paths/targets
  - Use `secrets.exec` for secret-bearing commands
  - Avoid any ronny-ops file reads or execution
- Proof: capability run receipt + trace gate scan + `spine.verify`.

### Phase 3: Expand to Email/Calendar Without Premature Infra (2-4 weeks)

1. **Use existing integration hints**
   - The MCP inventory includes `microsoft-graph` configuration in workbench MCPJungle servers (evidence: workbench MCP inventory and configs validated by `mcp.inventory.status`).
   - Build email/calendar agents on top of Microsoft Graph (if that’s the intended backbone) before adding new mail stacks.

2. **Minimum viable agents**
   - email-agent: triage + draft + send (scoped to one mailbox and a label/tag taxonomy).
   - calendar-agent: propose times + create event + update (scoped to one calendar).

Proof checklist:
- New agent contracts live in `ops/agents/` and are registered in `ops/bindings/agents.registry.yaml`.
- Workbench implementations exist under `workbench/agents/<domain>/`.
- `spine.verify` passes (D49 registry integrity, D5 no legacy coupling).

## Closeout Checklist (Session)

- `./bin/ops cap run spine.verify`
- `./bin/ops cap run docs.lint`
- `./bin/ops loops list --open` (record any new ones; do not silently ignore)
