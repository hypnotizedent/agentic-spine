# Master Bedroom Dashboard
# Created: January 3, 2026
# Master Doc: ../../../HA_INFRASTRUCTURE.md
#
# Devices:
#   - Sony TV (KD-65X80CK): media_player.bedroom_tv, remote.bedroom_tv (androidtv_remote)
#   - Winix Purifier: fan.bedroom_purifier (Auto/Manual/Sleep - no Turbo)
#   - Empress Lamp: switch.bedroom_empress_lamp (Kasa plug), light.bedroom_empress_lamp (Tuya bulb)
#   - King Lamp: switch.bedroom_king_lamp (Kasa plug), light.bedroom_king_lamp (Tuya bulb)
#   - Zigbee Buttons: event.0x00158d008b875d40_action (King), event.0xd44867fffe00c96f_action (Empress)
#
# Notes:
#   - TV volume: Use remote.send_command, not media_player.volume_set
#   - Winix: No Turbo mode - use Manual + 100% for max airflow
#   - Tuya bulbs: Sometimes unavailable, Kasa plugs are backup

views:
  - title: Master Bedroom
    type: sections
    max_columns: 2
    sections:
      # ══════════════════════════════════════════════════════════════
      # HEADER
      # ══════════════════════════════════════════════════════════════
      - type: grid
        cards:
          - type: custom:mushroom-title-card
            title: "Master Bedroom"
            subtitle: "Ronny's Room"

      # ══════════════════════════════════════════════════════════════
      # ENTERTAINMENT - Sony TV
      # ══════════════════════════════════════════════════════════════
      - type: grid
        cards:
          - type: custom:mushroom-title-card
            title: "Entertainment"
            subtitle: "Sony Bravia (KD-65X80CK)"

          - type: tile
            entity: media_player.bedroom_tv
            name: Bedroom TV
            icon: mdi:television
            color: deep-purple
            state_content:
              - state
              - app_name

          - type: grid
            columns: 5
            square: true
            cards:
              - type: button
                name: "Off"
                icon: mdi:power
                tap_action:
                  action: call-service
                  service: media_player.turn_off
                  target:
                    entity_id: media_player.bedroom_tv
              - type: button
                name: "On"
                icon: mdi:power
                tap_action:
                  action: call-service
                  service: media_player.turn_on
                  target:
                    entity_id: media_player.bedroom_tv
              - type: button
                name: "Mute"
                icon: mdi:volume-mute
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "MUTE"
                  target:
                    entity_id: remote.bedroom_tv
              - type: button
                name: "Vol -"
                icon: mdi:volume-minus
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "VOLUME_DOWN"
                  target:
                    entity_id: remote.bedroom_tv
              - type: button
                name: "Vol +"
                icon: mdi:volume-plus
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "VOLUME_UP"
                  target:
                    entity_id: remote.bedroom_tv

          # Navigation buttons
          - type: grid
            columns: 5
            square: true
            cards:
              - type: button
                name: "Back"
                icon: mdi:arrow-left
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "BACK"
                  target:
                    entity_id: remote.bedroom_tv
              - type: button
                name: "Home"
                icon: mdi:home
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "HOME"
                  target:
                    entity_id: remote.bedroom_tv
              - type: button
                name: "Up"
                icon: mdi:chevron-up
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "DPAD_UP"
                  target:
                    entity_id: remote.bedroom_tv
              - type: button
                name: "Select"
                icon: mdi:checkbox-blank-circle
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "DPAD_CENTER"
                  target:
                    entity_id: remote.bedroom_tv
              - type: button
                name: "Play"
                icon: mdi:play-pause
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "MEDIA_PLAY_PAUSE"
                  target:
                    entity_id: remote.bedroom_tv

          - type: grid
            columns: 5
            square: true
            cards:
              - type: button
                name: ""
                icon: mdi:blank
                tap_action:
                  action: none
              - type: button
                name: "Left"
                icon: mdi:chevron-left
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "DPAD_LEFT"
                  target:
                    entity_id: remote.bedroom_tv
              - type: button
                name: "Down"
                icon: mdi:chevron-down
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "DPAD_DOWN"
                  target:
                    entity_id: remote.bedroom_tv
              - type: button
                name: "Right"
                icon: mdi:chevron-right
                tap_action:
                  action: call-service
                  service: remote.send_command
                  data:
                    command: "DPAD_RIGHT"
                  target:
                    entity_id: remote.bedroom_tv
              - type: button
                name: ""
                icon: mdi:blank
                tap_action:
                  action: none

      # ══════════════════════════════════════════════════════════════
      # LIGHTING - Nightstands
      # ══════════════════════════════════════════════════════════════
      - type: grid
        cards:
          - type: custom:mushroom-title-card
            title: "Lighting"
            subtitle: "Nightstand Lamps"

          # Lamp tiles with brightness
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.bedroom_empress_lamp
                name: "Empress Side"
                icon: mdi:lamp
                color: pink
                features:
                  - type: light-brightness
              - type: tile
                entity: light.bedroom_king_lamp
                name: "King Side"
                icon: mdi:lamp
                color: amber
                features:
                  - type: light-brightness

          # Plug controls (backup if bulbs unavailable)
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: switch.bedroom_empress_lamp
                name: "Empress Plug"
                icon: mdi:power-plug
                color: pink
              - type: tile
                entity: switch.bedroom_king_lamp
                name: "King Plug"
                icon: mdi:power-plug
                color: amber

          # Brightness presets
          - type: grid
            columns: 4
            square: true
            cards:
              - type: button
                name: "Off"
                icon: mdi:lightbulb-off
                tap_action:
                  action: call-service
                  service: light.turn_off
                  target:
                    entity_id:
                      - light.bedroom_empress_lamp
                      - light.bedroom_king_lamp
              - type: button
                name: "Dim"
                icon: mdi:brightness-4
                tap_action:
                  action: call-service
                  service: light.turn_on
                  data:
                    brightness_pct: 15
                  target:
                    entity_id:
                      - light.bedroom_empress_lamp
                      - light.bedroom_king_lamp
              - type: button
                name: "Medium"
                icon: mdi:brightness-5
                tap_action:
                  action: call-service
                  service: light.turn_on
                  data:
                    brightness_pct: 50
                  target:
                    entity_id:
                      - light.bedroom_empress_lamp
                      - light.bedroom_king_lamp
              - type: button
                name: "Bright"
                icon: mdi:brightness-7
                tap_action:
                  action: call-service
                  service: light.turn_on
                  data:
                    brightness_pct: 100
                  target:
                    entity_id:
                      - light.bedroom_empress_lamp
                      - light.bedroom_king_lamp

      # ══════════════════════════════════════════════════════════════
      # AIR QUALITY - Winix Purifier
      # ══════════════════════════════════════════════════════════════
      - type: grid
        cards:
          - type: custom:mushroom-title-card
            title: "Air Quality"
            subtitle: "Winix Purifier"

          - type: tile
            entity: fan.bedroom_purifier
            name: Air Purifier
            icon: mdi:air-purifier
            color: teal
            state_content:
              - state
              - preset_mode

          # AQI sensor
          - type: grid
            columns: 2
            square: false
            cards:
              - type: entity
                entity: fan.bedroom_purifier
                attribute: air_quality
                name: Air Quality
                icon: mdi:molecule
              - type: entity
                entity: fan.bedroom_purifier
                attribute: filter_hour
                name: Filter Hours
                icon: mdi:air-filter

          # Preset modes
          - type: grid
            columns: 4
            square: true
            cards:
              - type: button
                name: "Auto"
                icon: mdi:autorenew
                tap_action:
                  action: call-service
                  service: fan.set_preset_mode
                  data:
                    preset_mode: "Auto"
                  target:
                    entity_id: fan.bedroom_purifier
              - type: button
                name: "Sleep"
                icon: mdi:sleep
                tap_action:
                  action: call-service
                  service: fan.set_preset_mode
                  data:
                    preset_mode: "Sleep"
                  target:
                    entity_id: fan.bedroom_purifier
              - type: button
                name: "Manual"
                icon: mdi:tune
                tap_action:
                  action: call-service
                  service: fan.set_preset_mode
                  data:
                    preset_mode: "Manual"
                  target:
                    entity_id: fan.bedroom_purifier
              - type: button
                name: "Max"
                icon: mdi:fan-alert
                tap_action:
                  action: call-service
                  service: fan.set_percentage
                  data:
                    percentage: 100
                  target:
                    entity_id: fan.bedroom_purifier

      # ══════════════════════════════════════════════════════════════
      # QUICK ACTIONS - Scenes
      # ══════════════════════════════════════════════════════════════
      - type: grid
        cards:
          - type: custom:mushroom-title-card
            title: "Quick Actions"

          - type: grid
            columns: 3
            square: true
            cards:
              - type: button
                name: "All Off"
                icon: mdi:power-off
                icon_height: 36px
                tap_action:
                  action: call-service
                  service: homeassistant.turn_off
                  target:
                    entity_id:
                      - media_player.bedroom_tv
                      - light.bedroom_empress_lamp
                      - light.bedroom_king_lamp
                      - switch.bedroom_empress_lamp
                      - switch.bedroom_king_lamp
              - type: button
                name: "Movie"
                icon: mdi:movie-open
                icon_height: 36px
                tap_action:
                  action: call-service
                  service: light.turn_on
                  data:
                    brightness_pct: 5
                  target:
                    entity_id:
                      - light.bedroom_empress_lamp
                      - light.bedroom_king_lamp
              - type: button
                name: "Sleep"
                icon: mdi:weather-night
                icon_height: 36px
                tap_action:
                  action: call-service
                  service: script.turn_on
                  target:
                    entity_id: script.bedroom_sleep_mode
