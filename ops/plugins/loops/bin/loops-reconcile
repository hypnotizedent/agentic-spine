#!/usr/bin/env bash
set -euo pipefail

# loops-reconcile - DEPRECATED (scope files are now canonical)
#
# This script auto-closed machine-generated OL_* loops in open_loops.jsonl
# when a newer receipt showed pass status. Since OL_* loops are no longer
# generated (ops loops collect is deprecated), this script is a no-op.
#
# Loop closure now happens via:
#   ops loops close <LOOP-ID>   (updates scope file status)
#   ops close loop <LOOP-ID>    (also cleans up worktree/branch/stashes)

echo "loops-reconcile is deprecated."
echo ""
echo "Loop state moved from open_loops.jsonl to scope files."
echo "OL_* machine-generated loops are no longer created."
echo ""
echo "To close a loop: ops loops close <LOOP-ID>"
echo "To close + clean up git: ops close loop <LOOP-ID>"
