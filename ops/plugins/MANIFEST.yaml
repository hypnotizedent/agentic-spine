# Plugin Manifest - Machine-readable plugin registry
# Generated: 2026-02-10
# Loop: LOOP-SPINE-AGENT-RUNWAY-20260210
#
# Query: yq '.plugins[] | select(.tags[] == "audit")' ops/plugins/MANIFEST.yaml
# Purpose: SSOT for plugin discovery, script mapping, and capability registration

plugins:

  - name: ha
    path: ops/plugins/ha
    scripts:
      - bin/ha-ssot-propose
      - bin/ha-ssot-apply
    capabilities:
      - ha.ssot.propose
      - ha.ssot.apply
    tags: [home-assistant, ssot, api]
    description: "Home Assistant SSOT sync: fetch facts from API, propose diffs, apply patches"

  - name: audit
    path: ops/plugins/audit
    scripts:
      - bin/agent-session-closeout
      - bin/audit-export
      - bin/audit-triage
    capabilities:
      - agent.session.closeout
      - audit.export.governance_iac
      - spine.audit.triage
    tags: [audit, governance, sessions]
    description: "Session closeout, governance export, and audit triage tools"

  - name: backup
    path: ops/plugins/backup
    scripts:
      - bin/backup-calendar-generate
      - bin/backup-status
      - bin/backup-vzdump-prune
      - bin/backup-vzdump-run
      - bin/backup-vzdump-status
      - bin/backup-vzdump-vmid-set
    capabilities:
      - backup.calendar.generate
      - backup.status
      - backup.vzdump.prune
      - backup.vzdump.run
      - backup.vzdump.status
      - backup.vzdump.vmid.set
    tags: [backup, infrastructure, storage]
    description: "Backup inventory, scheduling, and vzdump VM lifecycle management"

  - name: budget
    path: ops/plugins/budget
    scripts:
      - bin/budget
    capabilities:
      - budget.check
    tags: [budget, tokens, governance]
    description: "Token budget vs receipt diagnostics"

  - name: cloudflare
    path: ops/plugins/cloudflare
    scripts:
      - bin/cloudflare-dns-status
      - bin/cloudflare-domain-routing-diff
      - bin/cloudflare-inventory-sync
      - bin/cloudflare-status
      - bin/cloudflare-tunnel-ingress-status
      - bin/cloudflare-tunnel-status
    capabilities:
      - cloudflare.status
      - cloudflare.dns.status
      - cloudflare.tunnel.status
      - cloudflare.inventory.sync
      - cloudflare.tunnel.ingress.status
      - cloudflare.domain_routing.diff
    tags: [cloudflare, dns, networking, infrastructure]
    description: "DNS, tunnel, and Cloudflare zone inventory management"

  - name: docker
    path: ops/plugins/docker
    scripts:
      - bin/docker-compose-down
      - bin/docker-compose-logs
      - bin/docker-compose-pull
      - bin/docker-compose-status
      - bin/docker-compose-up
    capabilities:
      - docker.compose.status
      - docker.compose.logs
      - docker.compose.up
      - docker.compose.down
      - docker.compose.pull
    tags: [docker, containers, infrastructure]
    description: "Docker Compose stack lifecycle and health management"

  - name: docs
    path: ops/plugins/docs
    scripts:
      - bin/docs-lint
      - bin/docs-status
      - bin/docs-index-verify
      - bin/docs-freshness-audit
      - bin/docs-legacy-audit
      - bin/docs-brain-freshness
      - bin/docs-orphan-detect
      - bin/docs-frontmatter-lint
      - bin/docs-sprawl-detect
      - bin/infra-extraction-status
    capabilities:
      - docs.status
      - docs.lint
      - docs.index.verify
      - docs.freshness.audit
      - docs.legacy.audit
      - docs.brain.freshness
      - docs.orphan.detect
      - docs.frontmatter.lint
      - docs.sprawl.detect
      - infra.extraction.status
    tags: [documentation, governance, extraction, audit]
    description: "Docs extraction integrity, spine docs hierarchy linting, and governance doc self-management"

  - name: github
    path: ops/plugins/github
    scripts:
      - bin/github-actions-status
      - bin/github-labels-status
      - bin/github-queue-status
      - bin/github-status
    capabilities:
      - github.status
      - github.queue.status
      - github.actions.status
      - github.labels.status
    tags: [github, repository, governance]
    description: "GitHub repo health, labels, actions, and queue status checks"

  - name: host
    path: ops/plugins/host
    scripts:
      - bin/host-claude-entrypoint-lock
      - bin/host-drift-audit
      - bin/host-hidden-root-inventory
      - bin/host-macbook-bootstrap
      - bin/host-macbook-drift-check
      - bin/host-macbook-managed-configs-apply
      - bin/host-streamdeck-reload
      - bin/host-streamdeck-status
    capabilities:
      - host.drift.audit
      - host.claude.entrypoint.status
      - host.claude.entrypoint.canonicalize
      - host.hidden.inventory.status
      - host.macbook.bootstrap
      - host.macbook.drift.check
      - host.macbook.managed_configs.apply
      - host.streamdeck.reload
      - host.streamdeck.status
    tags: [host, macos, entrypoint, governance]
    description: "MacBook drift auditing and Claude entrypoint lifecycle management"

  - name: infra
    path: ops/plugins/infra
    scripts:
      - bin/infra-hypervisor-hostname-set
      - bin/infra-hypervisor-identity-status
      - bin/infra-placement-policy-check
      - bin/infra-post-power-recovery
      - bin/infra-proxmox-maintenance
      - bin/infra-proxmox-node-path-migrate
      - bin/infra-relocation-impact
      - bin/infra-relocation-parity
      - bin/infra-relocation-preflight
      - bin/infra-relocation-promote
      - bin/infra-relocation-rollback
      - bin/infra-relocation-service-transition
      - bin/infra-relocation-state-transition
      - bin/infra-timezone-set
      - bin/infra-vm-bootstrap
      - bin/infra-vm-provision
      - bin/infra-vm-ready-status
      - bin/ripple-check
    capabilities:
      - infra.placement.policy
      - infra.hypervisor.identity
      - infra.hypervisor.hostname.set
      - infra.timezone.set
      - infra.relocation.preflight
      - infra.relocation.parity
      - infra.relocation.impact
      - infra.relocation.rollback.plan
      - infra.vm.provision
      - infra.vm.bootstrap
      - infra.relocation.state.transition
      - infra.relocation.service.transition
      - infra.relocation.promote
      - infra.proxmox.node_path.migrate
      - infra.vm.ready.status
      - spine.ripple.check
      - infra.proxmox.maintenance.precheck
      - infra.proxmox.maintenance.shutdown
      - infra.proxmox.maintenance.startup
      - infra.post_power.recovery.status
      - infra.post_power.recovery
    tags: [infrastructure, proxmox, vms, relocation]
    description: "VM provisioning, relocation orchestration, and Proxmox lifecycle management"

  - name: loops
    path: ops/plugins/loops
    scripts:
      - bin/gaps-claim
      - bin/gaps-close
      - bin/gaps-file
      - bin/gaps-status
      - bin/gaps-unclaim
      - bin/loops-ledger-reduce
      - bin/loops-reconcile
      - bin/loops-status
    capabilities:
      - gaps.claim
      - gaps.close
      - gaps.file
      - gaps.status
      - gaps.unclaim
      - loops.status
      - loops.reconcile
    tags: [loops, mailroom, governance, gaps]
    description: "Loop engine status, reconciliation, ledger reduction, and gap lifecycle management"

  - name: orchestration
    path: ops/plugins/orchestration
    scripts:
      - bin/orchestration-loop-open
      - bin/orchestration-ticket-issue
      - bin/orchestration-handoff-validate
      - bin/orchestration-integrate
      - bin/orchestration-loop-close
      - bin/orchestration-status
      - bin/orchestration-terminal-entry
    capabilities:
      - orchestration.loop.open
      - orchestration.ticket.issue
      - orchestration.handoff.validate
      - orchestration.integrate
      - orchestration.loop.close
      - orchestration.status
      - orchestration.terminal.entry
    tags: [orchestration, loops, governance]
    description: "Loop orchestration manifests, handoff validation, and controlled lane integration"

  - name: mailroom-bridge
    path: ops/plugins/mailroom-bridge
    scripts:
      - bin/mailroom-bridge-expose-disable
      - bin/mailroom-bridge-expose-enable
      - bin/mailroom-bridge-expose-status
      - bin/mailroom-bridge-serve
      - bin/mailroom-bridge-start
      - bin/mailroom-bridge-status
      - bin/mailroom-bridge-stop
    capabilities:
      - mailroom.bridge.status
      - mailroom.bridge.start
      - mailroom.bridge.stop
      - mailroom.bridge.expose.status
      - mailroom.bridge.expose.enable
      - mailroom.bridge.expose.disable
    tags: [mailroom, bridge, api, networking]
    description: "Mailroom remote bridge server and tailnet exposure management"

  - name: maker
    path: ops/plugins/maker
    scripts:
      - bin/maker-label-print
      - bin/maker-qr-generate
      - bin/maker-tools-status
    capabilities:
      - maker.tools.status
      - maker.qr.generate
      - maker.label.print
    tags: [maker, hardware, physical]
    description: "Digital-to-physical toolkit: QR generation and thermal label printing"

  - name: mcp
    path: ops/plugins/mcp
    scripts:
      - bin/mcp-inventory-status
    capabilities:
      - mcp.inventory.status
    tags: [mcp, workbench, integration]
    description: "MCP inventory vs MCPJungle configuration validation"

  - name: media
    path: ops/plugins/media
    scripts:
      - bin/media-metrics-today
    capabilities:
      - media.metrics.today
    tags: [media, radarr, metrics]
    description: "Media metrics from Radarr import history"

  - name: monolith
    path: ops/plugins/monolith
    scripts:
      - bin/monolith-git-status
      - bin/monolith-search
    capabilities:
      - monolith.tree
      - monolith.search
      - monolith.git_status
    tags: [monolith, code, exploration]
    description: "Safe read-only code exploration across ~/code monolith"

  - name: proposals
    path: ops/plugins/proposals
    scripts:
      - bin/proposals-apply
      - bin/proposals-list
      - bin/proposals-submit
    capabilities:
      - proposals.submit
      - proposals.list
      - proposals.apply
    tags: [proposals, mailroom, governance]
    description: "Mailroom-gated writes: submit/list/apply change proposals to prevent multi-agent conflicts"

  - name: n8n
    path: ops/plugins/n8n
    scripts:
      - bin/n8n-snapshot-cron
      - bin/n8n-snapshot-status
      - bin/n8n-workflows
    capabilities:
      - n8n.workflows.list
      - n8n.workflows.get
      - n8n.workflows.export
      - n8n.workflows.import
      - n8n.workflows.activate
      - n8n.workflows.deactivate
      - n8n.workflows.update
      - n8n.workflows.delete
    tags: [n8n, workflows, automation]
    description: "n8n workflow API interface with full lifecycle management"

  - name: network
    path: ops/plugins/network
    scripts:
      - bin/network-ap-facts-capture
      - bin/network-cutover-preflight
      - bin/network-lan-device-status
      - bin/network-lan-host-identify
      - bin/network-md1400-bind-test
      - bin/network-md1400-pm8072-stage
      - bin/network-nvr-reip-canonical
      - bin/network-oob-guard-status
      - bin/network-pve-post-cutover-harden
      - bin/network-shop-audit-canonical
      - bin/network-shop-audit-status
      - bin/network-unifi-clients-snapshot
    capabilities:
      - network.lan.device.status
      - network.lan.host.identify
      - network.shop.audit.status
      - network.ap.facts.capture
      - network.oob.guard.status
      - network.shop.audit.canonical
      - network.unifi.clients.snapshot
      - network.nvr.reip.canonical
      - network.cutover.preflight
      - network.pve.post_cutover.harden
      - network.md1400.pm8072.stage
      - network.md1400.bind_test
    tags: [network, shop, lan, wifi, infrastructure]
    description: "LAN device discovery, WiFi AP facts, and network cutover orchestration"

  - name: rag
    path: ops/plugins/rag
    scripts:
      - bin/anythingllm-tune
      - bin/rag
      - bin/rag-reindex-remote-start
      - bin/rag-reindex-remote-status
      - bin/rag-reindex-remote-stop
      - bin/rag-reindex-remote-verify
      - bin/rag-remote-dependency-probe
    capabilities:
      - rag.health
      - rag.anythingllm.status
      - rag.anythingllm.ask
      - rag.anythingllm.sync
      - rag.anythingllm.tune
      - rag.reindex.remote.start
      - rag.reindex.remote.status
      - rag.reindex.remote.stop
      - rag.reindex.remote.verify
      - rag.remote.dependency.probe
    tags: [rag, anythingllm, vector, ai]
    description: "AnythingLLM workspace management and Qdrant vector RAG"

  - name: release
    path: ops/plugins/release
    scripts:
      - bin/spine-release-zip
    capabilities:
      - spine.release.zip
    tags: [release, distribution]
    description: "Build distributable spine repo artifacts"

  - name: secrets
    path: ops/plugins/secrets
    scripts:
      - bin/secrets-auth-load
      - bin/secrets-auth-status
      - bin/secrets-binding
      - bin/secrets-cli-status
      - bin/secrets-cohort-copy-first
      - bin/secrets-credentials-parity
      - bin/secrets-exec
      - bin/secrets-identity-rbac-lock
      - bin/secrets-identity-rbac-status
      - bin/secrets-inventory-status
      - bin/secrets-namespace-status
      - bin/secrets-p1-root-cleanup
      - bin/secrets-projects-status
      - bin/secrets-set-interactive
      - bin/secrets-status
    capabilities:
      - secrets.status
      - secrets.binding
      - secrets.auth.status
      - secrets.auth.load
      - secrets.credentials.parity
      - secrets.projects.status
      - secrets.inventory.status
      - secrets.namespace.status
      - secrets.p1.root_cleanup.status
      - secrets.p1.root_cleanup.execute
      - secrets.p2.copy_first.status
      - secrets.p2.copy_first.execute
      - secrets.p2.root_cleanup.status
      - secrets.p2.root_cleanup.execute
      - secrets.p3.copy_first.status
      - secrets.p3.copy_first.execute
      - secrets.p3.root_cleanup.status
      - secrets.p3.root_cleanup.execute
      - secrets.p4.copy_first.status
      - secrets.p4.copy_first.execute
      - secrets.p4.root_cleanup.status
      - secrets.p4.root_cleanup.execute
      - secrets.p5.immich.copy_first.status
      - secrets.p5.immich.copy_first.execute
      - secrets.p5.immich.root_cleanup.status
      - secrets.p5.immich.root_cleanup.execute
      - secrets.p5.mail_archiver.copy_first.status
      - secrets.p5.mail_archiver.copy_first.execute
      - secrets.p5.mail_archiver.root_cleanup.status
      - secrets.p5.mail_archiver.root_cleanup.execute
      - secrets.p5.finance.copy_first.status
      - secrets.p5.finance.copy_first.execute
      - secrets.p5.finance.root_cleanup.status
      - secrets.p5.finance.root_cleanup.execute
      - secrets.p5.paperless.copy_first.status
      - secrets.p5.paperless.copy_first.execute
      - secrets.p5.paperless.root_cleanup.status
      - secrets.p5.paperless.root_cleanup.execute
      - secrets.p5.mcpjungle.copy_first.status
      - secrets.p5.mcpjungle.copy_first.execute
      - secrets.p5.mcpjungle.root_cleanup.status
      - secrets.p5.mcpjungle.root_cleanup.execute
      - secrets.p6.ai.copy_first.status
      - secrets.p6.ai.copy_first.execute
      - secrets.p6.ai.root_cleanup.status
      - secrets.p6.ai.root_cleanup.execute
      - secrets.cli.status
      - secrets.exec
      - secrets.set.interactive
    tags: [secrets, infisical, security, governance]
    description: "Infisical-backed secret injection, cohort management, and namespace hygiene"

  - name: services
    path: ops/plugins/services
    scripts:
      - bin/services-health-status
    capabilities:
      - services.health.status
    tags: [services, health, monitoring]
    description: "HTTP health probes for declared service endpoints"

  - name: ssh
    path: ops/plugins/ssh
    scripts:
      - bin/ssh-target-status
    capabilities:
      - ssh.target.status
      - nodes.status
    tags: [ssh, connectivity, nodes, infrastructure]
    description: "SSH target reachability checks across Tier 1-3 estate"

  - name: verify
    path: ops/plugins/verify
    scripts:
      - bin/drift-gates-certify
      - bin/drift-gates-failure-stats
    capabilities:
      - verify.drift_gates.certify
      - verify.drift_gates.failure_stats
    tags: [verification, drift, gates, governance]
    description: "Drift gate certification reports and historical failure analysis"

  - name: authority
    path: ops/plugins/authority
    scripts:
      - bin/project-governance-bootstrap
      - bin/project-governance-status
    capabilities:
      - authority.project.bootstrap
      - authority.project.status
    tags: [governance, authority, repos]
    description: "Cross-repo authority helpers and new-project governance bootstrap/status tooling"

  - name: home
    path: ops/plugins/home
    scripts:
      - bin/home-backup-status
      - bin/home-health-check
      - bin/home-vm-status
    capabilities:
      - home.backup.status
      - home.health.check
      - home.vm.status
    tags: [home, infrastructure, monitoring]
    description: "Home automation health monitoring and VM status checks"

  - name: session
    path: ops/plugins/session
    scripts:
      - bin/session-start
    capabilities:
      - session.start
    tags: [session, orchestration, governance]
    description: "Session lifecycle management and startup orchestration"

  - name: vm
    path: ops/plugins/vm
    scripts:
      - bin/vm-governance-audit
    capabilities:
      - vm.governance.audit
    tags: [vm, governance, infrastructure]
    description: "VM governance audit and lifecycle compliance checks"

  - name: share
    path: ops/plugins/share
    scripts:
      - bin/share-publish-preflight
      - bin/share-publish-preview
      - bin/share-publish-apply
    capabilities:
      - share.publish.preflight
      - share.publish.preview
      - share.publish.apply
    tags: [share, governance, publishing]
    description: "Curated one-way publish to private GitHub share channel with allowlist/denylist scanning"

  - name: conflicts
    path: ops/plugins/conflicts
    scripts: []
    capabilities: []
    tags: [governance, conflicts]
    description: "Tracked capability/binding conflicts and overrides"

  - name: mint
    path: ops/plugins/mint
    scripts:
      - bin/modules-health
      - bin/seeds-query
      - bin/intake-validate
      - bin/deploy-status
      - bin/migrate-dryrun
    capabilities:
      - mint.modules.health
      - mint.seeds.query
      - mint.intake.validate
      - mint.deploy.status
      - mint.migrate.dryrun
    tags: [mint, product, modules, artwork, quote-page, order-intake]
    description: "Mint modules operator tooling: health probes, seed queries, contract validation, deploy status, migration dry-run"

# ═════════════════════════════════════════════════════════════════════════
# Plugin Classification
# ═════════════════════════════════════════════════════════════════════════
#
# Governance    Plugins that enforce/audit contracts: audit, verify, host
# Security      Secrets management and access control: secrets
# Infrastructure Cloud, VMs, networking, storage: infra, network, backup, docker
# Integration   External services and APIs: cloudflare, github, n8n, rag
# Monitoring    Health and status checks: services, nodes, loops
# Tooling       Development and operational tools: docs, mcp, release, maker
#
# ═════════════════════════════════════════════════════════════════════════
