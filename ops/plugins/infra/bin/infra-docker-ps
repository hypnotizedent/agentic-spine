#!/usr/bin/env bash
set -euo pipefail

if docker info >/dev/null 2>&1; then
  docker ps --format 'table {{.Names}}\t{{.Status}}\t{{.Ports}}'
  exit 0
fi

if command -v sudo >/dev/null 2>&1 && sudo -n docker info >/dev/null 2>&1; then
  sudo -n docker ps --format 'table {{.Names}}\t{{.Status}}\t{{.Ports}}'
  exit 0
fi

echo "docker_unreachable"
