# Status: authoritative
# Last verified: 2026-02-23

version: 1
updated: "2026-02-23"
owner: "@ronny"
scope: operator-smoothness-enforcement

ssh_identity:
  authoritative_binding: ops/bindings/ssh.targets.yaml
  vm_parity_binding: ops/bindings/vm.lifecycle.yaml
  forbidden_runtime_userhost_patterns:
    - root@
    - ubuntu@
    - automation@
  allowlist_paths:
    - ops/bindings/stability.control.contract.yaml

secrets_onboarding:
  require_strict_unregistered_secret_keys: true
  required_bindings:
    - ops/bindings/secrets.namespace.policy.yaml
    - ops/bindings/secrets.runway.contract.yaml
    - ops/bindings/secrets.bundle.contract.yaml
    - ops/bindings/secrets.inventory.yaml

deploy_method:
  method_contract: ops/bindings/deploy.method.contract.yaml
  source_targets: ops/bindings/docker.compose.targets.yaml
  allowed_methods:
    - docker_compose
    - systemd
    - docker_run
    - ha_supervisor
    - external

calendar_operator_surface:
  required_outputs:
    - mailroom/outbox/calendar/calendar-global.ics
    - mailroom/outbox/calendar/calendar-index.json
    - mailroom/outbox/calendar/calendar-today.json
    - mailroom/outbox/calendar/calendar-operator.index.json
  freshness_window_minutes: 720
