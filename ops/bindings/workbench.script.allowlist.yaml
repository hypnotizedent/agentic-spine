# workbench.script.allowlist.yaml — Governed script surfaces in workbench
# Referenced by D79 (workbench script allowlist lock)
# Authority: agentic-spine (spine governs workbench script surfaces)
# Status: authoritative
# Last verified: 2026-02-13
---
version: 1
gate_id: D79
scope: "Workbench active script surface governance"

# Active script surfaces (only these directories are scanned)
active_surfaces:
  - scripts/root/**
  - scripts/agents/**
  - dotfiles/raycast/*.sh

# Explicitly excluded from scanning (archived, not active)
excluded:
  - .archive/**
  - "*/archive/**"
  - "**/.archive/**"

# Known active scripts (canonical allowlist)
# Any .sh file in active_surfaces not in this list will be flagged.
scripts:
  # Raycast launchers
  - dotfiles/raycast/claude-code.sh
  - dotfiles/raycast/codex.sh
  - dotfiles/raycast/opencode.sh
  - dotfiles/raycast/spine-start.sh
  - dotfiles/raycast/spine-watcher.sh
  - dotfiles/raycast/spine-audit.sh
  - dotfiles/raycast/spine-execution.sh
  - dotfiles/raycast/spine-launcher.sh
  - dotfiles/raycast/spine-comms-flush.sh
  - dotfiles/raycast/spine-attach-loop.sh
  - dotfiles/raycast/spine-control.sh
  - dotfiles/raycast/spine-calendar-today.sh
  # Agent scripts
  - scripts/agents/cloudflare-agent.sh
  - scripts/agents/infisical-agent.sh
  - scripts/agents/unifi-agent.sh
  - scripts/agents/unifi-home-agent.sh
  - scripts/agents/legacy-freeze.sh
  - scripts/agents/legacy-thaw.sh
  - scripts/agents/sync-domain-capability-catalogs.sh
  # Root scripts — core
  - scripts/root/apply_macbook_managed_configs.sh
  - scripts/root/authority-trace.sh
  - scripts/root/bootstrap-secrets.sh
  - scripts/root/cf-dns.sh
  - scripts/root/cf-tunnel-ingress.sh
  - scripts/root/ci-runner-drift-check.sh
  - scripts/root/create-module.sh
  - scripts/root/deploy-admin.sh
  - scripts/root/deploy-api.sh
  - scripts/root/deploy/dispatch.sh
  - scripts/root/deploy/stack-map.sh
  - scripts/root/deploy-workflow-structure-check.sh
  - scripts/root/fix-minio-public-read.sh
  - scripts/root/generate-ci-token.sh
  - scripts/root/load-secrets.sh
  - scripts/root/maintenance-mode.sh
  - scripts/root/new-doc.sh
  - scripts/root/overnight-sprint-launcher.sh
  - scripts/root/pihole-sync-blocklists.sh
  - scripts/root/printavo-file-download.sh
  - scripts/root/routing-consistency-check.sh
  - scripts/root/secrets-artifact-drift-check.sh
  - scripts/root/secrets-hygiene-check.sh
  - scripts/root/server-shutdown.sh
  - scripts/root/server-startup.sh
  - scripts/root/setup-docker-trap.sh
  - scripts/root/setup-mac-tools.sh
  - scripts/root/setup-oidc-cicd.sh
  - scripts/root/shopify-get-token.sh
  - scripts/root/smoke-test.sh
  - scripts/root/spine_launcher_sanity.sh
  - scripts/root/spine_terminal_entry.sh
  - scripts/root/stack-drift-check.sh
  - scripts/root/sync-kanban.sh
  - scripts/root/sync-secrets-to-env.sh
  - scripts/root/sync_laptop_hotkeys_docs.sh
  - scripts/root/system-health.sh
  - scripts/root/test-email.sh
  - scripts/root/test-infisical.sh
  - scripts/root/trace_quote_upload.sh
  - scripts/root/validate-secrets-alignment.sh
  - scripts/root/verify-api-deploy.sh
  - scripts/root/verify_artwork.sh
  - scripts/root/verify_files_api.sh
  - scripts/root/verify_laptop_hotkeys.sh
  - scripts/root/verify_minio_rclone.sh
  - scripts/root/verify_mint_files_platform.sh
  - scripts/root/operator/calendar-view.sh
  # Root scripts — subdirectories
  - scripts/root/aof/workbench-aof-check.sh
  - scripts/root/artwork/artwork-cli.sh
  - scripts/root/audit/create_gap_audit_workplan.sh
  - scripts/root/backup/backup-finance.sh
  - scripts/root/backup/backup-infisical-db.sh
  - scripts/root/backup/backup-infisical-secrets.sh
  - scripts/root/backup/backup-infrastructure.sh
  - scripts/root/backup/backup-media-configs.sh
  - scripts/root/backup/backup-mint-minio.sh
  - scripts/root/backup/backup-mint-postgres.sh
  - scripts/root/backup/backup-vaultwarden.sh
  - scripts/root/backup/macos-sync-critical.sh
  - scripts/root/backup/sync-ha-offsite.sh
  - scripts/root/backup/sync-to-synology.sh
  - scripts/root/backup/sync-vzdump-tier1-offsite.sh
  - scripts/root/bootstrap/new-docker-stack.sh
  - scripts/root/bootstrap/new-lxc.sh
  - scripts/root/bootstrap/new-postgres-db.sh
  - scripts/root/bootstrap/new-vm.sh
  - scripts/root/db/dump-schema.sh
  - scripts/root/db/schema-drift-check.sh
  - scripts/root/firefly/backfill-all.sh
  - scripts/root/firefly/reconciliation-report.sh
  - scripts/root/firefly/sync-missing.sh
  - scripts/root/infra/agents_verify.sh
  - scripts/root/infra/backup_audit.sh
  - scripts/root/infra/backup_verify.sh
  - scripts/root/infra/monitoring_verify.sh
  - scripts/root/infra/reboot_gate.sh
  - scripts/root/infra/secrets_verify.sh
  - scripts/root/infra/updates_verify.sh
  - scripts/root/infra/verify-identity.sh
  - scripts/root/lib/deploy-utils.sh
  - scripts/root/mcp/mcp-inventory-check.sh
  - scripts/root/mounts/mintfiles-mount.sh
  - scripts/root/n8n/drift_check.sh
  - scripts/root/n8n/export_all_workflows.sh
  - scripts/root/rag/apply-workspace-settings.sh
  - scripts/root/rag/cleanup-duplicates.sh
  - scripts/root/rag/full-resync.sh
  - scripts/root/rag/health-check.sh
  - scripts/root/rag/index-minimal.sh
  - scripts/root/rag/index.sh
  - scripts/root/rag/quality-test.sh
  - scripts/root/shop/shop-export-runner.sh
