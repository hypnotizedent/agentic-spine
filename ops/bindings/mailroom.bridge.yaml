# Status: authoritative
# Last verified: 2026-02-15

version: 1
updated: "2026-02-15"
owner: "@ronny"

listen:
  host: "127.0.0.1"
  port: 8799

auth:
  # Optional token auth. If MAILROOM_BRIDGE_TOKEN is set, it is required.
  token_env: "MAILROOM_BRIDGE_TOKEN"
  require_token: false

limits:
  # Maximum bytes returned by file-read endpoints (prevents accidental huge responses).
  max_read_bytes: 262144

endpoints:
  # GET
  - path: /health
    method: GET
    auth: false
    note: "Liveness probe"
  - path: /loops/open
    method: GET
    auth: true
    note: "Open loops from scope files"
  - path: /outbox/list
    method: GET
    auth: true
    note: "List outbox items"
  - path: /outbox/read
    method: GET
    auth: true
    note: "Read outbox file contents"
  - path: /receipts/read
    method: GET
    auth: true
    note: "Read receipt file contents"
  # POST
  - path: /inbox/enqueue
    method: POST
    auth: true
    note: "Enqueue prompt for watcher processing"
  - path: /rag/ask
    method: POST
    auth: true
    note: "Governed RAG query via rag.anythingllm.ask capability (receipted)"

