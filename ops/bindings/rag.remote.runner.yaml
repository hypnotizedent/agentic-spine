# RAG Remote Reindex Runner Contract
# Governs detached/server-side reindex execution so laptop lifecycle does not
# control long-running sync jobs.
#
# Authority:
# - docs/governance/RAG_REINDEX_RUNBOOK.md
# - ops/bindings/rag.workspace.contract.yaml
# Consumers:
# - ops/plugins/rag/bin/rag-reindex-remote-start
# - ops/plugins/rag/bin/rag-reindex-remote-status
# - ops/plugins/rag/bin/rag-reindex-remote-stop
# - surfaces/verify/d88-rag-remote-reindex-governance-lock.sh

schema_version: "1.0"
updated: "2026-02-13"
owner: "@ronny"

remote:
  host: "100.71.17.29"
  user: "ubuntu"
  port: 22
  repo_path: "/home/ubuntu/code/agentic-spine"
  tmux_session: "rag_sync"
  log_path: "/home/ubuntu/code/agentic-spine/mailroom/logs/rag-sync.log"
  checkpoint_path: "/home/ubuntu/code/agentic-spine/mailroom/state/rag-sync/checkpoint.txt"

sync:
  workspace_slug: "agentic-spine"
  anythingllm_url: "http://localhost:3002"
  qdrant_url: "http://localhost:6333"
  ollama_url: "http://192.168.1.110:11434"
  resume_default: true

transfer:
  excludes:
    - ".git/"
    - ".archive/"
    - "receipts/"
    - "mailroom/logs/"
    - "mailroom/inbox/running/"
    - "mailroom/inbox/queued/"
    - "mailroom/inbox/failed/"

runtime:
  anythingllm_container_hint: "anythingllm"
  status_tail_lines: 40

