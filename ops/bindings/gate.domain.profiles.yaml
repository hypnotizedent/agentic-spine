---
version: "1.0"
updated_at: "2026-02-21T00:00:00Z"
owner: "@ronny"
scope: gate-domain-discovery
defaults:
  core_domain: core
domains:
  core:
    description: "Always-on baseline gates for every terminal session."
    gate_ids:
      - D1
      - D3
      - D10
      - D12
      - D16
      - D17
      - D31
      - D42
      - D44
      - D48
      - D58
      - D62
      - D63
      - D67
      - D81
      - D84
      - D85
      - D124
      - D126
      - D148
      - D144
      - D153
    capability_prefixes:
      - spine.
      - verify.
      - stability.
      - docs.
      - authority.
      - host.
    path_triggers:
      - "surfaces/verify/"
      - "docs/governance/"
      - "ops/plugins/briefing/"
      - "ops/bindings/entry.surface.contract.yaml"
      - "ops/capabilities.yaml"
      - "surfaces/verify/d124-"
      - "surfaces/verify/d148-"
      - "surfaces/verify/d144-"
  secrets:
    description: "Secrets auth, policy, and canonical access path enforcement."
    gate_ids:
      - D13
      - D20
      - D25
      - D43
      - D55
      - D70
      - D112
    capability_prefixes:
      - secrets.
      - infisical.
    path_triggers:
      - "ops/tools/infisical-agent.sh"
      - "ops/plugins/secrets/"
      - "surfaces/verify/d20-"
      - "surfaces/verify/d25-"
      - "surfaces/verify/d112-"
  aof:
    description: "AOF product contract and runtime policy surfaces."
    gate_ids:
      - D91
      - D93
      - D94
      - D95
      - D96
      - D97
      - D121
      - D122
      - D123
      - D129
      - D130
      - D131
      - D132
      - D133
      - D134
      - D135
      - D142
      - D145
    capability_prefixes:
      - aof.
      - tenant.
      - policy.
      - version.
      - evidence.
      - receipts.
      - surface.readonly.
    path_triggers:
      - "ops/plugins/aof/"
      - "ops/plugins/tenant/"
      - "ops/plugins/evidence/"
      - "ops/bindings/fabric.boundary.contract.yaml"
      - "ops/bindings/domain.docs.routes.yaml"
      - "surfaces/verify/d91-"
      - "surfaces/verify/d93-"
      - "surfaces/verify/d97-"
      - "surfaces/verify/d121-"
      - "surfaces/verify/d122-"
      - "surfaces/verify/d123-"
      - ops/bindings/spine.schema.conventions.yaml
      - surfaces/verify/d129-
      - surfaces/verify/d130-
      - surfaces/verify/d131-
      - surfaces/verify/d132-
      - surfaces/verify/d133-
      - surfaces/verify/d134-
      - surfaces/verify/d135-
      - surfaces/verify/d142-
      - surfaces/verify/d145-
      - ops/bindings/spine.boundary.baseline.yaml
      - ops/bindings/capability.domain.catalog.yaml
      - ops/bindings/mailroom.runtime.contract.yaml
      - ops/bindings/stabilization.mode.yaml
  home:
    description: "Home automation, HA governance, and device parity gates."
    gate_ids:
      - D92
      - D98
      - D99
      - D101
      - D102
      - D104
      - D105
    capability_prefixes:
      - home.
      - ha.
      - z2m.
    path_triggers:
      - "ops/plugins/ha/"
      - "ops/plugins/home/"
      - "surfaces/verify/d92-"
      - "surfaces/verify/d98-"
      - "surfaces/verify/d99-"
      - "surfaces/verify/d101-"
      - "surfaces/verify/d102-"
      - "surfaces/verify/d104-"
      - "surfaces/verify/d105-"
  media:
    description: "Media stack infrastructure, compose parity, and HA overlap guards."
    gate_ids:
      - D106
      - D107
      - D108
      - D109
      - D110
    capability_prefixes:
      - media.
      - arr.
      - jellyfin.
      - plex.
    path_triggers:
      - "ops/plugins/media/"
      - "surfaces/verify/d106-"
      - "surfaces/verify/d107-"
      - "surfaces/verify/d108-"
      - "surfaces/verify/d109-"
      - "surfaces/verify/d110-"
  immich:
    description: "Immich ingest maintenance and observability lane with governed remote-watchdog controls."
    gate_ids:
      - D16
      - D17
      - D31
      - D42
      - D44
      - D48
      - D58
      - D62
      - D63
      - D67
      - D79
      - D80
      - D81
      - D84
      - D85
      - D124
      - D125
      - D148
    capability_prefixes:
      - immich.
      - verify.
      - mcp.
      - secrets.
    path_triggers:
      - "ops/plugins/observability/bin/immich-ingest-watch"
      - "ops/bindings/immich.ingest.watch.contract.yaml"
      - "ops/capabilities.yaml"
      - "surfaces/verify/d79-"
      - "surfaces/verify/d80-"
      - "surfaces/verify/d125-"
      - "surfaces/verify/d148-"
  n8n:
    description: "n8n automation-stack governance, health, and entry/runtime parity."
    gate_ids:
      - D18
      - D22
      - D23
      - D73
      - D79
      - D80
      - D124
      - D125
      - D148
    capability_prefixes:
      - n8n.
      - mcp.
      - secrets.
      - verify.
    path_triggers:
      - "ops/plugins/n8n/"
      - "ops/bindings/n8n.infra.reliability.contract.yaml"
      - "ops/bindings/services.health.yaml"
      - "ops/bindings/backup.inventory.yaml"
      - "surfaces/verify/d73-"
      - "surfaces/verify/d79-"
      - "surfaces/verify/d80-"
      - "surfaces/verify/d124-"
      - "surfaces/verify/d125-"
  rag:
    description: "RAG contract, remote reindex governance, and embedding preflight."
    gate_ids:
      - D68
      - D87
      - D88
      - D89
      - D90
      - D111
    capability_prefixes:
      - rag.
    path_triggers:
      - "ops/plugins/rag/"
      - "surfaces/verify/d68-"
      - "surfaces/verify/d87-"
      - "surfaces/verify/d111-"
  workbench:
    description: "Workbench boundary, entrypoint, and host tooling hygiene."
    gate_ids:
      - D72
      - D73
      - D74
      - D76
      - D77
      - D78
      - D79
      - D80
      - D103
      - D125
      - D148
      - D126
    capability_prefixes:
      - workbench.
      - mcp.
      - host.macbook.
    path_triggers:
      - "ops/bindings/mcp"
      - "ops/bindings/mcp.runtime.contract.yaml"
      - "docs/governance/WORKBENCH"
      - "surfaces/verify/d72-"
      - "surfaces/verify/d73-"
      - "surfaces/verify/d74-"
      - "surfaces/verify/d76-"
      - "surfaces/verify/d77-"
      - "surfaces/verify/d78-"
      - "surfaces/verify/d79-"
      - "surfaces/verify/d80-"
      - "surfaces/verify/d103-"
      - "surfaces/verify/d125-"
  infra:
    description: "Infrastructure identity, placement, service parity, and relocation governance."
    gate_ids:
      - D14
      - D15
      - D18
      - D19
      - D22
      - D23
      - D24
      - D35
      - D37
      - D39
      - D50
      - D51
      - D52
      - D54
      - D57
      - D59
      - D69
      - D86
      - D100
      - D115
      - D116
      - D137
      - D138
      - D139
      - D149
    capability_prefixes:
      - infra.
      - vm.
      - network.
      - backup.
    path_triggers:
      - "ops/plugins/infra/"
      - "ops/plugins/vm/"
      - "surfaces/verify/d14-"
      - "surfaces/verify/d69-"
      - "surfaces/verify/d137-"
      - "surfaces/verify/d138-"
      - "surfaces/verify/d139-"
      - "surfaces/verify/d149-"
  loop_gap:
    description: "Loop/gap registration, mutation safety, and proposal queue hygiene."
    gate_ids:
      - D34
      - D61
      - D75
      - D83
      - D141
      - D143
    capability_prefixes:
      - loops.
      - gaps.
      - proposals.
      - orchestration.
      - alerting.
      - session.handoff.
    path_triggers:
      - "mailroom/state/loop-scopes/"
      - "ops/bindings/operational.gaps.yaml"
      - "ops/plugins/proposals/"
      - "ops/plugins/alerting/"
      - "ops/plugins/handoff/"
      - "ops/bindings/proposals.lifecycle.yaml"
      - "ops/plugins/loops/"
      - "surfaces/verify/d34-"
      - "surfaces/verify/d75-"
      - "surfaces/verify/d141-"
      - "surfaces/verify/d143-"
      - "surfaces/verify/tests/proposals-apply-"
  communications:
    description: Communications stack pilot + transactional governance surfaces (provider routing, policy, templates, delivery artifacts).
    gate_ids:
      - D63
      - D67
      - D125
      - D148
      - D126
      - D147
    capability_prefixes:
      - communications.
    path_triggers:
      - ops/plugins/communications/
      - ops/bindings/communications.stack.contract.yaml
      - ops/bindings/communications.providers.contract.yaml
      - ops/bindings/communications.policy.contract.yaml
      - ops/bindings/communications.templates.catalog.yaml
      - ops/bindings/communications.delivery.contract.yaml
      - ops/agents/communications-agent.contract.md
      - ops/bindings/agents.registry.yaml
      - surfaces/verify/d147-
      - ops/capabilities.yaml
  finance:
    description: Finance stack reliability and service parity checks.
    gate_ids:
      - D22
      - D23
      - D79
      - D80
      - D125
      - D148
    capability_prefixes:
      - finance.
    path_triggers:
      - ops/plugins/observability/bin/finance-stack-status
      - ops/bindings/vm.lifecycle.yaml
  mint:
    description: Mint modules runtime reliability, deploy checks, and workbench/operator surface parity.
    gate_ids:
      - D18
      - D22
      - D23
      - D79
      - D80
      - D125
      - D148
    capability_prefixes:
      - mint.
    path_triggers:
      - ops/plugins/mint/
      - ops/agents/mint-agent.contract.md
      - ops/bindings/agents.registry.yaml
      - /Users/ronnyworks/code/mint-modules/
  proxmox-network:
    description: "Composite domain for Proxmox maintenance lifecycle, post-power recovery, and network site parity governance across shop and home sites."
    gate_ids:
      - D14
      - D15
      - D18
      - D19
      - D22
      - D23
      - D24
      - D35
      - D37
      - D39
      - D50
      - D51
      - D52
      - D54
      - D57
      - D58
      - D59
      - D69
      - D86
      - D100
      - D115
      - D116
      - D137
      - D138
      - D139
      - D149
    capability_prefixes:
      - infra.proxmox.
      - infra.post_power.
      - infra.maintenance.
      - network.
    path_triggers:
      - "ops/plugins/infra/"
      - "ops/bindings/vm.lifecycle.yaml"
      - "ops/bindings/vm.lifecycle.contract.yaml"
      - "ops/bindings/ssh.targets.yaml"
      - "ops/bindings/infra.placement.policy.yaml"
      - "ops/bindings/startup.sequencing.yaml"
      - "ops/bindings/network.cutover.policy.yaml"
      - "surfaces/verify/d137-"
      - "surfaces/verify/d138-"
      - "surfaces/verify/d139-"
      - "surfaces/verify/d149-"
  hygiene-weekly:
    description: "Hygiene and debt gates separated from day-to-day lane. Run weekly."
    gate_ids:
      - D16
      - D17
      - D31
      - D42
      - D44
      - D58
      - D60
      - D81
      - D84
      - D85
      - D154
    capability_prefixes:
      - docs.
      - authority.
    path_triggers:
      - "docs/"
      - "ops/bindings/"
  ms-graph:
    description: Microsoft Graph mail/calendar capability governance and runtime parity.
    gate_ids:
      - D63
      - D67
      - D125
      - D148
      - D126
      - D146
    capability_prefixes:
      - graph.mail.
      - graph.calendar.
      - calendar.
      - backup.calendar.
    path_triggers:
      - ops/plugins/ms-graph/
      - ops/plugins/calendar/
      - ops/bindings/calendar.global.yaml
      - ops/bindings/calendar.sync.contract.yaml
      - ops/bindings/backup.calendar.yaml
      - surfaces/verify/d146-
      - ops/capabilities.yaml
