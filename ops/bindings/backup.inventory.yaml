# Seeded from ronny-ops SSOT: infrastructure/data/backup_inventory.json
# NOTE: enabled=false by default; flip true intentionally per target.
# Classifications: critical (26h), important (48h), rebuildable (168h)
version: 1

defaults:
  timezone: "America/New_York"
  ssh_timeout_sec: 6
  stale_after_hours: 26

targets:
  # NOTE: vzdump files not yet synced to NAS (see ronny-ops BACKUP_GOVERNANCE.md)
  - name: vm-200-docker-host
    enabled: false
    kind: file_glob
    host: nas
    base_path: "/volume1/backups/proxmox/vzdump"
    glob: "vzdump-qemu-200-*.vma.zst"
    stale_after_hours: 26
    classification: critical

  # NOTE: path doesn't exist yet on NAS
  - name: app-mint-postgres
    enabled: false
    kind: file_glob
    host: nas
    base_path: "/volume1/backups/apps/mint-postgres"
    glob: "*.sql.gz"
    stale_after_hours: 26
    classification: critical

  # NOTE: path doesn't exist yet on NAS
  - name: app-infisical
    enabled: false
    kind: file_glob
    host: nas
    base_path: "/volume1/backups/apps/infisical"
    glob: "*.sql.gz"
    stale_after_hours: 26
    classification: critical

  - name: app-vaultwarden
    enabled: true
    kind: file_glob
    host: nas
    base_path: "/volume1/backups/apps/vaultwarden"
    glob: "*.tar.gz"
    stale_after_hours: 26
    classification: critical

  - name: app-home-assistant
    enabled: true
    kind: file_glob
    host: nas
    base_path: "/volume1/backups/apps/home-assistant"
    glob: "*.tar"
    stale_after_hours: 48
    classification: important

  - name: app-firefly
    enabled: false
    kind: file_glob
    host: nas
    base_path: "/volume1/backups/apps/finance"
    glob: "*.sql.gz"
    stale_after_hours: 48
    classification: important

  - name: app-minio
    enabled: false
    kind: file_glob
    host: nas
    base_path: "/volume1/backups/apps/minio"
    glob: "*.tar.gz"
    stale_after_hours: 48
    classification: important

  - name: device-ronny-macbook
    enabled: false
    kind: file_glob
    host: nas
    base_path: "/volume1/backups/devices/ronny-macbook"
    glob: "*"
    stale_after_hours: 26
    classification: critical

  - name: asset-dns-domain
    enabled: false
    kind: file_glob
    host: nas
    base_path: "/volume1/backups/apps/cloudflare"
    glob: "*"
    stale_after_hours: 26
    classification: critical
