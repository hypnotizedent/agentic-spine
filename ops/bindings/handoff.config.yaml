# Session Handoff Contract
# Status: authoritative
# Last verified: 2026-02-18
# Scope: cross-session handoff lifecycle

version: "1.1"
updated_at: "2026-03-02"
owner: "@ronny"
scope: session-handoff

storage:
  directory: mailroom/state/handoffs
  file_pattern: HO-YYYYMMDD-HHMMSS.yaml

defaults:
  ttl_hours: 72
  max_active: 20
  owner_fallback_env: USER

state_model:
  states: [active, closed, expired]
  transition:
    active: [closed, expired]

required_fields:
  - id
  - state
  - owner
  - created_at_utc
  - expires_at_utc
  - summary
  - loops
  - actions

role_io:
  enabled: true
  policy_contract: ops/bindings/role.runtime.control.contract.yaml
  required_fields:
    - from_role
    - to_role
    - transition_gate
    - input_refs
    - output_refs
