# VM Lifecycle Authority Contract
# Status: authoritative
# Last verified: 2026-02-16

version: 1
updated: "2026-02-16"
owner: "@ronny"
scope: vm-lifecycle-authority

canonical: ops/bindings/vm.lifecycle.yaml

derived_outputs:
  - ops/bindings/vm.lifecycle.derived.yaml
  - ops/bindings/vm.operating.profile.yaml
  - ops/bindings/backup.inventory.yaml
  - ops/bindings/ssh.targets.yaml

required_vm_fields:
  - vmid
  - hostname
  - proxmox_host
  - role
  - owner
  - status
  - os
  - ssh_target
  - backup_target
  - health_probe_policy

generation_command: "./ops/plugins/vm/bin/vm-lifecycle-derived-check --write"
