# Services Health Binding
# Non-secret. Spine-native. Read-only HTTP probes.
#
# Source SSOT: docs/governance/SERVICE_REGISTRY.yaml
# Each endpoint is a known service health URL (no auth required).

version: 1

defaults:
  connect_timeout_sec: 5
  max_time_sec: 10

endpoints:
  - id: mint-os-api
    host: docker-host
    url: "http://100.92.156.118:3335/health"
    expect: 200
    notes: "Mint OS Dashboard API"

  - id: minio
    host: docker-host
    url: "http://100.92.156.118:9000/minio/health/live"
    expect: 200
    notes: "MinIO storage"

  - id: n8n
    host: automation-stack
    url: "http://100.98.70.70:5678/healthz"
    expect: 200
    notes: "n8n workflow automation"

  - id: prometheus
    host: observability
    url: "http://100.120.163.70:9090/-/healthy"
    expect: 200
    notes: "Prometheus metrics"

  - id: grafana
    host: observability
    url: "http://100.120.163.70:3000/api/health"
    expect: 200
    notes: "Grafana dashboards"

  - id: loki
    host: observability
    url: "http://100.120.163.70:3100/ready"
    expect: 200
    notes: "Loki log aggregation"

  - id: uptime-kuma
    host: observability
    url: "http://100.120.163.70:3001"
    expect: 302
    notes: "Uptime Kuma monitoring"

  - id: node-exporter
    host: observability
    url: "http://100.120.163.70:9100/metrics"
    expect: 200
    notes: "Node exporter host metrics"
