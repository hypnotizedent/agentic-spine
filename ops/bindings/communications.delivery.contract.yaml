# Status: authoritative
# Last verified: 2026-02-21

version: 1
updated_at: "2026-02-21"
owner: "@ronny"
scope: communications-delivery-ledger

artifacts:
  latest_record_file: "$SPINE_OUTBOX/communications/communications-transaction-last.yaml"
  append_log_file: "$SPINE_OUTBOX/communications/communications-delivery-log.jsonl"

log_schema:
  required_fields:
    - event_id
    - created_at
    - channel
    - message_type
    - provider
    - recipient
    - status
  optional_fields:
    - subject
    - provider_message_id
    - error
    - metadata

status_lifecycle:
  allowed:
    - pending
    - simulated
    - sent
    - delivered
    - failed

retention:
  max_records: 5000
  prune_policy: "drop-oldest"
