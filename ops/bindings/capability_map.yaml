# Capability Map — cap -> plugin -> script
# Auto-generated navigation index. Source of truth: ops/capabilities.yaml
# Last updated: 2026-02-12

# ═══════════════════════════════════════════════════════════════════════════
# SPINE HEALTH
# ═══════════════════════════════════════════════════════════════════════════

capabilities:

  spine.verify:
    plugin: verify
    script: drift-gate.sh
    safety: read-only
    note: "command runs surfaces/verify/drift-gate.sh (not in plugins/)"

  spine.replay:
    plugin: verify
    script: replay-test.sh
    safety: read-only
    note: "command runs surfaces/verify/replay-test.sh (not in plugins/)"

  spine.status:
    plugin: inbox
    script: agent-status.sh
    safety: read-only
    note: "command runs ops/runtime/inbox/agent-status.sh (not in plugins/)"

  codex.worktree.status:
    plugin: verify
    script: d48-codex-worktree-hygiene.sh
    safety: read-only
    note: "command runs surfaces/verify/d48-codex-worktree-hygiene.sh (not in plugins/)"

  spine.watcher.status:
    plugin: inbox
    script: agent-status.sh
    safety: read-only
    note: "command runs ops/runtime/inbox/agent-status.sh (not in plugins/)"

  spine.watcher.restart:
    plugin: inbox
    script: agent-restart.sh
    safety: mutating
    note: "command runs ops/runtime/inbox/agent-restart.sh (not in plugins/)"

  # ═══════════════════════════════════════════════════════════════════════════
  # MAILROOM BRIDGE
  # ═══════════════════════════════════════════════════════════════════════════

  mailroom.bridge.status:
    plugin: mailroom-bridge
    script: mailroom-bridge-status
    safety: read-only

  mailroom.bridge.start:
    plugin: mailroom-bridge
    script: mailroom-bridge-start
    safety: mutating

  mailroom.bridge.stop:
    plugin: mailroom-bridge
    script: mailroom-bridge-stop
    safety: mutating

  mailroom.bridge.expose.status:
    plugin: mailroom-bridge
    script: mailroom-bridge-expose-status
    safety: read-only

  mailroom.bridge.expose.enable:
    plugin: mailroom-bridge
    script: mailroom-bridge-expose-enable
    safety: mutating

  mailroom.bridge.expose.disable:
    plugin: mailroom-bridge
    script: mailroom-bridge-expose-disable
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # LOOPS
  # ═══════════════════════════════════════════════════════════════════════════

  gaps.status:
    plugin: loops
    script: gaps-status
    safety: read-only

  gaps.claim:
    plugin: loops
    script: gaps-claim
    safety: mutating

  gaps.unclaim:
    plugin: loops
    script: gaps-unclaim
    safety: mutating

  gaps.file:
    plugin: loops
    script: gaps-file
    safety: mutating

  gaps.close:
    plugin: loops
    script: gaps-close
    safety: destructive

  loops.status:
    plugin: loops
    script: loops-status
    safety: read-only

  loops.reconcile:
    plugin: loops
    script: loops-reconcile
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # ORCHESTRATION
  # ═══════════════════════════════════════════════════════════════════════════

  orchestration.loop.open:
    plugin: orchestration
    script: orchestration-loop-open
    safety: mutating

  orchestration.ticket.issue:
    plugin: orchestration
    script: orchestration-ticket-issue
    safety: mutating

  orchestration.handoff.validate:
    plugin: orchestration
    script: orchestration-handoff-validate
    safety: mutating

  orchestration.integrate:
    plugin: orchestration
    script: orchestration-integrate
    safety: mutating

  orchestration.loop.close:
    plugin: orchestration
    script: orchestration-loop-close
    safety: mutating

  orchestration.status:
    plugin: orchestration
    script: orchestration-status
    safety: read-only

  orchestration.terminal.entry:
    plugin: orchestration
    script: orchestration-terminal-entry
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # MONOLITH READ
  # ═══════════════════════════════════════════════════════════════════════════

  monolith.tree:
    plugin: monolith
    script: ~
    safety: read-only
    note: "command is bare 'ls -la' in $HOME/code"

  monolith.search:
    plugin: monolith
    script: monolith-search
    safety: read-only

  monolith.git_status:
    plugin: monolith
    script: monolith-git-status
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # N8N
  # ═══════════════════════════════════════════════════════════════════════════

  n8n.workflows.list:
    plugin: n8n
    script: n8n-workflows
    safety: read-only
    note: "secrets-exec wrapper -> n8n-workflows list"

  n8n.workflows.get:
    plugin: n8n
    script: n8n-workflows
    safety: read-only
    note: "secrets-exec wrapper -> n8n-workflows get"

  n8n.workflows.export:
    plugin: n8n
    script: n8n-workflows
    safety: mutating
    note: "secrets-exec wrapper -> n8n-workflows export"

  n8n.workflows.import:
    plugin: n8n
    script: n8n-workflows
    safety: mutating
    note: "secrets-exec wrapper -> n8n-workflows import"

  n8n.workflows.activate:
    plugin: n8n
    script: n8n-workflows
    safety: mutating
    note: "secrets-exec wrapper -> n8n-workflows activate"

  n8n.workflows.deactivate:
    plugin: n8n
    script: n8n-workflows
    safety: mutating
    note: "secrets-exec wrapper -> n8n-workflows deactivate"

  n8n.workflows.update:
    plugin: n8n
    script: n8n-workflows
    safety: mutating
    note: "secrets-exec wrapper -> n8n-workflows update"

  n8n.workflows.delete:
    plugin: n8n
    script: n8n-workflows
    safety: destructive
    note: "secrets-exec wrapper -> n8n-workflows delete"

  n8n.workflows.snapshot:
    plugin: n8n
    script: n8n-workflows
    safety: mutating
    note: "secrets-exec wrapper -> n8n-workflows export-all (API-based, all workflows)"

  n8n.workflows.snapshot.status:
    plugin: n8n
    script: n8n-snapshot-status
    safety: read-only
    note: "SSH to automation-stack, check snapshot artifacts and freshness"

  # ═══════════════════════════════════════════════════════════════════════════
  # INFRASTRUCTURE (read-only checks)
  # ═══════════════════════════════════════════════════════════════════════════

  infra.docker_ps:
    plugin: ~
    script: ~
    safety: read-only
    note: "bare 'docker ps' command (no plugin script)"

  spine.ripple.check:
    plugin: infra
    script: ripple-check
    safety: read-only

  vm.governance.audit:
    plugin: vm
    script: vm-governance-audit
    safety: read-only

  authority.project.status:
    plugin: authority
    script: project-governance-status
    safety: read-only

  authority.project.bootstrap:
    plugin: authority
    script: project-governance-bootstrap
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # VERIFY
  # ═══════════════════════════════════════════════════════════════════════════

  verify.drift_gates.certify:
    plugin: verify
    script: drift-gates-certify
    safety: read-only

  verify.drift_gates.failure_stats:
    plugin: verify
    script: drift-gates-failure-stats
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # RAG
  # ═══════════════════════════════════════════════════════════════════════════

  rag.health:
    plugin: rag
    script: rag
    safety: read-only
    note: "rag health subcommand"

  rag.anythingllm.status:
    plugin: rag
    script: rag
    safety: read-only
    note: "secrets-exec wrapper -> rag status"

  rag.anythingllm.ask:
    plugin: rag
    script: rag
    safety: read-only
    note: "secrets-exec wrapper -> rag ask"

  rag.anythingllm.sync:
    plugin: rag
    script: rag
    safety: mutating
    note: "secrets-exec wrapper -> rag sync"

  rag.anythingllm.tune:
    plugin: rag
    script: anythingllm-tune
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # SECRETS
  # ═══════════════════════════════════════════════════════════════════════════

  secrets.status:
    plugin: secrets
    script: secrets-status
    safety: read-only

  secrets.binding:
    plugin: secrets
    script: secrets-binding
    safety: read-only

  secrets.auth.status:
    plugin: secrets
    script: secrets-auth-status
    safety: read-only

  secrets.auth.load:
    plugin: secrets
    script: secrets-auth-load
    safety: read-only

  secrets.credentials.parity:
    plugin: secrets
    script: secrets-credentials-parity
    safety: read-only

  secrets.projects.status:
    plugin: secrets
    script: secrets-projects-status
    safety: read-only

  secrets.inventory.status:
    plugin: secrets
    script: secrets-inventory-status
    safety: read-only

  secrets.namespace.status:
    plugin: secrets
    script: secrets-namespace-status
    safety: read-only

  secrets.cli.status:
    plugin: secrets
    script: secrets-cli-status
    safety: read-only

  secrets.identity.rbac.status:
    plugin: secrets
    script: secrets-identity-rbac-status
    safety: read-only

  secrets.identity.rbac.lock:
    plugin: secrets
    script: secrets-identity-rbac-lock
    safety: mutating
    note: "invoked with --execute to mutate; dry-run by default"

  secrets.exec:
    plugin: secrets
    script: secrets-exec
    safety: mutating

  secrets.set.interactive:
    plugin: secrets
    script: secrets-set-interactive
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # SECRETS MIGRATION (P1-P6)
  # ═══════════════════════════════════════════════════════════════════════════

  secrets.p1.root_cleanup.status:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: read-only

  secrets.p1.root_cleanup.execute:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: mutating
    note: "invoked with --execute"

  secrets.p2.copy_first.status:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: read-only
    note: "target-path /spine/network/edge"

  secrets.p2.copy_first.execute:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: mutating
    note: "target-path /spine/network/edge --execute"

  secrets.p2.root_cleanup.status:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: read-only
    note: "target-path /spine/network/edge"

  secrets.p2.root_cleanup.execute:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: mutating
    note: "target-path /spine/network/edge --execute"

  secrets.p3.copy_first.status:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: read-only
    note: "target-path /spine/storage/nas"

  secrets.p3.copy_first.execute:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: mutating
    note: "target-path /spine/storage/nas --execute"

  secrets.p3.root_cleanup.status:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: read-only
    note: "target-path /spine/storage/nas"

  secrets.p3.root_cleanup.execute:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: mutating
    note: "target-path /spine/storage/nas --execute"

  secrets.p4.copy_first.status:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: read-only
    note: "target-path /spine/integrations/commerce-mail"

  secrets.p4.copy_first.execute:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: mutating
    note: "target-path /spine/integrations/commerce-mail --execute"

  secrets.p4.root_cleanup.status:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: read-only
    note: "target-path /spine/integrations/commerce-mail"

  secrets.p4.root_cleanup.execute:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: mutating
    note: "target-path /spine/integrations/commerce-mail --execute"

  secrets.p5.immich.copy_first.status:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: read-only
    note: "target-path /spine/services/immich"

  secrets.p5.immich.copy_first.execute:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: mutating
    note: "target-path /spine/services/immich --execute"

  secrets.p5.immich.root_cleanup.status:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: read-only
    note: "target-path /spine/services/immich"

  secrets.p5.immich.root_cleanup.execute:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: mutating
    note: "target-path /spine/services/immich --execute"

  secrets.p5.mail_archiver.copy_first.status:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: read-only
    note: "target-path /spine/services/mail-archiver"

  secrets.p5.mail_archiver.copy_first.execute:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: mutating
    note: "target-path /spine/services/mail-archiver --execute"

  secrets.p5.mail_archiver.root_cleanup.status:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: read-only
    note: "target-path /spine/services/mail-archiver"

  secrets.p5.mail_archiver.root_cleanup.execute:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: mutating
    note: "target-path /spine/services/mail-archiver --execute"

  secrets.p5.finance.copy_first.status:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: read-only
    note: "target-path /spine/services/finance"

  secrets.p5.finance.copy_first.execute:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: mutating
    note: "target-path /spine/services/finance --execute"

  secrets.p5.finance.root_cleanup.status:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: read-only
    note: "target-path /spine/services/finance"

  secrets.p5.finance.root_cleanup.execute:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: mutating
    note: "target-path /spine/services/finance --execute"

  secrets.p5.paperless.copy_first.status:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: read-only
    note: "target-path /spine/services/paperless"

  secrets.p5.paperless.copy_first.execute:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: mutating
    note: "target-path /spine/services/paperless --execute"

  secrets.p5.paperless.root_cleanup.status:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: read-only
    note: "target-path /spine/services/paperless"

  secrets.p5.paperless.root_cleanup.execute:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: mutating
    note: "target-path /spine/services/paperless --execute"

  secrets.p5.mcpjungle.copy_first.status:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: read-only
    note: "target-path /spine/services/mcpjungle"

  secrets.p5.mcpjungle.copy_first.execute:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: mutating
    note: "target-path /spine/services/mcpjungle --execute"

  secrets.p5.mcpjungle.root_cleanup.status:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: read-only
    note: "target-path /spine/services/mcpjungle"

  secrets.p5.mcpjungle.root_cleanup.execute:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: mutating
    note: "target-path /spine/services/mcpjungle --execute"

  secrets.p6.ai.copy_first.status:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: read-only
    note: "target-path /spine/ai/providers"

  secrets.p6.ai.copy_first.execute:
    plugin: secrets
    script: secrets-cohort-copy-first
    safety: mutating
    note: "target-path /spine/ai/providers --execute"

  secrets.p6.ai.root_cleanup.status:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: read-only
    note: "target-path /spine/ai/providers"

  secrets.p6.ai.root_cleanup.execute:
    plugin: secrets
    script: secrets-p1-root-cleanup
    safety: mutating
    note: "target-path /spine/ai/providers --execute"

  # ═══════════════════════════════════════════════════════════════════════════
  # HOME ASSISTANT
  # ═══════════════════════════════════════════════════════════════════════════

  ha.ssot.propose:
    plugin: ha
    script: ha-ssot-propose
    safety: read-only

  ha.ssot.apply:
    plugin: ha
    script: ha-ssot-apply
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # HOME (proxmox-home infrastructure)
  # ═══════════════════════════════════════════════════════════════════════════

  home.backup.status:
    plugin: home
    script: home-backup-status
    safety: read-only

  home.vm.status:
    plugin: home
    script: home-vm-status
    safety: read-only

  home.health.check:
    plugin: home
    script: home-health-check
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # MEDIA
  # ═══════════════════════════════════════════════════════════════════════════

  recyclarr.sync:
    plugin: ~
    script: ~
    safety: mutating
    note: "bare SSH + docker exec command (no plugin script)"

  media.metrics.today:
    plugin: media
    script: media-metrics-today
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # CLOUDFLARE
  # ═══════════════════════════════════════════════════════════════════════════

  cloudflare.status:
    plugin: cloudflare
    script: cloudflare-status
    safety: read-only

  cloudflare.dns.status:
    plugin: cloudflare
    script: cloudflare-dns-status
    safety: read-only

  cloudflare.tunnel.status:
    plugin: cloudflare
    script: cloudflare-tunnel-status
    safety: read-only

  cloudflare.inventory.sync:
    plugin: cloudflare
    script: cloudflare-inventory-sync
    safety: read-only

  cloudflare.tunnel.ingress.status:
    plugin: cloudflare
    script: cloudflare-tunnel-ingress-status
    safety: read-only

  cloudflare.domain_routing.diff:
    plugin: cloudflare
    script: cloudflare-domain-routing-diff
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # GITHUB
  # ═══════════════════════════════════════════════════════════════════════════

  github.status:
    plugin: github
    script: github-status
    safety: read-only

  github.queue.status:
    plugin: github
    script: github-queue-status
    safety: read-only

  github.actions.status:
    plugin: github
    script: github-actions-status
    safety: read-only

  github.labels.status:
    plugin: github
    script: github-labels-status
    safety: read-only

  infra.gh_issue:
    plugin: ~
    script: ~
    safety: read-only
    note: "bare 'gh issue view' command (no plugin script)"

  # ═══════════════════════════════════════════════════════════════════════════
  # SSH
  # ═══════════════════════════════════════════════════════════════════════════

  ssh.target.status:
    plugin: ssh
    script: ssh-target-status
    safety: read-only

  nodes.status:
    plugin: ssh
    script: ssh-target-status
    safety: read-only
    note: "alias for ssh.target.status"

  # ═══════════════════════════════════════════════════════════════════════════
  # NETWORK
  # ═══════════════════════════════════════════════════════════════════════════

  network.lan.device.status:
    plugin: network
    script: network-lan-device-status
    safety: read-only

  network.lan.host.identify:
    plugin: network
    script: network-lan-host-identify
    safety: read-only

  network.shop.audit.status:
    plugin: network
    script: network-shop-audit-status
    safety: read-only

  network.ap.facts.capture:
    plugin: network
    script: network-ap-facts-capture
    safety: read-only

  network.oob.guard.status:
    plugin: network
    script: network-oob-guard-status
    safety: read-only

  network.shop.audit.canonical:
    plugin: network
    script: network-shop-audit-canonical
    safety: read-only

  network.unifi.clients.snapshot:
    plugin: network
    script: network-unifi-clients-snapshot
    safety: read-only

  network.nvr.reip.canonical:
    plugin: network
    script: network-nvr-reip-canonical
    safety: mutating

  network.cutover.preflight:
    plugin: network
    script: network-cutover-preflight
    safety: read-only

  network.pve.post_cutover.harden:
    plugin: network
    script: network-pve-post-cutover-harden
    safety: mutating

  network.md1400.pm8072.stage:
    plugin: network
    script: network-md1400-pm8072-stage
    safety: mutating

  network.md1400.bind_test:
    plugin: network
    script: network-md1400-bind-test
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # PROXMOX MAINTENANCE
  # ═══════════════════════════════════════════════════════════════════════════

  infra.proxmox.maintenance.precheck:
    plugin: infra
    script: infra-proxmox-maintenance
    safety: read-only

  infra.proxmox.maintenance.shutdown:
    plugin: infra
    script: infra-proxmox-maintenance
    safety: mutating

  infra.proxmox.maintenance.startup:
    plugin: infra
    script: infra-proxmox-maintenance
    safety: mutating

  infra.post_power.recovery.status:
    plugin: infra
    script: infra-post-power-recovery
    safety: read-only
    note: "invoked with --mode status"

  infra.post_power.recovery:
    plugin: infra
    script: infra-post-power-recovery
    safety: mutating
    note: "invoked with --mode recover"

  # ═══════════════════════════════════════════════════════════════════════════
  # DOCKER
  # ═══════════════════════════════════════════════════════════════════════════

  docker.compose.status:
    plugin: docker
    script: docker-compose-status
    safety: read-only

  docker.compose.logs:
    plugin: docker
    script: docker-compose-logs
    safety: read-only

  docker.compose.up:
    plugin: docker
    script: docker-compose-up
    safety: mutating

  docker.compose.down:
    plugin: docker
    script: docker-compose-down
    safety: mutating

  docker.compose.pull:
    plugin: docker
    script: docker-compose-pull
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # SERVICES
  # ═══════════════════════════════════════════════════════════════════════════

  services.health.status:
    plugin: services
    script: services-health-status
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # BACKUP
  # ═══════════════════════════════════════════════════════════════════════════

  backup.status:
    plugin: backup
    script: backup-status
    safety: read-only

  backup.vzdump.status:
    plugin: backup
    script: backup-vzdump-status
    safety: read-only

  backup.vzdump.vmid.set:
    plugin: backup
    script: backup-vzdump-vmid-set
    safety: mutating

  backup.vzdump.run:
    plugin: backup
    script: backup-vzdump-run
    safety: mutating

  backup.vzdump.prune:
    plugin: backup
    script: backup-vzdump-prune
    safety: mutating

  backup.calendar.generate:
    plugin: backup
    script: backup-calendar-generate
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # HOST
  # ═══════════════════════════════════════════════════════════════════════════

  host.drift.audit:
    plugin: host
    script: host-drift-audit
    safety: read-only

  host.claude.entrypoint.status:
    plugin: host
    script: host-claude-entrypoint-lock
    safety: read-only

  host.claude.entrypoint.canonicalize:
    plugin: host
    script: host-claude-entrypoint-lock
    safety: mutating
    note: "invoked with --execute"

  host.hidden.inventory.status:
    plugin: host
    script: host-hidden-root-inventory
    safety: read-only

  host.macbook.drift.check:
    plugin: host
    script: host-macbook-drift-check
    safety: read-only

  host.macbook.managed_configs.apply:
    plugin: host
    script: host-macbook-managed-configs-apply
    safety: mutating

  host.macbook.bootstrap:
    plugin: host
    script: host-macbook-bootstrap
    safety: mutating

  host.streamdeck.status:
    plugin: host
    script: host-streamdeck-status
    safety: read-only

  host.streamdeck.reload:
    plugin: host
    script: host-streamdeck-reload
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # DOCS
  # ═══════════════════════════════════════════════════════════════════════════

  docs.status:
    plugin: docs
    script: docs-status
    safety: read-only

  infra.extraction.status:
    plugin: docs
    script: infra-extraction-status
    safety: read-only

  docs.lint:
    plugin: docs
    script: docs-lint
    safety: read-only

  mcp.inventory.status:
    plugin: mcp
    script: mcp-inventory-status
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # INFRA RELOCATION
  # ═══════════════════════════════════════════════════════════════════════════

  infra.placement.policy:
    plugin: infra
    script: infra-placement-policy-check
    safety: read-only

  infra.hypervisor.identity:
    plugin: infra
    script: infra-hypervisor-identity-status
    safety: read-only

  infra.hypervisor.hostname.set:
    plugin: infra
    script: infra-hypervisor-hostname-set
    safety: mutating

  infra.timezone.set:
    plugin: infra
    script: infra-timezone-set
    safety: mutating

  infra.relocation.preflight:
    plugin: infra
    script: infra-relocation-preflight
    safety: read-only

  infra.relocation.parity:
    plugin: infra
    script: infra-relocation-parity
    safety: read-only

  infra.relocation.impact:
    plugin: infra
    script: infra-relocation-impact
    safety: read-only

  infra.relocation.rollback.plan:
    plugin: infra
    script: infra-relocation-rollback
    safety: read-only

  infra.vm.provision:
    plugin: infra
    script: infra-vm-provision
    safety: mutating

  infra.vm.bootstrap:
    plugin: infra
    script: infra-vm-bootstrap
    safety: mutating

  infra.relocation.state.transition:
    plugin: infra
    script: infra-relocation-state-transition
    safety: mutating

  infra.relocation.service.transition:
    plugin: infra
    script: infra-relocation-service-transition
    safety: mutating

  infra.relocation.promote:
    plugin: infra
    script: infra-relocation-promote
    safety: mutating

  infra.proxmox.node_path.migrate:
    plugin: infra
    script: infra-proxmox-node-path-migrate
    safety: mutating

  infra.vm.ready.status:
    plugin: infra
    script: infra-vm-ready-status
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # BUDGET
  # ═══════════════════════════════════════════════════════════════════════════

  budget.check:
    plugin: budget
    script: budget
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # MAKER
  # ═══════════════════════════════════════════════════════════════════════════

  maker.tools.status:
    plugin: maker
    script: maker-tools-status
    safety: read-only

  maker.qr.generate:
    plugin: maker
    script: maker-qr-generate
    safety: mutating

  maker.label.print:
    plugin: maker
    script: maker-label-print
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # AUDIT
  # ═══════════════════════════════════════════════════════════════════════════

  audit.export.governance_iac:
    plugin: audit
    script: audit-export
    safety: read-only

  spine.audit.triage:
    plugin: audit
    script: audit-triage
    safety: read-only

  agent.session.closeout:
    plugin: audit
    script: agent-session-closeout
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # SESSION
  # ═══════════════════════════════════════════════════════════════════════════

  session.start:
    plugin: session
    script: session-start
    safety: mutating

  # ═══════════════════════════════════════════════════════════════════════════
  # RELEASE
  # ═══════════════════════════════════════════════════════════════════════════

  spine.release.zip:
    plugin: release
    script: spine-release-zip
    safety: read-only

  # ═══════════════════════════════════════════════════════════════════════════
  # PROPOSALS
  # ═══════════════════════════════════════════════════════════════════════════

  proposals.submit:
    plugin: proposals
    script: proposals-submit
    safety: mutating

  proposals.list:
    plugin: proposals
    script: proposals-list
    safety: read-only

  proposals.apply:
    plugin: proposals
    script: proposals-apply
    safety: destructive

  # ═══════════════════════════════════════════════════════════════════════════
  # MINT MODULES
  # ═══════════════════════════════════════════════════════════════════════════

  mint.modules.health:
    plugin: mint
    script: modules-health
    safety: read-only

  mint.seeds.query:
    plugin: mint
    script: seeds-query
    safety: read-only

  mint.intake.validate:
    plugin: mint
    script: intake-validate
    safety: read-only

  mint.deploy.status:
    plugin: mint
    script: deploy-status
    safety: read-only

  mint.migrate.dryrun:
    plugin: mint
    script: migrate-dryrun
    safety: read-only
