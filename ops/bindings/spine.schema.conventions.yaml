---
status: authoritative
owner: "@ronny"
last_verified: 2026-02-16
scope: spine-schema-conventions

version: 1
updated_at: "2026-02-16"

policy:
  enforcement_mode: touch_and_fix
  changed_file_enforcement: true
  include_globs:
    - "ops/bindings/**/*.yaml"
    - "ops/bindings/**/*.yml"
  always_validate_files:
    - ops/bindings/spine.schema.conventions.yaml

status_rules:
  canonical_field: status
  allowed_values:
    - active
    - draft
    - planned
    - open
    - pending
    - blocked
    - fixed
    - closed
    - applied
    - superseded
    - archived
    - read_only
    - running
    - parked
    - done
    - failed
    - unknown
    - ready
    - experimental
    - deprecated
    - authoritative
    - provisioned
    - registered
    - decommissioned
    - abandoned
  lifecycle_field: lifecycle
  lifecycle_values:
    - ready
    - experimental
    - deprecated

date_rules:
  canonical_fields:
    - created_at
    - updated_at
    - closed_at
  accepted_legacy_fields:
    - updated
    - last_verified
    - last_reviewed
    - last_synced
    - discovered_at
    - opened
  iso_8601_regex: '^[0-9]{4}-[0-9]{2}-[0-9]{2}([T][0-9]{2}:[0-9]{2}:[0-9]{2}Z)?$'

field_rules:
  canonical_id_field: id
  canonical_description_field: description
  disallowed_alias_keys:
    - vmid
    - notes
    - discovered_at
    - opened
  discouraged_alias_keys:
    - domain_id
    - gate_id
    - agent_id
    - name
    - updated
    - last_synced
    - last_reviewed

legacy_alias_rules:
  touch_to_fix_required: true
  legacy_exceptions:
    - file: ops/bindings/operational.gaps.yaml
      allowed_keys: [discovered_at, notes]
      reason: "Large legacy corpus; migrate incrementally with touch-and-fix."
    - file: ops/bindings/vm.lifecycle.yaml
      allowed_keys: [vmid, notes]
      reason: "vmid->id migration requires downstream capability/script updates."
    - file: ops/bindings/ssh.targets.yaml
      allowed_keys: [notes]
      reason: "notes->description migration deferred to infra binding touch cycle."

cli_conventions:
  preferred_argument_style: named_flags
  rule: "Mutating operational surfaces should accept explicit --id style args; positional may remain as compatibility alias only."

reporting:
  audit_report_prefix: SPINE_SCHEMA_CONVENTIONS_AUDIT
  audit_report_dir: docs/governance/_audits
