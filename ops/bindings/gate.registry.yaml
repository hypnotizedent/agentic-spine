schema_version: '1.0'
updated: '2026-02-14'
description: Canonical gate registry for D1-D89 drift surface. Source of truth for gate metadata.
gate_count:
  total: 89
  active: 88
  retired: 1
categories:
- id: path-hygiene
  description: Path and filesystem constraints
- id: git-hygiene
  description: Git worktree, branch, and remote constraints
- id: ssot-hygiene
  description: SSOT and binding consistency
- id: secrets-hygiene
  description: Secrets and API constraints
- id: doc-hygiene
  description: Documentation and indexing constraints
- id: loop-gap-hygiene
  description: Work registration and traceability
- id: workbench-hygiene
  description: Workbench-specific constraints
- id: infra-hygiene
  description: Infrastructure and service binding checks
- id: agent-surface-hygiene
  description: Agent entry and discovery surfaces
- id: process-hygiene
  description: Operational processes and metadata
- id: retired
  description: Retired/reserved gate slots
gates:
- id: D1
  name: top-level-dirs
  category: path-hygiene
  description: Top-level directory policy (7 allowed dirs)
  severity: high
  check_script: surfaces/verify/drift-gate.sh
  fix_hint: Only bin/ docs/ fixtures/ mailroom/ ops/ receipts/ surfaces/ allowed at top level. Remove or move extra directories.
  inline: true
- id: D2
  name: no-runs-trace
  category: path-hygiene
  description: No runs/ directory (traces in receipts/sessions/)
  severity: medium
  check_script: surfaces/verify/drift-gate.sh
  fix_hint: Remove runs/ directory. Execution traces belong in receipts/sessions/.
  inline: true
- id: D3
  name: entrypoint-smoke
  category: process-hygiene
  description: bin/ops preflight must succeed
  severity: critical
  check_script: surfaces/verify/drift-gate.sh
  fix_hint: bin/ops preflight must succeed. Check bin/ops exists and is executable.
  inline: true
- id: D4
  name: watcher
  category: process-hygiene
  description: LaunchAgent com.ronny.agent-inbox loaded and running
  severity: low
  check_script: surfaces/verify/drift-gate.sh
  inline: true
  warn_only: true
- id: D5
  name: no-legacy-coupling
  category: path-hygiene
  description: No ~/agent or $HOME/agent references in runtime scripts
  severity: high
  check_script: surfaces/verify/drift-gate.sh
  fix_hint: Replace ~/agent or $HOME/agent references with mailroom/ paths. Legacy coupling is forbidden.
  inline: true
- id: D6
  name: receipts-exist
  category: process-hygiene
  description: Latest 5 receipt dirs have receipt.md
  severity: medium
  check_script: surfaces/verify/drift-gate.sh
  fix_hint: Ensure receipt.md exists in latest receipt dirs. Capabilities auto-generate receipts.
  inline: true
- id: D7
  name: executables-bounded
  category: path-hygiene
  description: Shell scripts only in bin/, ops/, surfaces/verify/
  severity: high
  check_script: surfaces/verify/drift-gate.sh
  fix_hint: Shell scripts only allowed in bin/, ops/, surfaces/verify/. Move or remove out-of-bounds .sh files.
  inline: true
- id: D8
  name: no-backup-clutter
  category: path-hygiene
  description: No .bak or fix_bak files in bin/ or ops/
  severity: low
  check_script: surfaces/verify/drift-gate.sh
  fix_hint: Remove .bak and fix_bak files from bin/ and ops/. These are accidental leftovers.
  inline: true
- id: D9
  name: receipt-stamps
  category: process-hygiene
  description: Latest receipt has required fields (Run ID, Generated, Status, Model, Inputs, Outputs)
  severity: medium
  check_script: surfaces/verify/drift-gate.sh
  inline: true
- id: D10
  name: logs-under-mailroom
  category: path-hygiene
  description: No spurious $SPINE/logs directory (must be mailroom/logs)
  severity: medium
  check_script: surfaces/verify/drift-gate.sh
  fix_hint: Move or remove $SPINE/logs. Logs belong under mailroom/logs/.
  inline: true
- id: D11
  name: home-surface
  category: path-hygiene
  description: ~/agent must be symlink to agentic-spine/mailroom (if exists)
  severity: medium
  check_script: surfaces/verify/drift-gate.sh
  fix_hint: 'If ~/agent exists it must be a symlink to agentic-spine/mailroom. Fix: ln -sf ~/code/agentic-spine/mailroom ~/agent'
  inline: true
- id: D12
  name: core-lock-exists
  category: doc-hygiene
  description: docs/core/CORE_LOCK.md repo validity marker exists
  severity: critical
  check_script: surfaces/verify/drift-gate.sh
  fix_hint: docs/core/CORE_LOCK.md is the repo validity marker. Restore it if deleted.
  inline: true
- id: D13
  name: api-capability-preconditions
  category: secrets-hygiene
  description: API capability secrets preconditions enforced
  severity: high
  check_script: surfaces/verify/api-preconditions.sh
  fix_hint: Run secrets.binding and secrets.auth.status before API-touching capabilities.
- id: D14
  name: cloudflare-drift-gate
  category: infra-hygiene
  description: Cloudflare surface drift (no legacy smells)
  severity: medium
  check_script: surfaces/verify/cloudflare-drift-gate.sh
  fix_hint: Check Cloudflare SSOT docs for legacy references. Update or remove stale entries.
- id: D15
  name: github-actions-drift-gate
  category: infra-hygiene
  description: GitHub Actions surface drift (no legacy smells, no leaked secrets)
  severity: medium
  check_script: surfaces/verify/github-actions-gate.sh
  fix_hint: Check .github/workflows/ for legacy patterns. No leaked secrets in workflow files.
- id: D16
  name: docs-quarantine
  category: doc-hygiene
  description: No competing truth documents in docs/governance/
  severity: high
  check_script: surfaces/verify/d16-docs-quarantine.sh
  fix_hint: Remove competing truth documents. Only one canonical doc per topic in docs/governance/.
- id: D17
  name: root-allowlist
  category: path-hygiene
  description: No agents/, _imports/, or drift magnets at repo root
  severity: high
  check_script: surfaces/verify/d17-root-allowlist.sh
  fix_hint: Remove unexpected files/dirs from repo root. Only allowlisted entries permitted.
- id: D18
  name: docker-compose-drift
  category: infra-hygiene
  description: Docker compose references match SSOT
  severity: medium
  check_script: surfaces/verify/d18-docker-compose-drift.sh
  fix_hint: Update docker compose references to match SSOT. Remove legacy service names.
- id: D19
  name: backup-drift
  category: infra-hygiene
  description: Backup surface inventory, no legacy smells, no secret printing
  severity: medium
  check_script: surfaces/verify/d19-backup-drift.sh
  fix_hint: Check backup SSOT for stale entries. No secret printing in backup scripts.
- id: D20
  name: secrets-drift
  category: secrets-hygiene
  description: Secrets configuration drift (verbose subcheck)
  severity: high
  check_script: surfaces/verify/d20-secrets-drift.sh
  fix_hint: Review secrets configuration. Ensure Infisical CLI is installed and configured.
  verbose_only: true
  composite_parent: D55
- id: D21
  name: reserved
  category: retired
  description: Retired — was agent-entry-surface-lock, merged into D56
  severity: none
  retired: true
- id: D22
  name: nodes-drift
  category: infra-hygiene
  description: SSH node references match DEVICE_IDENTITY_SSOT
  severity: medium
  check_script: surfaces/verify/d22-nodes-drift.sh
  fix_hint: Update SSH node references to match DEVICE_IDENTITY_SSOT.yaml current IPs.
- id: D23
  name: health-drift
  category: infra-hygiene
  description: Service health endpoints match SERVICE_REGISTRY
  severity: medium
  check_script: surfaces/verify/d23-health-drift.sh
  fix_hint: Check service health endpoints match SERVICE_REGISTRY.yaml. No auth credentials in health checks.
- id: D24
  name: github-labels-drift
  category: infra-hygiene
  description: GitHub labels match governance
  severity: low
  check_script: surfaces/verify/d24-github-labels-drift.sh
  fix_hint: Sync GitHub labels with label governance. Run via gh CLI.
- id: D25
  name: secrets-cli-canonical-lock
  category: secrets-hygiene
  description: Infisical CLI only, no legacy vault patterns (verbose subcheck)
  severity: high
  check_script: surfaces/verify/d25-secrets-cli-canonical-lock.sh
  fix_hint: Use infisical CLI only (no legacy vault patterns). Check capabilities.yaml for correct paths.
  verbose_only: true
  composite_parent: D55
- id: D26
  name: agent-read-surface
  category: agent-surface-hygiene
  description: Agent read surfaces (AGENTS.md, CLAUDE.md) not stale (verbose subcheck)
  severity: medium
  check_script: surfaces/verify/d26-agent-read-surface.sh
  fix_hint: Check agent read surfaces (AGENTS.md, CLAUDE.md) for stale references.
  verbose_only: true
  composite_parent: D56
- id: D27
  name: fact-duplication-lock
  category: doc-hygiene
  description: No raw IPs/ports in no-fact docs
  severity: high
  check_script: surfaces/verify/d27-fact-duplication-lock.sh
  fix_hint: Remove raw IPs/ports from no-fact docs. Reference SSOT docs instead of duplicating facts.
- id: D28
  name: legacy-path-lock
  category: path-hygiene
  description: Active legacy absolute paths + extraction queue contract
  severity: medium
  check_script: surfaces/verify/d28-legacy-path-lock.sh
  fix_hint: Replace legacy absolute paths with ~/code/ relative paths. Check archive queue.
- id: D29
  name: active-entrypoint-lock
  category: process-hygiene
  description: LaunchD/cron entries use ~/code/ paths, not legacy locations
  severity: high
  check_script: surfaces/verify/d29-active-entrypoint-lock.sh
  fix_hint: Ensure launchd/cron entries use ~/code/agentic-spine paths, not legacy locations.
- id: D30
  name: active-config-lock
  category: path-hygiene
  description: No legacy config references or plaintext tokens in active configs
  severity: high
  check_script: surfaces/verify/d30-active-config-lock.sh
  fix_hint: Remove legacy config references and plaintext tokens from active configs.
- id: D31
  name: home-output-sink-lock
  category: path-hygiene
  description: No log/out/err files at home root
  severity: medium
  check_script: surfaces/verify/d31-home-output-sink-lock.sh
  fix_hint: Move log/out/err files from ~/ to project paths. No home-root output sinks.
- id: D32
  name: codex-instruction-source-lock
  category: agent-surface-hygiene
  description: AGENTS.md points to spine governance (verbose subcheck)
  severity: medium
  check_script: surfaces/verify/d32-codex-instruction-source-lock.sh
  fix_hint: Ensure AGENTS.md points to spine governance, not external sources.
  verbose_only: true
  composite_parent: D56
- id: D33
  name: extraction-pause-lock
  category: process-hygiene
  description: Extraction must stay paused during stabilization
  severity: medium
  check_script: surfaces/verify/d33-extraction-pause-lock.sh
  fix_hint: Extraction must stay paused during stabilization. Do not resume without operator approval.
- id: D34
  name: loop-ledger-integrity-lock
  category: loop-gap-hygiene
  description: Loop summary matches deduped counts
  severity: high
  check_script: surfaces/verify/d34-loop-ledger-integrity-lock.sh
  fix_hint: Check loop scope files match deduped counts. Run loops.reconcile if stale.
- id: D35
  name: infra-relocation-parity-lock
  category: infra-hygiene
  description: Cross-SSOT consistency for service relocations
  severity: high
  check_script: surfaces/verify/d35-infra-relocation-parity-lock.sh
  fix_hint: 'Update all SSOTs when relocating services: DEVICE_IDENTITY, SERVICE_REGISTRY, SSH config.'
- id: D36
  name: legacy-exception-hygiene-lock
  category: process-hygiene
  description: Stale/near-expiry legacy exceptions flagged
  severity: low
  check_script: surfaces/verify/d36-legacy-exception-hygiene-lock.sh
  fix_hint: Review stale or near-expiry legacy exceptions. Remove expired ones.
- id: D37
  name: infra-placement-policy-lock
  category: infra-hygiene
  description: Infra placement matches governance policy (verbose subcheck)
  severity: medium
  check_script: surfaces/verify/d37-infra-placement-policy-lock.sh
  fix_hint: Check infra placement against governance policy. Verify VM/host assignments.
  verbose_only: true
  composite_parent: D57
- id: D38
  name: extraction-hygiene-lock
  category: process-hygiene
  description: EXTRACTION_PROTOCOL.md compliance
  severity: medium
  check_script: surfaces/verify/d38-extraction-hygiene-lock.sh
  fix_hint: Check EXTRACTION_PROTOCOL.md compliance. Extraction queue must be clean.
- id: D39
  name: infra-hypervisor-identity-lock
  category: infra-hygiene
  description: Hypervisor identity entries match live infrastructure (verbose subcheck)
  severity: medium
  check_script: surfaces/verify/d39-infra-hypervisor-identity-lock.sh
  fix_hint: Verify hypervisor identity entries match live infrastructure.
  verbose_only: true
  composite_parent: D57
- id: D40
  name: maker-tools-drift
  category: process-hygiene
  description: Maker tools binding validity and script hygiene
  severity: low
  check_script: surfaces/verify/d40-maker-tools-drift.sh
  fix_hint: Check maker tools binding validity. Ensure scripts match inventory.
- id: D41
  name: hidden-root-governance-lock
  category: path-hygiene
  description: Home-root hidden dir inventory + forbidden pattern enforcement
  severity: medium
  check_script: surfaces/verify/d41-hidden-root-governance-lock.sh
  fix_hint: Review ~/. entries against home-root inventory. Remove ungoverned hidden dirs.
- id: D42
  name: code-path-case-lock
  category: path-hygiene
  description: Runtime scripts use lowercase ~/code/ (no ~/Code/)
  severity: high
  check_script: surfaces/verify/d42-code-path-case-lock.sh
  fix_hint: Use lowercase ~/code/ in all paths. Check bin/, ops/, surfaces/verify/*.sh and capabilities.yaml.
- id: D43
  name: secrets-namespace-lock
  category: secrets-hygiene
  description: Secrets namespace policy + capability wiring
  severity: high
  check_script: surfaces/verify/d43-secrets-namespace-lock.sh
  fix_hint: Use governed namespace for secrets. Check ops/bindings/secrets.namespace.yaml.
- id: D44
  name: cli-tools-discovery-lock
  category: process-hygiene
  description: CLI tools inventory + cross-refs + probes
  severity: low
  check_script: surfaces/verify/d44-cli-tools-discovery-lock.sh
  fix_hint: Update cli.tools.inventory.yaml to match installed tools. Run tool probes.
- id: D45
  name: naming-consistency-lock
  category: process-hygiene
  description: Cross-file identity surface verification
  severity: medium
  check_script: surfaces/verify/d45-naming-consistency-lock.sh
  fix_hint: Fix cross-file naming inconsistencies. Check identity surfaces for drift.
- id: D46
  name: claude-instruction-source-lock
  category: agent-surface-hygiene
  description: ~/.claude/CLAUDE.md is redirect shim only (verbose subcheck)
  severity: high
  check_script: surfaces/verify/d46-claude-instruction-source-lock.sh
  fix_hint: Ensure ~/.claude/CLAUDE.md is a redirect shim only. Governance lives in spine.
  verbose_only: true
  composite_parent: D56
- id: D47
  name: brain-surface-path-lock
  category: path-hygiene
  description: No legacy brain surface path in runtime scripts (must be docs/brain/)
  severity: medium
  check_script: surfaces/verify/d47-brain-surface-path-lock.sh
  fix_hint: Use docs/brain/ path in runtime scripts. D47 enforces path governance.
- id: D48
  name: codex-worktree-hygiene
  category: git-hygiene
  description: Detect stale/orphaned/detached/dirty worktrees and orphaned stashes
  severity: high
  check_script: surfaces/verify/d48-codex-worktree-hygiene.sh
  fix_hint: 'Clean up stale/orphaned worktrees. Run: ops close loop <LOOP_ID> for merged branches.'
- id: D49
  name: agent-discovery-lock
  category: agent-surface-hygiene
  description: agents.registry.yaml + agent contracts valid
  severity: medium
  check_script: surfaces/verify/d49-agent-discovery-lock.sh
  fix_hint: Update ops/bindings/agents.registry.yaml. All domain agents must be registered.
- id: D50
  name: gitea-ci-workflow-lock
  category: infra-hygiene
  description: CI workflow file references drift-gate.sh correctly
  severity: medium
  check_script: surfaces/verify/d50-gitea-ci-workflow-lock.sh
  fix_hint: Ensure .gitea/workflows/ CI config references drift-gate.sh correctly.
- id: D51
  name: caddy-proto-lock
  category: infra-hygiene
  description: X-Forwarded-Proto on all Authentik upstreams in Caddy
  severity: medium
  check_script: surfaces/verify/d51-caddy-proto-lock.sh
  fix_hint: Add X-Forwarded-Proto header to all Authentik upstreams in Caddy config.
- id: D52
  name: udr6-gateway-assertion
  category: infra-hygiene
  description: Shop SSOT docs reference correct gateway network
  severity: low
  check_script: surfaces/verify/d52-udr6-gateway-assertion.sh
  fix_hint: Ensure shop SSOT docs reference correct gateway for UDR6 network.
- id: D53
  name: change-pack-integrity-lock
  category: process-hygiene
  description: Change pack template + sequencing + companion files
  severity: medium
  check_script: surfaces/verify/d53-change-pack-integrity-lock.sh
  fix_hint: Check change pack template, sequencing, and companion files. Fix missing items.
- id: D54
  name: ssot-ip-parity-lock
  category: ssot-hygiene
  description: Device identity ↔ shop server ↔ bindings IP consistency
  severity: high
  check_script: surfaces/verify/d54-ssot-ip-parity-lock.sh
  fix_hint: Ensure IPs match across DEVICE_IDENTITY, shop server SSOT, and bindings.
- id: D55
  name: secrets-runtime-readiness-lock
  category: secrets-hygiene
  description: 'Composite: secrets binding + CLI + auth readiness'
  severity: high
  check_script: surfaces/verify/d55-secrets-runtime-readiness-lock.sh
  fix_hint: Run secrets.binding then secrets.auth.status before API work.
  composite_of:
  - D20
  - D25
- id: D56
  name: agent-entry-surface-lock
  category: agent-surface-hygiene
  description: 'Composite: agent read surface + codex/claude instruction source'
  severity: high
  check_script: surfaces/verify/d56-agent-entry-surface-lock.sh
  fix_hint: Run ops/hooks/sync-agent-surfaces.sh to sync agent entry surfaces.
  composite_of:
  - D26
  - D32
  - D46
- id: D57
  name: infra-identity-cohesion-lock
  category: infra-hygiene
  description: 'Composite: infra placement + hypervisor identity'
  severity: medium
  check_script: surfaces/verify/d57-infra-identity-cohesion-lock.sh
  fix_hint: Ensure infra identity is consistent across all SSOTs and bindings.
  composite_of:
  - D37
  - D39
- id: D58
  name: ssot-freshness-lock
  category: ssot-hygiene
  description: last_reviewed/last_verified dates enforced (max 21 days)
  severity: high
  check_script: surfaces/verify/d58-ssot-freshness-lock.sh
  fix_hint: Update last_reviewed/last_verified dates on stale SSOTs (max 21 days).
- id: D59
  name: cross-registry-completeness-lock
  category: ssot-hygiene
  description: Bidirectional host coverage between registries
  severity: medium
  check_script: surfaces/verify/d59-cross-registry-completeness-lock.sh
  fix_hint: Ensure bidirectional host coverage between registries.
- id: D60
  name: deprecation-sweeper
  category: process-hygiene
  description: Known deprecated terms in governance docs
  severity: medium
  check_script: surfaces/verify/d60-deprecation-sweeper.sh
  fix_hint: Replace deprecated terms in governance docs. Check ops/bindings/deprecated.terms.yaml.
- id: D61
  name: session-loop-traceability-lock
  category: loop-gap-hygiene
  description: Session closeout freshness (every 48h)
  severity: medium
  check_script: surfaces/verify/d61-session-loop-traceability-lock.sh
  fix_hint: Run agent.session.closeout. Sessions require closeout every 48h.
- id: D62
  name: git-remote-parity-lock
  category: git-hygiene
  description: origin/main == github/main
  severity: high
  check_script: surfaces/verify/d62-git-remote-parity-lock.sh
  fix_hint: 'Push to both origin (Gitea) and github: git push origin main && git push github main.'
- id: D63
  name: capabilities-metadata-lock
  category: process-hygiene
  description: Registry integrity (API caps need touches_api + requires)
  severity: high
  check_script: surfaces/verify/d63-capabilities-metadata-lock.sh
  fix_hint: Fix capabilities.yaml metadata. API caps need touches_api + requires fields.
- id: D64
  name: git-remote-authority-warn
  category: git-hygiene
  description: Gitea is canonical, GitHub is mirror only
  severity: low
  check_script: surfaces/verify/d64-git-remote-authority-warn.sh
  fix_hint: Gitea is canonical remote. Do not merge PRs on GitHub directly.
- id: D65
  name: agent-briefing-sync-lock
  category: agent-surface-hygiene
  description: AGENTS.md + CLAUDE.md governance brief matches canonical source
  severity: critical
  check_script: surfaces/verify/d65-agent-briefing-sync-lock.sh
  fix_hint: Run ops/hooks/sync-agent-surfaces.sh after editing AGENT_GOVERNANCE_BRIEF.md.
- id: D66
  name: mcp-server-parity-gate
  category: agent-surface-hygiene
  description: Local MCP agents vs MCPJungle copies in sync
  severity: medium
  check_script: surfaces/verify/d66-mcp-parity-gate.sh
  fix_hint: Sync MCP server copies between local agents and MCPJungle.
- id: D67
  name: capability-map-lock
  category: process-hygiene
  description: capability_map.yaml covers all entries in capabilities.yaml
  severity: high
  check_script: surfaces/verify/d67-capability-map-lock.sh
  fix_hint: Update ops/bindings/capability_map.yaml to cover all entries in capabilities.yaml.
- id: D68
  name: rag-canonical-only-gate
  category: doc-hygiene
  description: RAG manifest excludes non-canonical paths
  severity: medium
  check_script: surfaces/verify/d68-rag-canonical-only-gate.sh
  fix_hint: Remove non-canonical paths from RAG manifest. Exclude _audits/, _archived/, legacy/.
- id: D69
  name: vm-creation-governance-lock
  category: infra-hygiene
  description: New VMs need SSH + SERVICE_REGISTRY + backup + health entries
  severity: high
  check_script: surfaces/verify/d69-vm-creation-governance-lock.sh
  fix_hint: New VMs need entries in SSH config, SERVICE_REGISTRY, backup, and health checks.
- id: D70
  name: secrets-deprecated-alias-lock
  category: secrets-hygiene
  description: Deprecated secret project write protection
  severity: medium
  check_script: surfaces/verify/d70-secrets-deprecated-alias-lock.sh
  fix_hint: Do not write to deprecated secret projects. Use current namespace.
- id: D71
  name: deprecated-ref-allowlist-lock
  category: process-hygiene
  description: Workbench scripts vs deprecated reference allowlist
  severity: low
  check_script: surfaces/verify/d71-deprecated-ref-allowlist-lock.sh
  fix_hint: Add legitimate legacy refs to allowlist, or replace with current names.
- id: D72
  name: macbook-hotkey-ssot-lock
  category: workbench-hygiene
  description: Workbench launcher surfaces match spine MACBOOK_SSOT AUTO blocks
  severity: medium
  check_script: surfaces/verify/d72-macbook-hotkey-ssot-lock.sh
  fix_hint: Sync workbench launcher surfaces with spine MACBOOK_SSOT AUTO blocks.
- id: D73
  name: opencode-governed-entry-lock
  category: workbench-hygiene
  description: OpenCode config model/provider/launcher path correct
  severity: medium
  check_script: surfaces/verify/d73-opencode-governed-entry-lock.sh
  fix_hint: Ensure opencode.json uses model openai/glm-5 and launcher path is correct.
- id: D74
  name: billing-provider-lane-lock
  category: workbench-hygiene
  description: Background defaults + launchd template invariants
  severity: medium
  check_script: surfaces/verify/d74-billing-provider-lane-lock.sh
  fix_hint: Check ZAI_MODEL=glm-5 in launchd template and background defaults.
- id: D75
  name: gap-registry-mutation-lock
  category: loop-gap-hygiene
  description: operational.gaps.yaml mutated only via capabilities
  severity: critical
  check_script: surfaces/verify/d75-gap-registry-mutation-lock.sh
  fix_hint: Use gaps.file/gaps.close capabilities only. No direct edits to operational.gaps.yaml.
- id: D76
  name: home-surface-hygiene-lock
  category: workbench-hygiene
  description: Home directory drift prevention
  severity: medium
  check_script: surfaces/verify/d76-home-surface-hygiene-lock.sh
  fix_hint: Check home directory for drift. Remove ungoverned files per home-surface policy.
- id: D77
  name: workbench-contract-lock
  category: workbench-hygiene
  description: Plist/runtime/bare-exec enforcement
  severity: medium
  check_script: surfaces/verify/d77-workbench-contract-lock.sh
  fix_hint: Fix workbench plist/runtime/bare-exec contract violations.
- id: D78
  name: workbench-path-lock
  category: workbench-hygiene
  description: No uppercase /Code/ + no legacy repo name in workbench
  severity: high
  check_script: surfaces/verify/d78-workbench-path-lock.sh
  fix_hint: Use lowercase ~/code/ in workbench scripts. Remove legacy repo name references.
- id: D79
  name: workbench-script-allowlist-lock
  category: workbench-hygiene
  description: Governed workbench script surface
  severity: medium
  check_script: surfaces/verify/d79-workbench-script-allowlist-lock.sh
  fix_hint: Add new workbench scripts to allowlist or remove ungoverned ones.
- id: D80
  name: workbench-authority-trace-lock
  category: workbench-hygiene
  description: Legacy naming violations in workbench
  severity: medium
  check_script: surfaces/verify/d80-workbench-authority-trace-lock.sh
  fix_hint: Fix legacy naming violations in workbench. Use current repo/project names.
- id: D81
  name: plugin-test-regression-lock
  category: process-hygiene
  description: New plugins must have tests or explicit exemption
  severity: medium
  check_script: surfaces/verify/d81-plugin-test-regression-lock.sh
  fix_hint: New plugins must have tests/ dir with test scripts, or an explicit exemption.
- id: D82
  name: share-publish-governance-lock
  category: process-hygiene
  description: Share publish allowlist/denylist + capability wiring
  severity: medium
  check_script: surfaces/verify/d82-share-publish-governance-lock.sh
  fix_hint: Check share publish allowlist/denylist. Ensure capability wiring is correct.
- id: D83
  name: proposal-queue-health-lock
  category: loop-gap-hygiene
  description: Proposal manifest + fields + SLA + parity
  severity: high
  check_script: surfaces/verify/d83-proposal-queue-health-lock.sh
  fix_hint: Fix malformed proposal manifests. Check status, required fields, SLA compliance.
- id: D84
  name: docs-index-registration-lock
  category: doc-hygiene
  description: Every governance .md registered in _index.yaml
  severity: medium
  check_script: surfaces/verify/d84-docs-index-registration-lock.sh
  fix_hint: Register new governance .md files in docs/governance/_index.yaml.
- id: D85
  name: gate-registry-parity-lock
  category: process-hygiene
  description: gate.registry.yaml covers every gate in drift-gate.sh, all scripts exist
  severity: high
  check_script: surfaces/verify/d85-gate-registry-parity-lock.sh
  fix_hint: Update ops/bindings/gate.registry.yaml to match gate scripts in surfaces/verify/.
- id: D86
  name: vm-operating-profile-parity-lock
  category: infra-hygiene
  description: Every active VM in vm.lifecycle.yaml has a valid operating profile entry
  severity: medium
  check_script: surfaces/verify/d86-vm-operating-profile-parity-lock.sh
  fix_hint: Update ops/bindings/vm.operating.profile.yaml to cover all active VMs with valid enum fields.
- id: D87
  name: rag-workspace-contract-lock
  category: infra-hygiene
  description: RAG workspace contract binding exists and is consistent with CLI defaults
  severity: medium
  check_script: surfaces/verify/d87-rag-workspace-contract-lock.sh
  fix_hint: Update ops/bindings/rag.workspace.contract.yaml to match RAG CLI defaults for slug, eligible roots, exclusions, and timeouts.
- id: D88
  name: rag-remote-reindex-governance-lock
  category: infra-hygiene
  description: RAG remote reindex runner binding, scripts, capability wiring, and auth-token hygiene are enforced
  severity: high
  check_script: surfaces/verify/d88-rag-remote-reindex-governance-lock.sh
  fix_hint: Ensure rag.remote.runner binding exists, rag.reindex.remote.* capabilities are wired, scripts are executable, and rag CLI does not pass bearer token in process args.
- id: D89
  name: rag-reindex-quality-contract-lock
  category: infra-hygiene
  description: RAG reindex quality contract binding exists with required thresholds and verify/probe capabilities are registered
  severity: high
  check_script: surfaces/verify/d89-rag-reindex-quality-contract-lock.sh
  fix_hint: Ensure rag.reindex.quality.yaml binding exists with completion/index_health/dependency_slos fields and rag.reindex.remote.verify + rag.remote.dependency.probe capabilities are registered.
