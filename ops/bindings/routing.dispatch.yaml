---
status: generated
owner: '@ronny'
last_verified: '2026-02-22'
scope: routing-dispatch
version: '2.0'
generated_at: '2026-02-22T22:23:24Z'
generated_by: bin/generators/gen-terminal-worker-runtime-v2.py
generated_from:
- ops/capabilities.yaml
- ops/bindings/agents.registry.yaml
- ops/bindings/terminal.worker.catalog.yaml
dispatch:
  agent.health.check-all:
    capability_id: agent.health.check-all
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: agent
      script: agent-health-check-all
      command: ./ops/plugins/agent/bin/agent-health-check-all
    agent_id: null
    terminal_affinity: []
    description: Probe configured agent endpoints and return aggregate health for
      strict task-claim preflight.
  agent.info:
    capability_id: agent.info
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: agent
      script: agent-info
      command: ./ops/plugins/agent/bin/agent-info
    agent_id: null
    terminal_affinity: []
    description: Show machine-queryable registry details for an agent ID (mcp_tools,
      capabilities, write_scope, gates, endpoints).
  agent.route:
    capability_id: agent.route
    domain: core
    execution_target: agent
    safety: read-only
    approval: auto
    target:
      router: ops/plugins/agent/bin/agent-route
      command: ./ops/plugins/agent/bin/agent-route
    agent_id: null
    terminal_affinity: []
    description: Route a domain keyword to the correct agent (deterministic lookup
      from agents.registry.yaml)
  agent.session.closeout:
    capability_id: agent.session.closeout
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: audit
      script: agent-session-closeout
      command: ./ops/plugins/audit/bin/agent-session-closeout
    agent_id: null
    terminal_affinity: []
    description: Cross-ref recent sessions against open loops; report actionable/stale/blocked
      status
  agent.tools:
    capability_id: agent.tools
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: agent
      script: agent-tools
      command: ./ops/plugins/agent/bin/agent-tools
    agent_id: null
    terminal_affinity: []
    description: Show tool/capability surface for an agent ID from agents.registry.yaml.
  alerting.dispatch:
    capability_id: alerting.dispatch
    domain: alerting
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: alerting
      script: alerting-dispatch
      command: ./ops/plugins/alerting/bin/alerting-dispatch
    agent_id: null
    terminal_affinity: []
    description: Evaluate snapshot status against alerting rules and dispatch to configured
      channels.
  alerting.probe:
    capability_id: alerting.probe
    domain: alerting
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: alerting
      script: alerting-probe
      command: ./ops/plugins/alerting/bin/alerting-probe
    agent_id: null
    terminal_affinity: []
    description: Run stability snapshot in JSON mode and stage it for alerting dispatch.
  alerting.status:
    capability_id: alerting.status
    domain: alerting
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: alerting
      script: alerting-status
      command: ./ops/plugins/alerting/bin/alerting-status
    agent_id: null
    terminal_affinity: []
    description: Read-only alerting status dashboard (history + cooldown state).
  aof.bootstrap:
    capability_id: aof.bootstrap
    domain: aof
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: aof
      script: bootstrap-spine.sh
      command: ./ops/plugins/aof/bin/bootstrap-spine.sh
    agent_id: null
    terminal_affinity: []
    description: Seed environment + identity contracts from AOF profile templates
      (mutating)
  aof.contract.acknowledge:
    capability_id: aof.contract.acknowledge
    domain: aof
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: aof
      script: contract-read-check.sh
      subcommand: --ack
      command: ./ops/plugins/aof/bin/contract-read-check.sh --ack
    agent_id: null
    terminal_affinity: []
    description: Create daily AOF contract acknowledgment marker for current workspace
  aof.contract.status:
    capability_id: aof.contract.status
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: aof
      script: contract-read-check.sh
      subcommand: --status
      command: ./ops/plugins/aof/bin/contract-read-check.sh --status
    agent_id: null
    terminal_affinity: []
    description: Show AOF contract acknowledgement status for current workspace
  aof.policy.autotune:
    capability_id: aof.policy.autotune
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: aof
      script: aof-policy-autotune.sh
      command: ./ops/plugins/aof/bin/aof-policy-autotune.sh
    agent_id: null
    terminal_affinity: []
    description: "Weekly gate/check policy autotune advisor \u2014 analyzes governance\
      \ load and recommends knob adjustments"
  aof.policy.show:
    capability_id: aof.policy.show
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: aof
      script: aof-policy-show.sh
      command: ./ops/plugins/aof/bin/aof-policy-show.sh
    agent_id: null
    terminal_affinity: []
    description: Show current policy preset with all 11 knob values and discovery
      chain
  aof.status:
    capability_id: aof.status
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: aof
      script: aof-status.sh
      command: ./ops/plugins/aof/bin/aof-status.sh
    agent_id: null
    terminal_affinity: []
    description: 'AOF health summary: contract state, gates, caps, policy, gaps'
  aof.tenant.show:
    capability_id: aof.tenant.show
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: aof
      script: aof-tenant-show.sh
      command: ./ops/plugins/aof/bin/aof-tenant-show.sh
    agent_id: null
    terminal_affinity: []
    description: Show tenant profile summary (identity, secrets, policy, runtime,
      surfaces)
  aof.validate:
    capability_id: aof.validate
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: aof
      script: validate-environment.sh
      command: ./ops/plugins/aof/bin/validate-environment.sh
    agent_id: null
    terminal_affinity: []
    description: Validate .environment.yaml/.identity.yaml contract structure
  aof.verify:
    capability_id: aof.verify
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: aof
      script: aof-verify.sh
      command: ./ops/plugins/aof/bin/aof-verify.sh
    agent_id: null
    terminal_affinity: []
    description: Run AOF product gates D91-D97 focused verification
  aof.version:
    capability_id: aof.version
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: aof
      script: aof-version.sh
      command: ./ops/plugins/aof/bin/aof-version.sh
    agent_id: null
    terminal_affinity: []
    description: 'AOF version and contract info: commit, schema, presets, gate version'
  audit.export.governance_iac:
    capability_id: audit.export.governance_iac
    domain: audit
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: audit
      script: audit-export
      command: ./ops/plugins/audit/bin/audit-export
    agent_id: null
    terminal_affinity: []
    description: Export repo tree + governance/IaC significant file contents for spine
      + workbench (redacted)
  authority.project.bootstrap:
    capability_id: authority.project.bootstrap
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: authority
      script: project-governance-bootstrap
      command: ./ops/plugins/authority/bin/project-governance-bootstrap
    agent_id: null
    terminal_affinity: []
    description: Bootstrap/align a product repo to spine governance baseline (dry-run
      by default, --execute to mutate).
  authority.project.status:
    capability_id: authority.project.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: authority
      script: project-governance-status
      command: ./ops/plugins/authority/bin/project-governance-status
    agent_id: null
    terminal_affinity: []
    description: 'Read-only check: verify a product repo follows spine project-governance
      baseline.'
  automation.stack.latency.status:
    capability_id: automation.stack.latency.status
    domain: observability
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: automation-stack-latency-status
      command: ./ops/plugins/observability/bin/automation-stack-latency-status
    agent_id: null
    terminal_affinity: []
    description: Repeated-sample latency budget status for automation-stack endpoints
      + n8n quick probe timing.
  backup.calendar.generate:
    capability_id: backup.calendar.generate
    domain: backup
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: backup
      script: backup-calendar-generate
      command: ./ops/plugins/backup/bin/backup-calendar-generate
    agent_id: null
    terminal_affinity: []
    description: Generate ICS calendar from backup schedule binding (iPhone-subscribeable).
  backup.status:
    capability_id: backup.status
    domain: backup
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: backup
      script: backup-status
      command: ./ops/plugins/backup/bin/backup-status
    agent_id: null
    terminal_affinity: []
    description: Read-only backup inventory status (file_glob only, freshness + reason
      codes).
  backup.vzdump.prune:
    capability_id: backup.vzdump.prune
    domain: backup
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: backup
      script: backup-vzdump-prune
      command: ./ops/plugins/backup/bin/backup-vzdump-prune
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: prune vzdump backups on pve storage (dry-run by default;
      use --execute).'
  backup.vzdump.run:
    capability_id: backup.vzdump.run
    domain: backup
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: backup
      script: backup-vzdump-run
      command: ./ops/plugins/backup/bin/backup-vzdump-run
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: trigger vzdump run on pve for selected VMIDs (dry-run
      by default).'
  backup.vzdump.status:
    capability_id: backup.vzdump.status
    domain: backup
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: backup
      script: backup-vzdump-status
      command: ./ops/plugins/backup/bin/backup-vzdump-status
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: show vzdump job config and latest vzdump artifacts on
      pve.'
  backup.vzdump.vmid.set:
    capability_id: backup.vzdump.vmid.set
    domain: backup
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: backup
      script: backup-vzdump-vmid-set
      command: ./ops/plugins/backup/bin/backup-vzdump-vmid-set
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: update vmid list for vzdump job in /etc/pve/jobs.cfg (dry-run
      by default).'
  budget.check:
    capability_id: budget.check
    domain: budget
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: budget
      script: budget
      command: ./ops/plugins/budget/bin/budget
    agent_id: null
    terminal_affinity: []
    description: Check token budget against a receipt (read-only diagnostic).
  calendar.generate:
    capability_id: calendar.generate
    domain: ms-graph
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: calendar
      script: calendar-generate
      command: ./ops/plugins/calendar/bin/calendar-generate
    agent_id: null
    terminal_affinity: []
    description: Generate canonical global/per-layer ICS artifacts from calendar.global
      binding.
  calendar.status:
    capability_id: calendar.status
    domain: ms-graph
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: calendar
      script: calendar-status
      command: ./ops/plugins/calendar/bin/calendar-status
    agent_id: null
    terminal_affinity: []
    description: Validate calendar.global binding and report generated artifact freshness.
  calendar.surface.audit:
    capability_id: calendar.surface.audit
    domain: ms-graph
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: calendar-surface-audit
      command: ./ops/plugins/verify/bin/calendar-surface-audit
    agent_id: null
    terminal_affinity: []
    description: Run canonical calendar surface audit (calendar+graph+backup+AOF control-plane
      matrix) and emit certification report.
  calendar.sync.execute:
    capability_id: calendar.sync.execute
    domain: ms-graph
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: calendar
      script: calendar-sync-execute
      command: ./ops/plugins/calendar/bin/calendar-sync-execute
    agent_id: null
    terminal_affinity: []
    description: Mutating calendar sync executor with lock/state/idempotency contract
      for spine/external authority lanes.
  calendar.sync.plan:
    capability_id: calendar.sync.plan
    domain: ms-graph
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: calendar
      script: calendar-sync-plan
      command: ./ops/plugins/calendar/bin/calendar-sync-plan
    agent_id: null
    terminal_affinity: []
    description: 'Read-only planner: output intended calendar pull/push actions using
      graph.calendar contracts.'
  catalog.domain.sync:
    capability_id: catalog.domain.sync
    domain: catalog
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: catalog-domain-sync
      command: ./ops/plugins/docs/bin/catalog-domain-sync
    agent_id: null
    terminal_affinity: []
    description: Sync domain-scoped capability catalogs from capabilities registry
      into docs/governance/domains.
  cloudflare.dns.status:
    capability_id: cloudflare.dns.status
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: cloudflare
      script: cloudflare-dns-status
      command: ./ops/plugins/cloudflare/bin/cloudflare-dns-status
    agent_id: null
    terminal_affinity: []
    description: DNS record counts per bound zone (read-only).
  cloudflare.domain_routing.diff:
    capability_id: cloudflare.domain_routing.diff
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: cloudflare
      script: cloudflare-domain-routing-diff
      command: ./ops/plugins/cloudflare/bin/cloudflare-domain-routing-diff
    agent_id: null
    terminal_affinity: []
    description: Diff Cloudflare tunnel ingress hostnames vs DOMAIN_ROUTING_REGISTRY
      (routing_layer=cloudflare_tunnel).
  cloudflare.inventory.sync:
    capability_id: cloudflare.inventory.sync
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: cloudflare
      script: cloudflare-inventory-sync
      command: ./ops/plugins/cloudflare/bin/cloudflare-inventory-sync
    agent_id: null
    terminal_affinity: []
    description: Verify cloudflare.inventory metadata matches live zones/tunnels.
  cloudflare.status:
    capability_id: cloudflare.status
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: cloudflare
      script: cloudflare-status
      command: ./ops/plugins/cloudflare/bin/cloudflare-status
    agent_id: null
    terminal_affinity: []
    description: Read-only Cloudflare status (zones + DNS record counts; no values).
  cloudflare.tunnel.ingress.status:
    capability_id: cloudflare.tunnel.ingress.status
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: cloudflare
      script: cloudflare-tunnel-ingress-status
      command: ./ops/plugins/cloudflare/bin/cloudflare-tunnel-ingress-status
    agent_id: null
    terminal_affinity: []
    description: Export Cloudflare tunnel ingress rules (hostname -> service).
  cloudflare.tunnel.status:
    capability_id: cloudflare.tunnel.status
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: cloudflare
      script: cloudflare-tunnel-status
      command: ./ops/plugins/cloudflare/bin/cloudflare-tunnel-status
    agent_id: null
    terminal_affinity: []
    description: Tunnel inventory + creation timestamps for bound tunnels.
  codex.worktree.status:
    capability_id: codex.worktree.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: d48-codex-worktree-hygiene.sh
      command: ./surfaces/verify/d48-codex-worktree-hygiene.sh
    agent_id: null
    terminal_affinity: []
    description: Check codex worktree hygiene (stale/dirty/orphaned/count).
  communications.alerts.flush:
    capability_id: communications.alerts.flush
    domain: communications
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: communications
      script: communications-alerts-flush
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/communications/bin/communications-alerts-flush
    agent_id: null
    terminal_affinity: []
    description: Manual-approval flush of pending alerting email intents through governed
      communications dispatch pipeline (preview + execute per intent).
  communications.alerts.queue.escalate:
    capability_id: communications.alerts.queue.escalate
    domain: communications
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: communications
      script: communications-alerts-queue-escalate
      command: ./ops/plugins/communications/bin/communications-alerts-queue-escalate
    agent_id: null
    terminal_affinity: []
    description: Governed incident escalation for alert-intent queue SLO breaches
      (mailroom task + proposal skeleton, manual approval, cooldown dedupe).
  communications.alerts.queue.slo.status:
    capability_id: communications.alerts.queue.slo.status
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-alerts-queue-slo-status
      command: ./ops/plugins/communications/bin/communications-alerts-queue-slo-status
    agent_id: null
    terminal_affinity: []
    description: Evaluate alerting email intent queue against SLO thresholds (ok/warn/incident
      with reasons and recommended action).
  communications.alerts.queue.status:
    capability_id: communications.alerts.queue.status
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-alerts-queue-status
      command: ./ops/plugins/communications/bin/communications-alerts-queue-status
    agent_id: null
    terminal_affinity: []
    description: Read-only queue status for pending alerting email intents (counts,
      ages, top intents).
  communications.alerts.runtime.status:
    capability_id: communications.alerts.runtime.status
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-alerts-runtime-status
      command: ./ops/plugins/communications/bin/communications-alerts-runtime-status
    agent_id: null
    terminal_affinity: []
    description: Read-only communications queue + escalation health rollup for watcher/status
      embedding (pending count, SLO status, escalation state, delivery summary).
  communications.delivery.anomaly.dispatch:
    capability_id: communications.delivery.anomaly.dispatch
    domain: communications
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: communications
      script: communications-delivery-anomaly-dispatch
      command: ./ops/plugins/communications/bin/communications-delivery-anomaly-dispatch
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: Manual-approval alert dispatcher for communications delivery anomalies
      (outbox artifact + channel dispatch + cooldown).
  communications.delivery.anomaly.status:
    capability_id: communications.delivery.anomaly.status
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-delivery-anomaly-status
      command: ./ops/plugins/communications/bin/communications-delivery-anomaly-status
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: Read-only anomaly evaluator for communications delivery log (failure/policy/timeouts
      with warn/incident thresholds).
  communications.delivery.log:
    capability_id: communications.delivery.log
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-delivery-log
      command: ./ops/plugins/communications/bin/communications-delivery-log
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: Read-only query surface for normalized communications delivery log
      artifacts.
  communications.mail.search:
    capability_id: communications.mail.search
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-mail-search
      command: ./ops/plugins/communications/bin/communications-mail-search
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: Search WS1 pilot communications mailbox surface (contract catalog
      in simulation; Graph mailbox in live mode).
  communications.mail.send.test:
    capability_id: communications.mail.send.test
    domain: communications
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: communications
      script: communications-mail-send-test
      command: ./ops/plugins/communications/bin/communications-mail-send-test
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: Manual-approval pilot send-test surface (simulation artifact in simulation
      mode; live Graph send in live mode).
  communications.mailboxes.list:
    capability_id: communications.mailboxes.list
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-mailboxes-list
      command: ./ops/plugins/communications/bin/communications-mailboxes-list
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: List WS1 pilot communications mailboxes from contract (read-only).
  communications.policy.status:
    capability_id: communications.policy.status
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-policy-status
      command: ./ops/plugins/communications/bin/communications-policy-status
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: Read-only communications consent/compliance policy status (opt-in,
      quiet-hours, SMS policy).
  communications.provider.status:
    capability_id: communications.provider.status
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-provider-status
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/communications/bin/communications-provider-status
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: Read-only communications provider routing/status surface (Graph +
      Resend + Twilio).
  communications.send.execute:
    capability_id: communications.send.execute
    domain: communications
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: communications
      script: communications-send-execute
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/communications/bin/communications-send-execute
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: Manual-approval transactional execution surface for canonical Resend/Twilio/Graph
      routes (requires preview linkage on --execute; simulation-first with cutover
      phase controls).
  communications.send.preview:
    capability_id: communications.send.preview
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-send-preview
      command: ./ops/plugins/communications/bin/communications-send-preview
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: 'Read-only transactional send planner: resolves provider route, applies
      policy gates, renders message body, and writes preview receipt linkage artifact.'
  communications.stack.status:
    capability_id: communications.stack.status
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-stack-status
      command: ./ops/plugins/communications/bin/communications-stack-status
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: Read-only WS1 communications stack status surface (contract parity
      + live Graph probe in non-simulation mode).
  communications.templates.list:
    capability_id: communications.templates.list
    domain: communications
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: communications
      script: communications-templates-list
      command: ./ops/plugins/communications/bin/communications-templates-list
    agent_id: communications-agent
    terminal_affinity:
    - DOMAIN-COMMS-01
    description: Read-only communications template catalog by channel and message_type.
  docker.compose.down:
    capability_id: docker.compose.down
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: docker
      script: docker-compose-down
      command: ./ops/plugins/docker/bin/docker-compose-down
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: docker compose down for a declared stack.'
  docker.compose.logs:
    capability_id: docker.compose.logs
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: manual
    target:
      plugin: docker
      script: docker-compose-logs
      command: ./ops/plugins/docker/bin/docker-compose-logs
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: docker compose logs for a declared stack (WARNING: may
      include secrets).'
  docker.compose.pull:
    capability_id: docker.compose.pull
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: docker
      script: docker-compose-pull
      command: ./ops/plugins/docker/bin/docker-compose-pull
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: docker compose pull for a declared stack.'
  docker.compose.status:
    capability_id: docker.compose.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docker
      script: docker-compose-status
      command: ./ops/plugins/docker/bin/docker-compose-status
    agent_id: null
    terminal_affinity: []
    description: Read-only docker compose status per stack (no restarts, no deploys).
  docker.compose.up:
    capability_id: docker.compose.up
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: docker
      script: docker-compose-up
      command: ./ops/plugins/docker/bin/docker-compose-up
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: docker compose up -d for a declared stack.'
  docs.brain.freshness:
    capability_id: docs.brain.freshness
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-brain-freshness
      command: ./ops/plugins/docs/bin/docs-brain-freshness
    agent_id: null
    terminal_affinity: []
    description: Audit freshness of docs/brain session context files (age since last_verified).
  docs.freshness.audit:
    capability_id: docs.freshness.audit
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-freshness-audit
      command: ./ops/plugins/docs/bin/docs-freshness-audit
    agent_id: null
    terminal_affinity: []
    description: Audit freshness of authoritative governance docs (age since last_verified).
  docs.frontmatter.lint:
    capability_id: docs.frontmatter.lint
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-frontmatter-lint
      command: ./ops/plugins/docs/bin/docs-frontmatter-lint
    agent_id: null
    terminal_affinity: []
    description: Validate YAML frontmatter structure and required fields in governance
      docs.
  docs.impact.note:
    capability_id: docs.impact.note
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: docs
      script: docs-impact-note
      command: ./ops/plugins/docs/bin/docs-impact-note
    agent_id: null
    terminal_affinity: []
    description: Create an impact-scoped receipt note in the target domain docs and
      cross-link indexes.
  docs.impact.status:
    capability_id: docs.impact.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-impact-status
      command: ./ops/plugins/docs/bin/docs-impact-status
    agent_id: null
    terminal_affinity: []
    description: Validate impact-scoped docs contract (domain runbook + notes dir
      + index per domain).
  docs.index.verify:
    capability_id: docs.index.verify
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-index-verify
      command: ./ops/plugins/docs/bin/docs-index-verify
    agent_id: null
    terminal_affinity: []
    description: Verify bidirectional parity between governance docs on disk and _index.yaml
      registry.
  docs.jd.status:
    capability_id: docs.jd.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-jd-status
      command: ./ops/plugins/docs/bin/docs-jd-status
    agent_id: null
    terminal_affinity: []
    description: 'Verify Johnny Decimal documentation coverage: no duplicate IDs,
      all in-scope docs mapped.'
  docs.legacy.audit:
    capability_id: docs.legacy.audit
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-legacy-audit
      command: ./ops/plugins/docs/bin/docs-legacy-audit
    agent_id: null
    terminal_affinity: []
    description: Detect legacy references (deprecated paths/names) in governance and
      core docs.
  docs.lint:
    capability_id: docs.lint
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-lint
      command: ./ops/plugins/docs/bin/docs-lint
    agent_id: null
    terminal_affinity: []
    description: 'Lint spine docs hierarchy: folder placement, metadata headers, README
      registration, legacy isolation.'
  docs.orphan.detect:
    capability_id: docs.orphan.detect
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-orphan-detect
      command: ./ops/plugins/docs/bin/docs-orphan-detect
    agent_id: null
    terminal_affinity: []
    description: Detect .md files in core/ and governance/ unreachable from docs/README.md.
  docs.sprawl.detect:
    capability_id: docs.sprawl.detect
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-sprawl-detect
      command: ./ops/plugins/docs/bin/docs-sprawl-detect
    agent_id: null
    terminal_affinity: []
    description: 'Report governance doc sprawl metrics: counts by directory and status,
      threshold warnings.'
  docs.status:
    capability_id: docs.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: docs-status
      command: ./ops/plugins/docs/bin/docs-status
    agent_id: null
    terminal_affinity: []
    description: Verify workbench infrastructure docs extraction integrity (file counts
      per dir).
  domain.onboard.new:
    capability_id: domain.onboard.new
    domain: domain
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: verify
      script: domain-onboard-new
      command: ./ops/plugins/verify/bin/domain-onboard-new
    agent_id: null
    terminal_affinity: []
    description: Onboard a new domain into topology/profile/docs contracts atomically.
  evidence.export.plan:
    capability_id: evidence.export.plan
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: evidence
      script: evidence-export-plan
      command: ./ops/plugins/evidence/bin/evidence-export-plan
    agent_id: null
    terminal_affinity: []
    description: Dry-run plan for evidence export and retention (no mutations)
  finance.ronny.action.queue:
    capability_id: finance.ronny.action.queue
    domain: finance
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: finance-ronny-action-queue
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/observability/bin/finance-ronny-action-queue
    agent_id: null
    terminal_affinity: []
    description: Generate deterministic Ronny finance action queue for monthly/quarterly/annual
      handoff cadence.
  finance.stack.status:
    capability_id: finance.stack.status
    domain: finance
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: finance-stack-status
      command: ./ops/plugins/observability/bin/finance-stack-status
    agent_id: finance-agent
    terminal_affinity:
    - DOMAIN-PAPERLESS-01
    - DOMAIN-FINANCE-01
    - DOMAIN-FIREFLY-01
    description: "Finance services health on VM 211 \u2014 Firefly III, Paperless-ngx,\
      \ Ghostfolio, Mail Archiver."
  gaps.aging:
    capability_id: gaps.aging
    domain: loop_gap
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: lifecycle
      script: gaps-aging
      command: ./ops/plugins/lifecycle/bin/gaps-aging
    agent_id: null
    terminal_affinity: []
    description: Report on aging open gaps with configurable warning/critical thresholds.
  gaps.batch.close:
    capability_id: gaps.batch.close
    domain: loop_gap
    execution_target: plugin
    safety: destructive
    approval: manual
    target:
      plugin: lifecycle
      script: gaps-batch-close
      command: ./ops/plugins/lifecycle/bin/gaps-batch-close
    agent_id: null
    terminal_affinity: []
    description: Close all open gaps linked to a loop in one command.
  gaps.claim:
    capability_id: gaps.claim
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: loops
      script: gaps-claim
      command: ./ops/plugins/loops/bin/gaps-claim
    agent_id: null
    terminal_affinity:
    - SPINE-CONTROL-01
    description: Claim a gap for exclusive work. Prevents concurrent agents from working
      on the same gap.
  gaps.close:
    capability_id: gaps.close
    domain: loop_gap
    execution_target: plugin
    safety: destructive
    approval: manual
    target:
      plugin: loops
      script: gaps-close
      command: ./ops/plugins/loops/bin/gaps-close
    agent_id: null
    terminal_affinity:
    - SPINE-CONTROL-01
    description: 'Close or fix a gap. Atomic: acquires git-lock, validates claim,
      updates status, commits.'
  gaps.file:
    capability_id: gaps.file
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: loops
      script: gaps-file
      command: ./ops/plugins/loops/bin/gaps-file
    agent_id: null
    terminal_affinity:
    - SPINE-CONTROL-01
    description: 'Create a new gap entry in the registry. Atomic: acquires git-lock,
      appends, commits.'
  gaps.quick:
    capability_id: gaps.quick
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: lifecycle
      script: gaps-quick
      command: ./ops/plugins/lifecycle/bin/gaps-quick
    agent_id: null
    terminal_affinity: []
    description: One-liner gap filing with auto-generated ID and defaults from lifecycle.rules.yaml.
  gaps.status:
    capability_id: gaps.status
    domain: loop_gap
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: loops
      script: gaps-status
      command: ./ops/plugins/loops/bin/gaps-status
    agent_id: null
    terminal_affinity: []
    description: 'Gap-loop reconciliation: list open gaps, check parent loop status,
      flag orphans.'
  gaps.unclaim:
    capability_id: gaps.unclaim
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: loops
      script: gaps-unclaim
      command: ./ops/plugins/loops/bin/gaps-unclaim
    agent_id: null
    terminal_affinity: []
    description: Release a gap claim. Only the owning process (or stale-recovery)
      can release.
  gate.mutation.trailers:
    capability_id: gate.mutation.trailers
    domain: gate
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: gate-mutation-trailers
      command: ./ops/plugins/verify/bin/gate-mutation-trailers
    agent_id: null
    terminal_affinity: []
    description: Generate D128-compliant Gate-* commit trailers for gate contract
      mutations.
  gate.registry.add:
    capability_id: gate.registry.add
    domain: gate
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: verify
      script: gate-registry-add
      command: ./ops/plugins/verify/bin/gate-registry-add
    agent_id: null
    terminal_affinity: []
    description: Add a new gate to gate.registry.yaml through governed mutation surface.
  gate.registry.update:
    capability_id: gate.registry.update
    domain: gate
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: verify
      script: gate-registry-update
      command: ./ops/plugins/verify/bin/gate-registry-update
    agent_id: null
    terminal_affinity: []
    description: Update existing gate metadata through governed mutation surface.
  gate.topology.assign:
    capability_id: gate.topology.assign
    domain: gate
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: verify
      script: gate-topology-assign
      command: ./ops/plugins/verify/bin/gate-topology-assign
    agent_id: null
    terminal_affinity: []
    description: Assign or update gate -> domain ownership in topology contract.
  gate.topology.validate:
    capability_id: gate.topology.validate
    domain: gate
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: gate-topology-validate
      command: ./ops/plugins/verify/bin/gate-topology-validate
    agent_id: null
    terminal_affinity: []
    description: Validate gate.execution.topology contract integrity and domain assignment
      completeness.
  gitea.status:
    capability_id: gitea.status
    domain: observability
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: gitea-status
      command: ./ops/plugins/observability/bin/gitea-status
    agent_id: null
    terminal_affinity: []
    description: "Gitea instance health and summary \u2014 version, repos, users,\
      \ runners."
  github.actions.status:
    capability_id: github.actions.status
    domain: github
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: github
      script: github-actions-status
      command: ./ops/plugins/github/bin/github-actions-status
    agent_id: null
    terminal_affinity: []
    description: GitHub Actions workflow run counts + latest conclusion. Read-only,
      no names/URLs.
  github.labels.status:
    capability_id: github.labels.status
    domain: github
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: github
      script: github-labels-status
      command: ./ops/plugins/github/bin/github-labels-status
    agent_id: null
    terminal_affinity: []
    description: GitHub label parity (declared vs live). Read-only, counts + delta.
  github.queue.status:
    capability_id: github.queue.status
    domain: github
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: github
      script: github-queue-status
      command: ./ops/plugins/github/bin/github-queue-status
    agent_id: null
    terminal_affinity: []
    description: GitHub queue counts (open PRs + open issues). Read-only, counts only.
  github.status:
    capability_id: github.status
    domain: github
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: github
      script: github-status
      command: ./ops/plugins/github/bin/github-status
    agent_id: null
    terminal_affinity: []
    description: Read-only GitHub repo health (branch, HEAD, clean, tags).
  graph.calendar.create:
    capability_id: graph.calendar.create
    domain: ms-graph
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ms-graph
      script: graph-cap-exec
      subcommand: calendar_create
      command: ./ops/plugins/ms-graph/bin/graph-cap-exec calendar_create
    agent_id: ms-graph-agent
    terminal_affinity:
    - DOMAIN-MSGRAPH-01
    description: Create a calendar event via Microsoft Graph.
  graph.calendar.get:
    capability_id: graph.calendar.get
    domain: ms-graph
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ms-graph
      script: graph-cap-exec
      subcommand: calendar_get
      command: ./ops/plugins/ms-graph/bin/graph-cap-exec calendar_get
    agent_id: ms-graph-agent
    terminal_affinity:
    - DOMAIN-MSGRAPH-01
    description: Get a calendar event by id via Microsoft Graph.
  graph.calendar.list:
    capability_id: graph.calendar.list
    domain: ms-graph
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ms-graph
      script: graph-cap-exec
      subcommand: calendar_list
      command: ./ops/plugins/ms-graph/bin/graph-cap-exec calendar_list
    agent_id: ms-graph-agent
    terminal_affinity:
    - DOMAIN-MSGRAPH-01
    description: List calendar events via Microsoft Graph.
  graph.calendar.rsvp:
    capability_id: graph.calendar.rsvp
    domain: ms-graph
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ms-graph
      script: graph-cap-exec
      subcommand: calendar_rsvp
      command: ./ops/plugins/ms-graph/bin/graph-cap-exec calendar_rsvp
    agent_id: ms-graph-agent
    terminal_affinity:
    - DOMAIN-MSGRAPH-01
    description: Respond to a calendar event invite via Microsoft Graph (accept/tentative/decline).
  graph.calendar.update:
    capability_id: graph.calendar.update
    domain: ms-graph
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ms-graph
      script: graph-cap-exec
      subcommand: calendar_update
      command: ./ops/plugins/ms-graph/bin/graph-cap-exec calendar_update
    agent_id: ms-graph-agent
    terminal_affinity:
    - DOMAIN-MSGRAPH-01
    description: Update a calendar event via Microsoft Graph.
  graph.mail.draft.create:
    capability_id: graph.mail.draft.create
    domain: ms-graph
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ms-graph
      script: graph-cap-exec
      subcommand: draft_create
      command: ./ops/plugins/ms-graph/bin/graph-cap-exec draft_create
    agent_id: ms-graph-agent
    terminal_affinity:
    - DOMAIN-MSGRAPH-01
    description: Create an email draft via Microsoft Graph.
  graph.mail.draft.update:
    capability_id: graph.mail.draft.update
    domain: ms-graph
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ms-graph
      script: graph-cap-exec
      subcommand: draft_update
      command: ./ops/plugins/ms-graph/bin/graph-cap-exec draft_update
    agent_id: ms-graph-agent
    terminal_affinity:
    - DOMAIN-MSGRAPH-01
    description: Update an existing email draft via Microsoft Graph.
  graph.mail.get:
    capability_id: graph.mail.get
    domain: ms-graph
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ms-graph
      script: graph-cap-exec
      subcommand: mail_get
      command: ./ops/plugins/ms-graph/bin/graph-cap-exec mail_get
    agent_id: ms-graph-agent
    terminal_affinity:
    - DOMAIN-MSGRAPH-01
    description: Get a mailbox message by id via Microsoft Graph.
  graph.mail.search:
    capability_id: graph.mail.search
    domain: ms-graph
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ms-graph
      script: graph-cap-exec
      subcommand: mail_search
      command: ./ops/plugins/ms-graph/bin/graph-cap-exec mail_search
    agent_id: ms-graph-agent
    terminal_affinity:
    - DOMAIN-MSGRAPH-01
    description: Search mailbox messages via Microsoft Graph (/me/messages).
  graph.mail.send:
    capability_id: graph.mail.send
    domain: ms-graph
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ms-graph
      script: graph-cap-exec
      subcommand: mail_send
      command: ./ops/plugins/ms-graph/bin/graph-cap-exec mail_send
    agent_id: ms-graph-agent
    terminal_affinity:
    - DOMAIN-MSGRAPH-01
    description: Send an email through Microsoft Graph sendMail endpoint.
  ha.addon.restart:
    capability_id: ha.addon.restart
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ha
      script: ha-addon-restart
      command: ./ops/plugins/ha/bin/ha-addon-restart
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: restart an HA Supervisor add-on by slug via SSH + Supervisor
      API.'
  ha.addons.snapshot:
    capability_id: ha.addons.snapshot
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-addons-snapshot
      command: ./ops/plugins/ha/bin/ha-addons-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: extract HA Supervisor add-on inventory to ops/bindings/ha.addons.yaml.'
  ha.automation.create:
    capability_id: ha.automation.create
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ha
      script: ha-automation-create
      command: ./ops/plugins/ha/bin/ha-automation-create
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: Create or update an HA automation via REST API config endpoint
  ha.automation.trigger:
    capability_id: ha.automation.trigger
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: ha
      script: ha-automation-trigger
      command: ./ops/plugins/ha/bin/ha-automation-trigger
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: Trigger a Home Assistant automation
  ha.automations.snapshot:
    capability_id: ha.automations.snapshot
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-automations-snapshot
      command: ./ops/plugins/ha/bin/ha-automations-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: snapshot HA automation states to ops/bindings/ha.automations.yaml'
  ha.backup.create:
    capability_id: ha.backup.create
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ha
      script: ha-backup-create
      command: ./ops/plugins/ha/bin/ha-backup-create
    agent_id: null
    terminal_affinity: []
    description: "Create a Home Assistant backup via SSH + ha CLI (physical backup\
      \ \u2014 manual approval)"
  ha.config.extract:
    capability_id: ha.config.extract
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-config-extract
      command: ./ops/plugins/ha/bin/ha-config-extract
    agent_id: null
    terminal_affinity: []
    description: Extract HA config files (configuration.yaml, automations.yaml, etc.)
      to workbench for version control
  ha.dashboard.backup:
    capability_id: ha.dashboard.backup
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-dashboard-backup
      command: ./ops/plugins/ha/bin/ha-dashboard-backup
    agent_id: null
    terminal_affinity: []
    description: Backup HA YAML dashboard files to workbench infra/ha-dashboards/
      for domain-owned version control
  ha.dashboard.snapshot:
    capability_id: ha.dashboard.snapshot
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-dashboard-snapshot
      command: ./ops/plugins/ha/bin/ha-dashboard-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: snapshot HA Lovelace dashboards to ops/bindings/ha.dashboards.yaml
      (SSH .storage method)'
  ha.device.map.build:
    capability_id: ha.device.map.build
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-device-map-build
      command: ./ops/plugins/ha/bin/ha-device-map-build
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: 'Read-only: cross-reference HA entities with home device registry
      and Z2M devices to ops/bindings/ha.device.map.yaml.'
  ha.device.rename:
    capability_id: ha.device.rename
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ha
      script: ha-device-rename
      command: ./ops/plugins/ha/bin/ha-device-rename
    agent_id: null
    terminal_affinity: []
    description: Rename an HA device via WebSocket API (sets name_by_user)
  ha.entity.state.baseline:
    capability_id: ha.entity.state.baseline
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-entity-state-baseline
      command: ./ops/plugins/ha/bin/ha-entity-state-baseline
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: snapshot all HA entity states as regression-proof baseline
      to ops/bindings/ha.entity.state.baseline.yaml'
  ha.entity.status:
    capability_id: ha.entity.status
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-entity-status
      command: ./ops/plugins/ha/bin/ha-entity-status
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: "Single HA entity state lookup \u2014 returns state, friendly_name,\
      \ last_changed, attributes"
  ha.hacs.snapshot:
    capability_id: ha.hacs.snapshot
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-hacs-snapshot
      command: ./ops/plugins/ha/bin/ha-hacs-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: snapshot HACS repository inventory to ops/bindings/ha.hacs.yaml'
  ha.hacs.updates.check:
    capability_id: ha.hacs.updates.check
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-hacs-updates-check
      command: ./ops/plugins/ha/bin/ha-hacs-updates-check
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: check HACS repositories for pending updates from ha.hacs.yaml
      binding'
  ha.health.status:
    capability_id: ha.health.status
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-health-status
      command: ./ops/plugins/ha/bin/ha-health-status
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: "HA API health probe \u2014 confirms API running, reports version,\
      \ location, component count"
  ha.helpers.snapshot:
    capability_id: ha.helpers.snapshot
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-helpers-snapshot
      command: ./ops/plugins/ha/bin/ha-helpers-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: snapshot HA helper entities (input_*, counter, timer)
      to ops/bindings/ha.helpers.yaml'
  ha.identity.mutation.contract.status:
    capability_id: ha.identity.mutation.contract.status
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: home
      script: ha-identity-mutation-contract-status
      command: ./ops/plugins/home/bin/ha-identity-mutation-contract-status
    agent_id: null
    terminal_affinity: []
    description: 'Validate HA identity/mutation contract integrity: file exists, required
      sections, SSOT surfaces, cross-references'
  ha.integrations.snapshot:
    capability_id: ha.integrations.snapshot
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-integrations-snapshot
      command: ./ops/plugins/ha/bin/ha-integrations-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: snapshot HA config entries (integrations) to ops/bindings/ha.integrations.yaml'
  ha.light.toggle:
    capability_id: ha.light.toggle
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: ha
      script: ha-light-toggle
      command: ./ops/plugins/ha/bin/ha-light-toggle
    agent_id: null
    terminal_affinity: []
    description: Toggle a Home Assistant light entity on/off
  ha.lock.control:
    capability_id: ha.lock.control
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ha
      script: ha-lock-control
      command: ./ops/plugins/ha/bin/ha-lock-control
    agent_id: null
    terminal_affinity: []
    description: "Lock or unlock a Home Assistant lock entity (physical security \u2014\
      \ manual approval)"
  ha.mcp.status:
    capability_id: ha.mcp.status
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-mcp-status
      command: ./ops/plugins/ha/bin/ha-mcp-status
    agent_id: null
    terminal_affinity: []
    description: "MCP server file validation \u2014 checks source exists, GOVERNED_TOOLS\
      \ block, ha_call_service blocked, policy doc"
  ha.refresh:
    capability_id: ha.refresh
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-refresh
      command: ./ops/plugins/ha/bin/ha-refresh
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: Run all HA snapshot capabilities in sequence to refresh all bindings
  ha.scene.activate:
    capability_id: ha.scene.activate
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: ha
      script: ha-scene-activate
      command: ./ops/plugins/ha/bin/ha-scene-activate
    agent_id: null
    terminal_affinity: []
    description: Activate a Home Assistant scene (idempotent preset)
  ha.scenes.snapshot:
    capability_id: ha.scenes.snapshot
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-scenes-snapshot
      command: ./ops/plugins/ha/bin/ha-scenes-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: snapshot HA scene entities to ops/bindings/ha.scenes.yaml'
  ha.script.run:
    capability_id: ha.script.run
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: ha
      script: ha-script-run
      command: ./ops/plugins/ha/bin/ha-script-run
    agent_id: null
    terminal_affinity: []
    description: Run a Home Assistant script
  ha.scripts.snapshot:
    capability_id: ha.scripts.snapshot
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-scripts-snapshot
      command: ./ops/plugins/ha/bin/ha-scripts-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: snapshot HA script entities to ops/bindings/ha.scripts.yaml'
  ha.service.call:
    capability_id: ha.service.call
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ha
      script: ha-service-call
      command: ./ops/plugins/ha/bin/ha-service-call
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: "Scoped HA service call via REST API \u2014 base for domain-specific\
      \ wrappers"
  ha.ssot.apply:
    capability_id: ha.ssot.apply
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ha
      script: ha-ssot-apply
      command: ./ops/plugins/ha/bin/ha-ssot-apply
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: Apply ha.ssot.propose diff to HASS_OPERATIONAL_RUNBOOK.md sections
      2-4
  ha.ssot.baseline.build:
    capability_id: ha.ssot.baseline.build
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-ssot-baseline-build
      command: ./ops/plugins/ha/bin/ha-ssot-baseline-build
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: build unified HA SSOT baseline from all sub-bindings
      to ops/bindings/ha.ssot.baseline.yaml'
  ha.ssot.propose:
    capability_id: ha.ssot.propose
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-ssot-propose
      command: ./ops/plugins/ha/bin/ha-ssot-propose
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: Fetch HA live facts and diff against HASS_OPERATIONAL_RUNBOOK.md
      sections 2-4
  ha.status:
    capability_id: ha.status
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-status
      command: ./ops/plugins/ha/bin/ha-status
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: "Unified HA status dashboard \u2014 API health, counts, add-ons,\
      \ device map, binding freshness, gaps"
  ha.sync.start:
    capability_id: ha.sync.start
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: ha
      script: ha-sync-start
      command: ./ops/plugins/ha/bin/ha-sync-start
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: Start the HA sync agent daemon (event-driven binding refresh)
  ha.sync.status:
    capability_id: ha.sync.status
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-sync-status
      command: ./ops/plugins/ha/bin/ha-sync-status
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: Check HA sync agent daemon status
  ha.sync.stop:
    capability_id: ha.sync.stop
    domain: home-assistant
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: ha
      script: ha-sync-stop
      command: ./ops/plugins/ha/bin/ha-sync-stop
    agent_id: home-assistant-agent
    terminal_affinity:
    - DOMAIN-HA-01
    description: Stop the HA sync agent daemon
  ha.z2m.devices.snapshot:
    capability_id: ha.z2m.devices.snapshot
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-z2m-devices-snapshot
      command: ./ops/plugins/ha/bin/ha-z2m-devices-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: extract Zigbee2MQTT device registry from HA to ops/bindings/z2m.devices.yaml.'
  ha.z2m.health:
    capability_id: ha.z2m.health
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-z2m-health
      command: ./ops/plugins/ha/bin/ha-z2m-health
    agent_id: null
    terminal_affinity: []
    description: "Read-only: Z2M device health report \u2014 battery, staleness, bridge\
      \ status for all Zigbee devices."
  ha.zwave.devices.snapshot:
    capability_id: ha.zwave.devices.snapshot
    domain: home-assistant
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ha
      script: ha-zwave-devices-snapshot
      command: ./ops/plugins/ha/bin/ha-zwave-devices-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: extract Z-Wave device list from HA API to ops/bindings/zwave.devices.yaml.'
  home.backup.status:
    capability_id: home.backup.status
    domain: home
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: home
      script: home-backup-status
      command: ./ops/plugins/home/bin/home-backup-status
    agent_id: null
    terminal_affinity: []
    description: Check backup artifact freshness on proxmox-home NAS storage (VMs
      100-102, LXCs 103/105).
  home.health.alert:
    capability_id: home.health.alert
    domain: home
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: home
      script: home-health-alert
      command: ./ops/plugins/home/bin/home-health-alert
    agent_id: null
    terminal_affinity: []
    description: Run home health probes and send HA persistent notification on failure
  home.health.check:
    capability_id: home.health.check
    domain: home
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: home
      script: home-health-check
      command: ./ops/plugins/home/bin/home-health-check
    agent_id: null
    terminal_affinity: []
    description: HTTP health probe for home services (HA :8123, Vaultwarden :8080
      via Tailscale).
  home.vm.status:
    capability_id: home.vm.status
    domain: home
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: home
      script: home-vm-status
      command: ./ops/plugins/home/bin/home-vm-status
    agent_id: null
    terminal_affinity: []
    description: Check VM/LXC running state on proxmox-home (qm list + pct list via
      SSH).
  host.claude.entrypoint.canonicalize:
    capability_id: host.claude.entrypoint.canonicalize
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: host
      script: host-claude-entrypoint-lock
      subcommand: --execute
      command: ./ops/plugins/host/bin/host-claude-entrypoint-lock --execute
    agent_id: null
    terminal_affinity: []
    description: 'Canonicalize Claude home files: rewrite CLAUDE.md to shim, fix path
      case.'
  host.claude.entrypoint.status:
    capability_id: host.claude.entrypoint.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: host
      script: host-claude-entrypoint-lock
      command: ./ops/plugins/host/bin/host-claude-entrypoint-lock
    agent_id: null
    terminal_affinity: []
    description: Check Claude entrypoint compliance (shim, path case, forbidden headings).
  host.drift.audit:
    capability_id: host.drift.audit
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: host
      script: host-drift-audit
      command: ./ops/plugins/host/bin/host-drift-audit
    agent_id: null
    terminal_affinity: []
    description: Audit host-level drift across active configs, launchd entrypoints,
      and home output sinks.
  host.hidden.inventory.status:
    capability_id: host.hidden.inventory.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: host
      script: host-hidden-root-inventory
      command: ./ops/plugins/host/bin/host-hidden-root-inventory
    agent_id: null
    terminal_affinity: []
    description: 'Hidden-root inventory: classify all dot-entries under $HOME as managed/volatile/excluded/forbidden/unmanaged.'
  host.launchagents.sync:
    capability_id: host.launchagents.sync
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: host
      script: host-launchagents-sync
      command: ./ops/plugins/host/bin/host-launchagents-sync
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: sync spine-managed launchd templates into ~/Library/LaunchAgents
      and reload labels to eliminate scheduler wiring drift.'
  host.macbook.bootstrap:
    capability_id: host.macbook.bootstrap
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: host
      script: host-macbook-bootstrap
      command: ./ops/plugins/host/bin/host-macbook-bootstrap
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: bootstrap fresh Mac to spine-ready state (CLI tools, configs,
      symlinks, entrypoints). Idempotent, phased.'
  host.macbook.drift.check:
    capability_id: host.macbook.drift.check
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: host
      script: host-macbook-drift-check
      command: ./ops/plugins/host/bin/host-macbook-drift-check
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: enforce MacBook drift invariants (Claude entrypoint +
      workbench verifier).'
  host.macbook.managed_configs.apply:
    capability_id: host.macbook.managed_configs.apply
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: host
      script: host-macbook-managed-configs-apply
      command: ./ops/plugins/host/bin/host-macbook-managed-configs-apply
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: enforce managed config symlinks and canonicalize Claude
      entrypoint, then verify.'
  host.streamdeck.reload:
    capability_id: host.streamdeck.reload
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: host
      script: host-streamdeck-reload
      command: ./ops/plugins/host/bin/host-streamdeck-reload
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: reload Stream Deck HA controller LaunchAgent (bootout
      + bootstrap).'
  host.streamdeck.snapshot:
    capability_id: host.streamdeck.snapshot
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: host
      script: host-streamdeck-snapshot
      command: ./ops/plugins/host/bin/host-streamdeck-snapshot
    agent_id: null
    terminal_affinity: []
    description: Snapshot Stream Deck HA controller config to tracked workbench location
  host.streamdeck.status:
    capability_id: host.streamdeck.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: host
      script: host-streamdeck-status
      command: ./ops/plugins/host/bin/host-streamdeck-status
    agent_id: null
    terminal_affinity: []
    description: Check Stream Deck HA controller LaunchAgent status (loaded, PID,
      log paths).
  idrac.health.status:
    capability_id: idrac.health.status
    domain: observability
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: idrac-health-status
      command: ./ops/plugins/observability/bin/idrac-health-status
    agent_id: null
    terminal_affinity: []
    description: "Dell iDRAC health via PVE jump host \u2014 Redfish API with IPMI\
      \ fallback."
  immich.ingest.watch:
    capability_id: immich.ingest.watch
    domain: immich
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: immich-ingest-watch
      command: ./ops/plugins/observability/bin/immich-ingest-watch
    agent_id: immich-agent
    terminal_affinity:
    - RUNTIME-IMMICH-01
    description: Monitor-only yearly ingest watchdog for Immich (heartbeat, queue
      progression, error-rate) with guided fixes.
  immich.reconcile.apply:
    capability_id: immich.reconcile.apply
    domain: immich
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: immich
      script: immich-reconcile-apply
      command: ./ops/plugins/immich/bin/immich-reconcile-apply
    agent_id: immich-agent
    terminal_affinity:
    - RUNTIME-IMMICH-01
    description: "Execute keep/drop plan \u2014 trash dropped assets via Immich API,\
      \ write rollback manifest."
  immich.reconcile.plan:
    capability_id: immich.reconcile.plan
    domain: immich
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: immich
      script: immich-reconcile-plan
      command: ./ops/plugins/immich/bin/immich-reconcile-plan
    agent_id: immich-agent
    terminal_affinity:
    - RUNTIME-IMMICH-01
    description: Score EXIF richness and apply keeper decision order to produce deterministic
      keep/drop plan.
  immich.reconcile.review:
    capability_id: immich.reconcile.review
    domain: immich
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: immich
      script: immich-reconcile-review
      command: ./ops/plugins/immich/bin/immich-reconcile-review
    agent_id: immich-agent
    terminal_affinity:
    - RUNTIME-IMMICH-01
    description: Human-readable summary of keep/drop plan with confidence breakdown
      and actionable next steps.
  immich.reconcile.rollback:
    capability_id: immich.reconcile.rollback
    domain: immich
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: immich
      script: immich-reconcile-rollback
      command: ./ops/plugins/immich/bin/immich-reconcile-rollback
    agent_id: immich-agent
    terminal_affinity:
    - RUNTIME-IMMICH-01
    description: "Reverse a prior apply batch \u2014 restore trashed assets using\
      \ rollback manifest."
  immich.reconcile.scan:
    capability_id: immich.reconcile.scan
    domain: immich
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: immich
      script: immich-reconcile-scan
      command: ./ops/plugins/immich/bin/immich-reconcile-scan
    agent_id: immich-agent
    terminal_affinity:
    - RUNTIME-IMMICH-01
    description: "Scan Immich for duplicate assets \u2014 SHA checksum groups + pHash\
      \ perceptual groups + EXIF metadata."
  immich.status:
    capability_id: immich.status
    domain: immich
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: immich-status
      command: ./ops/plugins/observability/bin/immich-status
    agent_id: immich-agent
    terminal_affinity:
    - RUNTIME-IMMICH-01
    description: "Immich photo server health \u2014 version, assets, disk usage, users."
  infra.core.slo.status:
    capability_id: infra.core.slo.status
    domain: observability
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: infra-core-slo-status
      command: ./ops/plugins/observability/bin/infra-core-slo-status
    agent_id: null
    terminal_affinity: []
    description: Service-level SLO status for infra-core required services (Caddy,
      Authentik, Vaultwarden, Infisical, Cloudflared) with optional Pi-hole lane.
  infra.docker_host.status:
    capability_id: infra.docker_host.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-docker-host-status
      command: ./ops/plugins/infra/bin/infra-docker-host-status
    agent_id: null
    terminal_affinity: []
    description: 'Read-only docker-host governance status: SSH runtime facts + host-scoped
      health probe parity.'
  infra.docker_ps:
    capability_id: infra.docker_ps
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-docker-ps
      command: ./ops/plugins/infra/bin/infra-docker-ps
    agent_id: null
    terminal_affinity: []
    description: List running Docker containers
  infra.extraction.status:
    capability_id: infra.extraction.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: docs
      script: infra-extraction-status
      command: ./ops/plugins/docs/bin/infra-extraction-status
    agent_id: null
    terminal_affinity: []
    description: Track infrastructure extraction coverage into workbench (23 asset
      groups, % complete).
  infra.gh_issue:
    capability_id: infra.gh_issue
    domain: infra
    execution_target: builtin
    safety: read-only
    approval: auto
    target:
      command: gh issue view
    agent_id: null
    terminal_affinity: []
    description: Get GitHub issue details
  infra.hypervisor.hostname.set:
    capability_id: infra.hypervisor.hostname.set
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: infra
      script: infra-hypervisor-hostname-set
      command: ./ops/plugins/infra/bin/infra-hypervisor-hostname-set
    agent_id: null
    terminal_affinity: []
    description: Set canonical hostname for a proxmox host-id (dry-run by default,
      --execute to mutate).
  infra.hypervisor.identity:
    capability_id: infra.hypervisor.identity
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-hypervisor-identity-status
      command: ./ops/plugins/infra/bin/infra-hypervisor-identity-status
    agent_id: null
    terminal_affinity: []
    description: Verify proxmox host identity uniqueness (id/hostname/machine-id)
      to prevent wrong-host execution.
  infra.maintenance.window:
    capability_id: infra.maintenance.window
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: infra
      script: infra-maintenance-window
      command: ./ops/plugins/infra/bin/infra-maintenance-window
    agent_id: null
    terminal_affinity: []
    description: "Composite maintenance window orchestrator \u2014 chains precheck,\
      \ shutdown, startup, recovery, verify across shop/home/both Proxmox sites."
  infra.placement.policy:
    capability_id: infra.placement.policy
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-placement-policy-check
      subcommand: --check
      command: ./ops/plugins/infra/bin/infra-placement-policy-check --check all
    agent_id: null
    terminal_affinity: []
    description: Canonical placement policy check (site/hypervisor/vmid/service target
      enforcement).
  infra.post_power.recovery:
    capability_id: infra.post_power.recovery
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: infra
      script: infra-post-power-recovery
      subcommand: --mode
      command: ./ops/plugins/infra/bin/infra-post-power-recovery --mode recover
    agent_id: null
    terminal_affinity: []
    description: "Mutating: orchestrated post-power-cycle recovery \u2014 brings all\
      \ stacks up in dependency order and verifies health."
  infra.post_power.recovery.status:
    capability_id: infra.post_power.recovery.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-post-power-recovery
      subcommand: --mode
      command: ./ops/plugins/infra/bin/infra-post-power-recovery --mode status
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: check all hosts/stacks and report what needs recovery
      after a power cycle.'
  infra.proxmox.maintenance.precheck:
    capability_id: infra.proxmox.maintenance.precheck
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-proxmox-maintenance
      command: ./ops/plugins/infra/bin/infra-proxmox-maintenance
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: capture guest state + MD1400/PM8072 evidence on a Proxmox
      host.'
  infra.proxmox.maintenance.shutdown:
    capability_id: infra.proxmox.maintenance.shutdown
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: infra
      script: infra-proxmox-maintenance
      command: ./ops/plugins/infra/bin/infra-proxmox-maintenance
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: guarded shutdown of all running guests on a Proxmox host
      (optional host poweroff).'
  infra.proxmox.maintenance.startup:
    capability_id: infra.proxmox.maintenance.startup
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: infra
      script: infra-proxmox-maintenance
      command: ./ops/plugins/infra/bin/infra-proxmox-maintenance
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: start key guests on a Proxmox host, then print postcheck
      commands.'
  infra.proxmox.node_path.migrate:
    capability_id: infra.proxmox.node_path.migrate
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: infra
      script: infra-proxmox-node-path-migrate
      command: ./ops/plugins/infra/bin/infra-proxmox-node-path-migrate
    agent_id: null
    terminal_affinity: []
    description: Fix Proxmox node-name mismatch by migrating /etc/pve/nodes/<from>
      -> <to> on a hypervisor (dry-run by default, --execute to mutate).
  infra.relocation.impact:
    capability_id: infra.relocation.impact
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-relocation-impact
      command: ./ops/plugins/infra/bin/infra-relocation-impact
    agent_id: null
    terminal_affinity: []
    description: Print required docs/bindings/gates delta matrix for current relocation.
  infra.relocation.parity:
    capability_id: infra.relocation.parity
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-relocation-parity
      command: ./ops/plugins/infra/bin/infra-relocation-parity
    agent_id: null
    terminal_affinity: []
    description: Verify cross-SSOT parity + canonical placement policy for relocation
      manifest.
  infra.relocation.preflight:
    capability_id: infra.relocation.preflight
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-relocation-preflight
      command: ./ops/plugins/infra/bin/infra-relocation-preflight
    agent_id: null
    terminal_affinity: []
    description: 'Pre-flight check: host reachability + health baseline for relocation
      manifest.'
  infra.relocation.promote:
    capability_id: infra.relocation.promote
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: infra
      script: infra-relocation-promote
      command: ./ops/plugins/infra/bin/infra-relocation-promote
    agent_id: null
    terminal_affinity: []
    description: 'Promotion gate runner: validates promotion gates (tunnel, health,
      rollback; optional soak window), then promotes service from cutover to migrated
      with full gate verification (dry-run by default, --execute to mutate).'
  infra.relocation.rollback.plan:
    capability_id: infra.relocation.rollback.plan
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-relocation-rollback
      command: ./ops/plugins/infra/bin/infra-relocation-rollback
    agent_id: null
    terminal_affinity: []
    description: Generate deterministic rollback checklist and commands for current
      relocation.
  infra.relocation.service.transition:
    capability_id: infra.relocation.service.transition
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: infra
      script: infra-relocation-service-transition
      command: ./ops/plugins/infra/bin/infra-relocation-service-transition
    agent_id: null
    terminal_affinity: []
    description: Controlled service status update within relocation manifest (dry-run
      by default, --execute to mutate).
  infra.relocation.state.transition:
    capability_id: infra.relocation.state.transition
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: infra
      script: infra-relocation-state-transition
      command: ./ops/plugins/infra/bin/infra-relocation-state-transition
    agent_id: null
    terminal_affinity: []
    description: Controlled relocation state transition + vm_targets status/IP update
      (dry-run by default, --execute to mutate).
  infra.timezone.set:
    capability_id: infra.timezone.set
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: infra
      script: infra-timezone-set
      command: ./ops/plugins/infra/bin/infra-timezone-set
    agent_id: null
    terminal_affinity: []
    description: Set timezone + enable NTP on infrastructure hosts (dry-run by default,
      --execute to mutate).
  infra.vm.bootstrap:
    capability_id: infra.vm.bootstrap
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: infra
      script: infra-vm-bootstrap
      command: ./ops/plugins/infra/bin/infra-vm-bootstrap
    agent_id: null
    terminal_affinity: []
    description: Bootstrap a provisioned VM to spine-ready profile baseline (dry-run
      by default, --execute to mutate).
  infra.vm.provision:
    capability_id: infra.vm.provision
    domain: infra
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: infra
      script: infra-vm-provision
      command: ./ops/plugins/infra/bin/infra-vm-provision
    agent_id: null
    terminal_affinity: []
    description: Provision Proxmox VM from relocation target/profile (dry-run by default,
      --execute to mutate).
  infra.vm.ready.status:
    capability_id: infra.vm.ready.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: infra-vm-ready-status
      command: ./ops/plugins/infra/bin/infra-vm-ready-status
    agent_id: null
    terminal_affinity: []
    description: Read-only readiness report for relocation VM target (running + ssh
      + tailscale + profile checks).
  lane.standard.run:
    capability_id: lane.standard.run
    domain: lane
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: lifecycle
      script: lane-standard-run
      command: ./ops/plugins/lifecycle/bin/lane-standard-run
    agent_id: null
    terminal_affinity: []
    description: 'One-command ceremony runner: snapshot, core verify, domain verify,
      status checks, with markdown report.'
  lifecycle.health:
    capability_id: lifecycle.health
    domain: loop_gap
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: lifecycle
      script: lifecycle-health
      command: ./ops/plugins/lifecycle/bin/lifecycle-health
    agent_id: null
    terminal_affinity: []
    description: 'Composite lifecycle dashboard: gap summary, aging, loop progress,
      orphan check.'
  loops.auto.close:
    capability_id: loops.auto.close
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: lifecycle
      script: loops-auto-close
      command: ./ops/plugins/lifecycle/bin/loops-auto-close
    agent_id: null
    terminal_affinity: []
    description: Auto-close loops whose linked gaps are all resolved.
  loops.create:
    capability_id: loops.create
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: lifecycle
      script: loops-create
      command: ./ops/plugins/lifecycle/bin/loops-create
    agent_id: null
    terminal_affinity: []
    description: Create a new loop scope file from template with auto-generated ID.
  loops.progress:
    capability_id: loops.progress
    domain: loop_gap
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: lifecycle
      script: loops-progress
      command: ./ops/plugins/lifecycle/bin/loops-progress
    agent_id: null
    terminal_affinity: []
    description: Show gap-level progress for a loop (linked gap counts, completion
      percentage).
  loops.reconcile:
    capability_id: loops.reconcile
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: loops
      script: loops-reconcile
      subcommand: --execute
      command: ./ops/plugins/loops/bin/loops-reconcile --execute
    agent_id: null
    terminal_affinity:
    - SPINE-CONTROL-01
    description: Reconcile stale run-failure loops with superseding pass receipts
      (conservative auto-close).
  loops.status:
    capability_id: loops.status
    domain: loop_gap
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: loops
      script: loops-status
      command: ./ops/plugins/loops/bin/loops-status
    agent_id: null
    terminal_affinity: []
    description: Open loop ledger summary (open/closed counts).
  mailroom.bridge.expose.disable:
    capability_id: mailroom.bridge.expose.disable
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: mailroom-bridge
      script: mailroom-bridge-expose-disable
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-bridge-expose-disable
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: disable tailnet exposure for mailroom bridge (safe only
      if serve config is exclusive).'
  mailroom.bridge.expose.enable:
    capability_id: mailroom.bridge.expose.enable
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: mailroom-bridge
      script: mailroom-bridge-expose-enable
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-bridge-expose-enable
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: expose mailroom bridge to tailnet via tailscale serve
      (requires bridge running).'
  mailroom.bridge.expose.status:
    capability_id: mailroom.bridge.expose.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mailroom-bridge
      script: mailroom-bridge-expose-status
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-bridge-expose-status
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: show tailnet exposure status for mailroom bridge (tailscale
      serve + health).'
  mailroom.bridge.start:
    capability_id: mailroom.bridge.start
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: mailroom-bridge
      script: mailroom-bridge-start
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-bridge-start
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: start mailroom bridge server (binds per ops/bindings/mailroom.bridge.yaml).'
  mailroom.bridge.status:
    capability_id: mailroom.bridge.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mailroom-bridge
      script: mailroom-bridge-status
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-bridge-status
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: show mailroom bridge server status (PID + /health).'
  mailroom.bridge.stop:
    capability_id: mailroom.bridge.stop
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: mailroom-bridge
      script: mailroom-bridge-stop
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-bridge-stop
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: stop mailroom bridge server.'
  mailroom.runtime.migrate:
    capability_id: mailroom.runtime.migrate
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: mailroom-bridge
      script: mailroom-runtime-migrate
      subcommand: --execute
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-runtime-migrate --execute
    agent_id: null
    terminal_affinity: []
    description: Migrate live mailroom runtime artifacts to external runtime root
      per mailroom.runtime.contract.
  mailroom.task.claim:
    capability_id: mailroom.task.claim
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: mailroom-bridge
      script: mailroom-task-claim
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-task-claim
    agent_id: null
    terminal_affinity: []
    description: 'Governed task lifecycle: claim queued task into running with optional
      strict agent health preflight.'
  mailroom.task.complete:
    capability_id: mailroom.task.complete
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: mailroom-bridge
      script: mailroom-task-complete
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-task-complete
    agent_id: null
    terminal_affinity: []
    description: 'Governed task lifecycle: mark running task complete and archive
      under done.'
  mailroom.task.enqueue:
    capability_id: mailroom.task.enqueue
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: mailroom-bridge
      script: mailroom-task-enqueue
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-task-enqueue
    agent_id: null
    terminal_affinity: []
    description: 'Governed task lifecycle: enqueue task payload under $SPINE_STATE/agent-tasks/queued.'
  mailroom.task.fail:
    capability_id: mailroom.task.fail
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: mailroom-bridge
      script: mailroom-task-fail
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-task-fail
    agent_id: null
    terminal_affinity: []
    description: 'Governed task lifecycle: mark running task failed and archive under
      failed.'
  mailroom.task.heartbeat:
    capability_id: mailroom.task.heartbeat
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: mailroom-bridge
      script: mailroom-task-heartbeat
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-task-heartbeat
    agent_id: null
    terminal_affinity: []
    description: 'Governed task lifecycle: update heartbeat/progress for a running
      task.'
  mailroom.task.worker.once:
    capability_id: mailroom.task.worker.once
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: mailroom-bridge
      script: mailroom-task-worker
      subcommand: --once
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-task-worker --once
    agent_id: null
    terminal_affinity: []
    description: Run one autonomous worker tick (control cycle + task consumption)
      in foreground.
  mailroom.task.worker.start:
    capability_id: mailroom.task.worker.start
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: mailroom-bridge
      script: mailroom-task-worker
      subcommand: --daemon
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-task-worker --daemon
    agent_id: null
    terminal_affinity: []
    description: Start autonomous mailroom task worker daemon (spine.control.cycle
      cadence + task lifecycle consumption).
  mailroom.task.worker.status:
    capability_id: mailroom.task.worker.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mailroom-bridge
      script: mailroom-task-worker
      subcommand: --status
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-task-worker --status
    agent_id: null
    terminal_affinity: []
    description: Read autonomous mailroom task worker status, last tick, and runtime
      paths.
  mailroom.task.worker.stop:
    capability_id: mailroom.task.worker.stop
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: mailroom-bridge
      script: mailroom-task-worker
      subcommand: --stop
      command: ./ops/plugins/mailroom-bridge/bin/mailroom-task-worker --stop
    agent_id: null
    terminal_affinity: []
    description: Stop autonomous mailroom task worker daemon.
  maker.label.print:
    capability_id: maker.label.print
    domain: maker
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: maker
      script: maker-label-print
      command: ./ops/plugins/maker/bin/maker-label-print
    agent_id: null
    terminal_affinity: []
    description: Print label to Brother QL thermal printer (requires hardware).
  maker.qr.generate:
    capability_id: maker.qr.generate
    domain: maker
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: maker
      script: maker-qr-generate
      command: ./ops/plugins/maker/bin/maker-qr-generate
    agent_id: null
    terminal_affinity: []
    description: Generate QR code (PNG/SVG/terminal) to mailroom/outbox/maker/.
  maker.tools.status:
    capability_id: maker.tools.status
    domain: maker
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: maker
      script: maker-tools-status
      command: ./ops/plugins/maker/bin/maker-tools-status
    agent_id: null
    terminal_affinity: []
    description: Read-only maker tools inventory probe (installed/missing/hardware
      status).
  mcp.inventory.status:
    capability_id: mcp.inventory.status
    domain: mcp
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mcp
      script: mcp-inventory-status
      command: ./ops/plugins/mcp/bin/mcp-inventory-status
    agent_id: null
    terminal_affinity: []
    description: Validate workbench MCP inventory vs MCPJungle configs (read-only).
  mcp.runtime.status:
    capability_id: mcp.runtime.status
    domain: mcp
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mcp
      script: mcp-runtime-status
      command: ./ops/plugins/mcp/bin/mcp-runtime-status
    agent_id: mint-os-agent
    terminal_affinity:
    - DEPLOY-MINTOS-01
    description: Validate MCP runtime registrations across Codex, Claude Desktop,
      and OpenCode against mcp.runtime.contract.
  media.backup.create:
    capability_id: media.backup.create
    domain: media
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: media
      script: media-backup-create
      command: ./ops/plugins/media/bin/media-backup-create
    agent_id: null
    terminal_affinity: []
    description: 'Create config volume snapshots for media services on both VMs. Retention:
      7 days.'
  media.health.check:
    capability_id: media.health.check
    domain: media
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: media
      script: media-health-check
      command: ./ops/plugins/media/bin/media-health-check
    agent_id: media-agent
    terminal_affinity:
    - DOMAIN-MEDIA-01
    description: "Aggregate health check across media-stack VMs (209/210) \u2014 probes\
      \ health endpoints for all active services."
  media.metrics.today:
    capability_id: media.metrics.today
    domain: media
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: media
      script: media-metrics-today
      command: ./ops/plugins/media/bin/media-metrics-today
    agent_id: media-agent
    terminal_affinity:
    - DOMAIN-MEDIA-01
    description: 'Read-only: count imported movies today from Radarr history (bounded
      titles sample).'
  media.nfs.verify:
    capability_id: media.nfs.verify
    domain: media
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: media
      script: media-nfs-verify
      command: ./ops/plugins/media/bin/media-nfs-verify
    agent_id: media-agent
    terminal_affinity:
    - DOMAIN-MEDIA-01
    description: "Verify NFS mount health for media VMs \u2014 checks RW/RO modes\
      \ and free space."
  media.service.status:
    capability_id: media.service.status
    domain: media
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: media
      script: media-service-status
      command: ./ops/plugins/media/bin/media-service-status
    agent_id: media-agent
    terminal_affinity:
    - DOMAIN-MEDIA-01
    description: "Get container status for media services \u2014 maps container names\
      \ to service status from binding."
  media.stack.restart:
    capability_id: media.stack.restart
    domain: media
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: media
      script: media-stack-restart
      command: ./ops/plugins/media/bin/media-stack-restart
    agent_id: null
    terminal_affinity: []
    description: Restart docker compose stacks on media VMs (download-stack, streaming-stack).
      Dry-run by default.
  media.status:
    capability_id: media.status
    domain: media
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: media
      script: media-status
      command: ./ops/plugins/media/bin/media-status
    agent_id: media-agent
    terminal_affinity:
    - DOMAIN-MEDIA-01
    description: "Unified media stack status dashboard \u2014 VM status, service counts,\
      \ NFS health, storage."
  mint.deploy.status:
    capability_id: mint.deploy.status
    domain: mint
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mint
      script: deploy-status
      command: ./ops/plugins/mint/bin/deploy-status
    agent_id: mint-agent
    terminal_affinity:
    - DEPLOY-MINT-01
    description: Docker container status for mint fresh-slate VMs (apps + data)
  mint.deploy.sync:
    capability_id: mint.deploy.sync
    domain: mint
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: mint
      script: deploy-sync-from-main
      command: ./ops/plugins/mint/bin/deploy-sync-from-main
    agent_id: null
    terminal_affinity: []
    description: Sync committed mint-modules source to VM 213 and rebuild selected
      modules with post-deploy proofs.
  mint.intake.validate:
    capability_id: mint.intake.validate
    domain: mint
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mint
      script: intake-validate
      command: ./ops/plugins/mint/bin/intake-validate
    agent_id: mint-agent
    terminal_affinity:
    - DEPLOY-MINT-01
    description: Validate JSON payload against order-intake contract endpoint
  mint.loop.daily:
    capability_id: mint.loop.daily
    domain: mint
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mint
      script: loop-daily
      command: ./ops/plugins/mint/bin/loop-daily
    agent_id: mint-agent
    terminal_affinity:
    - DEPLOY-MINT-01
    description: Run the mint-agent daily operating loop (route, verify, health, migrate)
  mint.migrate.dryrun:
    capability_id: mint.migrate.dryrun
    domain: mint
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mint
      script: migrate-dryrun
      command: ./ops/plugins/mint/bin/migrate-dryrun
    agent_id: mint-agent
    terminal_affinity:
    - DEPLOY-MINT-01
    description: Check pending database migrations on mint-data (read-only)
  mint.modules.health:
    capability_id: mint.modules.health
    domain: mint
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mint
      script: modules-health
      command: ./ops/plugins/mint/bin/modules-health
    agent_id: mint-agent
    terminal_affinity:
    - DEPLOY-MINT-01
    description: Health probe for all mint module endpoints (fresh-slate VMs 212+213)
  mint.runtime.proof:
    capability_id: mint.runtime.proof
    domain: mint
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mint
      script: runtime-proof
      command: ./ops/plugins/mint/bin/runtime-proof
    agent_id: null
    terminal_affinity: []
    description: Deep runtime proof for mint module behavior (catches stale stub builds
      despite healthy containers).
  mint.seeds.query:
    capability_id: mint.seeds.query
    domain: mint
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mint
      script: seeds-query
      command: ./ops/plugins/mint/bin/seeds-query
    agent_id: mint-agent
    terminal_affinity:
    - DEPLOY-MINT-01
    description: Query artwork_seeds on mint-data via SSH + psql (read-only)
  monolith.git_status:
    capability_id: monolith.git_status
    domain: monolith
    execution_target: builtin
    safety: read-only
    approval: auto
    target:
      command: agentic-spine/ops/plugins/monolith/bin/monolith-git-status
    agent_id: null
    terminal_affinity: []
    description: Show git status of a repo
  monolith.search:
    capability_id: monolith.search
    domain: monolith
    execution_target: builtin
    safety: read-only
    approval: auto
    target:
      command: agentic-spine/ops/plugins/monolith/bin/monolith-search
    agent_id: null
    terminal_affinity: []
    description: 'Search code with ripgrep (exit=1 treated as OK: no matches)'
  monolith.tree:
    capability_id: monolith.tree
    domain: monolith
    execution_target: builtin
    safety: read-only
    approval: auto
    target:
      command: ls -la
    agent_id: null
    terminal_affinity: []
    description: List directory structure of allowed paths
  n8n.infra.health:
    capability_id: n8n.infra.health
    domain: n8n
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: n8n
      script: n8n-infra-health
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/n8n/bin/n8n-infra-health
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: 'n8n infra reliability lane check: uptime + API auth + snapshot freshness
      + backup coverage.'
  n8n.infra.health.quick:
    capability_id: n8n.infra.health.quick
    domain: n8n
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: n8n
      script: n8n-infra-health
      command: env N8N_INFRA_SKIP_API_AUTH=true ./ops/plugins/n8n/bin/n8n-infra-health
    agent_id: null
    terminal_affinity: []
    description: 'Low-latency n8n reliability probe for control loops: uptime + snapshot
      + backup coverage (skips API auth).'
  n8n.workflows.activate:
    capability_id: n8n.workflows.activate
    domain: n8n
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: n8n
      script: n8n-workflows
      subcommand: activate
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/n8n/bin/n8n-workflows
        activate
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: Activate a workflow (mutating).
  n8n.workflows.deactivate:
    capability_id: n8n.workflows.deactivate
    domain: n8n
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: n8n
      script: n8n-workflows
      subcommand: deactivate
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/n8n/bin/n8n-workflows
        deactivate
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: Deactivate a workflow (mutating).
  n8n.workflows.delete:
    capability_id: n8n.workflows.delete
    domain: n8n
    execution_target: plugin
    safety: destructive
    approval: manual
    target:
      plugin: n8n
      script: n8n-workflows
      subcommand: delete
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/n8n/bin/n8n-workflows
        delete
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: Delete a workflow (destructive).
  n8n.workflows.export:
    capability_id: n8n.workflows.export
    domain: n8n
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: n8n
      script: n8n-workflows
      subcommand: export
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/n8n/bin/n8n-workflows
        export
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: 'Export a single n8n workflow to JSON (mutating: writes file).'
  n8n.workflows.get:
    capability_id: n8n.workflows.get
    domain: n8n
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: n8n
      script: n8n-workflows
      subcommand: get
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/n8n/bin/n8n-workflows
        get
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: Get a single n8n workflow by ID (read-only).
  n8n.workflows.import:
    capability_id: n8n.workflows.import
    domain: n8n
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: n8n
      script: n8n-workflows
      subcommand: import
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/n8n/bin/n8n-workflows
        import
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: Import a workflow JSON file (mutating).
  n8n.workflows.list:
    capability_id: n8n.workflows.list
    domain: n8n
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: n8n
      script: n8n-workflows
      subcommand: list
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/n8n/bin/n8n-workflows
        list
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: List n8n workflows (read-only). Requires secrets injection for N8N_API_KEY.
  n8n.workflows.snapshot:
    capability_id: n8n.workflows.snapshot
    domain: n8n
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: n8n
      script: n8n-workflows
      subcommand: export-all
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/n8n/bin/n8n-workflows
        export-all
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: Export all n8n workflows to a timestamped snapshot directory via
      API.
  n8n.workflows.snapshot.status:
    capability_id: n8n.workflows.snapshot.status
    domain: n8n
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: n8n
      script: n8n-snapshot-status
      command: ./ops/plugins/n8n/bin/n8n-snapshot-status
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: Check n8n workflow snapshot artifacts on automation-stack (SSH).
  n8n.workflows.update:
    capability_id: n8n.workflows.update
    domain: n8n
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: n8n
      script: n8n-workflows
      subcommand: update
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/n8n/bin/n8n-workflows
        update
    agent_id: n8n-agent
    terminal_affinity:
    - DOMAIN-N8N-01
    description: Update a workflow from JSON file (mutating).
  nas.health.status:
    capability_id: nas.health.status
    domain: observability
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: nas-health-status
      command: ./ops/plugins/observability/bin/nas-health-status
    agent_id: null
    terminal_affinity: []
    description: "Health check for Synology DS918+ NAS \u2014 RAID, volumes, disk\
      \ SMART, temps, NFS exports."
  network.ap.facts.capture:
    capability_id: network.ap.facts.capture
    domain: network
    execution_target: plugin
    safety: read-only
    approval: manual
    target:
      plugin: network
      script: network-ap-facts-capture
      command: ./ops/plugins/network/bin/network-ap-facts-capture
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: capture WiFi AP facts via SSH (TP-Link EAP225 via pve
      jump host). Creds from env or Infisical.'
  network.cutover.preflight:
    capability_id: network.cutover.preflight
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: network
      script: network-cutover-preflight
      command: ./ops/plugins/network/bin/network-cutover-preflight
    agent_id: null
    terminal_affinity: []
    description: Composite pre-cutover verification (template, sequencing, companion
      changepack checks).
  network.home.dhcp.audit:
    capability_id: network.home.dhcp.audit
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: network
      script: network-home-dhcp-audit
      command: ./ops/plugins/network/bin/network-home-dhcp-audit
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: audit home UniFi DHCP reservations against ops/bindings/home.device.registry.yaml.'
  network.home.dhcp.dns.set:
    capability_id: network.home.dhcp.dns.set
    domain: network
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: network
      script: network-home-dhcp-dns-set
      command: ./ops/plugins/network/bin/network-home-dhcp-dns-set
    agent_id: null
    terminal_affinity: []
    description: 'Mutating/manual: set home UDR7 DHCP DNS server(s) for LAN clients
      via UniFi API through proxmox-home.'
  network.home.dhcp.reservation.create:
    capability_id: network.home.dhcp.reservation.create
    domain: network
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: network
      script: network-home-dhcp-reservation-create
      command: ./ops/plugins/network/bin/network-home-dhcp-reservation-create
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: create a DHCP reservation on home UDR7 via UniFi API through
      proxmox-home.'
  network.home.unifi.clients.snapshot:
    capability_id: network.home.unifi.clients.snapshot
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: network
      script: network-home-unifi-clients-snapshot
      command: ./ops/plugins/network/bin/network-home-unifi-clients-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: snapshot home UniFi client list (MAC/IP/name) via UDR7
      API through proxmox-home.'
  network.home.wifi.create:
    capability_id: network.home.wifi.create
    domain: network
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: network
      script: network-home-wifi-create
      command: ./ops/plugins/network/bin/network-home-wifi-create
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: create a new WLAN on home UDR7 via UniFi API through proxmox-home.'
  network.lan.device.status:
    capability_id: network.lan.device.status
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: network
      script: network-lan-device-status
      command: ./ops/plugins/network/bin/network-lan-device-status
    agent_id: null
    terminal_affinity: []
    description: Ping check for LAN-only devices via probe_via host (no credentials,
      read-only).
  network.lan.host.identify:
    capability_id: network.lan.host.identify
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: network
      script: network-lan-host-identify
      command: ./ops/plugins/network/bin/network-lan-host-identify
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: identify LAN host(s) via probe_via (ping + neigh + best-effort
      TCP/HTTP banner).'
  network.md1400.bind_test:
    capability_id: network.md1400.bind_test
    domain: network
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: network
      script: network-md1400-bind-test
      command: ./ops/plugins/network/bin/network-md1400-bind-test
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: hot-bind PM8072 via sysfs new_id on pve with before/after
      evidence capture (lspci/dmesg/lsblk).'
  network.md1400.pm8072.stage:
    capability_id: network.md1400.pm8072.stage
    domain: network
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: network
      script: network-md1400-pm8072-stage
      command: ./ops/plugins/network/bin/network-md1400-pm8072-stage
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: stage persistent pm80xx binding for PM8072 (MD1400 path)
      on pve (fixes incorrect options pm80xx new_id=...).'
  network.nvr.reip.canonical:
    capability_id: network.nvr.reip.canonical
    domain: network
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: network
      script: network-nvr-reip-canonical
      command: ./ops/plugins/network/bin/network-nvr-reip-canonical
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: re-IP Hikvision NVR to canonical .216 via ISAPI (digest
      auth through pve).'
  network.oob.guard.status:
    capability_id: network.oob.guard.status
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: network
      script: network-oob-guard-status
      command: ./ops/plugins/network/bin/network-oob-guard-status
    agent_id: null
    terminal_affinity: []
    description: 'Read-only guard: verify shop LAN (iDRAC/switch/NVR) is reachable
      without relying on pve (subnet router safety gate).'
  network.pve.post_cutover.harden:
    capability_id: network.pve.post_cutover.harden
    domain: network
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: network
      script: network-pve-post-cutover-harden
      command: ./ops/plugins/network/bin/network-pve-post-cutover-harden
    agent_id: null
    terminal_affinity: []
    description: 'Mutating: post-cutover hardening on pve (tailscale accept-routes
      off, DNS upstream fix, prune stale NFS exports).'
  network.shop.audit.canonical:
    capability_id: network.shop.audit.canonical
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: network
      script: network-shop-audit-canonical
      command: ./ops/plugins/network/bin/network-shop-audit-canonical
    agent_id: null
    terminal_affinity: []
    description: 'Canonical shop audit: SSOT parity + live truth (pve) + doc IP trace.
      Requires pve SSH.'
  network.shop.audit.status:
    capability_id: network.shop.audit.status
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: network
      script: network-shop-audit-status
      command: ./ops/plugins/network/bin/network-shop-audit-status
    agent_id: null
    terminal_affinity: []
    description: 'Composite audit: shop network SSOT parity, duplicate IPs, and binding
      coverage (local files only).'
  network.shop.pihole.normalize:
    capability_id: network.shop.pihole.normalize
    domain: network
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: network
      script: network-shop-pihole-normalize
      command: ./ops/plugins/network/bin/network-shop-pihole-normalize
    agent_id: null
    terminal_affinity: []
    description: 'Mutating/manual: normalize shop Pi-hole compose/runtime on infra-core
      from staged authority (compose sync + DNS policy convergence).'
  network.unifi.clients.snapshot:
    capability_id: network.unifi.clients.snapshot
    domain: network
    execution_target: plugin
    safety: read-only
    approval: manual
    target:
      plugin: network
      script: network-unifi-clients-snapshot
      command: ./ops/plugins/network/bin/network-unifi-clients-snapshot
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: snapshot UniFi client list (MAC/IP/name) via UDR6 API
      through pve.'
  nodes.status:
    capability_id: nodes.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ssh
      script: ssh-target-status
      command: ./ops/plugins/ssh/bin/ssh-target-status
    agent_id: null
    terminal_affinity: []
    description: Node/VM reachability across Tier 1-3 estate (alias for ssh.target.status).
  observability.stack.status:
    capability_id: observability.stack.status
    domain: observability
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: observability-stack-status
      command: ./ops/plugins/observability/bin/observability-stack-status
    agent_id: null
    terminal_affinity: []
    description: Unified health check for all 5 observability services on VM 205 (Prometheus,
      Grafana, Loki, Uptime Kuma, Node Exporter).
  orchestration.handoff.validate:
    capability_id: orchestration.handoff.validate
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-handoff-validate
      command: ./ops/plugins/orchestration/bin/orchestration-handoff-validate
    agent_id: null
    terminal_affinity: []
    description: Validate lane handoff against manifest policy (branch/base/files/sequence).
  orchestration.integrate:
    capability_id: orchestration.integrate
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-integrate
      command: ./ops/plugins/orchestration/bin/orchestration-integrate
    agent_id: null
    terminal_affinity: []
    description: Integrate a validated lane commit into main (dry-run default; --apply
      to mutate).
  orchestration.lane.list:
    capability_id: orchestration.lane.list
    domain: orchestration
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-lane
      subcommand: list
      command: ./ops/plugins/orchestration/bin/orchestration-lane list
    agent_id: null
    terminal_affinity: []
    description: List available lane profiles with write scopes and permissions.
  orchestration.lane.open:
    capability_id: orchestration.lane.open
    domain: orchestration
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-lane
      subcommand: open
      command: ./ops/plugins/orchestration/bin/orchestration-lane open
    agent_id: null
    terminal_affinity: []
    description: Open a lane with write-scope enforcement for a terminal.
  orchestration.lane.status:
    capability_id: orchestration.lane.status
    domain: orchestration
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-lane
      subcommand: status
      command: ./ops/plugins/orchestration/bin/orchestration-lane status
    agent_id: null
    terminal_affinity: []
    description: Show all open lanes with terminal assignments and permissions.
  orchestration.loop.close:
    capability_id: orchestration.loop.close
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-loop-close
      command: ./ops/plugins/orchestration/bin/orchestration-loop-close
    agent_id: null
    terminal_affinity: []
    description: Close an orchestration loop after all sequence lanes are integrated.
  orchestration.loop.open:
    capability_id: orchestration.loop.open
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-loop-open
      command: ./ops/plugins/orchestration/bin/orchestration-loop-open
    agent_id: null
    terminal_affinity: []
    description: Create an orchestration manifest and lane scaffold for a loop.
  orchestration.preflight.fast:
    capability_id: orchestration.preflight.fast
    domain: orchestration
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-preflight-fast
      command: ./ops/plugins/orchestration/bin/orchestration-preflight-fast
    agent_id: null
    terminal_affinity: []
    description: Fast non-blocking preflight (<=120s) with go/no-go verdict and blockers.
  orchestration.status:
    capability_id: orchestration.status
    domain: loop_gap
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-status
      command: ./ops/plugins/orchestration/bin/orchestration-status
    agent_id: null
    terminal_affinity: []
    description: Show orchestration loop/ticket/validation/integration status.
  orchestration.terminal.entry:
    capability_id: orchestration.terminal.entry
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-terminal-entry
      command: ./ops/plugins/orchestration/bin/orchestration-terminal-entry
    agent_id: null
    terminal_affinity: []
    description: Resolve strict per-lane orchestration worktree context for launcher
      sessions.
  orchestration.ticket.issue:
    capability_id: orchestration.ticket.issue
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-ticket-issue
      command: ./ops/plugins/orchestration/bin/orchestration-ticket-issue
    agent_id: null
    terminal_affinity: []
    description: Issue a worker-lane ticket with assigned branch/worker metadata.
  orchestration.watcher.enqueue:
    capability_id: orchestration.watcher.enqueue
    domain: orchestration
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-watcher
      subcommand: enqueue
      command: ./ops/plugins/orchestration/bin/orchestration-watcher enqueue
    agent_id: null
    terminal_affinity: []
    description: Enqueue long-running checks to watcher lane (stability, verify, pack).
  orchestration.watcher.status:
    capability_id: orchestration.watcher.status
    domain: orchestration
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-watcher
      subcommand: status
      command: ./ops/plugins/orchestration/bin/orchestration-watcher status
    agent_id: null
    terminal_affinity: []
    description: Show status of background watcher checks across active waves.
  orchestration.wave.ack:
    capability_id: orchestration.wave.ack
    domain: orchestration
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-wave
      subcommand: ack
      command: ./ops/plugins/orchestration/bin/orchestration-wave ack
    agent_id: null
    terminal_affinity: []
    description: Acknowledge a dispatched task completion with result and run key.
  orchestration.wave.close:
    capability_id: orchestration.wave.close
    domain: orchestration
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-wave
      subcommand: close
      command: ./ops/plugins/orchestration/bin/orchestration-wave close
    agent_id: null
    terminal_affinity: []
    description: Close a wave, generate merge receipt with run keys and residual blockers.
  orchestration.wave.collect:
    capability_id: orchestration.wave.collect
    domain: orchestration
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-wave
      subcommand: collect
      command: ./ops/plugins/orchestration/bin/orchestration-wave collect
    agent_id: null
    terminal_affinity: []
    description: Collect and display results from all lanes in a wave.
  orchestration.wave.dispatch:
    capability_id: orchestration.wave.dispatch
    domain: orchestration
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-wave
      subcommand: dispatch
      command: ./ops/plugins/orchestration/bin/orchestration-wave dispatch
    agent_id: null
    terminal_affinity: []
    description: Dispatch a task to a specific lane within an active wave.
  orchestration.wave.receipt.validate:
    capability_id: orchestration.wave.receipt.validate
    domain: orchestration
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-wave
      subcommand: receipt-validate
      command: ./ops/plugins/orchestration/bin/orchestration-wave receipt-validate
    agent_id: null
    terminal_affinity: []
    description: Validate an EXEC_RECEIPT JSON artifact against the canonical schema.
  orchestration.wave.start:
    capability_id: orchestration.wave.start
    domain: orchestration
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-wave
      subcommand: start
      command: ./ops/plugins/orchestration/bin/orchestration-wave start
    agent_id: null
    terminal_affinity: []
    description: Create a new wave with objective for multi-terminal coordination.
  orchestration.wave.status:
    capability_id: orchestration.wave.status
    domain: orchestration
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: orchestration
      script: orchestration-wave
      subcommand: status
      command: ./ops/plugins/orchestration/bin/orchestration-wave status
    agent_id: null
    terminal_affinity: []
    description: Show status of a wave including lanes, dispatches, and watcher checks.
  policy.autotune.propose:
    capability_id: policy.autotune.propose
    domain: aof
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: verify
      script: policy-autotune-propose
      command: ./ops/plugins/verify/bin/policy-autotune-propose
    agent_id: null
    terminal_affinity: []
    description: 'Mutating autotune proposer: submits policy recommendation proposal(s)
      only. Never applies.'
  policy.autotune.weekly:
    capability_id: policy.autotune.weekly
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: policy-autotune-weekly
      command: ./ops/plugins/verify/bin/policy-autotune-weekly
    agent_id: null
    terminal_affinity: []
    description: 'Read-only weekly policy autotune collector: soak, churn, queue friction,
      release quality, and recommendations.'
  policy.runtime.audit:
    capability_id: policy.runtime.audit
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: policy
      script: policy-runtime-audit
      command: ./ops/plugins/policy/bin/policy-runtime-audit
    agent_id: null
    terminal_affinity: []
    description: Report policy knob enforcement wiring status against runtime contract
  prometheus.targets.status:
    capability_id: prometheus.targets.status
    domain: observability
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: prometheus-targets-status
      command: ./ops/plugins/observability/bin/prometheus-targets-status
    agent_id: null
    terminal_affinity: []
    description: "Read-only Prometheus scrape target health \u2014 shows UP/DOWN status\
      \ for each job."
  proposals.apply:
    capability_id: proposals.apply
    domain: loop_gap
    execution_target: plugin
    safety: destructive
    approval: manual
    target:
      plugin: proposals
      script: proposals-apply
      command: ./ops/plugins/proposals/bin/proposals-apply
    agent_id: null
    terminal_affinity:
    - SPINE-CONTROL-01
    description: Apply a change proposal to the repo (creates commit)
  proposals.archive:
    capability_id: proposals.archive
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: proposals
      script: proposals-archive
      command: ./ops/plugins/proposals/bin/proposals-archive
    agent_id: null
    terminal_affinity: []
    description: Archive old applied/superseded proposals to .archived/
  proposals.list:
    capability_id: proposals.list
    domain: loop_gap
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: proposals
      script: proposals-list
      command: ./ops/plugins/proposals/bin/proposals-list
    agent_id: null
    terminal_affinity: []
    description: List all pending change proposals
  proposals.reconcile:
    capability_id: proposals.reconcile
    domain: loop_gap
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: proposals
      script: proposals-reconcile
      command: ./ops/plugins/proposals/bin/proposals-reconcile
    agent_id: null
    terminal_affinity: []
    description: Check proposal manifests against lifecycle contract
  proposals.status:
    capability_id: proposals.status
    domain: loop_gap
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: proposals
      script: proposals-status
      command: ./ops/plugins/proposals/bin/proposals-status
    agent_id: null
    terminal_affinity: []
    description: Proposal queue health summary with SLA breach detection
  proposals.submit:
    capability_id: proposals.submit
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: proposals
      script: proposals-submit
      command: ./ops/plugins/proposals/bin/proposals-submit
    agent_id: null
    terminal_affinity: []
    description: Create a new change proposal in mailroom/outbox/proposals/
  proposals.supersede:
    capability_id: proposals.supersede
    domain: loop_gap
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: proposals
      script: proposals-supersede
      command: ./ops/plugins/proposals/bin/proposals-supersede
    agent_id: null
    terminal_affinity:
    - SPINE-CONTROL-01
    description: Mark a proposal as superseded with reason
  rag.anythingllm.ask:
    capability_id: rag.anythingllm.ask
    domain: rag
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: rag
      script: rag
      subcommand: ask
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/rag/bin/rag
        ask
    agent_id: null
    terminal_affinity: []
    description: Query AnythingLLM workspace (vector RAG); prints answer + sources
      if available
  rag.anythingllm.status:
    capability_id: rag.anythingllm.status
    domain: rag
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: rag
      script: rag
      subcommand: status
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/rag/bin/rag
        status
    agent_id: null
    terminal_affinity: []
    description: Show AnythingLLM workspace document count (requires AnythingLLM API
      key)
  rag.anythingllm.sync:
    capability_id: rag.anythingllm.sync
    domain: rag
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: rag
      script: rag
      subcommand: sync
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/rag/bin/rag
        sync
    agent_id: null
    terminal_affinity: []
    description: Index governed spine docs into AnythingLLM workspace (bulk upload
      + embed)
  rag.anythingllm.tune:
    capability_id: rag.anythingllm.tune
    domain: rag
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: rag
      script: anythingllm-tune
      command: ./ops/plugins/rag/bin/anythingllm-tune
    agent_id: null
    terminal_affinity: []
    description: Tune AnythingLLM on ai-consolidation (set Ollama chat model; recreate
      container)
  rag.embedding.probe:
    capability_id: rag.embedding.probe
    domain: rag
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: rag
      script: rag-embedding-probe
      command: ./ops/plugins/rag/bin/rag-embedding-probe
    agent_id: null
    terminal_affinity: []
    description: "Probe embedding backend health \u2014 repeated embedding requests\
      \ with dimension/latency/HTTP checks"
  rag.health:
    capability_id: rag.health
    domain: rag
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: rag
      script: rag
      subcommand: health
      command: ./ops/plugins/rag/bin/rag health
    agent_id: null
    terminal_affinity: []
    description: RAG health probe (AnythingLLM ping + Qdrant healthz)
  rag.mcp.server:
    capability_id: rag.mcp.server
    domain: rag
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: rag
      script: rag-mcp-server
      command: python3 ./ops/plugins/rag/bin/rag-mcp-server
    agent_id: null
    terminal_affinity: []
    description: MCP stdio server adapter wrapping RAG query/retrieve/health for Claude
      Code tool calls
  rag.reindex.remote.start:
    capability_id: rag.reindex.remote.start
    domain: rag
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: rag
      script: rag-reindex-remote-start
      command: ./ops/plugins/rag/bin/rag-reindex-remote-start
    agent_id: null
    terminal_affinity: []
    description: Start detached/server-side RAG reindex on VM 207 (dry-run by default)
  rag.reindex.remote.status:
    capability_id: rag.reindex.remote.status
    domain: rag
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: rag
      script: rag-reindex-remote-status
      command: ./ops/plugins/rag/bin/rag-reindex-remote-status
    agent_id: null
    terminal_affinity: []
    description: Read detached/server-side RAG reindex progress/session/log status
  rag.reindex.remote.stop:
    capability_id: rag.reindex.remote.stop
    domain: rag
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: rag
      script: rag-reindex-remote-stop
      command: ./ops/plugins/rag/bin/rag-reindex-remote-stop
    agent_id: null
    terminal_affinity: []
    description: Stop detached/server-side RAG reindex session (dry-run by default)
  rag.reindex.remote.verify:
    capability_id: rag.reindex.remote.verify
    domain: rag
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: rag
      script: rag-reindex-remote-verify
      command: ./ops/plugins/secrets/bin/secrets-exec -- ./ops/plugins/rag/bin/rag-reindex-remote-verify
    agent_id: null
    terminal_affinity: []
    description: Verify RAG reindex completion quality against rag.reindex.quality.yaml
      contract
  rag.reindex.smoke:
    capability_id: rag.reindex.smoke
    domain: rag
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: rag
      script: rag-reindex-smoke
      command: ./ops/plugins/rag/bin/rag-reindex-smoke
    agent_id: null
    terminal_affinity: []
    description: "Short-batch smoke test \u2014 upload N docs to validate embedding\
      \ pipeline before full reindex"
  rag.remote.dependency.probe:
    capability_id: rag.remote.dependency.probe
    domain: rag
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: rag
      script: rag-remote-dependency-probe
      command: ./ops/plugins/rag/bin/rag-remote-dependency-probe
    agent_id: null
    terminal_affinity: []
    description: Probe RAG dependencies (AnythingLLM/Qdrant/Ollama) from VM207 perspective
      with timing SLOs
  receipts.index.build:
    capability_id: receipts.index.build
    domain: receipts
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: evidence
      script: receipts-index-build
      command: ./ops/plugins/evidence/bin/receipts-index-build
    agent_id: null
    terminal_affinity: []
    description: Build or refresh receipts intelligence index (incremental by default).
  receipts.rotate:
    capability_id: receipts.rotate
    domain: receipts
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: evidence
      script: receipts-rotate
      command: ./ops/plugins/evidence/bin/receipts-rotate
    agent_id: null
    terminal_affinity: []
    description: Archive receipt sessions older than retention policy (dry-run by
      default; --execute to mutate).
  receipts.search:
    capability_id: receipts.search
    domain: receipts
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: evidence
      script: receipts-search
      command: ./ops/plugins/evidence/bin/receipts-search
    agent_id: null
    terminal_affinity: []
    description: Search receipts by status/capability/time window.
  receipts.summary:
    capability_id: receipts.summary
    domain: receipts
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: evidence
      script: receipts-summary
      command: ./ops/plugins/evidence/bin/receipts-summary
    agent_id: null
    terminal_affinity: []
    description: Receipts summary for a configurable time window (total/pass/fail/top
      capabilities).
  receipts.trends:
    capability_id: receipts.trends
    domain: receipts
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: evidence
      script: receipts-trends
      command: ./ops/plugins/evidence/bin/receipts-trends
    agent_id: null
    terminal_affinity: []
    description: Daily receipts trend report with failure-rate rollup.
  recyclarr.sync:
    capability_id: recyclarr.sync
    domain: media
    execution_target: builtin
    safety: mutating
    approval: manual
    target:
      command: ssh ubuntu@100.107.36.76 'sudo docker exec recyclarr recyclarr sync'
    agent_id: null
    terminal_affinity: []
    description: Run Recyclarr sync on VM 209 to apply quality profile governance
  schema.conventions.audit:
    capability_id: schema.conventions.audit
    domain: schema
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: schema-conventions-audit
      subcommand: --mode
      command: ./ops/plugins/verify/bin/schema-conventions-audit --mode full --report
    agent_id: null
    terminal_affinity: []
    description: Audit spine binding schema conventions and emit normalization report.
  secrets.auth.load:
    capability_id: secrets.auth.load
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-auth-load
      command: ./ops/plugins/secrets/bin/secrets-auth-load
    agent_id: null
    terminal_affinity: []
    description: Validate Infisical Universal Auth creds file exists + perms; print
      one-liner to source it. Does NOT store secrets.
  secrets.auth.status:
    capability_id: secrets.auth.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-auth-status
      command: ./ops/plugins/secrets/bin/secrets-auth-status
    agent_id: null
    terminal_affinity: []
    description: Check secrets auth presence for Infisical (NO values). STOP if missing.
  secrets.binding:
    capability_id: secrets.binding
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-binding
      command: ./ops/plugins/secrets/bin/secrets-binding
    agent_id: null
    terminal_affinity: []
    description: Print non-secret secrets provider binding (SSOT). STOP if incomplete.
  secrets.bundle.apply:
    capability_id: secrets.bundle.apply
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-bundle-apply
      command: ./ops/plugins/secrets/bin/secrets-bundle-apply
    agent_id: null
    terminal_affinity: []
    description: 'Canonical CLI bundle rotation for secrets (write + verify + legacy-shadow
      detection). Example: secrets.bundle.apply finance --clipboard --sync-local-env'
  secrets.bundle.verify:
    capability_id: secrets.bundle.verify
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-bundle-apply
      subcommand: --verify-only
      command: ./ops/plugins/secrets/bin/secrets-bundle-apply --verify-only
    agent_id: null
    terminal_affinity: []
    description: 'Verify canonical secret bundle routes + endpoint auth checks without
      mutation. Example: secrets.bundle.verify finance'
  secrets.cli.status:
    capability_id: secrets.cli.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-cli-status
      command: ./ops/plugins/secrets/bin/secrets-cli-status
    agent_id: null
    terminal_affinity: []
    description: 'Hash parity check: canonical (spine) vs vendored (workbench) infisical-agent.sh.'
  secrets.credentials.parity:
    capability_id: secrets.credentials.parity
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-credentials-parity
      command: ./ops/plugins/secrets/bin/secrets-credentials-parity
    agent_id: null
    terminal_affinity: []
    description: Audit Infisical credentials file parity across declared nodes (non-secret
      output only).
  secrets.exec:
    capability_id: secrets.exec
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-exec
      command: ./ops/plugins/secrets/bin/secrets-exec
    agent_id: null
    terminal_affinity: []
    description: Run a command with secrets injected (Infisical). Requires secrets.binding
      + secrets.auth.status OK.
  secrets.identity.rbac.lock:
    capability_id: secrets.identity.rbac.lock
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: secrets
      script: secrets-identity-rbac-lock
      command: ./ops/plugins/secrets/bin/secrets-identity-rbac-lock
    agent_id: null
    terminal_affinity: []
    description: Downgrade identity roles on deprecated projects to viewer (dry-run
      by default, --execute to mutate).
  secrets.identity.rbac.status:
    capability_id: secrets.identity.rbac.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-identity-rbac-status
      command: ./ops/plugins/secrets/bin/secrets-identity-rbac-status
    agent_id: null
    terminal_affinity: []
    description: Probe identity project memberships and roles (no secret values).
      Reports deprecated_writable count.
  secrets.inventory.status:
    capability_id: secrets.inventory.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-inventory-status
      command: ./ops/plugins/secrets/bin/secrets-inventory-status
    agent_id: null
    terminal_affinity: []
    description: Read-only SSOT inventory (project names + counts). No network, no
      secrets values.
  secrets.namespace.status:
    capability_id: secrets.namespace.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-namespace-status
      command: ./ops/plugins/secrets/bin/secrets-namespace-status
    agent_id: null
    terminal_affinity: []
    description: Read-only namespace hygiene for bound Infisical project (required
      key paths + root-path freeze regression check).
  secrets.p1.root_cleanup.execute:
    capability_id: secrets.p1.root_cleanup.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --execute
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --execute
    agent_id: null
    terminal_affinity: []
    description: Execute guarded P1 root-path cleanup (delete only root copies after
      parity checks).
  secrets.p1.root_cleanup.status:
    capability_id: secrets.p1.root_cleanup.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup
    agent_id: null
    terminal_affinity: []
    description: Dry-run guarded check for P1 root-path cleanup eligibility (no deletes).
  secrets.p2.copy_first.execute:
    capability_id: secrets.p2.copy_first.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/network/edge
        --execute
    agent_id: null
    terminal_affinity: []
    description: Execute copy-first for P2 edge/network keys from root to /spine/network/edge.
  secrets.p2.copy_first.status:
    capability_id: secrets.p2.copy_first.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/network/edge
    agent_id: null
    terminal_affinity: []
    description: Dry-run copy-first guard for P2 edge/network keys from root to /spine/network/edge.
  secrets.p2.root_cleanup.execute:
    capability_id: secrets.p2.root_cleanup.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --execute
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --execute --target-path
        /spine/network/edge
    agent_id: null
    terminal_affinity: []
    description: Execute guarded P2 root-path cleanup (delete only root copies after
      parity checks).
  secrets.p2.root_cleanup.status:
    capability_id: secrets.p2.root_cleanup.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --target-path /spine/network/edge
    agent_id: null
    terminal_affinity: []
    description: Dry-run guarded check for P2 root-path cleanup eligibility (no deletes).
  secrets.p3.copy_first.execute:
    capability_id: secrets.p3.copy_first.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/storage/nas
        --execute
    agent_id: null
    terminal_affinity: []
    description: Execute copy-first for P3 storage/NAS keys from root to /spine/storage/nas.
  secrets.p3.copy_first.status:
    capability_id: secrets.p3.copy_first.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/storage/nas
    agent_id: null
    terminal_affinity: []
    description: Dry-run copy-first guard for P3 storage/NAS keys from root to /spine/storage/nas.
  secrets.p3.root_cleanup.execute:
    capability_id: secrets.p3.root_cleanup.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --execute
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --execute --target-path
        /spine/storage/nas
    agent_id: null
    terminal_affinity: []
    description: Execute guarded P3 root-path cleanup (delete only root copies after
      parity checks).
  secrets.p3.root_cleanup.status:
    capability_id: secrets.p3.root_cleanup.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --target-path /spine/storage/nas
    agent_id: null
    terminal_affinity: []
    description: Dry-run guarded check for P3 root-path cleanup eligibility (no deletes).
  secrets.p4.copy_first.execute:
    capability_id: secrets.p4.copy_first.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/integrations/commerce-mail
        --execute
    agent_id: null
    terminal_affinity: []
    description: Execute copy-first for P4 commerce/mail keys from root to /spine/integrations/commerce-mail.
  secrets.p4.copy_first.status:
    capability_id: secrets.p4.copy_first.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/integrations/commerce-mail
    agent_id: null
    terminal_affinity: []
    description: Dry-run copy-first guard for P4 commerce/mail keys from root to /spine/integrations/commerce-mail.
  secrets.p4.root_cleanup.execute:
    capability_id: secrets.p4.root_cleanup.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --execute
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --execute --target-path
        /spine/integrations/commerce-mail
    agent_id: null
    terminal_affinity: []
    description: Execute guarded P4 root-path cleanup (delete only root copies after
      parity checks).
  secrets.p4.root_cleanup.status:
    capability_id: secrets.p4.root_cleanup.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --target-path /spine/integrations/commerce-mail
    agent_id: null
    terminal_affinity: []
    description: Dry-run guarded check for P4 root-path cleanup eligibility (no deletes).
  secrets.p5.finance.copy_first.execute:
    capability_id: secrets.p5.finance.copy_first.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/services/finance
        --execute
    agent_id: null
    terminal_affinity: []
    description: Execute copy-first for P5 finance keys from root to /spine/services/finance.
  secrets.p5.finance.copy_first.status:
    capability_id: secrets.p5.finance.copy_first.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/services/finance
    agent_id: null
    terminal_affinity: []
    description: Dry-run copy-first guard for P5 finance keys from root to /spine/services/finance.
  secrets.p5.finance.root_cleanup.execute:
    capability_id: secrets.p5.finance.root_cleanup.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --execute
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --execute --target-path
        /spine/services/finance
    agent_id: null
    terminal_affinity: []
    description: Execute guarded P5 finance root-path cleanup (delete only root copies
      after parity checks).
  secrets.p5.finance.root_cleanup.status:
    capability_id: secrets.p5.finance.root_cleanup.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --target-path /spine/services/finance
    agent_id: null
    terminal_affinity: []
    description: Dry-run guarded check for P5 finance root-path cleanup eligibility
      (no deletes).
  secrets.p5.immich.copy_first.execute:
    capability_id: secrets.p5.immich.copy_first.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/services/immich
        --execute
    agent_id: null
    terminal_affinity: []
    description: Execute copy-first for P5 Immich keys from root to /spine/services/immich.
  secrets.p5.immich.copy_first.status:
    capability_id: secrets.p5.immich.copy_first.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/services/immich
    agent_id: null
    terminal_affinity: []
    description: Dry-run copy-first guard for P5 Immich keys from root to /spine/services/immich.
  secrets.p5.immich.root_cleanup.execute:
    capability_id: secrets.p5.immich.root_cleanup.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --execute
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --execute --target-path
        /spine/services/immich
    agent_id: null
    terminal_affinity: []
    description: Execute guarded P5 Immich root-path cleanup (delete only root copies
      after parity checks).
  secrets.p5.immich.root_cleanup.status:
    capability_id: secrets.p5.immich.root_cleanup.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --target-path /spine/services/immich
    agent_id: null
    terminal_affinity: []
    description: Dry-run guarded check for P5 Immich root-path cleanup eligibility
      (no deletes).
  secrets.p5.mail_archiver.copy_first.execute:
    capability_id: secrets.p5.mail_archiver.copy_first.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/services/mail-archiver
        --execute
    agent_id: null
    terminal_affinity: []
    description: Execute copy-first for P5 mail-archiver keys from root to /spine/services/mail-archiver.
  secrets.p5.mail_archiver.copy_first.status:
    capability_id: secrets.p5.mail_archiver.copy_first.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/services/mail-archiver
    agent_id: null
    terminal_affinity: []
    description: Dry-run copy-first guard for P5 mail-archiver keys from root to /spine/services/mail-archiver.
  secrets.p5.mail_archiver.root_cleanup.execute:
    capability_id: secrets.p5.mail_archiver.root_cleanup.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --execute
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --execute --target-path
        /spine/services/mail-archiver
    agent_id: null
    terminal_affinity: []
    description: Execute guarded P5 mail-archiver root-path cleanup (delete only root
      copies after parity checks).
  secrets.p5.mail_archiver.root_cleanup.status:
    capability_id: secrets.p5.mail_archiver.root_cleanup.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --target-path /spine/services/mail-archiver
    agent_id: null
    terminal_affinity: []
    description: Dry-run guarded check for P5 mail-archiver root-path cleanup eligibility
      (no deletes).
  secrets.p5.mcpjungle.copy_first.execute:
    capability_id: secrets.p5.mcpjungle.copy_first.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/services/mcpjungle
        --execute
    agent_id: null
    terminal_affinity: []
    description: Execute copy-first for P5 mcpjungle keys from root to /spine/services/mcpjungle.
  secrets.p5.mcpjungle.copy_first.status:
    capability_id: secrets.p5.mcpjungle.copy_first.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/services/mcpjungle
    agent_id: null
    terminal_affinity: []
    description: Dry-run copy-first guard for P5 mcpjungle keys from root to /spine/services/mcpjungle.
  secrets.p5.mcpjungle.root_cleanup.execute:
    capability_id: secrets.p5.mcpjungle.root_cleanup.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --execute
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --execute --target-path
        /spine/services/mcpjungle
    agent_id: null
    terminal_affinity: []
    description: Execute guarded P5 mcpjungle root-path cleanup (delete only root
      copies after parity checks).
  secrets.p5.mcpjungle.root_cleanup.status:
    capability_id: secrets.p5.mcpjungle.root_cleanup.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --target-path /spine/services/mcpjungle
    agent_id: null
    terminal_affinity: []
    description: Dry-run guarded check for P5 mcpjungle root-path cleanup eligibility
      (no deletes).
  secrets.p5.paperless.copy_first.execute:
    capability_id: secrets.p5.paperless.copy_first.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/services/paperless
        --execute
    agent_id: null
    terminal_affinity: []
    description: Execute copy-first for P5 paperless keys from root to /spine/services/paperless.
  secrets.p5.paperless.copy_first.status:
    capability_id: secrets.p5.paperless.copy_first.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/services/paperless
    agent_id: null
    terminal_affinity: []
    description: Dry-run copy-first guard for P5 paperless keys from root to /spine/services/paperless.
  secrets.p5.paperless.root_cleanup.execute:
    capability_id: secrets.p5.paperless.root_cleanup.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --execute
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --execute --target-path
        /spine/services/paperless
    agent_id: null
    terminal_affinity: []
    description: Execute guarded P5 paperless root-path cleanup (delete only root
      copies after parity checks).
  secrets.p5.paperless.root_cleanup.status:
    capability_id: secrets.p5.paperless.root_cleanup.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --target-path /spine/services/paperless
    agent_id: null
    terminal_affinity: []
    description: Dry-run guarded check for P5 paperless root-path cleanup eligibility
      (no deletes).
  secrets.p6.ai.copy_first.execute:
    capability_id: secrets.p6.ai.copy_first.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/ai/providers
        --execute
    agent_id: null
    terminal_affinity: []
    description: Execute copy-first for P6 AI keys from root to /spine/ai/providers.
  secrets.p6.ai.copy_first.status:
    capability_id: secrets.p6.ai.copy_first.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-cohort-copy-first
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-cohort-copy-first --target-path /spine/ai/providers
    agent_id: null
    terminal_affinity: []
    description: Dry-run copy-first guard for P6 AI keys from root to /spine/ai/providers.
  secrets.p6.ai.root_cleanup.execute:
    capability_id: secrets.p6.ai.root_cleanup.execute
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: operator
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --execute
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --execute --target-path
        /spine/ai/providers
    agent_id: null
    terminal_affinity: []
    description: Execute guarded P6 AI key root-path cleanup (delete only root copies
      after parity checks).
  secrets.p6.ai.root_cleanup.status:
    capability_id: secrets.p6.ai.root_cleanup.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-p1-root-cleanup
      subcommand: --target-path
      command: ./ops/plugins/secrets/bin/secrets-p1-root-cleanup --target-path /spine/ai/providers
    agent_id: null
    terminal_affinity: []
    description: Dry-run guarded check for P6 AI key root-path cleanup eligibility
      (no deletes).
  secrets.projects.status:
    capability_id: secrets.projects.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-projects-status
      command: ./ops/plugins/secrets/bin/secrets-projects-status
    agent_id: null
    terminal_affinity: []
    description: Compare SSOT inventory vs live Infisical projects. Reports parity
      deltas (names only, no secrets).
  secrets.runway.status:
    capability_id: secrets.runway.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-runway-status
      command: ./ops/plugins/secrets/bin/secrets-runway-status
    agent_id: null
    terminal_affinity: []
    description: 'Container/domain secrets runway audit: checks active compose stacks
      + required domain keys against canonical project/path routing.'
  secrets.set.interactive:
    capability_id: secrets.set.interactive
    domain: secrets
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: secrets
      script: secrets-set-interactive
      command: ./ops/plugins/secrets/bin/secrets-set-interactive
    agent_id: null
    terminal_affinity: []
    description: Interactive secret setter (read -s, no values printed). Uses infisical-agent.sh.
  secrets.status:
    capability_id: secrets.status
    domain: secrets
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: secrets
      script: secrets-status
      command: ./ops/plugins/secrets/bin/secrets-status
    agent_id: null
    terminal_affinity: []
    description: Check secrets configuration presence (no values, no network). Fails
      if not configured.
  services.health.status:
    capability_id: services.health.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: services
      script: services-health-status
      command: ./ops/plugins/services/bin/services-health-status
    agent_id: null
    terminal_affinity: []
    description: Read-only HTTP health probe for declared service endpoints (no auth,
      no verbose).
  session.handoff.close:
    capability_id: session.handoff.close
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: handoff
      script: session-handoff-close
      command: ./ops/plugins/handoff/bin/session-handoff-close
    agent_id: null
    terminal_affinity: []
    description: Close an active handoff with a resolution note.
  session.handoff.create:
    capability_id: session.handoff.create
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: handoff
      script: session-handoff-create
      command: ./ops/plugins/handoff/bin/session-handoff-create
    agent_id: null
    terminal_affinity: []
    description: Create a cross-session handoff artifact for active loop execution.
  session.handoff.expire:
    capability_id: session.handoff.expire
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: handoff
      script: session-handoff-expire
      command: ./ops/plugins/handoff/bin/session-handoff-expire
    agent_id: null
    terminal_affinity: []
    description: Expire stale active handoffs whose TTL has elapsed.
  session.handoff.get:
    capability_id: session.handoff.get
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: handoff
      script: session-handoff-get
      command: ./ops/plugins/handoff/bin/session-handoff-get
    agent_id: null
    terminal_affinity: []
    description: Read a specific session handoff artifact by ID.
  session.handoff.list:
    capability_id: session.handoff.list
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: handoff
      script: session-handoff-list
      command: ./ops/plugins/handoff/bin/session-handoff-list
    agent_id: null
    terminal_affinity: []
    description: List handoff artifacts filtered by lifecycle state.
  session.handoff.status:
    capability_id: session.handoff.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: handoff
      script: session-handoff-status
      command: ./ops/plugins/handoff/bin/session-handoff-status
    agent_id: null
    terminal_affinity: []
    description: Show handoff dashboard counts (active/closed/expired).
  session.start:
    capability_id: session.start
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: session
      script: session-start
      command: ./ops/plugins/session/bin/session-start
    agent_id: null
    terminal_affinity: []
    description: Initialize a governed spine session. Defaults to fast startup with
      no args; supports full mode and lane-based session wiring.
  share.publish.apply:
    capability_id: share.publish.apply
    domain: share
    execution_target: plugin
    safety: destructive
    approval: manual
    target:
      plugin: share
      script: share-publish-apply
      command: ./ops/plugins/share/bin/share-publish-apply
    agent_id: null
    terminal_affinity: []
    description: Push curated content to share channel (dry-run by default; use --execute
      to push)
  share.publish.preflight:
    capability_id: share.publish.preflight
    domain: share
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: share
      script: share-publish-preflight
      command: ./ops/plugins/share/bin/share-publish-preflight
    agent_id: null
    terminal_affinity: []
    description: Read-only pre-flight checks for share publish (clean tree, bindings,
      remote)
  share.publish.preview:
    capability_id: share.publish.preview
    domain: share
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: share
      script: share-publish-preview
      command: ./ops/plugins/share/bin/share-publish-preview
    agent_id: null
    terminal_affinity: []
    description: Read-only preview of publishable files (allowlist scan + denylist
      content check)
  share.publish.status:
    capability_id: share.publish.status
    domain: share
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: share
      script: share-publish-status
      command: ./ops/plugins/share/bin/share-publish-status
    agent_id: null
    terminal_affinity: []
    description: Single-command readiness report for share publish (aggregates preflight
      + preview)
  slo.evidence.daily:
    capability_id: slo.evidence.daily
    domain: observability
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: slo
      script: slo-evidence-daily
      command: ./ops/plugins/slo/bin/slo-evidence-daily
    agent_id: null
    terminal_affinity: []
    description: Collect daily SLO evidence (stability snapshot + verify pack) and
      write dated audit file
  spine.audit.triage:
    capability_id: spine.audit.triage
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: audit
      script: audit-triage
      command: ./ops/plugins/audit/bin/audit-triage
    agent_id: null
    terminal_affinity: []
    description: Triage certification audit findings against tracked gaps and loops
  spine.briefing:
    capability_id: spine.briefing
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: briefing
      script: spine-briefing
      command: ./ops/plugins/briefing/bin/spine-briefing
    agent_id: null
    terminal_affinity: []
    description: Generate unified daily briefing (stability, work, verify, calendar,
      alerts, handoffs).
  spine.context:
    capability_id: spine.context
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: context
      script: spine-context
      command: ./ops/plugins/context/bin/spine-context
    agent_id: null
    terminal_affinity: []
    description: "Dynamic governance context delivery \u2014 serves governance brief\
      \ + live spine state + agent summary. Replaces static embed injection in session\
      \ hooks."
  spine.control.cycle:
    capability_id: spine.control.cycle
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: evidence
      script: spine-control
      subcommand: cycle
      command: ./ops/plugins/evidence/bin/spine-control cycle
    agent_id: null
    terminal_affinity:
    - SPINE-EXECUTION-01
    description: 'Mutating/manual autonomous observe-plan-act cycle: executes capability
      actions and delegates agent_tool routes into governed mailroom tasks.'
  spine.control.execute:
    capability_id: spine.control.execute
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: evidence
      script: spine-control
      subcommand: execute
      command: ./ops/plugins/evidence/bin/spine-control execute
    agent_id: null
    terminal_affinity:
    - SPINE-EXECUTION-01
    description: Mutating/manual execution of selected control-plan actions with receipt
      linkage and control-plane latest artifact output.
  spine.control.plan:
    capability_id: spine.control.plan
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: evidence
      script: spine-control
      subcommand: plan
      command: ./ops/plugins/evidence/bin/spine-control plan
    agent_id: null
    terminal_affinity:
    - SPINE-EXECUTION-01
    description: Read-only prioritized next-action queue with deterministic route
      targets (capability vs agent tool).
  spine.control.tick:
    capability_id: spine.control.tick
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: evidence
      script: spine-control
      subcommand: tick
      command: ./ops/plugins/evidence/bin/spine-control tick
    agent_id: null
    terminal_affinity:
    - SPINE-EXECUTION-01
    description: Read-only control-plane aggregation across loops/gaps/proposals/calendar/alerts/handoffs/timeline/verify
      signals.
  spine.graph.show:
    capability_id: spine.graph.show
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: evidence
      script: spine-graph-show
      command: ./ops/plugins/evidence/bin/spine-graph-show
    agent_id: null
    terminal_affinity: []
    description: Render canonical spine execution graph views (mermaid/json/yaml).
  spine.mcp.serve:
    capability_id: spine.mcp.serve
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: mcp-gateway
      script: spine-mcp-serve
      command: python3 ./ops/plugins/mcp-gateway/bin/spine-mcp-serve
    agent_id: null
    terminal_affinity: []
    description: Unified MCP gateway server (stdio) for governed capability execution
      and discovery.
  spine.release.zip:
    capability_id: spine.release.zip
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: release
      script: spine-release-zip
      command: ./ops/plugins/release/bin/spine-release-zip
    agent_id: null
    terminal_affinity: []
    description: Build a sharable zip artifact of the spine repo at HEAD (mailroom/outbox).
  spine.replay:
    capability_id: spine.replay
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: replay-test.sh
      subcommand: --compare
      command: ./surfaces/verify/replay-test.sh --compare
    agent_id: null
    terminal_affinity: []
    description: Run replay test to verify determinism
  spine.ripple.check:
    capability_id: spine.ripple.check
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: infra
      script: ripple-check
      command: ./ops/plugins/infra/bin/ripple-check
    agent_id: null
    terminal_affinity: []
    description: List all binding/SSOT files referencing a given host (mutation impact
      check)
  spine.status:
    capability_id: spine.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: inbox
      script: agent-status.sh
      command: ./ops/runtime/inbox/agent-status.sh
    agent_id: null
    terminal_affinity: []
    description: Show watcher and queue status
  spine.terminal.launch:
    capability_id: spine.terminal.launch
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ops
      script: terminal-launch.sh
      command: ./ops/commands/terminal-launch.sh
    agent_id: null
    terminal_affinity: []
    description: "Lane-aware terminal launcher \u2014 list lanes/loops and launch\
      \ terminals with profile selection."
  spine.timeline.query:
    capability_id: spine.timeline.query
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: evidence
      script: spine-timeline-query
      command: ./ops/plugins/evidence/bin/spine-timeline-query
    agent_id: null
    terminal_affinity: []
    description: Query normalized timeline events from receipts index + runtime/repo
      state surfaces.
  spine.timeline.report:
    capability_id: spine.timeline.report
    domain: core
    execution_target: plugin
    safety: mutating
    approval: auto
    target:
      plugin: evidence
      script: spine-timeline-report
      command: ./ops/plugins/evidence/bin/spine-timeline-report
    agent_id: null
    terminal_affinity: []
    description: Write timeline audit reports to runtime outbox audits. Mutating;
      writer-lane only in multi-terminal mode (proposal/apply flow).
  spine.verify:
    capability_id: spine.verify
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: spine-verify.sh
      command: ./surfaces/verify/spine-verify.sh
    agent_id: null
    terminal_affinity:
    - SPINE-AUDIT-01
    description: Run drift gates to verify spine health
  spine.watcher.restart:
    capability_id: spine.watcher.restart
    domain: core
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: inbox
      script: agent-restart.sh
      command: ./ops/runtime/inbox/agent-restart.sh
    agent_id: null
    terminal_affinity:
    - SPINE-WATCHER-01
    description: Restart the canonical launchd watcher (bootout + bootstrap)
  spine.watcher.status:
    capability_id: spine.watcher.status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: inbox
      script: agent-status.sh
      command: ./ops/runtime/inbox/agent-status.sh
    agent_id: null
    terminal_affinity:
    - SPINE-WATCHER-01
    description: Canonical watcher status (launchd + PID + lock + queue counts)
  spine.work.index:
    capability_id: spine.work.index
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: work-index
      script: work-index
      command: ./ops/plugins/work-index/bin/work-index
    agent_id: null
    terminal_affinity: []
    description: Unified runtime work index over gaps, loop scopes, and proposals
      with optional domain filter.
  ssh.target.status:
    capability_id: ssh.target.status
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ssh
      script: ssh-target-status
      command: ./ops/plugins/ssh/bin/ssh-target-status
    agent_id: null
    terminal_affinity: []
    description: Connectivity status for declared SSH targets (read-only, no prompts,
      no known_hosts writes).
  stability.control.reconcile:
    capability_id: stability.control.reconcile
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: stability-control-reconcile
      command: ./ops/plugins/observability/bin/stability-control-reconcile
    agent_id: null
    terminal_affinity: []
    description: Guided-only reconcile planner that prints exact manual recovery commands
      for degraded critical domains (aligned to snapshot incident set).
  stability.control.snapshot:
    capability_id: stability.control.snapshot
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: stability-control-snapshot
      command: ./ops/plugins/observability/bin/stability-control-snapshot
    agent_id: null
    terminal_affinity:
    - SPINE-CONTROL-01
    - SPINE-AUDIT-01
    description: Runtime reliability + predictive snapshot for critical domains (automation,
      finance, Z2M, Immich) with VM headroom/latency scoring.
  stabilization.mode.status:
    capability_id: stabilization.mode.status
    domain: stabilization
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: tenant
      script: stabilization-mode-status
      command: ./ops/plugins/tenant/bin/stabilization-mode-status
    agent_id: null
    terminal_affinity: []
    description: Show stabilization window status, verify bypass targets, and required
      preflight capability.
  surface.audit.full:
    capability_id: surface.audit.full
    domain: surface
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: surface-audit-full
      command: ./ops/plugins/verify/bin/surface-audit-full
    agent_id: null
    terminal_affinity: []
    description: Run full surface parity audit and emit certification report under
      docs/governance/_audits.
  surface.boundary.audit:
    capability_id: surface.boundary.audit
    domain: surface
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: surface
      script: surface-boundary-audit
      command: ./ops/plugins/surface/bin/surface-boundary-audit
    agent_id: null
    terminal_affinity: []
    description: Audit spine boundary contract violations (workbench-owned and runtime-only
      artifacts misplaced in spine).
  surface.boundary.reconcile.plan:
    capability_id: surface.boundary.reconcile.plan
    domain: surface
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: surface
      script: surface-boundary-reconcile-plan
      command: ./ops/plugins/surface/bin/surface-boundary-reconcile-plan
    agent_id: null
    terminal_affinity: []
    description: Emit deterministic reconcile plan for boundary violations with exact
      move/archive targets.
  surface.mobile.dashboard.status:
    capability_id: surface.mobile.dashboard.status
    domain: surface
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: evidence
      script: spine-control
      subcommand: tick
      command: ./ops/plugins/evidence/bin/spine-control tick --json
    agent_id: null
    terminal_affinity: []
    description: Mobile/customer read-only dashboard summary as JSON envelope from
      spine control tick.
  surface.readonly.audit:
    capability_id: surface.readonly.audit
    domain: surface
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: surface
      script: surface-readonly-audit
      command: ./ops/plugins/surface/bin/surface-readonly-audit
    agent_id: null
    terminal_affinity: []
    description: Verify surface readonly contract compliance and capability coverage
  switch.health.status:
    capability_id: switch.health.status
    domain: network
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: observability
      script: switch-health-status
      command: ./ops/plugins/observability/bin/switch-health-status
    agent_id: null
    terminal_affinity: []
    description: "Dell N2024P managed switch health via PVE jump host \u2014 SSH probe\
      \ with ping fallback."
  tenant.profile.validate:
    capability_id: tenant.profile.validate
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: tenant
      script: tenant-profile-validate
      command: ./ops/plugins/tenant/bin/tenant-profile-validate
    agent_id: null
    terminal_affinity: []
    description: Validate a tenant profile YAML against the AOF tenant schema
  tenant.provision.dry-run:
    capability_id: tenant.provision.dry-run
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: tenant
      script: tenant-provision-dry-run
      command: ./ops/plugins/tenant/bin/tenant-provision-dry-run
    agent_id: null
    terminal_affinity: []
    description: Print deterministic provisioning plan from a tenant profile (no mutation)
  tenant.storage.audit:
    capability_id: tenant.storage.audit
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: tenant
      script: tenant-storage-audit
      command: ./ops/plugins/tenant/bin/tenant-storage-audit
    agent_id: null
    terminal_affinity: []
    description: Verify runtime storage paths comply with tenant storage contract
      boundaries
  terminal.contract.status:
    capability_id: terminal.contract.status
    domain: terminal
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: session
      script: terminal-contract-status
      command: ./ops/plugins/session/bin/terminal-contract-status
    agent_id: null
    terminal_affinity: []
    description: Validate terminal role contract completeness, freshness, and cross-reference
      parity.
  terminal.heartbeat.post:
    capability_id: terminal.heartbeat.post
    domain: terminal
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: session
      script: terminal-heartbeat-post
      command: ./ops/plugins/session/bin/terminal-heartbeat-post
    agent_id: null
    terminal_affinity: []
    description: Write terminal heartbeat evidence for scope ownership and collision
      checks.
  terminal.scope.status:
    capability_id: terminal.scope.status
    domain: terminal
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: session
      script: terminal-scope-status
      command: ./ops/plugins/session/bin/terminal-scope-status
    agent_id: null
    terminal_affinity: []
    description: Read active terminal heartbeats and detect overlapping write scopes.
  uptime.kuma.monitors.sync:
    capability_id: uptime.kuma.monitors.sync
    domain: observability
    execution_target: plugin
    safety: mutating
    approval: manual
    target:
      plugin: observability
      script: uptime-kuma-monitors-sync
      command: ./ops/plugins/observability/bin/uptime-kuma-monitors-sync
    agent_id: null
    terminal_affinity: []
    description: Sync Uptime Kuma monitors from services.health.yaml. Dry-run by default,
      --execute to create.
  verify.core.run:
    capability_id: verify.core.run
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: verify-topology
      subcommand: core
      command: ./ops/plugins/verify/bin/verify-topology core
    agent_id: null
    terminal_affinity:
    - SPINE-CONTROL-01
    - SPINE-AUDIT-01
    description: Run Core-8 transition gates (day-to-day deterministic preflight,
      <60s, no network).
  verify.domain.run:
    capability_id: verify.domain.run
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: verify-topology
      subcommand: domain
      command: ./ops/plugins/verify/bin/verify-topology domain
    agent_id: null
    terminal_affinity:
    - SPINE-CONTROL-01
    - SPINE-AUDIT-01
    description: Integration/debug/certification lane (not default day lane). Use
      verify.pack.run for day-to-day.
  verify.drift_gates.certify:
    capability_id: verify.drift_gates.certify
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: drift-gates-certify
      command: ./ops/plugins/verify/bin/drift-gates-certify
    agent_id: null
    terminal_affinity: []
    description: Fast drift gate inventory/certification report (supports --profile,
      --list-domains, --domain <name>, --brief)
  verify.drift_gates.failure_stats:
    capability_id: verify.drift_gates.failure_stats
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: drift-gates-failure-stats
      command: ./ops/plugins/verify/bin/drift-gates-failure-stats
    agent_id: null
    terminal_affinity: []
    description: 'Analyze historical spine.verify receipts: per-gate fail counts and
      co-failure pairs'
  verify.fast:
    capability_id: verify.fast
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: verify-topology
      subcommand: core
      command: ./ops/plugins/verify/bin/verify-topology core
    agent_id: null
    terminal_affinity: []
    description: "Alias for verify.core.run \u2014 fast session-start verify (core-8\
      \ only, <60s, no network calls)."
  verify.pack.explain:
    capability_id: verify.pack.explain
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: verify-pack
      subcommand: explain
      command: ./ops/plugins/verify/bin/verify-pack explain
    agent_id: null
    terminal_affinity: []
    description: Explain which gates a verify pack executes and how they map to scripts.
  verify.pack.list:
    capability_id: verify.pack.list
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: verify-pack
      subcommand: list
      command: ./ops/plugins/verify/bin/verify-pack list
    agent_id: null
    terminal_affinity: []
    description: List available verify packs (agent-scoped + domain packs) and default
      pack.
  verify.pack.run:
    capability_id: verify.pack.run
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: verify-pack
      subcommand: run
      command: ./ops/plugins/verify/bin/verify-pack run
    agent_id: null
    terminal_affinity: []
    description: Run scoped verify pack by agent_id or domain (pack-first day-to-day
      verify).
  verify.release.run:
    capability_id: verify.release.run
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: verify-topology
      subcommand: release
      command: ./ops/plugins/verify/bin/verify-topology release
    agent_id: null
    terminal_affinity:
    - SPINE-AUDIT-01
    description: Run release/nightly full certification (core + all domains via spine
      drift suite).
  verify.route.recommend:
    capability_id: verify.route.recommend
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: verify-topology
      subcommand: recommend
      command: ./ops/plugins/verify/bin/verify-topology recommend
    agent_id: null
    terminal_affinity: []
    description: Recommend pack-run lane from changed paths/capabilities using topology
      path_triggers and prefixes.
  verify.vertical_integration.parity_status:
    capability_id: verify.vertical_integration.parity_status
    domain: core
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: vertical-integration-parity-status
      command: ./ops/plugins/verify/bin/vertical-integration-parity-status
    agent_id: null
    terminal_affinity: []
    description: Read-only parity status for mint pricing/suppliers surfaces (code,
      runtime, endpoint, MCP, docs/contracts).
  version.compat.verify:
    capability_id: version.compat.verify
    domain: aof
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: version
      script: version-compat-verify
      command: ./ops/plugins/version/bin/version-compat-verify
    agent_id: null
    terminal_affinity: []
    description: Verify version compatibility matrix consistency and source file validity
  vm.governance.audit:
    capability_id: vm.governance.audit
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: vm
      script: vm-governance-audit
      command: ./ops/plugins/vm/bin/vm-governance-audit
    agent_id: null
    terminal_affinity: []
    description: Read-only VM lifecycle governance coverage report (cross-file parity
      check)
  vm.profile.audit:
    capability_id: vm.profile.audit
    domain: infra
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: vm
      script: vm-profile-audit
      command: ./ops/plugins/vm/bin/vm-profile-audit
    agent_id: null
    terminal_affinity: []
    description: Read-only VM operating profile parity check (every active VM has
      valid profile)
  workbench.impl.audit:
    capability_id: workbench.impl.audit
    domain: workbench
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: verify
      script: workbench-impl-audit
      command: ./ops/plugins/verify/bin/workbench-impl-audit
    agent_id: null
    terminal_affinity: []
    description: Audit domain_external implementation paths against canonical workbench
      repo for discovery + parity.
  worktree.session.status:
    capability_id: worktree.session.status
    domain: worktree
    execution_target: plugin
    safety: read-only
    approval: auto
    target:
      plugin: ops
      script: worktree-session-status
      command: ./ops/plugins/ops/bin/worktree-session-status
    agent_id: null
    terminal_affinity: []
    description: 'Read-only: report current branch/worktree identity and enforceable
      D140 session isolation checks.'
