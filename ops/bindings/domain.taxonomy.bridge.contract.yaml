version: "1.0"
updated: "2026-02-28"
owner: "@ronny"
scope: domain-taxonomy-bridge-parity

authorities:
  agents_registry: ops/bindings/agents.registry.yaml
  terminal_role_contract: ops/bindings/terminal.role.contract.yaml
  domain_docs_root: docs/governance/domains
  capability_domain_catalog: ops/bindings/capability.domain.catalog.yaml

active_runtime_mappings:
  - role_id: DOMAIN-HA-01
    agent_id: home-assistant-agent
    domain_slug: home-assistant
    folder_name: home-assistant
  - role_id: DOMAIN-COMMS-01
    agent_id: communications-agent
    domain_slug: communications
    folder_name: communications
  - role_id: DOMAIN-MEDIA-01
    agent_id: media-agent
    domain_slug: media
    folder_name: media
  - role_id: DOMAIN-FINANCE-01
    agent_id: finance-agent
    domain_slug: finance
    folder_name: finance
  - role_id: RUNTIME-IMMICH-01
    agent_id: immich-agent
    domain_slug: immich
    folder_name: immich
  - role_id: DEPLOY-MINT-01
    agent_id: mint-agent
    domain_slug: mint
    folder_name: mint

role_only_runtime_mappings:
  - role_id: DOMAIN-OBSERVABILITY-01
    domain_slug: observability
    folder_name: observability

# Catalog coverage bridge for domains that are not currently represented by
# active_runtime_mappings (planned runtime roles or catalog-only governance).
catalog_domain_mappings:
  - domain_slug: backup
    folder_name: backup
    role_id: null
    role_status: unassigned
    agent_id: null
    mapping_state: catalog-only
  - domain_slug: firefly
    folder_name: firefly
    role_id: DOMAIN-FIREFLY-01
    role_status: planned
    agent_id: null
    mapping_state: planned-runtime
  - domain_slug: home
    folder_name: home
    role_id: null
    role_status: unassigned
    agent_id: null
    mapping_state: catalog-only
  - domain_slug: microsoft
    folder_name: microsoft
    role_id: DOMAIN-MICROSOFT-01
    role_status: planned
    agent_id: microsoft-agent
    mapping_state: planned-runtime
  - domain_slug: n8n
    folder_name: n8n
    role_id: DOMAIN-N8N-01
    role_status: planned
    agent_id: n8n-agent
    mapping_state: planned-runtime
  - domain_slug: network
    folder_name: network
    role_id: null
    role_status: unassigned
    agent_id: null
    mapping_state: catalog-only
  - domain_slug: paperless
    folder_name: paperless
    role_id: DOMAIN-PAPERLESS-01
    role_status: planned
    agent_id: null
    mapping_state: planned-runtime
  - domain_slug: recovery
    folder_name: recovery
    role_id: null
    role_status: unassigned
    agent_id: null
    mapping_state: catalog-only
  - domain_slug: shop
    folder_name: shop
    role_id: null
    role_status: unassigned
    agent_id: null
    mapping_state: catalog-only

rules:
  require_active_roles_mapped: true
  require_agent_registry_entry: true
  require_domain_docs_folder: true
  require_agents_registry_domain_mapping_key: true
  require_catalog_domain_coverage: true
  defer_bulk_renames: true

taxonomy_notes:
  - slug: home
    intent: "Infrastructure governance surface (home network, backup, VM host posture)."
    canonical_folder: docs/governance/domains/home
  - slug: home-assistant
    intent: "Home Assistant runtime/agent capability governance surface."
    canonical_folder: docs/governance/domains/home-assistant
  - note: "home and home-assistant are intentionally split; treat as complementary, not duplicates."
