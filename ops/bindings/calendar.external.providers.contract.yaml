---
status: authoritative
owner: "@ronny"
last_verified: "2026-02-24"
scope: calendar-external-providers-v1
version: 1
updated_at: "2026-02-24"

provider_mode:
  external_ingest_mode: read-only
  writeback_enabled: false

providers:
  icloud:
    enabled: false
    mode: read-only
    endpoint:
      caldav_url_ref: "infisical://spine/communications-calendar/connectors/icloud/caldav_url"
    auth:
      username_ref: "infisical://spine/communications-calendar/connectors/icloud/username"
      app_specific_password_ref: "infisical://spine/communications-calendar/connectors/icloud/app_specific_password"
    allowlist_calendar_ids: []
    snapshot:
      output_path: "mailroom/outbox/calendar/external/icloud.snapshot.json"
      max_snapshot_age_hours: 24
      immutable: true

  google:
    enabled: false
    mode: read-only
    oauth:
      client_id_ref: "infisical://spine/communications-calendar/connectors/google/client_id"
      client_secret_ref: "infisical://spine/communications-calendar/connectors/google/client_secret"
      refresh_token_ref: "infisical://spine/communications-calendar/connectors/google/refresh_token"
    allowlist:
      calendar_ids_ref: "infisical://spine/communications-calendar/connectors/google/calendar_ids"
      calendar_ids: []
    snapshot:
      output_path: "mailroom/outbox/calendar/external/google.snapshot.json"
      max_snapshot_age_hours: 24
      immutable: true

ingest:
  output_dir: "mailroom/outbox/calendar/external"
  external_index_path: "mailroom/outbox/calendar/external/external-calendar-index.json"
  merge:
    target_local_store_path: "mailroom/state/calendar-sync/writable/external"
    local_layers:
      external_icloud:
        provider: icloud
        read_only: true
        immutable_by_source: true
      external_google:
        provider: google
        read_only: true
        immutable_by_source: true
