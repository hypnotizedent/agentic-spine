# Plugin Test Exemptions
# Status: authoritative
# Last verified: 2026-02-13
# SSOT for plugins allowed to exist without test files.
# Every plugin in MANIFEST.yaml must either:
#   1. Have at least one file in ops/plugins/<name>/tests/, OR
#   2. Be listed here with exempt: true and a reason.
#
# D81 enforces this binding.

exemptions:

  # --- Baseline exemptions (pre-existing at D81 introduction) ---
  - plugin: audit
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: authority
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: backup
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires live SSH targets."
  - plugin: budget
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: cloudflare
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires API credentials."
  - plugin: conflicts
    exempt: true
    reason: "Empty plugin (no scripts). Template only."
  - plugin: docker
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires remote Docker context."
  - plugin: docs
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: github
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires GitHub API token."
  - plugin: ha
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires Home Assistant API."
  - plugin: home
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires proxmox-home SSH."
  - plugin: host
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: infra
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires live Proxmox targets."
  - plugin: mailroom-bridge
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires running bridge server."
  - plugin: maker
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires hardware (printer)."
  - plugin: mcp
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: media
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires Radarr API."
  - plugin: mint
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires Mint OS stack."
  - plugin: monolith
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: n8n
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires n8n API."
  - plugin: network
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires shop network targets."
  - plugin: proposals
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: rag
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires AnythingLLM."
  - plugin: release
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: secrets
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires Infisical credentials."
  - plugin: services
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires live service endpoints."
  - plugin: session
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: ssh
    exempt: true
    reason: "Baseline: pre-D81 plugin. Requires SSH targets."
  - plugin: share
    exempt: true
    reason: "Requires configured share git remote for meaningful tests."
  - plugin: verify
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."
  - plugin: vm
    exempt: true
    reason: "Baseline: pre-D81 plugin. Tests deferred."

  # --- Post-D81 plugins (added after gate enforcement, tests deferred) ---
  - plugin: lifecycle
    exempt: true
    reason: "New plugin (2026-02-17). Core workflow automation (loops/gaps lifecycle). Tests deferred to stabilization phase."
  - plugin: ops
    exempt: true
    reason: "New plugin (2026-02-17). Session isolation and worktree tooling. Tests deferred."
  - plugin: mcp-gateway
    exempt: true
    reason: "New plugin (2026-02-17). Unified spine MCP JSON-RPC gateway. Tests deferred."
  - plugin: communications
    exempt: true
    reason: "WS1 pilot plugin (2026-02-18). Communications stack foundation. Tests deferred pending pilot completion."
  - plugin: agent
    exempt: true
    reason: "New plugin (2026-02-13). Agent registry v2, routing, and delegation. Tests deferred pending architecture stabilization."

  # --- AOF Runtime Enforcement Depth plugins (D93-D97 gate tests cover these) ---
  - plugin: policy
    exempt: true
    reason: "Audit-only plugin. Validated via D94 gate test (surfaces/verify/tests/d94-test.sh)."
  - plugin: version
    exempt: true
    reason: "Verify-only plugin. Validated via D95 gate test (surfaces/verify/tests/d95-test.sh)."
  - plugin: evidence
    exempt: true
    reason: "Dry-run only plugin. Validated via D96 gate test (surfaces/verify/tests/d96-test.sh)."
  - plugin: surface
    exempt: true
    reason: "Audit-only plugin. Validated via D97 gate test (surfaces/verify/tests/d97-test.sh)."
