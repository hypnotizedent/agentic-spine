version: "1.1"
updated_at: "2026-03-01"
owner: "@ronny"
scope: launchd-runtime-contract
schedule_timezone: "America/New_York"

paths:
  source_dir: "/Users/ronnyworks/code/agentic-spine/ops/runtime/launchd"
  user_launchagents_dir: "/Users/ronnyworks/Library/LaunchAgents"
  scheduler_registry: "/Users/ronnyworks/code/agentic-spine/ops/bindings/launchd.scheduler.registry.yaml"
  canonical_log_root: "/Users/ronnyworks/code/agentic-spine/mailroom/logs"

required_env:
  - SPINE_ROOT
  - SPINE_OPERATOR_TZ
  - TZ

recency:
  exempt_labels:
    - com.ronny.ha-baseline-refresh
  note: "Home-site scheduled jobs are exempt from recency fail checks while operating away from home station."

required_labels:
  - com.ronny.alerting-probe-cycle
  - com.ronny.ha-baseline-refresh
  - com.ronny.domain-inventory-refresh-daily
  - com.ronny.extension-index-refresh-daily
  - com.ronny.mcp-runtime-anti-drift-cycle
  - com.ronny.spine-daily-briefing
  - com.ronny.spine-briefing-email-daily
  - com.ronny.slo-evidence-daily
  - com.ronny.receipts-archive-reconcile-daily
  - com.ronny.n8n-snapshot-daily
  - com.ronny.immich-reconcile-weekly
  - com.ronny.finance-action-queue-monthly
  - com.ronny.freshness-critical-daily
  - com.ronny.media-arr-key-roll-drill-weekly
  - com.ronny.nightly-closeout-daily
  - com.ronny.verify-run-daily
  - com.ronny.verify-gate-review-consumer-daily
  - com.ronny.proposals-retention-daily
  - com.ronny.simplefin-daily-sync
  - com.ronny.finance-backup-weekly
  - com.ronny.launchd-health-check
  - com.ronny.policy-autotune-weekly

scheduler_expectations:
  com.ronny.launchd-health-check:
    start_interval_seconds: 300
    required_args:
      - --auto-restart
