# Fabric Boundary Contract
# Status: authoritative
# Last verified: 2026-02-16
# Purpose: enforce lean-spine boundary (fabric governance in spine, domain ops in workbench)

version: 1
updated_at: "2026-02-16"
owner: "@ronny"
scope: aof-fabric-boundary

spine:
  role: fabric_control_plane
  canonical_repo: "/Users/ronnyworks/code/agentic-spine"
  allowed_planes:
    - fabric
    - domain_external

workbench:
  role: domain_implementation_plane
  canonical_repo: "/Users/ronnyworks/code/workbench"
  required_agent_path_prefix: "~/code/workbench/agents/"

capability_boundary:
  core_prefixes:
    - aof
    - agent
    - authority
    - codex
    - docs
    - evidence
    - gaps
    - loops
    - mailroom
    - maker
    - monolith
    - orchestration
    - policy
    - proposals
    - rag
    - secrets
    - session
    - share
    - spine
    - surface
    - tenant
    - verify
    - version

  domain_external_prefixes:
    - backup
    - microsoft
    - finance
    - ha
    - home
    - immich
    - media
    - n8n
    - network

agents_registry_boundary:
  enforce_active_workbench_agents_under_agents_dir: true

docs_boundary:
  spine_domain_stub_root: "docs/governance/domains"
  spine_stub_marker: "spine_pointer_stub: true"
  routed_doc_source_prefix: "docs/governance/"

balanced_policy:
  required_preset: balanced
  required_multi_agent_writes_when_multi_session: proposal-only
