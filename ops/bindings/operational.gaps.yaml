# Operational Gaps - Runtime SSOT Discoveries
#
# These are NOT extraction gaps (see docs/core/AGENTIC_GAP_MAP.md)
# These are issues agents discover DURING work that are out of scope to fix immediately
#
# Review periodically, create cleanup loops for open gaps
#
# Status: authoritative
# Last verified: 2026-02-22

version: 1
updated: "2026-03-02T06:05:02Z"
gaps:
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-INFRA-VM-RESTRUCTURE-20260206
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-001
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: stale-ssot
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Still lists cloudflared, pihole, infisical (secrets) under docker-host
      after Phase 1 migration to infra-core. Services are now on VM 204.
    severity: low
    status: fixed
    fixed_in: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    notes: "Moved cloudflared/pihole/secrets to infra-core target, added vaultwarden"
  - id: GAP-OP-002
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      No infisical entry existed before migration. Agent had to discover
      the stack by inspecting Docker containers on docker-host.
    severity: medium
    status: fixed
    fixed_in: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    notes: "Entry added during migration work"
  - id: GAP-OP-003
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: agent-behavior
    doc: null
    description: |
      Agent guessed path ~/stacks/infisical/ instead of consulting
      docker.compose.targets.yaml binding first. SSOT had the correct
      path (~/stacks/secrets). This is a pattern issue, not a data issue.
    severity: low
    status: fixed
    fixed_in: "gap-sweep-20260208"
    notes: "Documented 'consult bindings first' in SESSION_PROTOCOL.md (Trace truth) and docs/brain/rules.md (Entry Points table)"
  - id: GAP-OP-004
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: duplicate-truth
    doc: "ops/bindings/infra.placement.policy.yaml"
    description: |
      Canonical infra-core/observability services were intended for shop Proxmox
      (pve) but relocation commands relied on manifest values without a
      canonical site/hypervisor placement lock. This allowed wrong-instance
      execution risk when target metadata drifted.
    severity: high
    status: fixed
    fixed_in: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    notes: "Added infra placement policy SSOT + D37 lock + command-time enforcement in relocation/provision scripts"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-005
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      Hypervisor SSH target IDs are distinct (`pve`, `proxmox-home`) but runtime
      host identity is ambiguous: `proxmox-home` currently reports hostname `pve`.
      This creates decision-risk during relocation/provisioning because agents and
      operators can confuse shop/home hypervisors.
    severity: high
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Guardrail added: infra.hypervisor.identity capability + mutating infra
      preconditions now fail on hostname/machine-id ambiguity. Host-level fix
      applied: proxmox-home canonical hostname updated from `pve` to
      `proxmox-home` via capability `infra.hypervisor.hostname.set`
      (receipt: RCAP-20260207-113039__infra.hypervisor.hostname.set__Rxrbe80548).
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-006
    discovered_by: "LOOP-GOV-SPINE-SEAL-20260207"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "ops/plugins/infra/bin/infra-relocation-preflight"
    description: |
      Preflight host scan silently skipped service source hosts because it used
      an invalid yq expression (`.services[].from_host // empty`) and suppressed
      parser errors. The command also reported missing SSH targets/unreachable
      hosts as informational output instead of a failing gate, allowing
      decision flow to continue without required host evidence.
    severity: high
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Fixed by correcting host extraction, deriving required hosts from active
      VM/service states, and enforcing hard failure on required host/SSOT
      mismatches.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-007
    discovered_by: "LOOP-GOV-SPINE-SEAL-20260207"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "ops/plugins/infra/bin/infra-relocation-service-transition"
    description: |
      Service and relocation state transitions allowed out-of-order decision
      updates (cutover/migrated) with warning-only behavior. This permitted
      metadata progression even when relocation state had not reached cutover.
    severity: medium
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Transition scripts now hard-fail when relocation state and service/vm
      status are misaligned, and cutover state transition includes an execute-time
      vm readiness gate.
  - id: GAP-OP-008
    discovered_by: "LOOP-GOV-SPINE-SEAL-20260207"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Top-level `spine.verify` can pass while `infra.hypervisor.identity` fails.
      During active relocation this produces a green global health signal even
      when hypervisor identity ambiguity remains unresolved.
    severity: high
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Added D39 gate (`surfaces/verify/d39-infra-hypervisor-identity-lock.sh`)
      and wired it into `drift-gate.sh`. During active relocation states,
      `spine.verify` now fails if hypervisor identity invariants are violated.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during soak-window parallel execution 2026-02-07
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-009
    discovered_by: "soak-window-parallel-execution-20260207"
    discovered_at: "2026-02-07"
    type: stale-ssot
    doc: "surfaces/verify/contracts-gate.sh"
    description: |
      contracts-gate.sh (T5) referenced contracts at docs/ (e.g. docs/RECEIPTS_CONTRACT.md)
      but canonical files live at docs/core/ (e.g. docs/core/RECEIPTS_CONTRACT.md).
      Path mismatch caused ops verify to fail at foundation gate. The files exist;
      the gate paths were stale.
    severity: high
    status: fixed
    fixed_in: "soak-window-parallel-execution-20260207"
    notes: "Fixed contracts-gate.sh paths: docs/ → docs/core/ for all three contracts"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-010
    discovered_by: "soak-window-parallel-execution-20260207"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      media-stack host has docker.compose.targets.yaml binding (ssh_target: media-stack)
      but no corresponding entry in ssh.targets.yaml. Prevents governed SSH access
      for media stack RCA work.
    severity: medium
    status: fixed
    fixed_in: "soak-window-parallel-execution-20260207"
    notes: "Added media-stack target (100.117.1.53, root, shop/pve) to ssh.targets.yaml"
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-HOST-CANONICALIZATION-20260207
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-011
    discovered_by: "LOOP-HOST-CANONICALIZATION-20260207"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Hidden-root coverage missing from active drift gates. host.drift.audit
      passes while unmanaged hidden roots and a secret-bearing legacy file
      (~/.config/ronny-ops/env.sh) exist at home root. No gate enforces
      hidden-root inventory or forbidden pattern scanning.
    severity: high
    status: fixed
    fixed_in: "LOOP-HOST-CANONICALIZATION-20260207"
    notes: "D41 hidden-root governance lock + D42 code path case lock + env.sh deleted + backups quarantined"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-INFRA-CADDY-AUTH-20260207 pre-work
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-012
    discovered_by: "LOOP-INFRA-CADDY-AUTH-20260207"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "Infisical project: infrastructure (prod)"
    description: |
      Required Authentik bootstrap secrets are not present in Infisical
      infrastructure/prod: AUTHENTIK_SECRET_KEY and AUTHENTIK_DB_PASSWORD.
      This blocks safe execute of staged caddy-auth stack deployment.
    severity: high
    status: fixed
    fixed_in: "LOOP-INFRA-CADDY-AUTH-20260207"
    notes: "Created in infrastructure/prod at /spine/vm-infra/caddy-auth (no root-path duplicates)."
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-013
    discovered_by: "LOOP-INFRA-CADDY-AUTH-20260207"
    discovered_at: "2026-02-07"
    type: duplicate-truth
    doc: "Infisical project: infrastructure (prod)"
    description: |
      Infrastructure project still stores legacy keys at root path `/` (flat
      namespace). This risks future collisions with new VM-infra secrets unless
      all new infra keys are constrained under `/spine/*` namespaces.
    severity: medium
    status: fixed
    fixed_in: "secrets-namespace-migration-20260207"
    notes: |
      Enforcement added: secrets.namespace.status + secrets.namespace.policy freeze.
      Migration map staged at ops/staged/SECRETS_NAMESPACE_MIGRATION_MAP.md.
      P1 complete for /spine/platform/security (9 root duplicates removed) and
      P2 complete for /spine/network/edge (10 root duplicates removed) and
      P3 complete for /spine/storage/nas (6 root duplicates removed) and
      P4 complete for /spine/integrations/commerce-mail (9 root duplicates removed) and
      P5 complete for /spine/services/* (11 root duplicates removed) and
      P6 complete for /spine/ai/providers (4 root duplicates removed).
      Root key count reduced from baseline 49 -> 0 (49 removed).
      Evidence: ops/staged/SECRETS_NAMESPACE_P1_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P2_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P3_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P4_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P5_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P6_EXECUTION_20260207.md,
      RCAP-20260207-171547__secrets.p2.root_cleanup.execute__Rchmg11028,
      RCAP-20260207-180752__secrets.namespace.status__R4k6j64294.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-GOV-CLI-TOOL-DISCOVERY-20260207
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-014
    discovered_by: "LOOP-GOV-CLI-TOOL-DISCOVERY-20260207"
    discovered_at: "2026-02-07"
    type: agent-behavior
    doc: null
    description: |
      Agent could not discover qrencode despite it being registered in
      maker.tools.inventory.yaml. The tool is domain-scoped (maker plugin)
      with no cross-domain discovery path. Session protocol, brain context,
      and rules all lack tool discovery guidance. Agent searched workbench
      repo, MCP catalogs, and file contents but never found the binding.
    severity: medium
    status: fixed
    fixed_in: "LOOP-GOV-CLI-TOOL-DISCOVERY-20260207"
    notes: |
      Fixed by: cli.tools.inventory.yaml (cross-domain catalog),
      generate-context.sh (tool injection into agent context),
      D44 drift gate (discovery chain validation),
      SESSION_PROTOCOL.md + rules.md updates (agent guidance).
  # ─────────────────────────────────────────────────────────────
  # Discovered during OL_HOME_BASELINE_FINISH audit 2026-02-07
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-015
    discovered_by: "OL_HOME_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "docs/governance/MINILAB_SSOT.md"
    description: |
      PVE node-name mismatch on proxmox-home: hostname changed from `pve` to
      `proxmox-home` (GAP-OP-005 fix) but PVE node was not migrated. All VM/LXC
      configs live under /etc/pve/nodes/pve/ while PVE tools look under
      /etc/pve/nodes/proxmox-home/. Breaks qm list, pct list, pct exec, vzdump
      jobs. VMs running pre-rename continue but are unmanageable. VM 101 (immich)
      is stopped and cannot be restarted.
    severity: critical
    status: fixed
    fixed_in: "gap-sweep-20260208"
    notes: "Fixed: hostname reverted to pve (matching PVE node name). qm list, pct list, vzdump all functional. Tailscale hostname remains proxmox-home (independent). Exception recorded in naming.policy.yaml."
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-017
    discovered_by: "LOOP-GOV-CLAUDE-ENTRYPOINT-LOCK-20260208"
    discovered_at: "2026-02-08"
    type: duplicate-truth
    doc: "~/.claude/CLAUDE.md"
    description: |
      Claude home config (CLAUDE.md, commands/ctx.md, settings.json, settings.local.json)
      contains standalone governance sections (Authority Order, Immutable Invariants, etc.)
      and uppercase ~/Code/ path references. No Claude-equivalent of D32 (Codex instruction
      source lock) exists. Runtime scripts reference .brain/ paths but no .brain/ directory
      exists — actual files live at docs/brain/. SESSION_PROTOCOL.md also references .brain/.
    severity: medium
    status: fixed
    fixed_in: "LOOP-GOV-CLAUDE-ENTRYPOINT-LOCK-20260208"
    notes: |
      Fixed by: CLAUDE.md rewritten to redirect shim, path case canonicalized across
      all governed Claude files, .brain/ references replaced with docs/brain/ in runtime
      scripts and SESSION_PROTOCOL.md, D46 + D47 drift gates added, agent.entrypoint.lock.yaml
      binding created, host-claude-entrypoint-lock plugin with status/enforce/execute modes.
  # ─────────────────────────────────────────────────────────────
  # Discovered during PVE baseline SSH audit 2026-02-07
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-018
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "/etc/pve/jobs.cfg"
    description: |
      VM 204 (infra-core) is not included in the vzdump backup job on pve.
      The job covers VMs 200-203 but was created before VM 204 existed.
      infra-core runs cloudflared, pihole, infisical, vaultwarden, caddy,
      and authentik — all critical services with no hypervisor-level backup.
    severity: high
    status: fixed
    fixed_in: "LOOP-INFRA-SSOT-ALIGNMENT-20260208"
    notes: |
      Fixed: added vmid 204 to vzdump job in /etc/pve/jobs.cfg via SSH.
      Job now covers 200,201,202,203,204. Add VM 205 when provisioned.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-019
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "pve crontab"
    description: |
      No ZFS scrub scheduled for the media pool on pve. Only the tank pool
      has a weekly scrub (`0 3 * * 0 zpool scrub tank`). The media pool's
      last scrub was CANCELED on 2026-01-11. Media pool is RAIDZ1 with 4x
      Seagate ST8000AS0002 (SMR archive drives) — higher risk profile than
      tank (RAIDZ2 enterprise SAS).
    severity: medium
    status: fixed
    fixed_in: "LOOP-INFRA-SSOT-ALIGNMENT-20260208"
    notes: |
      Fixed: added `0 4 * * 0 zpool scrub media` to pve crontab via SSH.
      Runs Sundays at 4am, offset from tank scrub (3am).
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-MEDIA-STACK-RCA-20260205 / ARCH-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-021
    discovered_by: "LOOP-MEDIA-STACK-RCA-20260205"
    discovered_at: "2026-02-07"
    type: agent-behavior
    doc: "ops/staged/MEDIA_RCA_DECISION_NOTE.md"
    description: |
      RCA decision note stated /opt/appdata/*.db files were "stale copies, not
      actively used." In reality these were active symlink targets created Dec 23,
      serving all 5 main databases. An agent following the decision note would have
      assumed the entire database layer was on NFS and may have attempted redundant
      or harmful migrations. The inaccuracy persisted for 2 days before correction.
    severity: medium
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      Root cause: initial RCA SSH session saw files at /opt/appdata/ and assumed
      copies without checking symlink state (ls -la vs ls -l). Fixed: decision note
      corrected. Lesson: always use `ls -la` or `file` command to distinguish
      symlinks from regular files during NFS topology discovery.
  - id: GAP-OP-022
    discovered_by: "LOOP-MEDIA-STACK-ARCH-20260208"
    discovered_at: "2026-02-08"
    type: agent-behavior
    doc: null
    description: |
      Phase A symlink migration broke trailarr and posterizarr because their
      compose services lacked the /opt/appdata:/opt/appdata bind mount that
      radarr/sonarr/lidarr/prowlarr/jellyfin already had (Dec 23 setup).
      The playbook did not include a pre-check for container mount visibility.
      Failure mode: sqlite3.OperationalError with no mention of symlinks,
      making diagnosis non-obvious.
    severity: medium
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      Fixed: added /opt/appdata:/opt/appdata volume to trailarr and posterizarr
      in docker-compose.yml on media-stack, containers recreated via compose up -d.
      Lesson codified in docs/brain/lessons/MEDIA_STACK_LESSONS.md.
      Future mitigation: any symlink migration playbook MUST include a
      pre-flight step: `docker inspect <service> --format '{{range .Mounts}}...'`
      to verify the symlink target path is visible inside the container.
  - id: GAP-OP-023
    discovered_by: "LOOP-MEDIA-STACK-ARCH-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/staged/MEDIA_STACK_ARCH_PHASE_A_PLAYBOOK_20260207.md"
    description: |
      Phase A playbook listed 5 target services but missed sonarr logs.db (2.2MB,
      constant writes) which was also on NFS. The playbook was written from the
      ARCH scope doc which only listed "databases STILL on NFS" but omitted logs.db
      files for services whose main .db was already symlinked. Discovery chain:
      scope doc partial → playbook incomplete → extra target found during execution.
    severity: low
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      sonarr logs.db migrated during Phase A execution. Lesson: when scoping
      NFS-to-local migrations, enumerate ALL .db files per service (not just the
      main database). Use: find /mnt/docker/volumes/<service> -name '*.db' -type f
  - id: GAP-OP-024
    discovered_by: "LOOP-MEDIA-STACK-ARCH-20260208"
    discovered_at: "2026-02-08"
    type: agent-behavior
    doc: "ops/staged/MEDIA_STACK_ARCH_PHASE_A_PLAYBOOK_20260207.md"
    description: |
      Phase A playbook listed introskipper.db path as
      /mnt/docker/volumes/jellyfin/config/data/introskipper.db but actual path was
      /mnt/docker/volumes/jellyfin/config/data/introskipper/introskipper.db (extra
      directory level). Path was assumed from scope doc without SSH verification.
      Similarly, trailarr had a logs/logs.db not mentioned in the playbook.
    severity: low
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      Correct paths discovered via `find` during execution. Lesson: playbooks for
      remote file operations MUST include a preflight `find` or `ls -la` step to
      confirm actual paths before mutation. Never trust doc-assumed paths for
      file-level operations.
  # ─────────────────────────────────────────────────────────────
  # Discovered during pre-vm-creation reliability hardening 2026-02-08
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-025
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      media-stack SSH target had the wrong user (root vs actual), causing
      ssh.target.status to fail with auth denied and misleading downstream
      tooling that relies on governed SSH.
    severity: medium
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: media-stack entry updated to user=media. ssh.target.status confirms
      OK (192ms). Docker compose status resolves correctly via binding.
  - id: GAP-OP-026
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/plugins/docker/bin/docker-compose-status"
    description: |
      docker.compose.status assumed `ssh <id>` works via ~/.ssh/config aliases
      and did not resolve ssh_target via ops/bindings/ssh.targets.yaml. This
      produced false UNREACHABLE signals even when the governed SSH binding was
      correct (infra-core, observability).
    severity: high
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: docker-compose-status now resolves host/user/port from ssh.targets.yaml
      (lines 170-178), uses binding defaults for StrictHostKeyChecking=no and
      UserKnownHostsFile=/dev/null. SSH error classification added. Verified working
      for infra-core (13 stacks), observability (5 stacks), dev-tools (1 stack).
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-027
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/plugins/backup/bin/backup-status"
    description: |
      backup.status validated host IDs exist in ssh.targets.yaml but then used
      `ssh \"$HOST\"` (alias) and StrictHostKeyChecking=accept-new (known_hosts
      writes), violating HOME drift constraints and breaking when aliases are not
      present.
    severity: high
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: backup-status now resolves host/user/port from ssh.targets.yaml
      (lines 107-118), uses binding defaults for StrictHostKeyChecking and
      UserKnownHostsFile=/dev/null. SSH error classification added. Verified
      working for pve and nas targets.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-028
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/bindings/secrets.binding.yaml + ops/plugins/secrets/bin/*"
    description: |
      Secrets capabilities failed when Infisical API URL was behind forward-auth
      (HTTP 302/HTML), causing jq parse errors and broken automation. A binding-
      supported internal API endpoint is required, and scripts must prefer it and
      fail with actionable errors on redirects/non-JSON responses.
    severity: high
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: secrets.binding.yaml has internal_api_url (http://100.92.91.128:8088,
      direct Infisical bypassing Authentik). All secrets plugins prefer
      internal_api_url over api_url via yq fallthrough (.internal_api_url // .api_url).
      Verified in secrets-namespace-status, secrets-exec, secrets-projects-status,
      secrets-binding.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-016
    discovered_by: "OL_HOME_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: null
    description: |
      No naming governance policy exists. Hostname, PVE node name, Tailscale
      hostname, ssh.targets.yaml ID, and DEVICE_IDENTITY_SSOT entries are all
      managed independently with no canonical mapping or rename procedure.
      This caused GAP-OP-015 (hostname changed without PVE node migration)
      and has caused repeated confusion (media-stack site attribution, hypervisor
      identity ambiguity).
    severity: high
    status: fixed
    fixed_in: "LOOP-NAMING-GOVERNANCE-20260207"
    notes: |
      Fixed by: naming.policy.yaml (canonical names + surface authority + rename
      procedure + allowed exceptions) + D45 naming consistency lock gate
      (cross-file verification wired into drift-gate.sh). Also fixed vault kind
      misclassification (lxc→vm) in placement policy and DEVICE_IDENTITY_SSOT.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during gap sweep 2026-02-08
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-020
    discovered_by: "gap-sweep-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/commands/loops.sh"
    description: |
      ops loops list --open crashes with jq error at open_loops.jsonl:121.
      Close records use "id" key but the parser expects "loop_id", producing
      "Cannot index object with null". Additionally, open_loops.jsonl has
      54 open entries with massive duplication and 3 close records that never
      filter out closed loops. The loops subsystem is the spine's work-tracking
      surface and currently fails on every invocation.
    severity: high
    status: fixed
    fixed_in: "gap-sweep-20260208"
    notes: |
      Fixed: loops.sh jq filter now normalizes close records, deduplicates by loop_id,
      and applies close status. open_loops.jsonl compacted from 121 to 61 lines.
      6 completed loops closed. 9 open loops remain.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # Discovered during CODE_AUDIT_20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-029
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets.namespace.status failed because the required Gitea secrets were
      missing from Infisical at /spine/vm-infra/gitea. This blocks governed
      automation and leaves the dev-tools deployment partially undocumented.
    severity: high
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Fixed by writing the required keys to Infisical under /spine/vm-infra/gitea:
      GITEA_ADMIN_PASSWORD, GITEA_API_TOKEN, GITEA_RUNNER_TOKEN,
      GITEA_OAUTH_CLIENT_ID, GITEA_OAUTH_CLIENT_SECRET. Verified via
      secrets.namespace.status (receipt RCAP-20260208-105831__secrets.namespace.status__Rwaub7817).
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-030
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/plugins/cloudflare/bin/cloudflare-tunnel-ingress-status"
    description: |
      There was no spine-native way to export Cloudflare tunnel ingress rules.
      This forced manual dashboard checks and allowed docs-vs-dashboard drift.
    severity: medium
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Added cloudflare.tunnel.ingress.status (API export) and
      cloudflare.domain_routing.diff (diff vs DOMAIN_ROUTING_REGISTRY.yaml).
  - id: GAP-OP-031
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml"
    description: |
      DOMAIN_ROUTING_REGISTRY.yaml drifted from the Cloudflare tunnel ingress
      configuration, creating extra/missing hostname entries and agent confusion
      (docs indicated services/paths that did not exist).
    severity: medium
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Registry updated and verified against live ingress export:
      cloudflare.domain_routing.diff status OK (receipt RCAP-20260208-110109__cloudflare.domain_routing.diff__Rwa0y18221).
  - id: GAP-OP-032
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      docker.compose.targets.yaml referenced a docker-host storage stack path
      that does not exist, producing false negatives in docker.compose.status
      and confusing agents about the MinIO deployment source.
    severity: medium
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Removed the invalid compose target and aligned compose authority docs to the
      current SSOT model (VM-infra under ops/staged/**; live stack locations via
      docker.compose.targets.yaml).
  - id: GAP-OP-033
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/commands/cap.sh + surfaces/verify/drift-gate.sh"
    description: |
      ops capability execution was not worktree-safe: receipts and drift gates
      assumed the canonical repo CWD and scanned worktree-only paths, causing
      incorrect failures when operating from isolated worktrees.
    severity: high
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Introduced SPINE_CODE (current code root) distinct from SPINE_REPO
      (canonical receipts/runtime root). Updated capability CWDs to SPINE_CODE and
      hardened drift-gate scripts to ignore .worktrees and to compare canonical
      instruction sources.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-034
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "docs/governance/BACKUP_GOVERNANCE.md"
    description: |
      Backup governance defines a requirement for app-level dumps per stack, but
      there is no documented, tested app-level backup/restore procedure for
      Authentik or Gitea (even if VM-level vzdump exists).
    severity: medium
    status: fixed
    fixed_in: "2026-02-08_app_backup_runbooks"
    notes: |
      Follow-up: add stack READMEs or runbooks covering export, restore, and a
      periodic restore test for both Authentik and Gitea.
      Evidence:
      - docs/governance/AUTHENTIK_BACKUP_RESTORE.md
      - docs/governance/GITEA_BACKUP_RESTORE.md
  # ─────────────────────────────────────────────────────────────
  # Discovered during OL_SHOP_BASELINE_FINISH remote audit 2026-02-08
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-037
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "docs/governance/SHOP_SERVER_SSOT.md"
    description: |
      Dell MD1400 DAS shelf is physically cabled to R730XD (pve) via SAS cable
      (Dell 0GYK61) but zero drives are visible to the OS. Two root causes:
      (1) PM8072 SAS controller PCI vendor ID is 0x11f8 (Microchip, post-acquisition)
      but the Linux pm80xx driver only recognizes 0x117C (PMC-Sierra, pre-acquisition) —
      driver does not auto-bind. (2) Hot-loading the driver via new_id fails because
      the PM8072 firmware requires cold-boot initialization — MPI handshake times out
      with "FW is not ready" (chip_init failed, ret=-16/EBUSY).
      Result: entire MD1400 shelf storage is inaccessible. Unknown drive count and
      capacity sitting completely dark.
    severity: critical
    status: fixed
    fixed_in: "W41 maintenance wave 2026-02-23: PM8072 replaced with SAS9300-8e (Broadcom SAS3008), SAS cable moved, 12 dual-path ST4000NM0063 drives now visible via mpt3sas"
    parent_loop: LOOP-MD1400-SAS-RECOVERY-20260208
    notes: |
      Phase 1 (module config) complete; on-site full shutdown + cold boot with AC drain was performed 2026-02-09 and still failed
      (`FW is not ready`, `chip_init failed [ret: -16]`) with no new block devices appearing.
      Implication: treat PM8072 as hardware/firmware defective; proceed with controller replace/reflash path.
      2026-02-10 update: external SAS HBA ordered; this gap is now hardware-blocked pending install + validation (Phase 2b in loop scope).
      Upstream: PCI ID gap in Linux pm80xx driver (kernel 6.14.8-2-pve).
      2026-02-12 update: Accepted-standalone by operator to unblock MCP/RAG execution work.
      Hardware remediation is intentionally paused and can be resumed in a new dedicated loop.
      2026-02-23 RESOLVED: PM8072 physically replaced with Broadcom SAS9300-8e (LSI SAS3008) in PCIe slot 82:00.0.
      SAS cable (Dell 0GYK61) moved from PM8072 to SAS9300-8e. mpt3sas driver bound natively at boot.
      MD1400 shelf fully visible: 12 physical drives (ST4000NM0063 3.6TB SAS), 24 block devices (dual-path).
      Expander enumeration confirmed via dmesg (2 expanders, 51 phys each).
      Evidence: CAP-20260223-160024 (precheck), post-boot lsblk/dmesg/lspci.
      Follow-up: multipath config + ZFS pool creation tracked separately.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-038
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "/etc/pve/jobs.cfg"
    description: |
      vzdump backup job on pve covers VMs 200-204 only. VMs 205 (observability),
      206 (dev-tools), 207 (ai-consolidation), 209 (download-stack), and
      210 (streaming-stack) are running with no hypervisor-level backup.
      5 VMs provisioned since the backup job was last updated.
    severity: high
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      P1 fix: vzdump vmid list updated to 204,205,206,201,202,203,200 (reordered
      so critical infra-core runs first, heaviest VM 200 last). VMs 207/209/210
      deferred to P2 (enable as each stabilizes). Orphaned 34GB partial backup
      from power-outage crash cleaned up.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CAMERA-BASELINE-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-039
    discovered_by: "LOOP-CAMERA-BASELINE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "docs/governance/CAMERA_SSOT.md"
    description: |
      NVR channels 2, 3, 4 report chanDetectResult=notExist via ISAPI. Cameras
      are powered off or disconnected from the Netgear PoE switch that feeds the
      NVR's internal 192.168.254.0/24 network. Requires physical visit to the
      upstairs 9U rack to inspect PoE switch ports and camera cabling.
    severity: medium
    status: fixed
    fixed_in: "LOOP-CAMERA-BASELINE-20260208"
    notes: |
      Subsumed by LOOP-CAMERA-BASELINE-20260208 Phase P2 + OL_SHOP_BASELINE_FINISH.
      Physical visit required — cameras are still offline but gap tracking is redundant
      with loop ownership. Fix will occur during on-site audit.
  - id: GAP-OP-040
    discovered_by: "LOOP-CAMERA-BASELINE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "docs/governance/CAMERA_SSOT.md"
    description: |
      NVR channel 5 has IP address 192.168.254.7 which conflicts with channel 4
      (same IP). ISAPI reports chanDetectResult=ipAddrConflict for ch5. This is
      a configuration error in the NVR channel assignment, not a physical issue.
    severity: low
    status: fixed
    fixed_in: "LOOP-CAMERA-BASELINE-20260208"
    notes: |
      Fixed: ch5 IP reassigned from 192.168.254.7 to 192.168.254.5 via ISAPI PUT
      (2026-02-08). NVR accepted change (statusCode=1/OK). Ch5 now shows
      netUnreachable (camera physically disconnected, not IP conflict).
      Previous name "SCREEN PRINT" auto-reset to "IPCamera 05" by NVR.
  - id: GAP-OP-041
    discovered_by: "LOOP-CAMERA-BASELINE-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "Infisical project: infrastructure (prod)"
    description: |
      Shop infrastructure credentials (NVR, iDRAC, Dell switch) were referenced
      in SHOP_SERVER_SSOT.md and CAMERA_SSOT.md at Infisical paths
      /spine/shop/nvr/*, /spine/shop/idrac/*, /spine/shop/switch/* but all three
      paths were empty. Agent could not diagnose camera IP conflict without
      asking the user for credentials interactively. SSOT docs implied secrets
      existed when they did not.
    severity: medium
    status: fixed
    fixed_in: "LOOP-SHOP-EDGE-CREDS-AND-INVENTORY-20260210"
    parent_loop: "LOOP-SHOP-EDGE-CREDS-AND-INVENTORY-20260210"
    notes: |
      Historical: fixed during LOOP-CAMERA-BASELINE-20260208 by seeding NVR/iDRAC/switch creds.
      Regression (2026-02-10): Infisical currently contains only /spine/shop/wifi; /spine/shop/{nvr,idrac,switch,unifi} folders are missing.
      Fixed (2026-02-11): /spine/shop/{nvr,idrac,switch,unifi,wifi} now present with expected key sets.
      Evidence:
      - RCAP-20260211-091704__secrets.namespace.status__Rtu2v36568 (path distribution + key checks)
      - docs/governance/CAMERA_SSOT.md credentials line updated to remove stale blocker text
      - docs/governance/SHOP_SERVER_SSOT.md updated with switch service tag (1TQR0Z1)
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-BACKUP-STABILIZATION-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-042
    discovered_by: "LOOP-BACKUP-STABILIZATION-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      No SSH key authentication existed from pve or infra-core to the NAS
      (Synology 918+ at house, Tailscale). Blocked all offsite backup sync.
      The backup binding had an enabled offsite target (vm-200-docker-host-offsite)
      and NAS directories existed, but no sync mechanism or SSH trust was ever
      established. backup.status reported no_matches — a false signal that
      appeared like a path problem when the real issue was no connectivity.
    severity: high
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      Fixed: pve RSA key and infra-core ed25519 key added to
      ronadmin@nas authorized_keys. Verified bidirectional SSH from both hosts.
      Offsite rsync script and app backup scripts both use this trust path.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-043
    discovered_by: "LOOP-BACKUP-STABILIZATION-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      Vaultwarden backup stopped when the service migrated from proxmox-home
      (LXC 102) to infra-core (VM 204) on 2026-02-05. No backup cron was
      re-established on the new host. Last NAS backup was 2026-02-05 02:45,
      creating a 3-day gap (Feb 5-8) where vaultwarden had zero backups.
      The migration playbook had no post-migration backup verification step.
      Additionally, the old host had no backup cron — the mechanism was unknown.
    severity: high
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      Fixed: /usr/local/bin/vaultwarden-backup.sh on infra-core creates daily
      tar.gz of vw-data dir, rsyncs to NAS. Cron at 02:45 daily. First backup
      verified (1.5MB, synced to NAS successfully). Lesson: service migration
      playbooks MUST include a backup continuity step — verify backup mechanism
      is re-established on the new host before closing the migration.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-044
    discovered_by: "LOOP-BACKUP-STABILIZATION-20260208"
    discovered_at: "2026-02-08"
    type: duplicate-truth
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      The backup binding had vm-200-docker-host-offsite enabled=true with a NAS
      path that existed but was always empty. backup.status reported this as
      no_matches, which appeared to be a path misconfiguration. In reality, no
      sync mechanism (rsync, scp, Hyper Backup pull) was ever wired between pve
      and NAS. The enabled=true flag + existing NAS directory created a false
      impression that offsite backup was configured but broken, when it had never
      been set up at all.
    severity: medium
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      Fixed: vm-200-docker-host-offsite disabled (186GB exceeds shop upload
      bandwidth). New vm-offsite-critical target covers VMs 204-210 via
      /usr/local/bin/vzdump-offsite-sync.sh on pve (cron 09:00, rsync with
      1500 KB/s bwlimit over Tailscale). Lesson: never enable a backup target
      in the binding without a corresponding sync mechanism. enabled=true must
      mean "this is actively running and verifiable."
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-MEDIA-AGENT-WORKBENCH-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-045
    discovered_by: "LOOP-MEDIA-AGENT-WORKBENCH-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/agents/ (expected directory) + generate-context.sh"
    description: |
      No agent discovery mechanism exists. ops/agents/ directory is absent.
      generate-context.sh injects CLI tools but not domain-specific agents.
      agents_verify.sh exists but is not wired into spine.verify. No routing
      rules map problem domains (media, infra, finance, etc.) to specialized
      agents. A fresh Claude Code session asking about a media issue has no
      path to discover the media agent in workbench/agents/media/.
    severity: high
    status: fixed
    fixed_in: "LOOP-AGENT-DISCOVERY-GOVERNANCE-20260208"
    notes: |
      Fixed: (1) ops/bindings/agents.registry.yaml created with routing rules,
      (2) generate-context.sh injects "Available Agents" section,
      (3) D49 agent discovery lock wired into drift-gate.sh,
      (4) agents_verify.sh rewritten for contract model,
      (5) AGENTS_GOVERNANCE.md updated. media-agent registered as first entry.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-046
    discovered_by: "LOOP-MEDIA-AGENT-WORKBENCH-20260208"
    discovered_at: "2026-02-08"
    type: duplicate-truth
    doc: "AGENTS_LOCATION.md, CORE_AGENTIC_SCOPE.md, WORKBENCH_CONTRACT.md, REPO_STRUCTURE_AUTHORITY.md"
    description: |
      Agent implementation path governance is contradictory across 4 docs.
      AGENTS_LOCATION.md says "agentic-spine/agents/" (directory doesn't exist).
      CORE_AGENTIC_SCOPE.md references agents/active/ and agents/contracts/
      (neither exists; actual contracts are in ops/agents/). Workbench .gitignore
      blocks agents/ as "Runtime (spine owns these)". REPO_STRUCTURE_AUTHORITY.md
      doesn't list agents/ as an allowed workbench root. WORKBENCH_CONTRACT.md
      is silent on agents. All docs predate D49 agent discovery architecture
      (2026-02-08). Result: P1 media-agent artifacts in workbench/agents/media/
      are untrackable by git.
    severity: high
    status: fixed
    fixed_in: "LOOP-MEDIA-AGENT-WORKBENCH-20260208"
    notes: |
      Fixed: (1) AGENTS_LOCATION.md updated to reflect ops/agents/ for contracts,
      workbench/agents/<domain>/ for implementations. (2) CORE_AGENTIC_SCOPE.md
      updated: agents/active/ → ops/agents/ (contracts), implementation in workbench.
      (3) Workbench .gitignore: added !agents/ exception. (4) REPO_STRUCTURE_AUTHORITY.md:
      added agents/ to allowed root entries. (5) WORKBENCH_CONTRACT.md: added agent
      placement rule.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during macbook alignment hardening 2026-02-09
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-047
    discovered_by: "macbook-alignment-20260209"
    discovered_at: "2026-02-09"
    type: unclear-doc
    doc: "docs/governance/CLAUDE_ENTRYPOINT_SHIM.md + host.claude.entrypoint.*"
    description: |
      Claude Code home state (~/.claude) contains a mix of governed entrypoint
      surfaces (CLAUDE.md, commands/ctx.md, settings.json, settings.local.json)
      and volatile user-local runtime state (history, cache, transcripts, etc.).
      Without a single "apply + verify" command, agents and operators can drift
      these entrypoint surfaces over time, causing inconsistent governance
      injection across sessions.
    severity: high
    status: fixed
    fixed_in: "macbook-alignment-20260209"
    notes: |
      Fixed by adding:
      - host.macbook.managed_configs.apply (enforces managed symlinks and runs
        host-claude-entrypoint-lock --execute)
      - host.macbook.drift.check (enforced read-only drift check)
      Receipts:
      - RCAP-20260208-202527__host.macbook.managed_configs.apply__R2d9081898
      - RCAP-20260208-202527__host.macbook.drift.check__R4yty81893
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-048
    discovered_by: "macbook-alignment-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/plugins/host/"
    description: |
      No read-only macbook drift gate existed to enforce host invariants beyond
      the start routine. Drift could accumulate silently (managed symlinks,
      CLAUDE entrypoint shim) until an agent session failed.
    severity: medium
    status: fixed
    fixed_in: "macbook-alignment-20260209"
    notes: |
      Fixed: host.macbook.drift.check capability added (receipt:
      RCAP-20260208-202527__host.macbook.drift.check__R4yty81893).
  - id: GAP-OP-049
    discovered_by: "macbook-alignment-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "workbench/dotfiles/macbook/README.md"
    description: |
      Managed tool configs existed in home (~/.codex/config.toml,
      ~/.config/opencode/opencode.json) but were not governed as reproducible
      dotfiles, so new machines (or drifted machines) would revert to ad-hoc
      defaults and surprise other agents.
    severity: low
    status: fixed
    fixed_in: "macbook-alignment-20260209"
    notes: |
      Fixed by storing these configs in workbench dotfiles and enforcing
      symlinks via host.macbook.managed_configs.apply. Verified by:
      - workbench verifier scripts/root/verify_laptop_hotkeys.sh
      - host.macbook.drift.check capability
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-050
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/staged/dev-tools/"
    description: |
      No automated backup cron exists for Gitea app-level dumps (gitea dump +
      pg_dump). Only VM-level vzdump protects data. A Gitea-specific corruption
      or misconfiguration would require full VM restore instead of targeted
      app-level recovery. Vaultwarden and Infisical both have automated
      app-level backups; Gitea does not.
    severity: high
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: gitea-backup.sh deployed to /usr/local/bin on dev-tools (VM 206).
      Cron installed: 55 2 * * * (daily). SSH key for NAS access generated and
      authorized. Manual test verified: gitea dump (3.8M) + pg_dump (80K) ->
      NAS /volume1/backups/apps/gitea/. Retention: 7 daily.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-051
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      No app-gitea entry existed in backup.inventory.yaml. backup.status
      has no visibility into Gitea app-level backup freshness. Other app
      backups (app-infisical, app-vaultwarden) are tracked; Gitea is not.
    severity: high
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: app-gitea entry added to backup.inventory.yaml with
      stale_after_hours=26, classification=critical, NAS path
      /volume1/backups/apps/gitea. Will show STALE until P5 deploys cron.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-052
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: runtime-bug
    doc: "Gitea push mirror configuration"
    description: |
      Push mirror from Gitea to GitHub uses an OAuth token (gho_*) that
      has an expiration date. When it expires, mirror sync will silently
      fail. No monitoring or alerting exists for mirror sync failures.
      A classic PAT (non-expiring or long-lived) is more durable.
    severity: medium
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: GitHub classic PAT stored in Infisical at
      /spine/vm-infra/gitea/GITHUB_PUSH_MIRROR_TOKEN. Push mirrors for
      both agentic-spine and workbench deleted+recreated with durable PAT.
      Sync verified (last_error empty, fresh timestamps). Namespace policy
      updated with GITHUB_PUSH_MIRROR_TOKEN in required_key_paths.
  - id: GAP-OP-053
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: ".gitea/workflows/"
    description: |
      Gitea Actions runner is deployed on VM 206 but no CI workflow
      exists. Runner is idle. No push-triggered verification of spine
      drift gates. GitHub Actions still runs but will become secondary
      once Gitea is canonical origin.
    severity: medium
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: .gitea/workflows/verify.yml created. Triggers on push to
      main and pull_request. Runs surfaces/verify/drift-gate.sh on
      ubuntu-latest runner. D50 drift gate validates workflow exists.
  - id: GAP-OP-054
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: null
    description: |
      No documented browser test exists for the Authentik SSO flow
      protecting Gitea (git.ronny.works). The SSO integration was
      configured during LOOP-DEV-TOOLS-DEPLOY-20260208 but the login
      flow has not been manually verified end-to-end via browser.
    severity: low
    status: accepted
    fixed_in: null
    parent_loop: LOOP-SPINE-GAP-LINKAGE-BACKFILL-20260223
    notes: |
      Accepted-standalone: manual browser test of git.ronny.works -> Authentik
      login -> Gitea. Low severity, non-blocking. Will be verified during next
      Gitea maintenance window. Re-parented from closed LOOP-MAILROOM-GAP-LINKAGE-20260211.
  - id: GAP-OP-055
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      Gitea monitoring is limited to HTTP health probe (services.health.yaml).
      No Prometheus metrics endpoint, no Grafana dashboard, no alerts for
      runner offline, mirror sync stale, disk usage, or API latency.
      Other critical services (Prometheus itself, Loki) have deeper
      observability. Gitea will become the canonical code forge.
    severity: low
    status: fixed
    fixed_in: "LOOP-GITEA-OBSERVABILITY-IMPLEMENT-20260212"
    parent_loop: "LOOP-GITEA-OBSERVABILITY-IMPLEMENT-20260212"
    notes: |
      Fixed: GITEA__metrics__ENABLED=true in docker-compose env, Prometheus
      scrape job 'gitea' targeting 100.90.167.39:3000 (UP), Grafana dashboard
      'gitea-overview' with 10 panels (version/repos/users/mirrors/issues/hooks/
      memory/goroutines/cpu/scrape-health). Alerting rules deferred (non-goal).
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-OBSERVABILITY-HYGIENE-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-056
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/staged/observability/prometheus/prometheus.yml"
    description: |
      Prometheus scrape targets for loki (localhost:3100) and node-observability
      (localhost:9100) resolve to [::1] (IPv6 loopback) inside the Prometheus
      Docker container. Both services bind to the host network only. Result:
      2 of 7 scrape targets permanently DOWN. Prometheus API shows
      "dial tcp [::1]:3100: connection refused" for both.
    severity: high
    status: fixed
    fixed_in: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    notes: |
      Fixed: replaced localhost with 100.120.163.70 (observability Tailscale IP)
      for both targets in prometheus.yml (staged + live). All targets now UP.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-057
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "ops/staged/observability/prometheus/prometheus.yml"
    description: |
      Prometheus scrape config includes infra-core-cadvisor (100.92.91.128:8080)
      and docker-host-cadvisor (100.92.156.118:8080) targets. cAdvisor is not
      deployed on either host. Both targets permanently DOWN with "connection
      refused". These were aspirational targets from the initial config, never
      backed by actual deployments.
    severity: medium
    status: fixed
    fixed_in: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    notes: |
      Fixed: removed both cAdvisor job entries from prometheus.yml (staged + live).
      Can be re-added when/if cAdvisor is deployed in a future loop.
  - id: GAP-OP-058
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/staged/observability/loki/docker-compose.yml"
    description: |
      Loki Docker health check reports container as unhealthy despite the service
      responding 200 on /ready from the host. Two compounding root causes:
      (1) grafana/loki:latest is a distroless image with no shell, wget, or nc —
      the wget-based health check can never succeed regardless of timing.
      (2) Loki's compactor waits 10 minutes for ring stability before /ready
      returns 200, so even a working health check would need >10min start_period.
    severity: low
    status: fixed
    fixed_in: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    notes: |
      Fixed: disabled in-container health check (test: ["NONE"]) since distroless
      image has no health check tools. Health monitored externally via
      services.health.yaml (GET /ready on 100.120.163.70:3100).
  - id: GAP-OP-059
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/secrets.binding.yaml"
    description: |
      Grafana admin password secret path is undocumented. Other infra services
      (caddy-auth, gitea, vaultwarden) have documented Infisical paths under
      /spine/vm-infra/<service>/. Grafana follows the same pattern but is not
      explicitly documented in any binding or runbook.
    severity: low
    status: fixed
    fixed_in: "LOOP-GRAFANA-SECRET-PATH-ALIGN-20260212"
    parent_loop: "LOOP-GRAFANA-SECRET-PATH-ALIGN-20260212"
    notes: |
      Fixed: Infisical folder /spine/vm-infra/grafana created, GRAFANA_ADMIN_PASSWORD
      secret stored. secrets.namespace.policy.yaml updated (required_key_paths +
      key_path_overrides). Agent tooling resolves path correctly.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-VAULTWARDEN-GOVERNANCE-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-060
    discovered_by: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      Vaultwarden ADMIN_TOKEN is not stored in Infisical. It exists only in
      the host-local .env on infra-core. Every other infra-core service
      (Gitea, Caddy-Auth, Infisical itself) has secrets at
      /spine/vm-infra/<service>/. Vaultwarden is the sole exception.
    severity: high
    status: fixed
    fixed_in: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    notes: |
      Fixed: VAULTWARDEN_ADMIN_TOKEN stored at /spine/vm-infra/vaultwarden/
      in Infisical. Folder created via API. Verified: key, path, value length.
      Non-secret config (DOMAIN, LOG_LEVEL, TZ, etc.) stays in .env.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-061
    discovered_by: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets.namespace.policy.yaml has no vaultwarden entries in
      required_key_paths, planned_key_paths, or forbidden_root_prefixes.
      D43 cannot enforce vaultwarden secret placement.
    severity: medium
    status: fixed
    fixed_in: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    notes: |
      Fixed: VAULTWARDEN_ADMIN_TOKEN added to required_key_paths at
      /spine/vm-infra/vaultwarden/. VAULTWARDEN_ added to
      forbidden_root_prefixes. D43 PASS confirmed.
  - id: GAP-OP-062
    discovered_by: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      No restore runbook exists for Vaultwarden. GITEA_BACKUP_RESTORE.md,
      INFISICAL_BACKUP_RESTORE.md, and AUTHENTIK_BACKUP_RESTORE.md all exist.
      Vaultwarden is Tier 1 Critical Infrastructure with no documented
      restore procedure.
    severity: medium
    status: fixed
    fixed_in: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    notes: |
      Fixed: created docs/governance/VAULTWARDEN_BACKUP_RESTORE.md following
      the Infisical pattern. Covers: backup (tar.gz + NAS rsync), restore
      (stop, replace vw-data, start), secrets recovery (from Infisical),
      break-glass access, quarterly restore test requirement.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CADDY-PROTO-FIX-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-063
    discovered_by: "LOOP-CADDY-PROTO-FIX-20260209"
    discovered_at: "2026-02-09"
    type: missing-process
    doc: "ops/bindings/deploy.dependencies.yaml"
    description: |
      No governance artifact tracks deployment dependencies between services.
      When Caddy config changed (X-Forwarded-Proto fix), Authentik OIDC
      discovery URLs switched from http:// to https://, but Gitea cached
      the old http:// issuer. SSO failed with JWT issuer mismatch until
      Gitea was restarted. No gate or checklist existed to enforce the
      downstream restart.
    severity: high
    status: fixed
    fixed_in: "LOOP-CADDY-PROTO-FIX-20260209"
    notes: |
      Fixed: created deploy.dependencies.yaml (dependency chain map),
      D51 caddy-proto-lock (validates X-Forwarded-Proto https on all
      Authentik proxy blocks in staged Caddyfile). Gate prevents the
      proto header from being removed; binding documents restart chain.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-UDR6-SHOP-CUTOVER-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-064
    discovered_by: "LOOP-UDR6-SHOP-CUTOVER-20260209"
    discovered_at: "2026-02-09"
    type: missing-process
    doc: "docs/governance/SHOP_SERVER_SSOT.md"
    description: |
      Shop LAN has no dedicated gateway/router. T-Mobile 5G Home Internet
      gateway is fully locked (no DHCP/DNS control, no bridge mode). DHCP
      and DNS are unmanaged by the homelab operator. Pi-hole exists but
      DHCP clients don't use it. VLANs impossible without a VLAN-capable
      router. All SSOT docs reference 192.168.12.0/24 (T-Mobile subnet).
    severity: high
    status: fixed
    fixed_in: "LOOP-UDR6-SHOP-CUTOVER-20260209"
    notes: |
      Fixed 2026-02-09: UDR6 deployed as shop gateway (192.168.1.1).
      All VMs re-IPed to VMID-based 192.168.1.0/24. Pi-hole DNS active.
      CF tunnel, NFS, all Docker stacks verified live.
      Device re-IP (iDRAC, NVR, switch) deferred — BMC initializing.
      Receipt: ADHOC_20260209_160037_UDR6_CUTOVER_P2.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during change pack governance post-mortem 2026-02-09
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-065
    discovered_by: "LOOP-UDR6-SHOP-CUTOVER-20260209"
    discovered_at: "2026-02-09"
    type: missing-process
    doc: "docs/governance/CHANGE_PACK_TEMPLATE.md"
    description: |
      UDR6 cutover executed without a governed preflight process, no filled
      change pack, no LAN-only device bindings in ssh.targets.yaml, and no
      cutover sequencing rules. Mid-cutover discoveries (docker-host re-IP,
      infra-core DNS, grafana tunnel routing) required improvisation.
    severity: high
    status: fixed
    fixed_in: "change-pack-governance-20260209"
    notes: |
      Fixed by: CHANGE_PACK_TEMPLATE.md (enhanced with rollback map, cutover
      sequence, deferred items, doc sweep, sign-off), cutover.sequencing.yaml
      (5-phase mandatory ordering), LAN-only device entries in ssh.targets.yaml
      (switch-shop, idrac-shop, nvr-shop), network.lan.device.status capability
      (ping via probe_via), network.cutover.preflight capability (composite GO/NO-GO),
      D53 change-pack-integrity-lock drift gate, retrospective UDR6 change pack,
      NETWORK_RUNBOOK.md Section 9 (change pack process).
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during drift gates consolidation proposal 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-066
    discovered_by: "LOOP-DRIFT-GATES-CONSOLIDATION-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Drift-gate suite has grown to 50+ checks without an explicit taxonomy or
      consolidation strategy. Agents see this as sprawl: multiple STOPs for the
      same remediation path (notably secrets readiness) and unclear separation
      between irreversible safety locks vs operator guidance checks.
    severity: medium
    status: fixed
    fixed_in: "LOOP-DRIFT-GATES-CONSOLIDATION-20260210"
    parent_loop: "LOOP-DRIFT-GATES-CONSOLIDATION-20260210"
    notes: |
      Resolved: composite locks D55-D57 implemented, DRIFT_VERBOSE mode added.
      Proposal: docs/governance/_audits/2026-02-10-drift-gates-consolidation-proposal.md
  # ─────────────────────────────────────────────────────────────
  # Discovered during mailroom audit 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-067
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "mailroom/outbox/CLAUDE__RESULT.md"
    description: |
      Certification audit produced 31 findings (5 critical, 12 moderate, 14 minor)
      to CLAUDE__RESULT.md but no triage pipeline exists to convert findings into
      gaps or loops. Audit results sit in outbox with no follow-up workflow.
      21 findings went untracked until manual mailroom audit discovered them.
    severity: high
    status: fixed
    fixed_in: "fix/gap-067-audit-triage"
    notes: |
      Fixed: spine.audit.triage capability reads *RESULT.md files from outbox,
      extracts findings by severity, cross-references against operational.gaps.yaml
      and open_loops.jsonl, and produces a TRACKED/UNTRACKED/STALE triage report.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-068
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "docs/governance/SSOT_REGISTRY.yaml"
    description: |
      SSOT documents have last_reviewed fields but no drift gate checks temporal
      freshness. A file can be structurally valid but weeks stale. 11 of 25
      SSOT_REGISTRY entries had last_reviewed dates 2-3 weeks old. No automated
      signal for staleness.
    severity: medium
    status: fixed
    fixed_in: "fix/gap-068-ssot-freshness"
    notes: |
      Fixed: D58 drift gate added. Checks all SSOT last_reviewed dates against
      SSOT_FRESHNESS_DAYS threshold (default 21). Gate script at
      surfaces/verify/d58-ssot-freshness-lock.sh.
  - id: GAP-OP-069
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      D45 naming consistency checks that hosts in naming.policy.yaml appear in
      their declared bindings. But no reverse check exists — a host can exist in
      ssh.targets.yaml and be absent from SERVICE_REGISTRY.yaml or
      DEVICE_IDENTITY_SSOT.md. Each registry is validated in isolation.
      Missing automation-stack host in SERVICE_REGISTRY (C5) was one result.
    severity: medium
    status: fixed
    fixed_in: "fix/gap-069-registry-completeness"
    notes: |
      Fixed: D59 cross-registry completeness lock added. Bidirectional checks:
      (1) naming.policy ssh_target=true hosts must appear in ssh.targets.yaml,
      (2) shop-site SSH targets (non-lan-only, non-proxmox, non-decommissioned)
      must appear in SERVICE_REGISTRY.yaml hosts section.
  - id: GAP-OP-070
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: null
    description: |
      When entities are deprecated (tools, docs, paths, services), no enforcement
      ensures stale references are cleaned up. Examples: context.md referenced
      deprecated `mint ask`, AGENT_BOUNDARIES.md referenced superseded
      INFRASTRUCTURE_AUTHORITY.md. Nothing greps governance docs for known-
      deprecated strings.
    severity: low
    status: fixed
    fixed_in: "fix/gap-070-deprecation-sweeper"
    notes: |
      Proposed fix: create ops/bindings/deprecated.terms.yaml listing deprecated
      strings + their replacements. Add a drift gate that greps governance docs
      for any listed deprecated term.
  - id: GAP-OP-071
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "ops/bindings/naming.policy.yaml"
    description: |
      naming.policy.yaml documents a 9-step rename_procedure but it is
      documentation only — not enforced. When hosts are added, removed, or
      renamed, operators must manually remember every file to update. The VM 201
      decommission required updating 6 files; no automated check ensured all
      were hit until spine.verify caught D45 failure.
    severity: medium
    status: fixed
    fixed_in: "fix/gap-071-ripple-check"
    notes: |
      Proposed fix: add a spine.ripple.check capability that, given a host
      change, lists every file needing updates based on the naming.policy
      surfaces configuration.
  - id: GAP-OP-072
    discovered_by: "session-closeout-design-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: null
    description: |
      Work done in sessions (AP setup, credential changes, physical audits) is
      not traced back to the loops they resolve. The next agent starts from zero
      with no receipt, no loop update, no Infisical sync. Loops stay open despite
      being resolved and agents repeat already-completed work.
    severity: medium
    status: fixed
    fixed_in: "D61 session-loop traceability gate + agent.session.closeout capability"
    notes: |
      Fix: agent.session.closeout capability cross-refs recent session receipts
      against open loops. D61 drift gate enforces closeout freshness (48h default).
  # ── MinIO volume path divergence (LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210) ──
  - id: GAP-OP-073
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: duplicate-truth
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Live compose on docker-host maps MinIO volume to /mnt/data/mint-os/minio
      (local disk, empty). Workbench compose at infra/compose/storage/docker-compose.yml
      maps to /mnt/docker/storage/minio (NFS via symlink, 86k+ objects). The Jan 23
      extraction updated workbench but never deployed to docker-host. No receipt exists.
    severity: high
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: live compose volume updated to /mnt/docker/mint-os-data/minio,
      storage-network added. All 8 buckets restored. Backup at docker-compose.yml.bak.20260210-pre-p0.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-074
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/STACK_REGISTRY.yaml"
    description: |
      STACK_REGISTRY.yaml references paths that do not exist in workbench:
      - infrastructure/docker-host/mint-os/docker-compose.minio.yml (phantom)
      - infrastructure/storage/docker-compose.yml (phantom)
      Actual file: infra/compose/storage/docker-compose.yml
    severity: medium
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: mint-os compose_files → docker-host:~/stacks/mint-os/docker-compose.yml.
      Storage stack path → infra/compose/storage/, status → reference-only.
  - id: GAP-OP-075
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "docs/infrastructure/storage/MINIO_STANDALONE_SSOT.md"
    description: |
      MINIO_STANDALONE_SSOT.md listed as "authoritative" in the Feb 5
      canonicalization commit (6e0fbf3) but the file does not exist.
    severity: medium
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: authority.json updated to point to SERVICE_REGISTRY.yaml (minio entry)
      as the canonical MinIO SSOT instead of the phantom file.
  - id: GAP-OP-076
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: null
    description: |
      docker-host ~/stacks/mint-os/ has no .git directory. Compose file mutations
      are unversioned and untraceable. The Jan 30 compose rewrite (container rename,
      password hardening) left no audit trail.
    severity: high
    status: accepted
    parent_loop: LOOP-SPINE-GAP-LINKAGE-BACKFILL-20260223
    notes: |
      Accepted-standalone: docker-host ~/stacks/mint-os/ has no .git directory.
      High severity but docker-host (VM 200) is legacy and deferred from spine
      governance. Will be addressed if/when mint-os stack is migrated.
      Re-parented from closed LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210.
  - id: GAP-OP-077
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: null
    description: |
      Watchdog script (~/scripts/mint-os-watchdog.sh) references
      docker-compose.frontends.yml which does not exist. Produces failed
      recovery loops every 2 minutes. health-check.sh cron also missing.
    severity: low
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: watchdog updated to docker-compose.yml. health-check.sh cron disabled
      (script does not exist). simplefin-sync cron.d ownership fixed (root:root).
  # ──────────────────────────────────────────────────────────
  # Discovered during quote-page deployment 2026-02-10
  # ──────────────────────────────────────────────────────────
  - id: GAP-OP-078
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml + workbench/dotfiles/ssh/config.d/tailscale.conf"
    description: |
      Workstation SSH config (tailscale.conf) had 10 hosts; ssh.targets.yaml
      (governance SSOT) had 17. 7 hosts missing from workstation config:
      infra-core, observability, dev-tools, ai-consolidation, download-stack,
      streaming-stack, download-home. Blocked SSH to infra-core during
      quote-page deployment.
    severity: high
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
    notes: |
      All 7 missing hosts added to tailscale.conf. MACBOOK_SSOT.md SSH table
      expanded from 4 to 16 entries.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-079
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/MACBOOK_SSOT.md"
    description: |
      MACBOOK_SSOT.md SSH config table listed only 4 hosts. Actual SSH config
      had 10, ssh.targets.yaml had 17. Table was incomplete since initial
      documentation and was never reconciled.
    severity: medium
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
  - id: GAP-OP-080
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      files-api and quote-page not listed as docker-host stacks. Both run as
      independent compose files outside ~/stacks/. files-api was down when
      quote-page deployment started (no monitoring ensured it was up).
    severity: medium
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
    notes: |
      Both stacks added to docker-host targets. files-api started manually.
      Still no systemd unit to auto-start on boot (open concern).
  - id: GAP-OP-081
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml + ops/bindings/services.health.yaml"
    description: |
      files-api and quote-page had no entries in SERVICE_REGISTRY.yaml or
      services.health.yaml. No checklist of which SSOT surfaces to update
      when deploying a new service.
    severity: high
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
    notes: |
      Both services added to SERVICE_REGISTRY.yaml and services.health.yaml.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ──────────────────────────────────────────────────────────
  # Discovered during mint-modules governance cleanup 2026-02-10
  # ──────────────────────────────────────────────────────────
  - id: GAP-OP-082
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "ops/bindings/cross-repo.authority.yaml"
    description: |
      mint-modules repo (~/code/mint-modules/) had no entry in cross-repo
      authority. Agents had no way to discover it exists or understand its
      relationship to spine governance.
    severity: high
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-083
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/INFRASTRUCTURE_MAP.md"
    description: |
      INFRASTRUCTURE_MAP.md line 156 claimed files-api "DOES NOT EXIST"
      with status marker (#539). files-api has been deployed and active on
      docker-host:3500 since quote-page deployment. Customer Portal row
      still referenced mint-os-customer container (replaced by quote-page).
      Upload gap note referenced "Future: files-api" as if unbuilt.
    severity: high
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-084
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/STACK_REGISTRY.yaml"
    description: |
      artwork-module stack entry listed path as github:hypnotizedent/artwork-module
      with a self-contradicting note. No quote-page stack entry existed. Correct
      source is mint-modules/artwork and mint-modules/quote-page respectively.
    severity: high
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-085
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml + ops/staged/cloudflared/docker-compose.yml"
    description: |
      mintprints-app.ronny.works still pointed to mint-os-customer:3334
      (replaced by quote-page:3341). artwork.mintprints.co had routing_layer
      and authority_source both set to "unknown". Staged cloudflared compose
      still had mint-os-customer extra_host (service no longer exists).
    severity: medium
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
  # ─────────────────────────────────────────────────────────────
  # Discovered during stash audit 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-086
    discovered_by: "session-stash-audit-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh + ops/commands/close.sh"
    description: |
      Git stashes accumulate with no governance. D48 checks worktrees but
      never inspects `git stash list`. `ops close` only tears down issue-*
      worktrees, not loop-scoped codex-* worktrees. `agent.session.closeout`
      (D61) does not sweep git state (stashes, dangling branches). Result:
      6 orphaned stashes found referencing merged/deleted branches.
    severity: medium
    status: fixed
    fixed_in: LOOP-STASH-GOVERNANCE-20260210
    notes: |
      Fixed with two changes:
      1. D48: stash audit added (flags stashes whose parent branch is merged/gone)
      2. ops close: `ops close loop <LOOP_ID>` tears down worktree + branch + stashes
  # ─────────────────────────────────────────────────────────────
  # Discovered during home dir audit 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-087
    discovered_by: "session-home-dir-audit-20260210"
    discovered_at: "2026-02-10"
    type: agent-behavior
    doc: "D30 + D42 (canonical path governance)"
    description: |
      ~/ops/ contained stale shadow copies of spine scripts (infra-proxmox-maintenance,
      network-oob-guard-status). Created by Codex agent sandbox copying files to ~/
      instead of working inside ~/code/agentic-spine/. ~/ronny-ops/ (forbidden by D30,
      118K files, read-only) and ~/qdrant_storage/ (empty) also lingered. All three dirs
      violated the canonical ~/code/ single source of truth.
    severity: high
    status: fixed
    fixed_in: LOOP-HOME-DIR-CLEANUP-20260210
    notes: |
      Removed ~/ops/ (2 stale files), ~/qdrant_storage/ (empty), ~/ronny-ops/
      (remote preserved at github.com:hypnotizedent/ronny-ops.git).
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during spine upgrade 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-088
    discovered_by: "session-spine-upgrade-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "ops/commands/close.sh"
    description: |
      `./bin/ops close` (issue close path) hard-fails because it calls
      `ops/verify.sh`, which no longer exists in the spine runtime. This
      creates agent confusion when they try to use `ops close` for
      verification/cleanup and get a shell error instead of a governed
      verification run.
    severity: medium
    status: fixed
    fixed_in: "session-spine-upgrade-20260210"
  - id: GAP-OP-089
    discovered_by: "session-spine-upgrade-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh + bin/ops preflight"
    description: |
      D48 codex worktree hygiene gate crashes under `set -u` when a worktree
      entry has no `branch` field in `git worktree list --porcelain` output
      (e.g. detached HEAD). This breaks:
      - `./bin/ops preflight` (reports worktrees DIRTY and STOPs)
      - drift gate D3 (entrypoint smoke; calls preflight)
      - drift gate D48 itself (hard FAIL)
    severity: high
    status: fixed
    fixed_in: "session-spine-upgrade-20260210"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-090
    discovered_by: "session-spine-upgrade-20260210"
    discovered_at: "2026-02-10"
    type: agent-behavior
    doc: "mailroom/ + receipts/ contracts"
    description: |
      A non-governed, ad-hoc mailroom audit report was added at repo root
      (`MAILROOM_AUDIT_20260210.md`). Governance requires work discovery to be
      registered as a loop/gap and evidenced via governed receipts, not as a
      freestanding audit doc in the repo root.
    severity: medium
    status: fixed
    fixed_in: "session-spine-upgrade-20260210"
  - id: GAP-OP-091
    discovered_by: "session-md1400-hardware-blocked-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "surfaces/verify/d61-session-loop-traceability-lock.sh"
    description: |
      D61 fails `spine.verify` when a high/critical loop has a `created:` date
      older than 48h, even if the loop is explicitly hardware-blocked. This
      makes it impossible to accurately represent long-running blocked loops in
      scope frontmatter without breaking verify.
    severity: high
    status: fixed
    fixed_in: "session-md1400-hardware-blocked-20260210"
    parent_loop: "LOOP-MD1400-SAS-RECOVERY-20260208"
    notes: |
      Repro: adding `created: 2026-02-08` to LOOP-MD1400-SAS-RECOVERY frontmatter
      causes D61 to hard-fail as "stale >48h" even though the loop is blocked on
      hardware delivery/install. Intended fix: treat `blocked_by:` as an exemption
      from the high-loop TTL fail (warn-only at most).
      Fixed 2026-02-10: D61 now skips the high/critical TTL hard-fail when
      `blocked_by:` is set (blocked loops are warn-only at most).
      Evidence:
      - commits: c2c0c4c, 80a5b79
      - receipt: RCAP-20260210-184203__spine.verify__R5njl36162 (PASS)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-092
    discovered_by: "session-media-legacy-extraction-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-MEDIA-LEGACY-EXTRACTION-20260211.scope.md"
    description: |
      Media operational knowledge still lives only in legacy `ronny-ops` and is
      resurfacing as ad-hoc asks without a governed extraction matrix. The local
      legacy path was intentionally removed for D30 compliance, but no spine-native
      intake contract exists for media docs/scripts (critical rules, recovery, tdarr,
      jellyfin buffering, intro skipper, trickplay guard, Kometa, Janitorr).
      This creates repeated context churn and risk of copy/paste migration of stale
      runtime patterns into spine.
    severity: high
    status: closed
    closed_at: "2026-02-11"
    parent_loop: "LOOP-MEDIA-LEGACY-EXTRACTION-20260211"
    notes: |
      CLOSED: LOOP-MEDIA-LEGACY-EXTRACTION-20260211 completed P0-P4.
      4 spine-native docs extracted to docs/brain/lessons/:
        MEDIA_CRITICAL_RULES.md, MEDIA_DOWNLOAD_ARCHITECTURE.md,
        MEDIA_PIPELINE_ARCHITECTURE.md, MEDIA_RECOVERY_RUNBOOK.md.
      3 artifacts rejected (Kometa, Janitorr, Tdarr), 3 superseded.
      Source: github.com:hypnotizedent/ronny-ops.git @ 1ea9dfa9.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-093
    discovered_by: "session-finance-legacy-extraction-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "docs/governance/FINANCE_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Finance stack (docker-host VM 200) has no spine-native operational runbooks,
      no health checks in services.health.yaml, backup disabled in backup.inventory.yaml,
      and no secrets namespace mapping. Legacy knowledge lives only in ronny-ops/finance/
      (150+ artifacts) with 4 critical items at risk if legacy source disappears:
      SimpleFIN credential pipeline, n8n workflow definitions, Firefly account topology,
      and import rule mappings.
    severity: high
    status: closed
    closed_at: "2026-02-11"
    parent_loop: "LOOP-FINANCE-LEGACY-EXTRACTION-20260211"
    notes: |
      CLOSED: 8 extract_now items rewritten as spine-native Move A docs (c768e63).
      Pillar structure created (docs/pillars/finance/). Health checks added to
      services.health.yaml. Backup enabled in backup.inventory.yaml. Secrets namespace
      expanded. GAP resolved via LOOP-FINANCE-LEGACY-EXTRACTION-20260211 P0-P3.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-094
    discovered_by: "terminal-d-immich-extraction-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-IMMICH-LEGACY-EXTRACTION-20260211.scope.md"
    description: |
      VM 203 (immich) is running per Proxmox (qm status: running, uptime ~1.8d) but
      completely network-isolated. ARP for 192.168.1.203 FAILED on pve bridge. Tailscale
      shows immich-1 offline (last seen 1d ago). QEMU guest agent unavailable. Cloud-init
      config still shows old network (192.168.12.230/24, gw 192.168.12.1) — likely not
      updated after UDR6 cutover. Bridge/tap is healthy on host side (tap203i0 in vmbr0,
      state forwarding). Impact: Immich service down for all users, daily DB backup cannot
      push offsite, mobile sync broken, no health check catching this (no services.health
      entry exists). Cron path verification (P1 of LOOP-IMMICH-LEGACY-EXTRACTION) blocked
      until VM network is restored.
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-IMMICH-LEGACY-EXTRACTION-20260211"
    notes: |
      Fixed 2026-02-11: Updated cloud-init ipconfig0 from 192.168.12.230/24 to
      192.168.1.203/24,gw=192.168.1.1 via `qm set 203 --ipconfig0`. Hard stop/start
      to regenerate cloud-init ISO. VM now reachable on 192.168.1.203, ARP resolved.
      DNS fixed: disabled Tailscale accept-dns, pointed netplan to Pi-hole (192.168.1.204),
      updated cloud-init --nameserver. Installed qemu-guest-agent (active, pve ping OK).
      All 4 Docker containers healthy. Immich health endpoint responds 200 {"res":"pong"}
      via Tailscale IP 100.114.101.50:2283. Daily backups confirmed running (Feb 8-11 dumps
      in ~/backups/). Cron: /etc/cron.d/immich-backup → ~/scripts/backup-immich-db.sh.
      P1 cron risk was false alarm — script at correct VM-local path, not legacy.
    title: 'VM 203 (immich) is running per Proxmox (qm status: running, uptime ~1.8d) but completely network-isolated. '
    fixed_in: LOOP-IMMICH-LEGACY-EXTRACTION-20260211
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during Cowork audit 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-095
    discovered_by: "cowork-audit-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "ops/bindings/agents.registry.yaml"
    description: |
      Shadow runtime bypass: MCPJungle MCP servers in workbench expose direct
      mutating API calls (POST/PUT/DELETE) to external services without routing
      through spine mailroom or capability gates. Affected surfaces:
      (a) media-agent + n8n-agent MCP tools duplicate spine capabilities but
          skip receipts, safety levels, and approval gates;
      (b) home-assistant, mint-os, firefly, paperless, immich, microsoft MCP
          servers have no spine contract, no registry entry, no routing rule;
      (c) MCPJungle media-stack has hardcoded SABnzbd API key in source (P1);
      (d) local vs MCPJungle MCP server copies have no parity drift gate.
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MCP-RUNTIME-GOVERNANCE-20260211"
    notes: |
      FIXED: All 5 phases complete. P1: SABnzbd key removed. P2: 23 mutating
      MCP tools blocked with GOVERNED_TOOLS gate. P3: 6 new agent contracts +
      registry entries (HA, mint-os, firefly, paperless, immich, microsoft).
      P4: D66 MCP parity gate created (local vs MCPJungle hash comparison).
      P5: explicit deny policy documented in capabilities.yaml for domains
      without spine capabilities. 0 shadow runtime paths remain.
    title: 'Shadow runtime bypass: MCPJungle MCP servers in workbench expose direct mutating API calls (POST/PUT/DELETE...'
    fixed_in: LOOP-MCP-RUNTIME-GOVERNANCE-20260211
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-RUNTIME-RECONCILIATION-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-096
    discovered_by: "LOOP-RUNTIME-RECONCILIATION-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      docker-host (VM 200) is running on pve but completely network-unreachable.
      LAN ping 192.168.1.200 fails from hypervisor. Tailscale 100.92.156.118
      unreachable. QEMU guest agent not running. No remote diagnostic path —
      requires PVE VNC console or qm monitor intervention.
      Affects: all docker-host compose stacks (mint-os, finance, mail-archiver),
      all services.health.yaml endpoints on 100.92.156.118, VM 200 vzdump
      (vzdump still runs at hypervisor level — not blocked).
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-RUNTIME-RECONCILIATION-20260211"
    notes: |
      Root cause: VM 200 was stopped/started via PVE web UI (root@pam) at
      2026-02-11 13:15:37 EST. Prior to restart, network stack was unresponsive
      (ARP FAILED, no guest agent). The stop/start cycle restored all services.
      Post-recovery: LAN 192.168.1.200 reachable, Tailscale 100.92.156.118
      connected, guest agent active, 20 Docker containers running (all healthy).
      docker.compose.status: 21/21 OK. services.health.status: minio/files-api/
      quote-page OK. firefly-iii/paperless-ngx REFUSED (preexisting: bound to
      127.0.0.1 only, not reachable via Tailscale IP — separate issue).
      Receipts: RCAP-20260211-133818__docker.compose.status__Ra2mt21752,
      RCAP-20260211-133850__services.health.status__Rdw0n22485.
    title: 'docker-host (VM 200) is running on pve but completely network-unreachable. '
    fixed_in: LOOP-RUNTIME-RECONCILIATION-20260211
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-097
    discovered_by: "LOOP-RUNTIME-RECONCILIATION-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      automation-stack compose paths use ~/stacks/* but SSH user is ubuntu.
      Actual stacks live at /home/automation/stacks/* (different user). Causes
      false dir_missing in docker.compose.status. SSH target user may also need
      updating if automation user owns docker.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-RUNTIME-RECONCILIATION-20260211"
    notes: |
      Fixed: automation-stack compose paths changed to absolute
      /home/automation/stacks/* and SSH user updated to automation.
      Validation: docker.compose.status now reports automation + mcpjungle
      stacks as OK (5/5 + 1/1) instead of dir_missing.
    title: 'automation-stack compose paths use ~/stacks/* but SSH user is ubuntu. '
    fixed_in: LOOP-RUNTIME-RECONCILIATION-20260211
  - id: GAP-OP-098
    discovered_by: "LOOP-RUNTIME-RECONCILIATION-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      App-level backup inventory drift: app-firefly target pointed to a missing
      NAS path (/volume1/backups/apps/finance) and multiple app backups were stale.
      Root cause was runtime scheduler/auth mismatch after UDR6 cutover.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-RUNTIME-RECONCILIATION-20260211"
    notes: |
      Fixed:
      - app-firefly disabled in backup.inventory.yaml (false positive target).
      - infra-core backup scripts restored to fresh artifacts (infisical + vaultwarden).
      - gitea backup script validated as ubuntu user (root key mismatch discovered);
        /etc/cron.d/gitea-backup restored with ubuntu scheduler user.
      - home-assistant fresh backup created (396c7bcc.tar) and copied to NAS.
      Validation: backup.status now reports 15 targets | 15 ok | 0 degraded.
    title: 'App-level backup inventory drift: app-firefly target pointed to a missing NAS path (/volume1/backups/apps/f...'
    fixed_in: LOOP-RUNTIME-RECONCILIATION-20260211
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-SERVICE-HEALTH-PROBE-ALIGN-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-099
    discovered_by: "LOOP-SERVICE-HEALTH-PROBE-ALIGN-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/bindings/services.health.yaml"
    description: |
      Three health probes (firefly-iii, paperless-ngx, slskd) use external
      Tailscale IPs but the services bind to 127.0.0.1. Probes always return
      REFUSED, creating false negatives. Docker health checks are the
      authoritative signal for these localhost-bound services.
    severity: low
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-SERVICE-HEALTH-PROBE-ALIGN-20260211"
    notes: |
      Fixed: disabled external probes for firefly-iii, paperless-ngx, slskd.
      Follow-up: implement probe_via:ssh feature for localhost-bound services
      so they can be monitored without false REFUSED results.
    title: Three health probes (firefly-iii, paperless-ngx, slskd) use external Tailscale IPs but the services bind to...
    fixed_in: LOOP-SERVICE-HEALTH-PROBE-ALIGN-20260211
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-FINANCE-VM-SEPARATION-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-100
    discovered_by: "LOOP-FINANCE-VM-SEPARATION-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Finance stack (Firefly III, Paperless-ngx, Ghostfolio) runs on legacy
      docker-host (VM 200) alongside unrelated mint-os workloads. No isolation,
      shared postgres, shared network namespace with production storefronts.
      VM 200 is a legacy host (no cloud-init, manual config) making it fragile
      for governed operations. Finance deserves a dedicated governed VM.
    severity: high
    status: closed
    closed_at: "2026-02-11"
    parent_loop: "LOOP-FINANCE-VM-SEPARATION-20260211"
    notes: |
      FIXED: Finance stack migrated to dedicated VM 211 (finance-stack).
      9 containers (7 finance + 2 mail-archiver) live on VM 211.
      Data migrated, counts verified, public URLs serving from VM 211.
      Legacy docker-host finance/mail-archiver stopped and decommissioned.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-DASHY-GOVERNED-DEPLOY-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-101
    discovered_by: "LOOP-DASHY-GOVERNED-DEPLOY-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "ops/bindings/docker.compose.targets.yaml, ops/bindings/services.health.yaml, docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      Dashy has an active CF tunnel route (dash.ronny.works) and compose config
      in workbench (infra/compose/dashy/) but is missing from spine operational
      bindings: no docker.compose.targets entry, no services.health probe, no
      SERVICE_REGISTRY entry, and STACK_REGISTRY has stale path + inactive status.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-DASHY-GOVERNED-DEPLOY-20260211"
    notes: |
      Fixed: registered Dashy in all 4 spine bindings, deployed to docker-host
      ~/stacks/dashy/, updated config.yml to spine-era topology. Verified via
      docker.compose.status (6 stacks on docker-host), services.health.status
      (dashy OK 191ms), dash.ronny.works HTTP 200, spine.verify PASS (all gates).
      Evidence: RCAP-20260211-143545__spine.verify__R3z0s85094.
    title: Dashy has an active CF tunnel route (dash.ronny.works) and compose config in workbench (infra/compose/dashy...
    fixed_in: LOOP-DASHY-GOVERNED-DEPLOY-20260211
  # ─────────────────────────────────────────────────────────────
  # Discovered during POST-FINANCE governance audit (CP-20260211-151804)
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-102
    discovered_by: "LOOP-POST-FINANCE-GOVERNANCE-HYGIENE-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/staged/cloudflared/docker-compose.yml"
    description: |
      Staged cloudflared docker-compose.yml still maps finance service
      extra_hosts (firefly-iii, ghostfolio, paperless-ngx, mail-archiver)
      to docker-host IP 100.92.156.118. Live cloudflared was updated during
      LOOP-FINANCE-VM-SEPARATION-20260211 P4 to 100.76.153.100 (VM 211),
      but the staged copy was not. If an agent redeploys from staged, it
      reverts the P4 traffic cutover.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-POST-FINANCE-GOVERNANCE-HYGIENE-20260211"
    notes: |
      Fixed via CP-20260211-152206 (commit 799a0ec). Staged cloudflared extra_hosts
      updated to 100.76.153.100. Verified by spine.verify PASS (D1-D68).
    title: Staged cloudflared docker-compose.yml still maps finance service extra_hosts (firefly-iii, ghostfolio, pape...
    fixed_in: LOOP-POST-FINANCE-GOVERNANCE-HYGIENE-20260211
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-VM-CREATION-GOVERNANCE-ROOTFIX-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-103
    discovered_by: "LOOP-VM-CREATION-GOVERNANCE-ROOTFIX-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "N/A — no governance doc exists yet"
    description: |
      VM creation has no root governance. An agent can provision a new VM
      (qm clone, cloud-init, bootstrap) without updating SERVICE_REGISTRY,
      NODE_REGISTRY, backup.inventory, services.health, ssh.targets, or
      docker.compose.targets. This creates silent SSOT drift that downstream
      gates (D54, D59) only partially catch for existing entries.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-VM-CREATION-GOVERNANCE-ROOTFIX-20260211"
    notes: |
      Fixed: VM_CREATION_CONTRACT.md + vm.lifecycle.yaml + D69 gate + vm.governance.audit cap.
      All 10 active shop VMs pass D69. spine.verify PASS D1-D69.
    title: 'VM creation has no root governance. '
    fixed_in: LOOP-VM-CREATION-GOVERNANCE-ROOTFIX-20260211
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CONTAINER-SPINE-CLEANUP-CLOSEOUT-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-104
    discovered_by: "LOOP-CONTAINER-SPINE-CLEANUP-CLOSEOUT-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "SERVICE_REGISTRY.yaml, services.health.yaml, agents.registry.yaml, secrets.namespace.policy.yaml"
    description: |
      Aggregate cleanup gap from D/E/F audit findings: 6 active mint-os frontends
      unregistered, caddy missing health probe, 3 stale docker-host finance probe
      entries, 5 stopped download-stack services unmarked, agent registry pointing
      at old VM for finance/paperless, MCP paperless.json using pre-migration endpoint,
      Azure IDs hardcoded in microsoft.json, secrets namespace missing N8N key.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-CONTAINER-SPINE-CLEANUP-CLOSEOUT-20260211"
    notes: |
      Fixed: SERVICE_REGISTRY 6 frontends + 4 infra utilities registered, 5 stopped/parked
      services marked, immich host ssh fixed. Health probes: caddy + cloudflared added,
      3 stale docker-host finance entries removed. Agents: firefly/paperless covers → VM 211.
      MCP: paperless.json → VM 211, microsoft Azure IDs externalized.
      Secrets: N8N_ENCRYPTION_KEY + vendor keys + GITHUB_TOKEN alias added.
      spine.verify PASS D1-D69. vm.governance.audit 10/10.
    title: 'Aggregate cleanup gap from D/E/F audit findings: 6 active mint-os frontends unregistered, caddy missing hea...'
    fixed_in: LOOP-CONTAINER-SPINE-CLEANUP-CLOSEOUT-20260211
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-105
    discovered_by: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    discovered_at: "2026-02-11"
    type: unclear-doc
    doc: "secrets.namespace.policy.yaml"
    description: |
      Mint-os secrets namespace overloaded: 55 keys in the monolith mint-os-api
      Infisical project with no per-module isolation. New modules (artwork,
      quote-page) need dedicated /spine/services/<module>/ namespaces.
      Namespace paths defined in MINT_PRODUCT_GOVERNANCE.md section 5 and
      secrets.namespace.policy.yaml module_namespaces. Runtime key migration
      deferred to module sprint work.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-SECRETS-OVERLOAD-REMEDIATION-20260211"
    notes: |
      Fixed: Module namespace policy enforced in secrets.namespace.policy.yaml —
      module_namespaces declared, key_path_overrides promoted from planned, forbidden
      root prefixes added (ARTWORK_, QUOTE_PAGE_). MINT_PRODUCT_GOVERNANCE.md section 5
      is authoritative. Infisical folder creation + key population deferred to artwork
      sprint (folders auto-create on first key set).
    title: 'Mint-os secrets namespace overloaded: 55 keys in the monolith mint-os-api Infisical project with no per-mod...'
    fixed_in: LOOP-SECRETS-OVERLOAD-REMEDIATION-20260211
  - id: GAP-OP-106
    discovered_by: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "docs/governance/MINT_PRODUCT_GOVERNANCE.md"
    description: |
      No product-level module ownership model existed. Modules deployed without
      explicit owner, domain boundary, or deploy permission governance.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    notes: |
      Fixed: MINT_PRODUCT_GOVERNANCE.md section 2 establishes module ownership
      contract with owner, services, deploy target, and secrets namespace per module.
    title: 'No product-level module ownership model existed. '
    fixed_in: LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211
  - id: GAP-OP-107
    discovered_by: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "docs/governance/MINT_PRODUCT_GOVERNANCE.md"
    description: |
      No API contract versioning governance existed. Modules had no required
      versioning policy, no deprecation windows, no breaking change rules.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    notes: |
      Fixed: MINT_PRODUCT_GOVERNANCE.md section 3 establishes API contract rules
      with /api/vN/ prefix, 30-day deprecation, and breaking change definitions.
    title: 'No API contract versioning governance existed. '
    fixed_in: LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CLAUDE-DESKTOP-FINDINGS-CLOSEOUT-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-108
    discovered_by: "LOOP-CLAUDE-DESKTOP-FINDINGS-CLOSEOUT-20260211"
    discovered_at: "2026-02-11"
    type: unclear-doc
    doc: "AGENTS.md, docs/governance/GOVERNANCE_INDEX.md"
    description: |
      Minor doc hygiene from 2026-02-10 certification audit closeout:
      (a) AGENTS.md and root README.md lack YAML front-matter (status/owner/last_verified)
      at top level. AGENTS.md has governance brief front-matter inline but no document-level
      front-matter. Root README.md has none.
      (b) GOVERNANCE_INDEX.md auto-generated appendix lists 21 of ~67 governance docs.
      Needs regeneration tooling or manual expansion.
    severity: low
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-DOC-HYGIENE-FRONTMATTER-INDEX-20260211"
    notes: |
      Fixed: (a) AGENTS.md and README.md now have document-level YAML front-matter.
      AGENTS.md front-matter is separate from the embedded governance brief (which has
      its own inline front-matter managed by D65 sync). (b) GOVERNANCE_INDEX.md
      auto-generated appendix regenerated: 21 → 67 governance docs listed.
    title: 'Minor doc hygiene from 2026-02-10 certification audit closeout: (a) AGENTS.md and root README.md lack YAML...'
    fixed_in: LOOP-DOC-HYGIENE-FRONTMATTER-INDEX-20260211
  # ─────────────────────────────────────────────────────────────
  # Discovered during media stack audit 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-109
    discovered_by: "media-stack-audit-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "/opt/stacks/download-stack/docker-compose.yml (VM 209)"
    description: |
      Media stack split (VM 201 → VM 209/210) left *arr root folder paths broken.
      Compose maps /mnt/media:/media but Radarr/Sonarr/Lidarr root folders still
      reference /movies, /tv, /music (old monolithic mounts). API confirms
      accessible=false for all three. Import pipeline is broken — downloads complete
      but cannot be moved to library paths. Additionally, autopulse path rewrites
      target /data/media/* but Jellyfin has media at /media/* — real-time scan
      notifications are silently failing. Two swaparr instances (lidarr/sonarr)
      crashed with exit 255 despite restart: unless-stopped.
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MEDIA-PATH-REMEDIATION-20260211"
    notes: |
      Fixed: Added individual volume mounts (/mnt/media/movies:/movies, etc.) to
      radarr/sonarr/lidarr in compose. Fixed autopulse REWRITE__TO from /data/media/*
      to /media/*. Restarted swaparr-lidarr + swaparr-sonarr. All three root folders
      now report accessible=true via API. Containers recreated on VM 209.
    title: 'Media stack split (VM 201 → VM 209/210) left *arr root folder paths broken. '
    fixed_in: LOOP-MEDIA-PATH-REMEDIATION-20260211
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-110
    discovered_by: "infra-parity-baseline-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "multi-file (SERVICE_REGISTRY.yaml, services.health.yaml, docker-compose-status tool)"
    description: |
      Infrastructure parity baseline revealed three issues:
      1. sabnzbd health probe TIMEOUT — web UI root (/) takes ~9.4s, exceeds 10s max_time.
         Switched to /api?mode=version&output=json (0.35s).
      2. SERVICE_REGISTRY lists swaparr-sonarr and swaparr-lidarr as "stopped" but both
         recovered and are running (confirmed via docker ps on VM 209).
      3. docker.compose.status tool uses `docker compose ps` without -a flag, making exited
         containers (huntarr, slskd, tdarr) invisible. Tool reports 21/21 when reality is
         21/24 (3 exited). Crashed containers would also be invisible — observability gap.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-INFRA-PARITY-RECONCILIATION-20260211"
    notes: |
      Fixed: (1) sabnzbd probe switched to API version endpoint. (2) swaparr status
      updated to active. (3) compose status tool now uses `docker compose ps -a` to
      include exited containers. download-stack correctly reports 21/24 (3_exited).
      Cloudflare/Caddy routing verified clean — all public URLs routable, finance IPs
      migrated, no stale routes.
    title: 'Infrastructure parity baseline revealed three issues: 1. '
    fixed_in: LOOP-INFRA-PARITY-RECONCILIATION-20260211
  # ─────────────────────────────────────────────────────────────
  # Discovered during Infisical DR readiness execution 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-112
    discovered_by: "infisical-dr-readiness-20260211"
    discovered_at: "2026-02-11"
    type: missing-process
    doc: "docs/governance/INFISICAL_BACKUP_RESTORE.md"
    description: |
      INFISICAL_BACKUP_RESTORE.md requires quarterly restore tests but no
      executable drill procedure existed. No evidence tracking mechanism,
      no scratch-DB isolation pattern, no RTO validation steps. The
      requirement was documented but unenforceable — an operator had no
      runbook to follow and no way to record evidence.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    notes: |
      Fixed: INFISICAL_RESTORE_DRILL.md created with 6-step drill procedure
      (scratch DB isolation, timed restore, validation criteria, cleanup,
      evidence template). Recert receipt created at
      receipts/dr/INFISICAL_DR_RECERT_20260211.md (CONDITIONAL PASS —
      procedure certified, first live drill pending). Next recert: 2026-05-11.
    title: 'INFISICAL_BACKUP_RESTORE.md requires quarterly restore tests but no executable drill procedure existed. '
    fixed_in: infisical-dr-readiness-20260211
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during media stack cleanup session 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-113
    discovered_by: "media-stack-audit-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "workbench/agents/media/src/tools/"
    description: |
      Media MCP agent (33 tools) has no bulk cleanup or audit capabilities.
      Manual session deleted 3,754 non-English movies (346 GB), disabled 6
      noisy import lists, deleted 4,091 dead-weight entries, and removed 23
      duplicate albums — all via raw API calls because no MCP tools exist for:
      1. library_audit — language breakdown, duplicate detection,
         unmonitored-with-no-files count, import list noise analysis across
         Radarr/Sonarr/Lidarr.
      2. bulk_library_action — filter by language/monitored/has-file status
         with delete/unmonitor/monitor actions plus dry-run preview.
      These are recurring maintenance tasks that should be agent-accessible
      rather than requiring manual API scripting each time.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_by: "workbench 5a7a6ed"
    notes: |
      Implemented library_audit (read-only, parallel GET across radarr/sonarr/lidarr)
      and bulk_library_action (dryRun=true default bypasses governance for preview;
      dryRun=false governed via GOVERNED_TOOLS block). 35 tools total (was 33).
      D66 MCPJungle parity sync applied. Evidence: tools/list confirms 35 tools.
    title: 'Media MCP agent (33 tools) has no bulk cleanup or audit capabilities. '
    fixed_in: workbench 5a7a6ed
  # ─────────────────────────────────────────────────────────────
  # Discovered during n8n recovery hardening 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-114
    discovered_by: "LOOP-N8N-AUTOMATION-RECOVERY-HARDENING-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      n8n workflow definitions exist only in the running Postgres database
      on automation-stack (VM 202). No repo-level or file-level backup of
      workflow JSON exists. VM-level vzdump covers the full disk but a
      corrupted n8n database or accidental workflow deletion has no
      granular recovery path. No scheduled workflow export, no retention
      policy, no restore runbook.
    severity: high
    status: fixed
    fixed_at: "2026-02-12"
    parent_loop: "LOOP-N8N-AUTOMATION-RECOVERY-HARDENING-20260212"
    notes: |
      Fixed: Daily cron at 03:00 on automation-stack exports all 35 workflows
      via n8n CLI (docker exec). 7-day retention. Snapshot status observable via
      n8n.workflows.snapshot.status capability. Recovery runbook at
      docs/governance/N8N_RECOVERY_RUNBOOK.md. Backup inventory entry added.
      API-based export-all added to spine wrapper (n8n.workflows.snapshot cap).
    title: 'n8n workflow definitions exist only in the running Postgres database on automation-stack (VM 202). '
    fixed_in: LOOP-N8N-AUTOMATION-RECOVERY-HARDENING-20260212
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-115
    discovered_by: "jellyfin-duplicate-diagnosis-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "workbench/agents/media/tools/src/index.ts"
    description: |
      Media MCP agent (35 tools) has no Jellyfin database-level integrity
      auditing. Jellyfin DB had duplicate parent Folder entries for
      /media/movies after VM 201→210 migration, causing every movie to
      appear twice (2536 rows for 1268 movies). Diagnosis and fix required
      manual SSH + sqlite3 surgery. The MCP agent talks to Jellyfin REST
      API for library counts but never inspects the SQLite DB, so it
      cannot detect: (1) duplicate parent folder entries, (2) duplicate
      BaseItems by path, (3) stale path prefixes from prior migrations,
      (4) cross-service count mismatches (Radarr vs Jellyfin). A
      jellyfin_db_audit tool using the Jellyfin API Items endpoint would
      catch these issues without requiring direct DB access.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_by: "workbench 6ce5f10"
    notes: |
      Implemented jellyfin_db_audit tool (read-only, uses Jellyfin REST API /Items).
      Detects: duplicate movies/episodes by path, duplicate parent folder entries,
      and cross-references Jellyfin vs Radarr movie counts. 36 tools total (was 35).
    title: 'Media MCP agent (35 tools) has no Jellyfin database-level integrity auditing. '
    fixed_in: workbench 6ce5f10
  - id: GAP-OP-116
    discovered_by: "multi-agent-entry-enforcement-20260212"
    discovered_at: "2026-02-12"
    type: agent-behavior
    doc: "ops/plugins/session/bin/session-start"
    description: |
      Multi-agent session signaling and enforcement is missing. Opening
      multiple Claude Code terminals (via hotkeys or manually) creates
      session dirs in mailroom/state/sessions/ that are never pruned.
      No concurrency detection, no multi-agent warning banner, no commit
      guard to prevent non-apply-owner agents from committing directly.
      Root cause: session-start has no awareness of peer sessions and
      the pre-commit hook has no multi-agent enforcement.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_by: "spine fb2b17f"
    parent_loop: LOOP-MULTI-AGENT-ENTRY-ENFORCEMENT-20260212
    notes: |
      Implemented session liveness pruning (dead PID + TTL > 4h → archive),
      active session counting with SPINE_ACTIVE_SESSION_COUNT + SPINE_MULTI_AGENT
      env exports, multi-agent warning banner in session-start and session-entry-hook,
      and pre-commit guard that blocks direct commits in multi-agent mode unless
      apply-owner lock is held.
    title: 'Multi-agent session signaling and enforcement is missing. '
    fixed_in: LOOP-MULTI-AGENT-ENTRY-ENFORCEMENT-20260212
  # ─────────────────────────────────────────────────────────────
  # Discovered during home-vs-shop documentation parity audit
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-117
    discovered_by: "home-infrastructure-parity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Home infrastructure (proxmox-home) has significantly less documentation
      coverage than shop (pve). Specific gaps: (1) Home VMs 100-105 have zero
      entries in vm.lifecycle.yaml, (2) no docker.compose.targets for home hosts,
      (3) zero health probes for home services, (4) zero home-specific operational
      capabilities, (5) only 1/5 home backup inventory entries enabled, (6) no
      home network governance docs (onboarding, audit runbook, normalization),
      (7) 1 home lesson doc vs 14 shop lesson docs. Shop has 3-14x more coverage
      across all SSOT binding categories. Root cause: home infra pre-dates spine
      governance and was never retrofitted.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    resolution: |
      All 7 deficit items resolved by LOOP-HOME-INFRA-DOC-PARITY-20260212:
      (1) 5 VMs in vm.lifecycle.yaml, (2) vaultwarden-home in compose targets,
      (3) 3 health probes, (4) 3 home.* capabilities, (5) 4/5 backup entries
      enabled (GAP-OP-118 fixed), (6) 2 network governance docs, (7) 4 lesson
      docs. Commits: ffa1716, 06c673b, 7894c27, 42bbd30.
    parent_loop: LOOP-HOME-INFRA-DOC-PARITY-20260212
    title: 'Home infrastructure (proxmox-home) has significantly less documentation coverage than shop (pve). '
    fixed_in: LOOP-HOME-INFRA-DOC-PARITY-20260212
  - id: GAP-OP-118
    discovered_by: "LOOP-HOME-INFRA-DOC-PARITY-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: null
    description: |
      Vzdump backup of LXC 103 (download-home) on proxmox-home FAILS with
      "Permission denied" when writing to NFS backup storage (synology-backups).
      Root cause: vzdump uses lxc-usernsexec for LXC backups which maps UIDs
      (u:0:100000:65536), but the NFS export on the Synology NAS does not
      support these mapped UIDs, so tar cannot create the temp file.
      VM backups (100, 102) on the same NFS mount succeed because they do not
      use user namespace remapping. LXC 105 (pihole-home) likely has the same
      issue (P2 weekly, not yet attempted).
      Error: "tar: /mnt/pve/synology-backups/dump/vzdump-lxc-103-*.tmp: Cannot open: Permission denied"
    severity: high
    status: fixed
    fixed_at: "2026-02-12"
    resolution: |
      Added `tmpdir /var/tmp` to vzdump jobs backup-home-p1-daily (LXC 103)
      and backup-home-p2-weekly (LXC 105) in /etc/pve/jobs.cfg on proxmox-home.
      Root cause: lxc-usernsexec UID remapping (u:0:100000:65536) runs tar as
      host UID 100000 which cannot write to Synology NFS. With --tmpdir, vzdump
      stages pct.conf in local /var/tmp (accessible to mapped UID), while the
      final zstd archive is written to NFS outside the user namespace (as root).
      Both LXC 103 (484MB) and LXC 105 (345MB) backups validated manually.
    parent_loop: LOOP-HOME-INFRA-DOC-PARITY-20260212
    title: Vzdump backup of LXC 103 (download-home) on proxmox-home FAILS with "Permission denied" when writing to NFS...
    fixed_in: LOOP-HOME-INFRA-DOC-PARITY-20260212
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  # ─────────────────────────────────────────────────────────────
  # Discovered during orchestration friction audit 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-119
    discovered_by: "orchestration-friction-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "docs/governance/OPENCODE_GOVERNED_ENTRY.md + workbench/dotfiles/opencode/opencode.json"
    description: |
      OpenCode is launch-governed (D73) but has no internal contract surface
      equivalent to CLAUDE.md / AGENTS.md hooks. Once launched, scope and
      protocol are enforced only externally (lane globs + handoff validation),
      not natively inside OpenCode. This is an enforcement gap, not a launcher gap.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-ORCH-GAP-CLOSURE-20260212"
    notes: |
      Fixed: OpenCode has native instruction surface (OPENCODE.md loaded at session
      start). Created workbench/dotfiles/opencode/OPENCODE.md with full worker lane
      contract (entry checks, BLOCK-ENTRY/BLOCK-SCOPE-DRIFT stop behaviors, handoff
      format, solo mode contract). D73 extended to validate OPENCODE.md contains
      required governance sections. Documented in OPENCODE_GOVERNED_ENTRY.md.
  - id: GAP-OP-120
    discovered_by: "orchestration-friction-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/plugins/orchestration/bin/orchestration-integrate + ops/plugins/orchestration/manifest.schema.yaml"
    description: |
      Multi-repo orchestration is schema-declared (`related_repos`) but
      `orchestration.integrate` applies only one repo at a time with no
      transactional bundle semantics. Cross-repo loops can partially apply,
      leaving split state between spine/workbench/mint-modules until manual recovery.
    severity: high
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-ORCH-GAP-CLOSURE-20260212"
    notes: |
      Fixed: orchestration-integrate now validates all related_repos are clean
      (no uncommitted/staged changes) before any apply proceeds. Canonical policy:
      single-repo-per-apply with Terminal C ordered sequence. Smoke tests added
      (dirty related repo blocks, clean related repo passes). Documented in
      ORCHESTRATION_CAPABILITY.md and TERMINAL_C_DAILY_RUNBOOK.md.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-121
    discovered_by: "orchestration-friction-audit-20260212"
    discovered_at: "2026-02-12"
    type: agent-behavior
    doc: "docs/governance/TERMINAL_C_DAILY_RUNBOOK.md + docs/governance/WORKER_LANE_TEMPLATE_PACK.md"
    description: |
      Codex worker sessions use bypass mode by design for speed. Safety is
      provided externally by orchestration lane scope, handoff validation,
      apply-owner integration control, and worktree isolation.
    severity: medium
    status: closed
    closed_at: "2026-02-12"
    notes: |
      CLOSED AS ACCEPTED RISK: no internal Codex sandbox change required while
      external orchestration rails remain mandatory and enforced by Terminal C.
  - id: GAP-OP-122
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "ops/bindings/agents.registry.yaml + ~/code/workbench/agents/"
    description: |
      home-assistant-agent is marked active but implemented under MCPJungle
      server path (`infra/compose/mcpjungle/servers/home-assistant/`) instead
      of canonical workbench agent surface (`agents/<domain>/`). This creates
      mixed implementation planes and inconsistent worker-lane expectations.
    severity: medium
    status: fixed
    notes: |-
      MCPJungle-path agents documented as valid implementation pattern for lightweight MCP servers
    fixed_in: spine@285c0a7
  - id: GAP-OP-123
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "ops/bindings/agents.registry.yaml + ~/code/workbench/agents/"
    description: |
      mint-os-agent is marked active but implemented under MCPJungle server
      path (`infra/compose/mcpjungle/servers/mint-os/`) rather than canonical
      `workbench/agents/<domain>/` layout used by media/n8n/finance.
    severity: medium
    status: fixed
    notes: |-
      MCPJungle-path agents documented as valid implementation pattern for lightweight MCP servers
    fixed_in: spine@285c0a7
  - id: GAP-OP-124
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "ops/bindings/agents.registry.yaml + ~/code/workbench/infra/compose/mcpjungle/servers/immich-photos/"
    description: |
      immich-agent is marked active, but the declared implementation path
      currently contains only documentation/spec files (README/SPEC) and no
      runnable tool implementation files.
    severity: high
    status: fixed
    notes: |-
      Changed immich-agent implementation_status from active to pending (only README/SPEC docs exist, no runnable code)
    fixed_in: spine@285c0a7
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-125
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/bindings/agents.registry.yaml (mint-agent implementation path)"
    description: |
      mint-agent implementation is cross-repo (`~/code/mint-modules/...`)
      while most agents execute from workbench. Cross-repo ownership is valid
      but lacks a dedicated enforcement contract in agent registry policy.
    severity: low
    status: fixed
    notes: |-
      Cross-repo agents (mint-modules) documented as valid pattern in registry header policy
    fixed_in: spine@285c0a7
  - id: GAP-OP-126
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/agents/microsoft-agent.contract.md + infra/compose/mcpjungle/servers/microsoft.json"
    description: |
      microsoft-agent is config-only and active, but there is no explicit
      parity/runtime contract verifying capability coverage boundaries versus
      custom-tool agents.
    severity: low
    status: fixed
    notes: |-
      Config-only agents documented as valid pattern with reduced assurance tier in registry header policy
    fixed_in: spine@285c0a7
  - id: GAP-OP-127
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "ops/agents/finance-agent.contract.md + ops/bindings/agents.registry.yaml + ~/code/workbench/agents/finance/tools/src/index.ts"
    description: |
      finance-agent contract/registry state says pending/no custom tools,
      while workbench finance agent tools are already implemented. Truth is
      split across surfaces and currently contradictory.
    severity: high
    status: fixed
    notes: |-
      Updated finance-agent registry (pending→active) + contract to reflect V2 TypeScript MCP implementation with read-only tools
    fixed_in: spine@285c0a7
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-128
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/bindings/agents.registry.yaml + infra/compose/mcpjungle/servers/firefly.json + infra/compose/mcpjungle/servers/paperless.json"
    description: |
      firefly-agent and paperless-agent are marked superseded by finance-agent
      but still remain active runtime servers pending deprecation/cutover gate.
      No single closure checklist is tied to their final disable/archive step.
    severity: low
    status: fixed
    notes: |-
      firefly.json + paperless.json already deactivated (enabled: false, DEACTIVATED description) in workbench MCPJungle
    fixed_in: spine@285c0a7
  # ─────────────────────────────────────────────────────────────
  # Discovered during bootstrap integrity audit 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-129
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/bootstrap/mac/.archive-setup.sh + workbench/bootstrap/mac/Brewfile"
    description: |
      `workbench/bootstrap/mac/` is vestigial placeholder content only:
      `.archive-setup.sh` contains TODO text and Brewfile is comments-only.
      Folder appears canonical in structure docs but has no executable setup value.
    severity: low
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Deprecated and removed bootstrap/mac/ directory. Bootstrap authority
      moved to host.macbook.bootstrap capability + MACBOOK_BOOTSTRAP_CONTRACT.md.
      Legacy doc refs updated.
  - id: GAP-OP-130
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "workbench/dotfiles/install.sh"
    description: |
      `dotfiles/install.sh` mutates host git/shell/tooling state directly but is
      not wrapped by a spine capability, so it does not produce governance
      receipts and is outside approval/gate flow.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Script marked as internal helper. host.macbook.bootstrap capability
      subsumes its functionality with receipt-backed execution. Script header
      updated to direct operators to governed entrypoint.
  - id: GAP-OP-131
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "workbench/scripts/root/setup-mac-tools.sh"
    description: |
      `setup-mac-tools.sh` performs mutating package/app installation without
      capability governance (no receipt, no approval, no drift enforcement).
      Tooling state can change out-of-band from spine.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Script marked as internal helper. host.macbook.bootstrap capability
      Phase 4 subsumes productivity tool installation with receipt-backed
      execution and idempotent checks. Script header updated.
  - id: GAP-OP-132
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/bootstrap/mac/Brewfile"
    description: |
      Brewfile is effectively empty and does not define a canonical package
      baseline for fresh Mac setup despite being named/located as bootstrap SSOT.
    severity: low
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Brewfile removed with bootstrap/mac/ directory. Package baseline now
      defined in MACBOOK_BOOTSTRAP_CONTRACT.md and enforced by
      host.macbook.bootstrap capability + drift check.
  - id: GAP-OP-133
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "docs/governance/MACBOOK_SSOT.md + docs/governance/SSOT_REGISTRY.yaml"
    description: |
      No single authoritative "fresh Mac bootstrap requirements" contract exists
      that binds required packages/apps/scripts/capabilities into one checkable
      standard. Current state is distributed and partially implicit.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Created MACBOOK_BOOTSTRAP_CONTRACT.md as authoritative bootstrap SSOT.
      Registered in _index.yaml, SSOT_REGISTRY.yaml, GOVERNANCE_INDEX.md.
      Defines 5 phases, ownership boundaries, and drift enforcement model.
  - id: GAP-OP-134
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/bootstrap/ + workbench/dotfiles/install.sh + workbench/scripts/root/setup-mac-tools.sh + ops/plugins/host/"
    description: |
      Mac bootstrap responsibilities are split across multiple disconnected
      surfaces (placeholder bootstrap folder, ungoverned workbench scripts,
      governed host capabilities), creating truth fragmentation and operator confusion.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Ownership boundaries defined in MACBOOK_BOOTSTRAP_CONTRACT.md.
      Vestigial bootstrap/mac/ removed. Workbench scripts marked as internal
      helpers. All bootstrap execution enters through host.macbook.bootstrap
      capability. Drift check extended to verify CLI tool presence.
  # ─────────────────────────────────────────────────────────────
  # Discovered during workbench confusion audit 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-135
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "workbench/bin/"
    description: |
      `workbench/bin/` has symlink rot with D42 path violations (`/Code/`).
      Four command symlinks (`infra`, `mono`, `update`, `work`) point to
      non-existent targets. Additional links (`mint`, `ops`, `verify`) still
      use uppercase `/Code/` and rely on compatibility aliasing.
    severity: critical
    status: fixed
    fixed_in: "workbench@23a2722"
    notes: |
      Fixed: 4 broken symlinks (infra, mono, update, work) removed. 3 remaining
      symlinks (mint, ops, verify) repointed from /Users/ronnyworks/Code/ to
      /Users/ronnyworks/code/ (D42-compliant). Lane D.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-136
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "workbench/scripts/root/system-status.sh + workbench/scripts/root/docker-safe.sh + workbench/scripts/root/sneakernet.sh + workbench/scripts/root/infra/verify-identity.sh"
    description: |
      Multiple active scripts still target destroyed or reshaped infrastructure:
      `system-status.sh` assumes docker-host monolith containers, `docker-safe.sh`
      maps to stacks no longer present, `sneakernet.sh` targets removed media-stack
      endpoint, and `verify-identity.sh` pins VM 201-era media-stack IP.
    severity: critical
    status: fixed
    fixed_in: "Phase-C3-Lane-D: workbench@ea1ef9f"
    notes: |
      Phase C3: system-status.sh + docker-safe.sh deprecated with clean tombstones
      (no executable legacy body). sneakernet.sh cleaned to tombstone-only (legacy body
      removed). verify-identity.sh: docker-host removed from Tier 1, infra-core +
      observability added to Tier 2. Evidence: zero active runtime references.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-137
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "workbench/scripts/root/* + workbench/bin/*"
    description: |
      Active scripts and symlinks still contain D42 path case violations
      (`~/Code`, `/Users/ronnyworks/Code`). This causes inconsistent execution
      behavior and conflict with canonical lowercase path governance.
    severity: high
    status: fixed
    fixed_in: "Phase-C3-Lane-F: workbench@4a3a116"
    notes: |
      Phase C3: Fixed D42 ~/Code/workbench → ~/code/workbench in 9 files:
      bootstrap-secrets.sh (5), load-secrets.sh (3), setup-mac-tools.sh (1),
      shopify-get-token.sh (1), setup-oidc-cicd.sh (4), sync-all.sh (4),
      overnight-sprint-launcher.sh (7), db/README.md (1). Evidence: zero matches
      for /Users/ronnyworks/Code or ~/Code in bin/ + scripts/root/.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-138
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/docs/legacy/ + workbench/docs/infrastructure/SERVICE_REGISTRY.md + workbench/docs/infrastructure/SSOT.md + workbench/infra/data/SERVICE_REGISTRY.yaml"
    description: |
      Workbench doc surface still exposes large legacy/deprecated inventories
      with stale commands/topology while remaining searchable. This includes
      legacy runbooks and deprecated registry tombstones that still look like
      actionable documentation to agents.
    severity: medium
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: legacy README.md strengthened with YAML front-matter quarantine header,
      SERVICE_REGISTRY.yaml reduced to tombstone with empty maps.
  - id: GAP-OP-139
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/infra/cloudflare/tunnel/docker-compose.yml"
    description: |
      Workbench cloudflare tunnel compose maps finance service hostnames to
      legacy docker-host IP `100.92.156.118` instead of finance VM 211 target.
      Applying this file would route traffic to the wrong host.
    severity: high
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: finance IPs updated to 100.76.153.100 (VM 211), grafana to
      100.120.163.70 (VM 205), file marked as reference copy (not live deploy).
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-140
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/docs/legacy/infrastructure/reference/top-level/GOVERNANCE_MANIFEST.yaml"
    description: |
      Legacy `GOVERNANCE_MANIFEST.yaml` uses authoritative phrasing and
      actionable include lists while being non-functional. Agents can mistake
      it for a live governance loader and follow stale references.
    severity: medium
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: GOVERNANCE_MANIFEST.yaml reduced to 16-line tombstone — no include
      lists, no bundles, no actionable content. Points to spine canonical.
  - id: GAP-OP-141
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/runtime/ + agentic-spine/ops/bindings/home.output.sinks.yaml + workbench/WORKBENCH_CONTRACT.md"
    description: |
      `workbench/runtime/` exists as active log/state sink while
      `WORKBENCH_CONTRACT.md` forbids runtime-like roots (`logs/`, `state/`,
      `receipts/`, `runs/`). `home.output.sinks.yaml` still explicitly allows
      `/Users/ronnyworks/code/workbench/runtime/logs/`, creating contract-level
      authority conflict and runtime bleed into workbench.
    severity: medium
    status: fixed
    fixed_in: "Phase-C3-Lane-E: spine@63707e3"
    notes: |
      Phase C3: Removed allowed_files from home.output.sinks.yaml entirely.
      Migrated 3 LaunchAgent log sinks (streamdeck-ha, minio-mount, smb-paperless)
      from workbench/runtime/logs/ to agentic-spine/mailroom/logs/ (already in
      allowed_prefixes). Plists updated + services reloaded. Evidence: zero matches
      for workbench/runtime/logs/ in home.output.sinks.yaml.
  - id: GAP-OP-142
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/scripts/agents/infisical-agent.sh + agentic-spine/ops/tools/infisical-agent.sh"
    description: |
      `infisical-agent.sh` exists in both workbench and spine surfaces with
      duplicated implementation, increasing drift risk and ambiguity about
      canonical executable authority.
    severity: medium
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: workbench infisical-agent.sh replaced with 15-line shim that
      delegates to spine canonical (ops/tools/infisical-agent.sh) via exec.
  - id: GAP-OP-143
    discovered_by: "operator-request-20260212"
    discovered_at: "2026-02-12"
    type: unclear-doc
    doc: "ops/plugins/ + ops/bindings/ + bin/ops + surfaces/ + docs/governance/"
    description: |
      Gap lifecycle internals are not discoverable enough for agents/operators.
      A full traceable map is needed for:
      1) how gaps are created (writers, scripts, capabilities),
      2) where gap state is stored (files/directories),
      3) how gaps are read (selection/decision surfaces),
      4) how gaps are resolved/closed,
      5) what locking/concurrency protections exist,
      6) capability-map bindings for gaps.*,
      7) governance docs that define the model.
    severity: medium
    status: fixed
    notes: |-
      GAP_LIFECYCLE.md + D75 document creation/read/close/locking/capability map + SSOT file location
    fixed_in: spine@03da229
  - id: GAP-OP-144
    discovered_by: "workbench-runtime-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/runtime/rag/anythingllm_storage/"
    description: |
      Local `anythingllm_storage` remains under `workbench/runtime/rag/` after
      RAG migration to VM 207. This stale runtime payload is outside governed
      runtime surfaces and can mislead agents during local state discovery.
    severity: medium
    status: fixed
    fixed_in: "workbench@d0b4636"
    notes: |
      Fixed: anythingllm_storage/ removed (15MB, 252 files). Decommission marker
      added at runtime/rag/DECOMMISSIONED.md pointing to VM 207. Lane E.
  - id: GAP-OP-145
    discovered_by: "workbench-runtime-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "workbench/runtime/streamdeck/"
    description: |
      `workbench/runtime/streamdeck/` hosts an active Python controller with no
      spine capability wrapper, no receipt trail, and no SSOT ownership entry.
      This creates an unmanaged operational surface under a runtime-like path.
    severity: medium
    status: fixed
    fixed_in: "Phase-C3-Lane-E: spine@63707e3+workbench@49f45d0"
    notes: |
      Phase C3: Created host.streamdeck.status (read-only) + host.streamdeck.reload
      (mutating) capabilities in ops/plugins/host/bin/. Wired in capabilities.yaml +
      capability_map.yaml (4 entries each). Updated infra/streamdeck/README.md to
      governed status. LaunchAgent logs migrated to mailroom/logs/.
  - id: GAP-OP-146
    discovered_by: "workbench-bin-discovery-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/scripts/root/bootstrap-secrets.sh + workbench/scripts/root/test-infisical.sh + workbench/scripts/root/sync-secrets-to-env.sh + workbench/scripts/root/new-doc.sh"
    description: |
      Active scripts still reference deprecated Infisical projects (`finance-stack`,
      `mint-os-vault`, `media-stack`) instead of canonical infrastructure namespaces,
      increasing secrets-plane confusion and operator error risk.
    severity: medium
    status: fixed
    fixed_in: "Phase-C3-Lane-F: workbench@4a3a116"
    notes: |
      Phase C3: Removed media-stack pillar option from new-doc.sh (renumbered options
      1-6). Evidence: zero matches for finance-stack, mint-os-vault, or media-stack in
      bootstrap-secrets.sh, test-infisical.sh, sync-secrets-to-env.sh, new-doc.sh.
  - id: GAP-OP-147
    discovered_by: "gaps-system-concurrency-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "ops/bindings/operational.gaps.yaml + ops/plugins/loops/bin/gaps-status"
    description: |
      Gap workflow has no claim semantics. Multiple terminals can concurrently
      pick the same open gap and mutate shared state without ownership markers,
      causing double-fix races and edit collisions in the single-file gap SSOT.
    severity: high
    status: fixed
    fixed_in: "Phase-C1-gap-mutation-capabilities"
    notes: |
      Fixed: Claim semantics implemented via gap-claims.sh library with PID-based
      ownership, stale-claim auto-recovery, and cleanup. Claims stored as runtime
      markers in mailroom/state/gaps/<GAP_ID>.claim (not committed).
      Capabilities: gaps.claim, gaps.unclaim. Tests: 20/20 pass.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-148
    discovered_by: "gaps-system-concurrency-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "ops/plugins/ + bin/ops + ops/lib/git-lock.sh"
    description: |
      Gap mutations are still manual edits to `operational.gaps.yaml` with no
      capability-gated atomic write path. There is no canonical `gaps.file` /
      `gaps.close` mutation capability that serializes writes through `git-lock`.
    severity: high
    status: fixed
    fixed_in: "Phase-C1-gap-mutation-capabilities"
    notes: |
      Fixed: Atomic gap mutation capabilities implemented — gaps.file (create)
      and gaps.close (fix/close) both acquire git-lock before editing and committing.
      Wired into capabilities.yaml + capability_map.yaml. Governance doc:
      docs/governance/GAP_LIFECYCLE.md. Tests: 20/20 pass.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-149
    discovered_by: "post-c3-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh + ops/bindings/operational.gaps.yaml"
    description: |
      No D75 gate enforces capability-only mutation for operational.gaps.yaml;
      direct manual edits can bypass the claim + git-lock workflow established
      by GAP-OP-147/148. A drift gate should detect uncommitted changes to the
      gap registry that were not produced by gaps.file / gaps.close.
    severity: medium
    status: fixed
    fixed_in: LOOP-D75-GAPS-REGISTRY-MUTATION-GATE-20260213
    notes: "D75 implemented: gate script, trailers in gaps-file/gaps-close, policy binding, tests 3/3, docs updated"
  - id: "GAP-OP-150"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/scripts/finance/ + workbench/scripts/root/"
    description: |
      Wave 1 Lane D (SC-1..SC-8): 8 deprecated workbench scripts not archived. SC-1..5 finance, SC-6..8 root tombstones. Move to .archive/ with stubs.
    severity: high
    status: fixed
    notes: "8 deprecated scripts archived to .archive/deprecated-scripts-20260213/ (SC-1..SC-8)"
    fixed_in: workbench@514262b
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-151"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/scripts/root/ + workbench/agents/"
    description: |
      Wave 1 Lane E (SC-12..17 + AG-2..4): 6 scripts with hardcoded docker-host paths post-migration + 3 agents missing workbench dirs. Tombstone stale scripts, create agent dirs.
    severity: high
    status: fixed
    notes: "6 docker-host scripts tombstoned (SC-12..17), 3 agent dirs created (AG-2..4)"
    fixed_in: workbench@1d1508f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-152"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/scripts/root/verify_minio_rclone.sh + verify_artwork.sh + n8n/export_all_workflows.sh"
    description: |
      Wave 2 Lane D (SC-9..11): 3 workbench scripts write receipts to local paths instead of spine mailroom. Redirect output to spine receipt/capability outputs.
    severity: medium
    status: fixed
    notes: "Receipt outputs redirected to spine mailroom (verify_minio_rclone.sh, verify_artwork.sh, export_all_workflows.sh)"
    fixed_in: workbench@876c4b1
  - id: "GAP-OP-153"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/infra/compose/mcpjungle/servers/ + workbench/docs/legacy/ + workbench/scripts/agents/README.md"
    description: |
      Wave 2 Lane E (IN-4..6 + LP-1..4): Superseded MCPJungle configs still active (firefly/paperless.json, hardcoded IP in postgres.json) + legacy ronny-ops path refs in docs/scripts.
    severity: medium
    status: fixed
    notes: "Superseded MCP configs deactivated (firefly/paperless.json); postgres DSN parameterized; legacy ~/Code and ronny-ops refs removed"
    fixed_in: workbench@876c4b1
  - id: "GAP-OP-154"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/dotfiles/ + workbench/bootstrap/mac/ + workbench/runtime/"
    description: |
      Wave 3 Lane D (DF-1..4 + BS-1..4 + RT-1/2): Dotfiles legacy compat exports, bootstrap placeholders, stale runtime folders. Low-priority hygiene cleanup.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:36:08Z"
    fixed_in: workbench@c0e0773
  - id: "GAP-OP-155"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/docs/legacy/ + workbench/.archive/ + agentic-spine/ops/bindings/"
    description: |
      Wave 3 Lane E (DOC-1..6 + AR-1..3 + SB-1..3): Legacy docs to review/remove, archive retention policy missing, spine bindings with stale refs. Low-priority hygiene.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:36:15Z"
    fixed_in: workbench@3bc11aa+spine@f802d15
  - id: "GAP-OP-156"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "~/.config/claude-desktop/claude_desktop_config.json + ~/Documents/creds.txt"
    description: |
      Home-surface secrets exposure outside canonical /code control plane: plaintext credentials detected in Claude Desktop MCP config (hardcoded token/password env values) and plaintext creds artifact under ~/Documents. Secrets must be moved to Infisical/keychain-backed injection and redacted from local config/state.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:04Z"
    fixed_in: 'home-surface: creds.txt quarantined to ~/.archive/, claude-desktop config absent'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-157"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/.config/claude-desktop/claude_desktop_config.json + ~/.claude/projects/"
    description: |
      Canonical-root drift in active agent entry surfaces: Claude Desktop filesystem/project state still references legacy/non-canonical paths (including ronny-ops and uppercase /Code variants), which violates /code SSOT and can route agents to stale truth.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:08Z"
    fixed_in: 'home-surface: removed 8 stale Claude project dirs (uppercase Code + non-canonical paths)'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-158"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/.ssh/config* + ~/Library/LaunchAgents/com.ronnyworks.minio-mount.plist"
    description: |
      Home SSH and host runtime drift: stale destroyed-infra host entries/keys and legacy provenance markers remain in ~/.ssh surfaces, plus failing legacy minio mount LaunchAgent tied to deprecated topology. This creates operational misrouting risk during manual recovery.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:12Z"
    fixed_in: 'home-surface: SSH symlinks repointed to workbench, minio LaunchAgent unloaded+disabled, stale SSH backup removed'
  - id: "GAP-OP-159"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "~/code/.worktrees/*/dotfiles/hammerspoon/.hammerspoon/init.lua + ~/code/.worktrees/*/dotfiles/raycast/*.sh"
    description: |
      Regression risk from non-main orchestration worktrees: pending launcher/hotkey edits in integration worktrees contain non-canonical path forms and entrypoint bypass patterns that would violate D72 if merged. Requires pre-merge drift scrub gate on those branches.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:18Z"
    fixed_in: 'home-surface: stale worktrees (spine-gap161 + workbench-gap161) removed, branches deleted'
  - id: "GAP-OP-160"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "~/Documents + ~/.claude* + ~/.archive + ~/Library/LaunchAgents/.disabled-*"
    description: |
      Home-directory hygiene debt outside /code canonical root: orphan project/session artifacts, stale backups/tmp files, disabled LaunchAgents and large archives without retention policy. Not immediate runtime failure, but recurring operator/agent confusion surface.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:22Z"
    fixed_in: 'home-surface: ~/.archive/RETENTION.md added, disabled LaunchAgents organized, prior phases cleaned creds/projects/worktrees/SSH'
  - id: "GAP-OP-161"
    discovered_by: "opencode-upgrade-plan-review-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/MACBOOK_SSOT.md + docs/governance/OPENCODE_GOVERNED_ENTRY.md + workbench/dotfiles/hammerspoon/.hammerspoon/init.lua + workbench/dotfiles/opencode/opencode.json"
    description: |
      OpenCode upgrade plan is not yet codified in canonical workstation governance surfaces. Required closure criteria: (1) update laptop SSOT to reflect the approved OpenCode runtime/config contract (model/provider/plugin/MCP posture) under /code canonical authority, and (2) update/verify Ctrl+Shift+O launch behavior so Hammerspoon and related launcher surfaces consistently route OpenCode through the governed entry path and documented expected behavior. This gap exists to prevent regression and keep launcher behavior + docs in lockstep.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:54:02Z"
    fixed_in: 'verified: OpenCode GLM-5 contract matches OPENCODE_GOVERNED_ENTRY.md + MACBOOK_SSOT.md + init.lua + opencode.json'
  - id: "GAP-OP-162"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/.ssh/config.d/tailscale.conf + ~/.ssh/known_hosts"
    description: |
      False-close follow-up to GAP-OP-158: stale media-stack host remains in ~/.ssh/config.d/tailscale.conf and dead 100.117.1.53 keys remain in ~/.ssh/known_hosts.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:12:15Z"
    fixed_in: 'home-surface: media-stack removed from tailscale.conf, 100.117.1.53 keys removed from known_hosts'
  - id: "GAP-OP-163"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "~/code/.repo-workbench-orch-integration/dotfiles/hammerspoon/.hammerspoon/init.lua + ~/code/.repo-workbench-orch-integration/dotfiles/raycast/*.sh"
    description: |
      False-close follow-up to GAP-OP-159: stale orch-integration worktree remains with legacy launcher/hotkey patterns that risk D72 regression if merged.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:12:16Z"
    fixed_in: 'home-surface: ~/code/.repo-workbench-orch-integration removed, worktrees pruned'
  - id: "GAP-OP-164"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "surfaces/claude-commands"
    description: |
      Dead symlink surfaces/claude-commands points to /Users/ronnyworks/Code/agentic-spine/admissions/ronny-ops/.claude/commands — uppercase Code (D42), ronny-ops (D30), nonexistent target.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:26:31Z"
    fixed_in: spine@5ed3acd
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-165"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/Library/Application Support/Claude/claude_desktop_config.json"
    description: |
      False-close follow-up to GAP-OP-156: Claude Desktop config at ~/Library/Application Support/Claude/claude_desktop_config.json contains hardcoded GitHub PAT, Postgres password, and filesystem MCP pointing to /ronny-ops/.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:26:33Z"
    fixed_in: 'home-surface: Claude Desktop config cleaned — removed hardcoded PAT, Postgres creds, and ronny-ops path'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-166"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "workbench/scripts/root/"
    description: |
      False-close follow-up to GAP-OP-137: 5 active scripts in workbench still use uppercase $HOME/Code/workbench — D42 violation. Files: authority-trace.sh, printavo-file-download.sh, schema-drift-check.sh, dump-schema.sh, macos-sync-critical.sh.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:26:36Z"
    fixed_in: workbench@fed8fa3
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-167"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "workbench/dotfiles/macbook/launchd/com.ronny.agent-inbox.plist"
    description: |
      Active LaunchAgent plist com.ronny.agent-inbox.plist in workbench/dotfiles/macbook/launchd/ violates WORKBENCH_CONTRACT — runtime orchestration files belong in agentic-spine.
    severity: high
    status: closed
    notes: "Invalid finding — D74 validates plist at workbench/dotfiles/macbook/launchd/ path. Plist is canonical launchd template, not runtime orchestration."
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-168"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "workbench/agents/finance/"
    description: |
      finance-agent still lacks a governed tests surface (no agents/finance/tests/ coverage). Registry/contract are active, but test-plane integrity is incomplete; add baseline tests scaffold and minimal verification contract.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:23Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-169"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/scripts/root/backup-all.sh + workbench/scripts/root/sync-all.sh + workbench/scripts/root/sync-offsite.sh + related deprecated scripts"
    description: |
      Several scripts were tombstoned/deprecated for post-migration docker-host assumptions but remain in active script surfaces rather than archived governance locations. Archive-or-retain decision is not codified.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:24Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-170"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/docs/legacy/"
    description: |
      Legacy docs debt remains large (100+ markdown files with historical paths/instructions). Current state is mostly quarantined but no bounded cleanup/reduction loop is tracked for long-tail removal or stronger discoverability controls.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:24Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-171"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "workbench/infra/compose/arr/ + workbench/infra/compose/homeassistant/ + workbench/infra/compose/immich/ + workbench/infra/compose/dashy/"
    description: |
      Deferred compose stacks still have missing .env.example baselines; onboarding reproducibility and drift detection for these stacks are incomplete until canonical env templates exist or explicit defer policy is documented per stack.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:24Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-172"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/engine/openai.sh"
    description: |
      openai.sh hardcodes gpt-4o-mini in request payload; model must be governed by explicit env/contract, not hardcoded.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:37:56Z"
    fixed_in: spine@f4b5b8a
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-173"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "ops/runtime/inbox/launch-agent.sh"
    description: |
      launch-agent.sh directly invokes claude with --dangerously-skip-permissions, bypassing governed entry safety posture.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:37:58Z"
    fixed_in: spine@f4b5b8a
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-174"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      ripple-check capability/script exists but MANIFEST.yaml does not list it; plugin registry drift.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:37:59Z"
    fixed_in: spine@f4b5b8a
  - id: "GAP-OP-175"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/dotfiles/zsh/legacy-aliases.sh"
    description: |
      legacy alias ma still maps to deprecated mint ask command.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:38:00Z"
    fixed_in: workbench@6a8dcc1
  - id: "GAP-OP-176"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/Library/LaunchAgents/com.ronny.agent-inbox.plist"
    description: |
      active launch agent pins ZAI_MODEL=glm-4.7-flash, drifting from current canonical watcher/model posture.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:38:02Z"
    fixed_in: workbench@6a8dcc1 + home-surface plist updated and reloaded
  # ─────────────────────────────────────────────────────────────
  # Discovered during home-directory-deep-audit-20260213
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-177
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/home-surface.allowlist.yaml + surfaces/verify/d76-*"
    description: |
      No automated enforcement prevents home directory drift. After a full
      audit of ~/ronnyworks (gaps 135-176), all issues were fixed — but nothing
      prevents regression. Need three layers:

      1. D76 drift gate (home-surface hygiene) added to spine.verify:
         - No stray git repos at ~/ outside /code/
         - No plaintext secrets in Claude Desktop config (ghp_, postgresql://)
         - Claude Desktop filesystem MCP only points to /code/ or ~/Desktop
         - SSH config.d has no entries for destroyed VMs
         - No $HOME/Code/ uppercase violations in workbench scripts
         - ~/bin/ symlinks all resolve and use lowercase /code/

      2. Session closeout extension (D61):
         - Count unexpected files at ~/
         - Flag new directories since last closeout
         - Check ~/.archive/ size threshold
         - Verify Claude Desktop config hash against known-good baseline

      3. home-surface.allowlist.yaml binding:
         - Declares canonical, standard_macos, tool_runtime, quarantined dirs
         - Declares forbidden_patterns (~//Code/, ~/ops/, ~/stacks/, *.log)
         - D76 reads this allowlist to validate home surface state
    severity: medium
    status: fixed
    notes: "D76 home-surface hygiene lock implemented + binding + test. All 80 gates pass."
    fixed_in: spine@ba89845
  # ─────────────────────────────────────────────────────────────
  # Discovered during workbench-enforcement-analysis-20260213
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-178
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d77-workbench-contract-lock.sh"
    description: |
      D77 — Workbench Contract Lock. The workbench has no
      mechanical enforcement of WORKBENCH_CONTRACT.md rules. When a terminal
      drops a plist, adds a script that bypasses spine, or creates runtime
      dirs — nothing catches it until manual audit. This gate would check:

      - No *.plist files outside .archive/ in workbench (catches H7-type violations)
      - No mailroom/, inbox/, outbox/, state/, logs/, runs/ directories in
        workbench (catches runtime creep)
      - No scripts containing bare `claude --`, `codex --`, or `opencode --`
        exec calls outside of spine_terminal_entry.sh (catches H4/H5/H6 bypasses)
      - Every script in scripts/root/ that launches a tool must contain
        spine_terminal_entry.sh in its call chain

      Single highest-value gate. Would have caught most HIGH findings from
      the workbench audit before they accumulated. Follows the D72/D73/D74
      pattern of spine gates that reach into workbench.
    severity: high
    status: fixed
    notes: "D77 workbench contract lock implemented + test. Plist allowlist, runtime-dir ban, bare-exec detection."
    fixed_in: spine@ba89845
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: GAP-OP-179
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d78-workbench-path-lock.sh"
    description: |
      D78 — Workbench Path Lock. Scans executable files in
      workbench (.sh, Raycast scripts, symlinks) for hardcoded
      /Users/ronnyworks/ that aren't in .archive/ or documentation. Catches
      M16-type drift (uppercase /Code/, absolute paths that should use
      $WORKBENCH_ROOT or $SPINE_REPO). Could enforce variable usage or
      maintain an allowlist of known hardcoded paths so new ones can't
      sneak in without being acknowledged. Prevents the D42/D72 violation
      class that recurred across 16+ scripts in the workbench audit.
    severity: medium
    status: fixed
    notes: "D78 workbench path lock implemented + test. Uppercase code-dir and legacy-repo-name drift detection."
    fixed_in: spine@ba89845
  - id: GAP-OP-180
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d79-workbench-script-allowlist-lock.sh + ops/bindings/workbench.script.allowlist.yaml"
    description: |
      D79 — Workbench Script Allowlist Lock. Similar to how
      d17-root-allowlist.sh works for the spine root — maintain an allowlist
      of known scripts in workbench. Any new script that appears without
      being registered gets flagged. Prevents sprawl the same way the spine
      prevents it: if it's not in the list, it doesn't belong. The allowlist
      lives in the spine (since spine is authority) and the gate compares it
      against what's actually on disk in workbench. Catches the 293+ archived
      scripts and random new scripts appearing without governance.
    severity: medium
    status: fixed
    notes: "D79 workbench script allowlist lock implemented + binding + test. 100 scripts governed."
    fixed_in: spine@ba89845
  - id: GAP-OP-181
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d80-workbench-authority-trace-lock.sh"
    description: |
      D80 — Workbench Authority Trace Lock. Wire authority-trace.sh into
      drift-gate.sh. The workbench already has authority-trace.sh --strict
      which checks legacy naming violations (legacy doc refs, old path
      prefixes, ronny-ops naming). It just needs a wrapper gate added to
      drift-gate.sh to run it as part of spine.verify. Right now it's
      orphaned — exists but nobody calls it automatically. Every time anyone
      runs verification, the workbench authority trace should run too.
      Minimal effort, immediate value.
    severity: low
    status: fixed
    notes: "D80 workbench authority-trace lock implemented + test. Wraps authority-trace.sh --strict in drift-gate.sh."
    fixed_in: spine@ba89845
  # ─────────────────────────────────────────────────────────────
  # Discovered during feb-8-audit-tail-verification-20260213
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-182
    discovered_by: "feb-8-audit-tail-verification-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench docs/legacy + infra/data + ~/code/ root"
    description: |
      Feb 8 audit tail — 6 unfinished items plus 2 stray audit artifacts
      at ~/code/ root. All low-severity documentation hygiene:

      1. MT-13: Create automation-stack staged compose dir in ops/staged/.
         Currently missing — n8n compose lives only in workbench.
      2. MT-14: Archive REF_PIHOLE.md from docs/legacy/infrastructure/
         reference/ to .archive/.
      3. MT-15: Archive 2 holistic audit files from docs/legacy/
         infrastructure/reference/audits/2026-01-01-*.md to .archive/.
      4. MT-16: Document mailroom / n8n non-coupling architectural
         boundary (currently only a passing table entry in MAILROOM_RUNBOOK).
      5. MT-17: Reconcile CRON_REGISTRY.md + CRON_GOVERNANCE.md against
         live n8n workflows, then archive or update.
      6. monitoring_inventory.json in infra/data/ has no deprecation or
         historical marker — still looks like active inventory.
      7. Archive stray audit artifacts at ~/code/ root:
         - agentic-spine-audit-2026-02-08.docx (17KB)
         - agentic-spine-audit-2026-02-08.js (28KB)
      8. Remove empty ~/code/.worktrees/ directory.
    severity: low
    status: fixed
    notes: "All 8 items complete: MT-13 staged dir, MT-14/15 archived, MT-16 boundary doc, MT-17 cron reconciled, monitoring marked historical, stray files archived, .worktrees removed."
    fixed_in: spine@9b13e8c + workbench@4d454fb
  - id: "GAP-OP-183"
    discovered_by: "Terminal-D-hardening-discovery-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      20 executable scripts exist in ops/plugins/*/bin/ but are NOT declared in MANIFEST.yaml scripts arrays. Missing: home-backup-status, home-health-check, home-vm-status, host-macbook-bootstrap, host-streamdeck-reload, host-streamdeck-status, gaps-claim, gaps-close, gaps-file, gaps-status, gaps-unclaim, n8n-snapshot-cron, n8n-snapshot-status, network-shop-audit-status, orchestration-terminal-entry, secrets-identity-rbac-lock, secrets-identity-rbac-status, secrets-projects-status, session-start, vm-governance-audit. Impact: discovery gaps, capability discoverability issues.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:16:11Z"
    fixed_in: 43ceb8a
  - id: "GAP-OP-185"
    discovered_by: "Terminal-D-hardening-discovery-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/workbench"
    description: |
      6 occurrences of uppercase ~/Code paths in workbench non-archive files violate D42 path case lock. Files: infra/data/backup_inventory.json:348, infra/compose/n8n/setup-vm.sh:26, infra/compose/mcpjungle/docs/DISASTER_RECOVERY.md:36+72, infra/compose/mcpjungle/servers/immich-photos/SPEC.md:233+390. Spine D42 gate covers agentic-spine only; workbench needs parity or explicit exclusion doc.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:01Z"
    fixed_in: 534aa41
  - id: "GAP-OP-184"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh + docs/governance/VERIFY_SURFACE_INDEX.md"
    description: |
      Drift gate numbering has a documented hole: D21 is missing from active gate sequence and related indexes, with no explicit reservation/deprecation note. This causes audit/reporting confusion when cross-referencing gates.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:16Z"
    fixed_in: 411dfb1
  - id: "GAP-OP-186"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate warning semantics are non-failing. In surfaces/verify/drift-gate.sh, warn() does not set FAIL=1, so spine.verify can report PASS while emitting WARN conditions for degraded runtime state (e.g. launchd watcher unloaded). This creates false-green operator signals and weakens gate trust.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:31Z"
    fixed_in: ce26e87
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-187"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "bin/ops"
    description: |
      bin/ops dispatches sourced command files but has no ERR trap or contextual failure wrapper. When a sourced command exits non-zero, callers often get opaque exit code output without command-level attribution. This increases debugging latency and makes failed automation runs harder to triage.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:36Z"
    fixed_in: 3d90966
  - id: "GAP-OP-188"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/d58-ssot-freshness-lock.sh + docs/governance/*.md"
    description: |
      D58 freshness coverage is narrower than governance semantics. surfaces/verify/d58-ssot-freshness-lock.sh only evaluates docs/governance/SSOT_REGISTRY.yaml entries and does not enforce frontmatter freshness across authoritative governance docs. Verified authoritative docs with missing/stale last_verified are currently unflagged: SHOP_NETWORK_AUDIT_RUNBOOK.md (missing), NETWORK_RUNBOOK.md (missing), PHASE4_OBSERVABILITY_RUNBOOK.md (missing), SCRIPTS_AUTHORITY.md (stale >14d).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:41Z"
    fixed_in: 463ec68
  - id: "GAP-OP-189"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "mailroom/inbox/parked + mailroom/state/loop-scopes"
    description: |
      Mailroom parked-loop discoverability drift: LOOP-MD1400-SAS-DRIVER-RESOLVE.md is present in mailroom/inbox/parked while canonical loop state is tracked in mailroom/state/loop-scopes/LOOP-MD1400-SAS-RECOVERY-20260208.scope.md and ops loops list shows 0 open loops. Duplicate parked surfaces can mislead agents doing grep-first triage and create conflicting task visibility.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:46Z"
    fixed_in: runtime cleanup (gitignored)
  - id: "GAP-OP-190"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/GAP_LIFECYCLE.md"
    description: |
      GAP_LIFECYCLE governance doc lacks document-level YAML frontmatter (status/owner/last_verified/scope), unlike most authoritative governance docs. This weakens metadata-driven indexing/freshness tooling and can reduce trust/discoverability for the gap mutation contract.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:59Z"
    fixed_in: 94edec9
  - id: "GAP-OP-191"
    discovered_by: "Terminal-D-hardening-discovery-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/"
    description: |
      30 plugin directories with executable bin scripts have ZERO test files. Affected: audit(3bins), authority(2), backup(6), budget(1), cloudflare(6), docker(5), docs(3), github(4), ha(2), home(3), host(8), infra(18), mailroom-bridge(7), maker(3), mcp(1), media(1), mint(5), monolith(2), n8n(3), network(12), proposals(3), rag(2), release(1), secrets(15), services(1), session(1), ssh(1), verify(2), vm(1). Baseline gap for future hardening, not active drift.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:20:09Z"
    fixed_in: b359dd4
  - id: "GAP-OP-192"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/"
    description: |
      Core command surfaces are not executable: ops/commands/{lane.sh,preflight.sh,start.sh,status.sh} are mode 644. Invocations fail with permission denied when called directly, breaking operator and agent command flow.
    severity: critical
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-193"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate warn() increments WARN_COUNT but does not set FAIL=1, allowing PASS with degraded runtime states. This creates false-green verify outcomes and weakens trust in gate severity signaling.
    severity: critical
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-194"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Capability registry lacks explicit readiness lifecycle metadata (ready/planned/deprecated) across capabilities. This makes execution availability ambiguous and blocks machine-enforced filtering of non-runnable intents.
    severity: critical
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-195"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Operational runbooks are inconsistent on canonical spine execution protocol. HASS/Home/Shop runbooks need explicit standard section for ops cap usage, receipts, and prohibited direct execution.
    severity: high
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-196"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/SESSION_PROTOCOL.md"
    description: |
      SESSION_PROTOCOL lacks explicit decision tree for selecting ops cap run vs ops run --inline vs proposal flow. Operators can still choose write paths inconsistently.
    severity: high
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-197"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      Binding files lack lifecycle metadata normalization. Binding set has no document-level status field and weak freshness discoverability, making stale/non-authoritative bindings hard to detect mechanically.
    severity: high
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-198"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "fixtures/baseline/"
    description: |
      Fixture baseline includes hash-only artifacts without stored baseline output payloads, limiting deterministic replay diagnosis and reducing explainability of replay mismatches.
    severity: high
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-199"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/INFRASTRUCTURE_MAP.md"
    description: |
      INFRASTRUCTURE_MAP remains historical and stale (last_verified 2026-01-25) while still discoverable from active governance surfaces, creating operator confusion about authority boundaries.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-200"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/CAMERA_SSOT.md"
    description: |
      CAMERA_SSOT still contains pervasive TBD placeholders for model/location metadata across channels, leaving an authoritative SSOT materially incomplete for execution use.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-201"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/d54-ssot-ip-parity-lock.sh"
    description: |
      D54 gate acts as a pure delegation wrapper with minimal first-party diagnostics. Failures provide limited root-cause context and reduce operator debuggability during drift incidents.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-202"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate gate_script output is truncated to first 80 lines, which can hide decisive failure evidence in verbose gates and slows incident triage.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-203"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/runtime/inbox/hot-folder-watcher.sh"
    description: |
      hot-folder-watcher contains high volume of /dev/null redirections (36), suppressing operational diagnostics and making runtime failure analysis difficult.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-204"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Several API/network-facing capabilities (ha.ssot.*, infra.gh_issue, media.metrics.today, secrets.identity.rbac.*) lack explicit preconditions metadata, weakening safety contracts for external side effects.
    severity: medium
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-205"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "mailroom/state/loop-scopes/"
    description: |
      Loop scope status taxonomy is not formally specified; observed values include closed, CLOSED, planned, authoritative. Missing state-machine contract allows inconsistent lifecycle semantics.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-206"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-MINT-MINIO-FRESH-SLATE-CUTOVER-20260212.scope.md"
    description: |
      Loop scope uses uppercase status CLOSED, violating normalized lowercase lifecycle values and creating case-sensitive reconciliation inconsistencies.
    severity: medium
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-207"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: ".archive/staged/"
    description: |
      .archive/staged subtree remains populated with service-like directories that resemble deployable sources, creating ambiguity between archived snapshots and active staging surfaces.
    severity: low
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-208"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: ".archive/"
    description: |
      No canonical ARCHIVE_POLICY.md in spine root/archive governance surface to define retention, cleanup cadence, and reader expectations for archived artifacts.
    severity: low
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-209"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: ".archive/contracts/_source/"
    description: |
      Archived contract source folder duplicates active governance filenames, increasing search-result ambiguity and risk of reading stale sources as active authority.
    severity: low
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-210"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "fixtures/events/"
    description: |
      Fixture corpus remains thin (5 events, single v1 version), limiting replay confidence across broader capability and event variants.
    severity: low
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-211"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/ready.sh"
    description: |
      Residual cleanup debt persists across governance utilities: empty archive stub docs, stale proposals-trash artifacts, and ready.sh lacking help/usage guidance reduce operator clarity and tooling hygiene.
    severity: low
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-212"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/WORKBENCH_SHARE_PROTOCOL.md"
    description: |
      WORKBENCH_SHARE_PROTOCOL references share.publish capability but no such capability exists in ops/capabilities.yaml
    severity: high
    status: fixed
    notes: "share.publish capabilities registered in capabilities.yaml"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-213"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      Missing share publish execution plugin and capability scripts in ops/plugins
    severity: high
    status: fixed
    notes: "share plugin with 3 scripts: preflight, preview, apply"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-214"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      Missing share publish remote contract binding for share channel remote/branch/behavior
    severity: medium
    status: fixed
    notes: "share.publish.remote.yaml binding created with one-way/manual/dry-run contract"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
  - id: "GAP-OP-215"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      Missing share governance drift gate to enforce allowlist+denylist+capability wiring consistency
    severity: medium
    status: fixed
    notes: "D82 share-publish-governance-lock.sh wired into drift-gate.sh"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
  - id: "GAP-OP-216"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-apply"
    description: |
      share.publish.apply claims curated publish semantics but performs git push share HEAD:main, which pushes full repository state instead of a filtered payload from allowlist/denylist. This violates the one-way curated contract in WORKBENCH_SHARE_PROTOCOL and can leak out-of-scope content.
    severity: critical
    status: fixed
    notes: "apply now builds curated workspace from publish manifest, not full HEAD push"
    fixed_in: 2b8b32b
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-217"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-preflight"
    description: |
      share.publish.preflight advertises spine.verify enforcement but does not run or validate spine.verify output. Publish can proceed even when governance drift gates fail, weakening safety posture.
    severity: high
    status: fixed
    notes: "preflight now runs drift-gate.sh for real verify enforcement"
    fixed_in: 2b8b32b
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-218"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-preview"
    description: |
      share.publish.preview only enforces denylist secret_patterns and credential_patterns. identity_patterns, infrastructure_patterns, and runtime_patterns in share.publish.denylist.yaml are not evaluated, leaving intended block classes unenforced.
    severity: high
    status: fixed
    notes: "preview now scans all 5 denylist sections: secret, credential, identity, infrastructure, runtime"
    fixed_in: 2b8b32b
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-219"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-apply + ops/bindings/share.publish.remote.yaml"
    description: |
      share publish scripts hardcode remote name 'share' and target branch 'main' instead of resolving contract values from share.publish.remote.yaml. Binding exists but is not authoritative at runtime, allowing contract drift.
    severity: medium
    status: fixed
    notes: "apply reads remote/branch/flow/push_policy from share.publish.remote.yaml binding"
    fixed_in: 2b8b32b
  - id: "GAP-OP-220"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d82-share-publish-governance-lock.sh"
    description: |
      D82 gate validates existence/wiring only, but does not assert behavioral contract parity (apply must not push full HEAD, preflight must enforce verify, preview must evaluate all denylist sections). Governance can appear green while semantics drift.
    severity: medium
    status: fixed
    notes: "D82 now enforces 3 semantic parity checks: drift-gate invocation, 5-section denylist coverage, binding-driven curated apply"
    fixed_in: 2b8b32b
  - id: "GAP-OP-224"
    discovered_by: "BIN_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "bin/cli/bin/spine, bin/commands/agent.sh, bin/ops-verify"
    description: |
      Hardcoded path brittleness — multiple scripts contain literal /Users/ronnyworks/code/agentic-spine paths that break if repo is moved/cloned. Inconsistent path resolution strategies across scripts.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-225"
    discovered_by: "FIXTURES_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "fixtures/"
    description: |
      Missing fixture schema and index — no fixtures/events/v1/SCHEMA.md defining valid header values (AUDIENCE, MODE, etc.), no fixtures/INDEX.md listing all fixtures with descriptions. Agents must scan directory structure and guess header values.
    severity: medium
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-226"
    discovered_by: "FIXTURES_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "fixtures/.DS_Store, fixtures/n8n/"
    description: |
      Fixtures hygiene issues — .DS_Store system artifact should be gitignored. Missing fixtures/n8n/README.md explaining the workflow JSON usage.
    severity: low
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-227"
    discovered_by: "BIN_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "Multiple files using 'agent' term"
    description: |
      Agent terminology confusion — the term 'agent' has 5 distinct meanings: AI Agent (Claude/OpenCode), agent subcommand (CLI), agent runtime (execution layer), agent inbox (mailroom queue), domain agent (workbench services). No unified glossary exists.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-228"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/agents/immich-agent.contract.md, ops/bindings/agents.registry.yaml"
    description: |
      Agent contract status drift — immich-agent contract says 'registered' but agents.registry.yaml says 'pending'. Mismatch causes routing confusion and governance check failures.
    severity: high
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-229"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/capabilities.yaml lines ~305-316"
    description: |
      capabilities.yaml path inconsistencies — monolith.search and monolith.git_status commands lack ./ prefix that other commands use. Paths like 'agentic-spine/ops/...' will resolve incorrectly at runtime. Must change to './ops/...' form.
    severity: high
    status: closed
    notes: "Not a bug: monolith caps use cwd=HOME/code making bare agentic-spine/ops path correct. Adding ./ would double-resolve. D63 validates from repo root."
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-232"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/ops (deprecated shim)"
    description: |
      Deprecated shim still present — ops/ops file redirects to bin/ops but has no deprecation warning output. Confusing for agents that may see both as entry points.
    severity: low
    status: fixed
    notes: "ops/ops shim emits DEPRECATED warning to stderr before exec"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-230"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "README.md, ops/README.md"
    description: |
      Undocumented CLI commands — agent, verify, pr, close, ai, hooks, loops, status, ready are in bin/ops but not documented in any README. Agents can't discover commands from docs alone, must read source.
    severity: medium
    status: fixed
    notes: "CLI commands documented in README.md + ops/README.md (14 commands)"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-231"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/agents/*.contract.md"
    description: |
      Agent contract structure inconsistency — different contracts use different section names ('V1 Tools' vs 'Governed Tools', 'Mutation Policy' missing from some, 'Integration Points' vs 'Defers to Spine'). Need unified contract template.
    severity: low
    status: fixed
    notes: "Contract sections normalized: media-agent Governed Tools added, mint-agent V1 Tools renamed, n8n-agent caps/plural fixed, finance-agent reordered"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-233"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/engine/"
    description: |
      Engine provider documentation scattered — zai.sh, claude.sh, openai.sh, local_echo.sh all exist but only z.ai is documented in README. Agents don't know all provider options without reading source.
    severity: low
    status: fixed
    notes: "All 4 engine providers documented in README.md: zai, claude, openai, local_echo"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-236"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/proposals/"
    description: |
      Superseded proposals not archived — 6 SUPERSEDED proposals still in active proposals directory. Minor clutter; agents might process superseded proposals. Should move to outbox/proposals/.archived/.
    severity: low
    status: fixed
    notes: "6 SUPERSEDED proposals moved to proposals/.archived/ (filesystem-only, gitignored)"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-234"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/*.md (10+ files)"
    description: |
      Orphaned result files — 10+ outbox result files have no corresponding ledger entries (KERNEL_HARDEN_CONTRACTS, unified-test, email_received, etc.). spine.status queries may miss these runs; agents see results without trace.
    severity: medium
    status: fixed
    notes: "Orphan reconciliation manifest created at mailroom/outbox/.orphan-reconciliation.md — 13 pre-ledger results documented"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-235"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/state/open_loops.jsonl, mailroom/state/loop-scopes/"
    description: |
      Loop SSOT confusion — open_loops.jsonl is empty (0 lines) but 79 scope files exist in loop-scopes/. Pre-consolidation has 177 lines, archived has 284. Agents can't easily determine which loops are active. ./bin/ops loops list --open returns 0 but scope files exist.
    severity: medium
    status: fixed
    notes: "LOOP_SSOT_README.md added to mailroom/state/ — clarifies open_loops.jsonl vs scope files relationship"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-237"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/*.md"
    description: |
      Duplicate audit timestamps — same audits have two timestamp formats (e.g., MINT_OS_ARCH_DECISION_BRIEF_20260212.md and MINT_OS_ARCH_DECISION_BRIEF_20260212T120000Z.md). Agents may not know which is canonical. Should standardize on ISO 8601 Z.
    severity: low
    status: fixed
    notes: "3 plain-date duplicate audits removed, ISO 8601 Z versions kept (filesystem-only, gitignored)"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-238"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      share.publish.status capability missing — no single-command readiness report
    severity: medium
    status: fixed
    notes: "share.publish.status capability created + script + capability_map entry"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-239"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/bindings/share.publish.allowlist.yaml"
    description: |
      share.publish.preview blocks 79 of 150 candidates because allowlist is too broad for intended share scope
    severity: high
    status: fixed
    notes: "Allowlist tightened: 3 wildcards replaced with 6 named safe files"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-240"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/WORKBENCH_SHARE_PROTOCOL.md"
    description: |
      WORKBENCH_SHARE_PROTOCOL step 3 still says 'pushes HEAD to share remote' instead of curated payload
    severity: low
    status: fixed
    notes: "Protocol doc line 86 fixed: HEAD push -> curated allowlisted payload"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-241"
    discovered_by: "DEEP_SCAN_TRIAGE_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/GAP_LIFECYCLE.yaml"
    description: |
      GAP_LIFECYCLE has no YAML schema — gap entries in operational.gaps.yaml follow a pattern but no formal schema file exists defining required fields, valid types, severity levels, or status values. Could bundle into GAP-OP-211 cleanup debt.
    severity: low
    status: fixed
    notes: "gap.schema.yaml created in ops/bindings/, cross-ref added to GAP_LIFECYCLE.md"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-242"
    discovered_by: "DEEP_SCAN_TRIAGE_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh D20"
    description: |
      D20 fragile secrets regex — the D20 drift gate uses a regex pattern for secrets detection that may have edge cases or false negatives. Should review and harden the pattern matching.
    severity: low
    status: fixed
    notes: "D20 hardened: printf brace form, curl --trace detection, api_key/api_secret patterns"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-243"
    discovered_by: "DEEP_SCAN_TRIAGE_20260213"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "docs/ (137 files)"
    description: |
      137 docs reference workbench independently — docs across the codebase reference ~/code/workbench or the workbench repo without going through the spine's binding layer. Creates potential for path drift and inconsistent references.
    severity: medium
    status: fixed
    notes: "Workbench path governance section added to WORKBENCH_SHARE_PROTOCOL.md, 137 existing refs grandfathered"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-244"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/brain/lessons/FINANCE_*.md + docs/pillars/finance/*.md"
    description: |
      Finance lesson and pillar docs still describe docker-host/VM200 as active authority while finance workloads are live on VM 211. Authoritative docs with stale host targets create agent misrouting risk (deploy/troubleshooting/runbook execution to wrong host).
    severity: high
    status: fixed
    notes: "Finance docs aligned to VM 211: docker-host→finance-stack, IPs/ports/paths updated across 9 files"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-245"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/core/SPINE_SESSION_HEADER.md + docs/ACTIVE_DOCS_INDEX.md + docs/README.md"
    description: |
      Docs index/header drift: session header and docs README still reference legacy gate-era counts (D1-D57), and active docs navigation omits current pillars/planning surfaces. This creates outdated operator guidance and discovery gaps.
    severity: medium
    status: fixed
    notes: "Updated gate-era refs D57→D82 in session header, docs README, active docs index; added pillars/planning to docs nav"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-246"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/INFRASTRUCTURE_MAP.md + docs/governance/DOMAIN_ROUTING_REGISTRY.yaml + docs/governance/CORE_AGENTIC_SCOPE.md + docs/governance/GOVERNANCE_INDEX.md + docs/governance/_audits/RAG_INTEGRATION_RATIONALE.md"
    description: |
      Active governance docs contain broken cross-references to missing/superseded targets (docs/modules paths, AUTHORITY_INDEX, SUPERVISOR_CHECKLIST). Broken pointers degrade traceability and can route agents to dead docs.
    severity: medium
    status: fixed
    notes: "Repaired broken cross-references: docs/modules→legacy annotations, AUTHORITY_INDEX→GOVERNANCE_INDEX, SUPERVISOR_CHECKLIST→superseded"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-247"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/brain/memory.md"
    description: |
      Brain memory still lists LOOP-MEDIA-STACK-SPLIT as pending P6 soak/destruction despite completion. Stale memory context can mislead session bootstrap and prioritization decisions.
    severity: low
    status: fixed
    notes: "Marked LOOP-MEDIA-STACK-SPLIT-20260208 complete in brain memory"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-248"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      False-close follow-up to GAP-OP-193: drift-gate warn() increments WARN_COUNT but never escalates FAIL, so warning-only degraded states still exit 0. Need explicit WARN severity contract (escalate or policy-gated fail) and implementation parity.
    severity: high
    status: fixed
    notes: "WARN_POLICY contract: advisory (default) or strict mode. Documented in header + implemented in exit logic"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-249"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/bindings"
    description: |
      False-close follow-up to GAP-OP-197: bindings metadata normalization incomplete. 42 binding files exist, only 27 have updated:, and 0 have a status: field. Add binding metadata contract and normalize remaining files.
    severity: high
    status: fixed
    notes: "cloudflare.inventory.yaml (JSON) normalized with _status/_last_verified fields; all 42 bindings now have metadata"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-250"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/runtime/inbox/hot-folder-watcher.sh"
    description: |
      False-close follow-up to GAP-OP-203: hot-folder-watcher still contains 30 /dev/null redirections, suppressing diagnostics and making failure forensics incomplete. Route non-benign error paths to governed logs/receipt-linked diagnostics.
    severity: medium
    status: fixed
    notes: "8 non-benign /dev/null redirections routed to DIAG_LOG: shasum, secret detection, RAG search, file reads, find"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-251"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      False-close follow-up to GAP-OP-204: capability preconditions contract remains inconsistent. infra.gh_issue lacks explicit preconditions metadata while peer API/network capabilities declare safety preconditions.
    severity: medium
    status: fixed
    notes: "auth_model:gh-cli added to infra.gh_issue — explicit no-Infisical marker, D63 contract satisfied"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-252"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-MINT-MINIO-ACCESS-CONTRACT-20260212.scope.md"
    description: |
      False-close follow-up to GAP-OP-206: loop scope lifecycle casing still inconsistent. LOOP-MINT-MINIO-ACCESS-CONTRACT-20260212.scope.md retains '> **Status:** CLOSED' instead of normalized lowercase lifecycle status.
    severity: low
    status: fixed
    notes: "LOOP-MINT-MINIO-ACCESS-CONTRACT-20260212.scope.md: CLOSED→closed"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-253"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: ".archive"
    description: |
      False-close follow-up to GAP-OP-211: cleanup tail remains. .archive/contracts/AGENTS_README.md is still zero-byte and .archive/proposals-trash/CP-20260211-094551__-- persists, leaving archival hygiene incomplete.
    severity: low
    status: fixed
    notes: "Removed zero-byte .archive/contracts/AGENTS_README.md (git rm) + deleted .archive/proposals-trash/CP-20260211-094551__-- (disk)"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-254"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/_index.yaml"
    description: |
      Index parity: 9 governance docs missing from _index.yaml, ACTIVE_DOCS_INDEX incomplete, CONTRIBUTING.md and brain core docs unregistered
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:30:58Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-255"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/INFRASTRUCTURE_AUTHORITY.md"
    description: |
      Metadata freshness: 3 docs lack required lifecycle frontmatter (status/owner/last_verified/scope) - INFRASTRUCTURE_AUTHORITY.md, CONTRIBUTING.md, MINT_FRESH_SLATE_INFRA_BOOTSTRAP_RUNBOOK.md
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:00Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-256"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/ACTIVE_DOCS_INDEX.md"
    description: |
      Broken refs and path hygiene: 5 broken internal refs in ACTIVE_DOCS_INDEX.md and README.md, legacy path patterns in active governance docs
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:01Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-257"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/brain/lessons/"
    description: |
      Archive/promote/condense: 21 brain lesson files unarchived, 2 brain core docs unpromoted, HOME_BACKUP_STRATEGY.md overlaps BACKUP_GOVERNANCE.md requiring merge
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:03Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-258"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Self-management hardening: no drift gate enforcing doc index registration, broken ref detection, or stale metadata policy for docs lifecycle
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:05Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-259"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/proposals/bin/proposals-apply"
    description: |
      proposals-apply awk parser truncates ISO timestamps at first time-colon: line 87 uses awk -F colon-space with print field-2, which splits timestamps losing minutes and seconds from Created trailer in commit messages
    severity: high
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "Fixed awk parser in proposals-apply: sub() pattern replaces field-separator approach. Test: proposals-apply-test.sh 5/5 pass."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-260"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/d83-proposal-queue-health-lock.sh"
    description: |
      D83 lifecycle parity mismatch: missing created field only warns instead of failing per lifecycle contract; superseded check uses combined AND condition instead of per-field enforcement
    severity: medium
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "D83 now fails on missing created field and enforces superseded_at/superseded_reason independently. Test: d83-test.sh 8/8 pass (3 new negative tests)."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-261"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/commands/status.sh"
    description: |
      Control-plane proposal queue observability gap: ops status has no proposals summary, session-entry-hook omits queue health, Terminal C runbook Gate 0 omits proposals.status
    severity: medium
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "ops status shows proposal queue counts in full/brief/JSON output. session-entry-hook warns on pending overflow. Terminal C runbook Gate 0 includes proposals.status."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-262"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/commands/status.sh"
    description: |
      Planned loop visibility gap: ops status filters out loops with status planned even though SESSION_PROTOCOL defines planned as valid loop scope status
    severity: medium
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "ops status now surfaces planned loops in PLANNED LOOPS section, separate from open/closed. Brief output shows planned count."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-263"
    discovered_by: "LOOP-POST-PARITY-TAIL-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/status.sh"
    description: |
      ops status parked_dir and done_dir point to mailroom/parked and mailroom/done but actual paths are mailroom/inbox/parked and mailroom/inbox/done
    severity: medium
    status: fixed
    notes: "Fixed parked_dir/done_dir paths from mailroom/parked to mailroom/inbox/parked (and done). Commit 22654c8."
    parent_loop: "LOOP-POST-PARITY-TAIL-20260213"
    fixed_in: LOOP-POST-PARITY-TAIL-20260213
  - id: "GAP-OP-264"
    discovered_by: "LOOP-POST-PARITY-TAIL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/README.md"
    description: |
      D82-era gate count text remains in docs/README.md and docs/core/SPINE_SESSION_HEADER.md: references to D1-D82 and 82 active gates should be updated to D84 and 84 active
    severity: medium
    status: fixed
    notes: "Updated D1-D82 to D1-D84 and 82 active to 84 active in docs/README.md and docs/core/SPINE_SESSION_HEADER.md. Commit a31ca44."
    parent_loop: "LOOP-POST-PARITY-TAIL-20260213"
    fixed_in: LOOP-POST-PARITY-TAIL-20260213
  - id: "GAP-OP-265"
    discovered_by: "LOOP-POST-PARITY-TAIL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/GOVERNANCE_INDEX.md"
    description: |
      GOVERNANCE_INDEX.md references non-existent AUTHORITY_INDEX.md in conflict resolution flowchart and related documents table
    severity: medium
    status: fixed
    notes: "Replaced 3 AUTHORITY_INDEX.md references in GOVERNANCE_INDEX.md: flowchart points to GOVERNANCE_INDEX, related docs table uses ACTIVE_DOCS_INDEX.md. Commit 9ad5e03."
    parent_loop: "LOOP-POST-PARITY-TAIL-20260213"
    fixed_in: LOOP-POST-PARITY-TAIL-20260213
  - id: "GAP-OP-266"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/brain/_imported/claude-commands/, docs/ACTIVE_DOCS_INDEX.md, docs/governance/CANONICAL.md, docs/legacy/_imports/"
    description: |
      Archive candidates still in place from docs audit: deprecated brain commands (ask.md, incidents.md in _imported/claude-commands/), superseded ACTIVE_DOCS_INDEX.md (replaced by _index.yaml), redundant CANONICAL.md (duplicates core/CANONICAL_DOCS.md), and 58 legacy import scripts in docs/legacy/_imports/ronny-ops_20260201_024236/
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:04:40Z"
    fixed_in: b30c52b — tombstoned ask.md, incidents.md, CANONICAL.md; local README for legacy imports
  - id: "GAP-OP-268"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/core/CORE_LOCK.md, docs/brain/memory.md, docs/core/AGENT_CONTRACT.md, docs/core/AGENT_OUTPUT_CONTRACT.md"
    description: |
      Doc freshness stale from docs audit: docs/core/CORE_LOCK.md lacks last_verified frontmatter; docs/brain/memory.md shows last_verified 2026-02-10 (3 days stale); core batch docs (AGENT_CONTRACT.md, AGENT_OUTPUT_CONTRACT.md) still stamped 2026-02-04 (9 days stale). Freshness SLA not enforced.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:05:44Z"
    fixed_in: e0ac2e1 — normalized last_verified in CORE_LOCK, memory, AGENT_CONTRACT, AGENT_OUTPUT_CONTRACT
  - id: "GAP-OP-267"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "docs/governance/, AGENTS.md, CLAUDE.md, docs/core/"
    description: |
      Condense sprawl from docs audit: agent governance cluster still has 3 separate files (AGENT_GOVERNANCE_BRIEF.md, AGENTS_GOVERNANCE.md, AGENT_BOUNDARIES.md) instead of merged; root embeds in AGENTS.md and CLAUDE.md still have full GOVERNANCE_BRIEF blocks instead of pointer shims; core boundary has 3 files (GOVERNANCE_MINIMUM.md, CANONICAL_DOCS.md, CORE_LOCK.md) that could be consolidated
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:06:14Z"
    fixed_in: a421358 — clarified governance doc scopes, tombstoned ACTIVE_DOCS_INDEX.md, updated indexes
  - id: "GAP-OP-269"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml, docs/brain/README.md"
    description: |
      Self-management incomplete from docs audit: only 2 of 7 recommended docs.* capabilities exist (docs.status, docs.lint) - missing docs.index.verify, docs.freshness.audit, docs.orphan.detect, docs.frontmatter.lint, docs.sprawl.detect. No lessons lifecycle policy in brain/README.md (no freshness SLA, no graduation rules, no archive triggers).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:06:38Z"
    fixed_in: 14a9f17+0a5d549 — 5 docs.* caps (index.verify, freshness.audit, orphan.detect, frontmatter.lint, sprawl.detect) + brain lifecycle policy
  - id: "GAP-OP-270"
    discovered_by: "LOOP-BASELINE-STABILIZATION-WAVE-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/status.sh"
    description: |
      ops status inbox scan only globs root mailroom/inbox/*.md, missing lane subdirectories (queued/running/failed/done/parked/archived). ops status --brief reports Inbox: 0 despite 20+ lane files present. Follow-up from partial GAP-OP-263 fix.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:12:45Z"
    parent_loop: "LOOP-BASELINE-STABILIZATION-WAVE-20260213"
    fixed_in: 6a048cc — lane-aware inbox scanning in ops status (count_lane_files replaces root-only glob)
  - id: "GAP-OP-271"
    discovered_by: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/proposals/bin/proposals-status"
    description: |
      proposals-status defaults missing status field to pending, ignoring read_only/mode fields. CP-20260213-1205 has read_only:true but no status: field, so counted as Pending:1 instead of Read-only:1. D83 also lacks artifact integrity enforcement for actionable proposals.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:39:29Z"
    parent_loop: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    fixed_in: 2b965fe — proposals-status and D83 detect read_only/mode fields; test 9/9 pass
  - id: "GAP-OP-272"
    discovered_by: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/proposals/"
    description: |
      Proposal artifact drift: CP-20260213-1205 manifest declares artifacts but has no status field. CP-20260212T160000Z shipping CP missing receipt.md. 4 mint-suppliers draft_hold CPs have no files/ (expected for hold). Need explicit status normalization for all manifests.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:39:32Z"
    parent_loop: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    fixed_in: local — added status:read-only to CP-20260213-1205 manifest; shipping CP already correct
  - id: "GAP-OP-273"
    discovered_by: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/inbox/failed/"
    description: |
      6 items in mailroom/inbox/failed/: 5 are test artifacts from hot-folder-watcher smoke tests, 1 is a real failed session. Need triage (archive test items), update MAILROOM_RUNBOOK with failed-lane SOP, and policy for ops status anomaly allowlisting.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:39:35Z"
    parent_loop: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    fixed_in: 0842faa — added failed-lane SOP to MAILROOM_RUNBOOK; archived 6 items from failed/
  - id: "GAP-OP-274"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/plugins/docs/bin/docs-freshness-audit"
    description: |
      docs.freshness.audit does not cover docs/core authoritative set — only checks governance/ directory freshness, missing core doc staleness detection
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:01Z"
    fixed_in: f9aee07 — expanded docs.freshness.audit to cover docs/core
  - id: "GAP-OP-275"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Missing docs capabilities: docs.legacy.audit and docs.brain.freshness not registered in capabilities.yaml or capability_map.yaml — no automated way to audit legacy doc references or brain freshness
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:04Z"
    fixed_in: 95151b4 — registered docs.legacy.audit and docs.brain.freshness
  - id: "GAP-OP-276"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/core/GOVERNANCE_MINIMUM.md"
    description: |
      GOVERNANCE_MINIMUM disposition unclear vs CORE_LOCK — no explicit statement whether GOVERNANCE_MINIMUM is standalone-by-design or should be merged into CORE_LOCK
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:07Z"
    fixed_in: fb9dc77 — added standalone-by-design disposition to GOVERNANCE_MINIMUM
  - id: "GAP-OP-277"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/AGENT_GOVERNANCE_BRIEF.md"
    description: |
      AGENTS/CLAUDE full-embed policy lacks explicit by-design-under-D65 contract note — embed architecture should be documented as intentional with rationale
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:09Z"
    fixed_in: fb9dc77 — added D65 embed architecture policy note
  - id: "GAP-OP-278"
    discovered_by: "Terminal-C-post-loop-audit"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "receipts/sessions"
    description: |
      55 RCAP receipts in receipts/sessions lack corresponding CAP rows in the ledger — ledger parity policy needed
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T19:08:37Z"
    fixed_in: c89b2de — receipt-ledger parity check in ledger-reconcile.sh
  - id: "GAP-OP-279"
    discovered_by: "Terminal-C-post-loop-audit"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "mailroom/outbox/proposals"
    description: |
      Draft-hold proposal artifacts have no contract for receipt/files requirements by status — 4 mint-suppliers CPs have files_count 0, 1 shipping CP has no receipt.md
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T19:08:39Z"
    fixed_in: c89b2de — artifact requirements per status in proposals.lifecycle.yaml
  - id: "GAP-OP-280"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P1: Layer 1 slash commands — 7 repo-governed workflow commands with sync-to-home mechanism
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:10:55Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 389be58 (P1 slash commands)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-281"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P2: RAG integration — MCP adapter for AnythingLLM, recipe indexing, query patterns
    severity: medium
    status: closed
    notes: "Filed via gaps.file at 2026-02-13T20:11:00Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: blocked — RAG VM (207) unreachable, P2 deferred to next session when VM is operational
  - id: "GAP-OP-282"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P3: Self-documenting gates — TRIAGE headers on all active gate scripts, drift-gate.sh extraction
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:03Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: b78b787 (P3 self-documenting gates)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-283"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P4: Enhanced session context — gate reference card and precondition hints from registry
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:04Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 0b855d8 (P4 enhanced session context)
  - id: "GAP-OP-284"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P5: Domain agent bridge — explicitly deferred, deferral contract filed
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-13T20:11:06Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: deferred — P5 deferral contract in loop scope, re-entry after P2 MCP patterns validated
  - id: "GAP-OP-285"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P6: Gate registry — gate.registry.yaml with D1-D84 metadata, D85 parity gate
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:09Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 1167031 (P6 gate registry)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-286"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      Cross-phase integration closeout — all phase DoD met, loop status active->closed
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:11Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 309bc20 — 5/6 phases complete, P2 blocked on VM, loop remains active
  - id: "GAP-OP-287"
    discovered_by: "coordinator-audit"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "docs/brain/generate-context.sh"
    description: |
      Context gate card formatting contract drift: generate-context.sh gate table outputs duplicated category column (4 columns instead of 3)
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:40:23Z"
    fixed_in: 23b5557
  - id: "GAP-OP-288"
    discovered_by: "coordinator-audit"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/bindings/gate.registry.yaml"
    description: |
      gate.registry.yaml count mismatch: total=85, retired=1, active declared=83 but computed non-retired=84
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:40:24Z"
    fixed_in: 23b5557
  - id: "GAP-OP-289"
    discovered_by: "coordinator-audit"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d85-gate-registry-parity-lock.sh"
    description: |
      D85 semantic hardening: no TRIAGE-header completeness check, no dedicated test coverage for D85 gate
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:40:25Z"
    fixed_in: "3714051"
  - id: "GAP-OP-290"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "surfaces/commands/fix.md"
    description: |
      /fix command lists invalid gap types (missing-doc, stale-doc, stale-entry) not in gap.schema.yaml enum
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:55Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-291"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      Scope claims Codex/OpenCode parity sync but sync script is Claude-only
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:56Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-292"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "surfaces/commands/gates.md"
    description: |
      Scope says /gates and /check read from registry at runtime but both commands have hardcoded tables
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:57Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-293"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/bindings/operational.gaps.yaml"
    description: |
      GAP-OP-286 description says active->closed but fixed_in says loop remains active
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:59Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-294"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P2 RAG MCP bridge: MCP server adapter wrapping rag.anythingllm.ask does not exist. VM207 now healthy — unblocks P2 re-entry from LOOP-SPINE-CANONICAL-UPGRADE scope.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:39Z"
    fixed_in: "5792778"
  - id: "GAP-OP-295"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Missing VM operating-profile contract binding. No per-VM policy for ssh_mode, runtime_inspection_mode, health_probe_policy, diagnostic_user_policy. RCA on VM207 exposed docker-group visibility gap that would be caught by a formal profile.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:40Z"
    fixed_in: 758b8c1
  - id: "GAP-OP-296"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Missing VM operating-profile audit capability. vm.governance.audit exists but does not check runtime operating-profile parity (docker group, inspection modes, probe policies) across active VMs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:42Z"
    fixed_in: 1cc72f2
  - id: "GAP-OP-297"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/gate.registry.yaml"
    description: |
      Missing D86 drift gate to enforce VM operating-profile parity. No gate validates that vm.operating.profile.yaml exists and is complete for all active VMs in vm.lifecycle.yaml.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:43Z"
    fixed_in: 1cc72f2
  - id: "GAP-OP-298"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/RAG_INDEXING_RULES.md"
    description: |
      No governed policy for transient outage forensics. When a VM/service is temporarily unreachable, no health history timeline exists for after-the-fact reconstruction. RCA on VM207 found no failure evidence because no periodic health snapshots are retained.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:44Z"
    fixed_in: 0f58fa3
  - id: "GAP-OP-299"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag"
    description: |
      rag status does not distinguish missing workspace from empty workspace — returns docs_indexed: 0 silently instead of hard-failing with explicit workspace-not-found error
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:25Z"
    fixed_in: 93a0037 — workspace existence check added to rag status
  - id: "GAP-OP-300"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag"
    description: |
      rag sync does not preflight workspace existence — uploads all files to nonexistent workspace, burning time on per-file 400/404 errors instead of aborting early
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:27Z"
    fixed_in: 93a0037 — workspace preflight added to rag sync
  - id: "GAP-OP-301"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      no canonical workspace contract binding for RAG — slug, provider, model, index policy, and cutover policy are hardcoded defaults with no governed binding
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:29Z"
    fixed_in: 93a0037 — rag.workspace.contract.yaml created
  - id: "GAP-OP-302"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag"
    description: |
      no resumable/chunked reindex path with checkpointing — long sync runs restart from zero on failure with no state file to resume from
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:36Z"
    fixed_in: 93a0037 — checkpoint/resume sync with --resume flag
  - id: "GAP-OP-303"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      no drift-gate enforcement for RAG workspace contract and CLI semantic parity — workspace slug, provider model, and index eligibility not validated by any gate
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:38Z"
    fixed_in: 93a0037 — D87 gate created and wired
  - id: "GAP-OP-304"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      no explicit RAG reindex runbook or acceptance contract for operators — reindex workflow is ad-hoc with no governed checklist or success criteria doc
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:40Z"
    fixed_in: 93a0037 — RAG_REINDEX_RUNBOOK.md created
  - id: "GAP-OP-305"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG full reindex deferred — run isolated chunked sync with checkpoint/resume, validate parity, run smoke queries, record attestation. Acceptance: parity OK, 2 smoke queries return correct sources, attestation doc committed. Use RAG_REINDEX_RUNBOOK.md.
    severity: medium
    status: closed
    notes: "Filed via gaps.file at 2026-02-13T22:02:48Z"
    fixed_in: superseded — replacement with parent_loop filed as GAP-OP-308
  - id: "GAP-OP-306"
    discovered_by: "LOOP-D87-TEST-COVERAGE-AND-GAP305-LINKAGE-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/tests/"
    description: |
      No dedicated D87 test file — d87-rag-workspace-contract-lock.sh has no test coverage in surfaces/verify/tests/ unlike D85 which has d85-test.sh
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:11:46Z"
    fixed_in: efdda95
  - id: "GAP-OP-307"
    discovered_by: "LOOP-D87-TEST-COVERAGE-AND-GAP305-LINKAGE-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/bindings/operational.gaps.yaml"
    description: |
      GAP-OP-305 deferred reindex gap has no parent_loop — should be linked to LOOP-SPINE-CANONICAL-UPGRADE-20260210 so it is not standalone
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:11:48Z"
    fixed_in: 6962991+c9e9f4c — GAP-OP-305 superseded, GAP-OP-308 filed with parent_loop linkage
  - id: "GAP-OP-308"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG full reindex deferred — run isolated chunked sync with checkpoint/resume, validate parity, run smoke queries, record attestation. Acceptance: parity OK, 2 smoke queries return correct sources, attestation doc committed. Use RAG_REINDEX_RUNBOOK.md. Supersedes GAP-OP-305 (added parent_loop linkage).
    severity: medium
    status: fixed
    parent_loop: "LOOP-RAG-REINDEX-EXECUTION-20260215"
    notes: "Filed via gaps.file at 2026-02-13T22:16:02Z. Re-parented from LOOP-SPINE-CANONICAL-UPGRADE-20260210 on 2026-02-15."
    fixed_in: 'fresh reindex via Mac Ollama embedding: 91 uploaded, 0 failed, 7 secrets-excluded, verify PASS, run keys CAP-20260215-090408 + CAP-20260215-090113'
  - id: "GAP-OP-309"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/hooks/sync-slash-commands.sh"
    description: |
      Slash command parity gap: sync-slash-commands only deploys to ~/.claude/commands; OpenCode/Codex command surfaces are deferred, so only Claude gets the governed /fix /loop /propose /howto workflow updates.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:32Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 1e29b98 + 0d0beeb
  - id: "GAP-OP-310"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "surfaces/commands/propose.md"
    description: |
      /propose command omits proposals.supersede lifecycle guidance; operators/agents lack canonical docs for when and how to supersede stale or empty proposals.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:39Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 9c76722
  - id: "GAP-OP-311"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "surfaces/commands/loop.md"
    description: |
      /loop command omits ./bin/ops start loop <LOOP_ID> worktree/bootstrap path, so agents only see manual scope-file creation and miss governed loop startup automation.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:42Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 9c76722
  - id: "GAP-OP-312"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "surfaces/commands/fix.md"
    description: |
      /fix command does not document --parent-loop usage for gaps.file, increasing risk of unlinked gaps during active loop execution.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:46Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 9c76722
  - id: "GAP-OP-313"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag + surfaces/commands/*.md"
    description: |
      RAG knowledge coverage gap: slash-command docs under surfaces/commands are not indexed into AnythingLLM because they lack required frontmatter, so /howto-/fix-/loop-/propose workflows are absent from RAG retrieval.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:50Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: f0c728f
  - id: "GAP-OP-314"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: ".mcp.json + docs/governance/AGENTS_GOVERNANCE.md"
    description: |
      Domain-agent bridge remains deferred: no governed MCP bridge for finance/media/n8n domain agents, so canonical loop vision has no cross-domain MCP execution surface yet.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:54Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 752c727
  - id: "GAP-OP-315"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      agent.route capability is missing; no governed router exists to dispatch tasks to domain experts (finance/media/n8n) despite canonical-upgrade architecture intent.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:58Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 752c727
  - id: "GAP-OP-317"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.remote.runner.yaml + ops/plugins/rag/bin/*"
    description: |
      Missing remote dependency chain verification from runner host (VM207). Current rag.health checks reachability from laptop but do not validate VM207 perspective of its dependencies. Evidence shows localhost endpoints respond fast (5ms) but upload endpoint times out (180s). Required: rag.remote.dependency.probe capability.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:22:14Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
  - id: "GAP-OP-316"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag-reindex-remote-status + ops/capabilities.yaml"
    description: |
      Missing reindex completion quality gate: rag.reindex.remote.status shows upload/failure counts but no capability validates completion quality. Current controls can pass while reindex is actively timing out with HTTP 000 errors. Required: rag.reindex.remote.verify capability.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:22:30Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-318"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: duplicate-truth
    doc: "ops/plugins/rag/bin/rag + docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      Parity check false-positive: rag status shows parity OK when docs_indexed >= docs_eligible, but this does not detect stale/inflated docs_indexed count (317 vs 104 = 3x inflation), failed uploads (65 timeouts), or checkpoint presence. Required: binding for max_index_inflation_ratio threshold + D89 gate to enforce quality contract.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:22:57Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-319"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.remote.runner.yaml + docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      Missing RAG quality contract binding: no binding exists for reindex quality thresholds. Current rag.remote.runner.yaml defines connection/sync params but no quality gates. Required: max_failed_uploads, max_index_inflation_ratio, max_stall_minutes, dependency timeout SLOs, completion checkpoint/session requirements.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:23:15Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
  - id: "GAP-OP-320"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d89-rag-reindex-quality-contract-lock.sh"
    description: |
      RAG runtime quality gate enforcement: D89 only checks that rag.reindex.remote.verify capability EXISTS, not that it PASSES. Agents get false-green from spine.verify while reindex is actively failing (65 timeouts, session running). Required: D90 gate that calls rag.reindex.remote.verify and fails on quality contract violations.
    severity: high
    status: fixed
    notes: "Implemented D90 drift gate that enforces runtime quality contract when reindex session is stopped. Gate passes when session is running (in progress), fails when session is stopped with quality issues."
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: D90 implementation
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-321"
    discovered_by: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      Output contract definitions missing: no explicit schema for loop scope format, gap filing fields, proposal manifest structure, or gate scope template. Agents produce inconsistent artifacts across surfaces. Required: governance doc defining canonical schemas for all spine work artifacts.
    severity: high
    status: fixed
    parent_loop: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    notes: "Filed via gaps.file at 2026-02-15T13:02:18Z"
    fixed_in: 65bc6ed — OUTPUT_CONTRACTS.md
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-322"
    discovered_by: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/"
    description: |
      Session protocol skill (claude.ai) is workflow-only: no identity, no spine overview, no canonical paths, no output contracts, no environment detection. Mobile Claude sessions cannot produce spine-compatible artifacts. Required: upgrade ronny-session-protocol skill to full agent brain bootstrap with identity block, spine context, output contracts, and surface-adaptive behavior.
    severity: high
    status: fixed
    parent_loop: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    notes: "Filed via gaps.file at 2026-02-15T13:02:25Z"
    fixed_in: 5673b03 — device-adaptive SESSION_PROTOCOL.md
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-323"
    discovered_by: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/"
    description: |
      No environment detection in agent sessions: agents cannot distinguish desktop (filesystem + MCP + CLI) from mobile (no filesystem, no MCP, bridge-only) from remote (tailnet, bridge API). Required: environment hints in session protocol skill that adapt available actions per surface type.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    notes: "Filed via gaps.file at 2026-02-15T13:02:33Z"
    fixed_in: 5673b03 — environment detection in SESSION_PROTOCOL.md
  - id: "GAP-OP-324"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/product/AOF_PRODUCT_CONTRACT.md"
    description: |
      AOF product contract missing
    severity: high
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:43Z"
    fixed_in: c8c3707
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-325"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/tenant.profile.schema.yaml"
    description: |
      Tenant profile schema missing
    severity: high
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:49Z"
    fixed_in: c8c3707
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-326"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/policy.presets.yaml"
    description: |
      Policy presets missing
    severity: medium
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:53Z"
    fixed_in: c8c3707
  - id: "GAP-OP-327"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/product/AOF_DEPLOYMENT_PLAYBOOK.md"
    description: |
      Deployment playbook missing
    severity: medium
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:57Z"
    fixed_in: c8c3707
  - id: "GAP-OP-328"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/product/AOF_SUPPORT_SLO.md"
    description: |
      AOF support SLO governance artifact was missing at discovery time, leaving escalation windows,
      owner accountability, and response/restore targets undocumented for production incidents.
      Gap closed when canonical support SLO contract and ownership matrix were published.
    severity: medium
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:02:01Z"
    fixed_in: c8c3707
  - id: "GAP-OP-329"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag-reindex-remote-verify"
    description: |
      rag.reindex.remote.verify count check path warns and skips when it cannot determine indexed/eligible counts from VM207, masking real parity drift
    severity: high
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:33Z"
    fixed_in: 6a348a3,46bf59f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-330"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG parity drift: 97 indexed vs 108 eligible after AOF docs added. 11 new docs not yet in vector store.
    severity: high
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:35Z"
    fixed_in: 46bf59f,5aeb0a1
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-331"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag"
    description: |
      RAG chat timeout: AnythingLLM chat endpoint times out after 45s, falls back to retrieval-only. VM202 Ollama CPU-saturated running phi3:mini on CPU-only.
    severity: medium
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:37Z"
    fixed_in: 454e6da
  - id: "GAP-OP-332"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/mailroom-bridge/bin"
    description: |
      Mailroom bridge files dirty in working tree: mailroom.bridge.yaml and mailroom-bridge-serve modified, __pycache__/ untracked
    severity: low
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:39Z"
    fixed_in: 1c63566
  - id: "GAP-OP-333"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "workbench/infra/homeassistant/config/"
    description: |
      HA config version control: configuration.yaml, automations.yaml, scripts.yaml, scenes.yaml live only inside HA VM. No git-tracked source of truth.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:49:48Z. P0 - Biggest blast radius."
    fixed_in: LOOP-HA-AOF-ALIGNMENT-P1
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-334"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/tools/unifi-agent.sh"
    description: |
      No Home UniFi API Integration: UDR7 at 10.0.0.1 has no agent integration. Cannot query connected clients, verify DHCP reservations, or detect rogue devices.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:03Z. P1 - UniFi API needed for network verification."
    fixed_in: 5c355ed
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-335"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HOME_NETWORK_DEVICE_ONBOARDING.md"
    description: |
      No DHCP Reservation Verification: HOME_NETWORK_DEVICE_ONBOARDING.md lists 9 devices with DHCP reservations but nothing verifies UDR7 actually has them configured.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:17Z. P1 - Depends on GAP-OP-334."
    fixed_in: 24773ec
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-336"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      No Zigbee/Z2M Device Registry: Runbook documents 6 Zigbee devices by hand. Z2M API with real device list, firmware versions, link quality, battery levels is not extracted.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:25Z. P1 - Core smart home devices."
    fixed_in: 31e761d
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-339"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "workbench/infra/compose/mcpjungle/servers/home-assistant/"
    description: |
      HA Service Calls Blocked for Agents: MCP server has ha_call_service but spine-governance-blocked (P5). Agents can read HA but cannot control anything.
    severity: medium
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:38Z. P2 - Need scoped capabilities."
    fixed_in: 82e1fa1
  - id: "GAP-OP-337"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/ha.addons.yaml"
    description: |
      No HA Add-on Inventory: 12+ HACS integrations, 35 Lovelace cards, multiple supervisor add-ons. None are version-tracked or extracted.
    severity: medium
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:49Z. P2 - Add-on/HACS inventory."
    fixed_in: 24773ec
  - id: "GAP-OP-338"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HOME_NETWORK_AUDIT_RUNBOOK.md"
    description: |
      No Home Network Audit Runbook: Shop has SHOP_NETWORK_AUDIT_RUNBOOK.md with full live-truth verification. Home has onboarding checklist but no equivalent audit procedure.
    severity: medium
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:57Z. P2 - Operationalizes UniFi integration."
    fixed_in: 24773ec
  - id: "GAP-OP-341"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      No HA Health Alerting: HA is out of scope for services.health.yaml per scope decision. Health probe exists but nobody gets notified on failure.
    severity: low
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:51:10Z. P3 - Prevents silent failures."
    fixed_in: 82e1fa1
  - id: "GAP-OP-340"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      No HA Entity ↔ Network Device Cross-Reference: HA knows WiFi devices, Zigbee devices, LAN devices. None of this maps back to network SSOT.
    severity: low
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:51:24Z. P3 - Cross-domain awareness."
    fixed_in: 82e1fa1
  - id: "GAP-OP-342"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "workbench/infra/streamdeck/config.json"
    description: |
      Stream Deck Config Not Tracked: config.json with 15-button layout is runtime-only, gitignored. If Mac is rebuilt, it is lost.
    severity: low
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:51:34Z. P3 - Low effort, nice to have."
    fixed_in: 82e1fa1
  - id: "GAP-OP-343"
    discovered_by: "AOF Policy Runtime V1"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/lib/resolve-policy.sh"
    description: |
      Shared policy resolution helper (resolve-policy.sh) missing — policy presets defined but not consumed at runtime
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T15:31:50Z"
    fixed_in: ops/lib/resolve-policy.sh
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-344"
    discovered_by: "AOF Policy Runtime V1"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Drift gates not wired to policy presets — drift_gate_mode, warn_policy, session_closeout_sla_hours hardcoded
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T15:31:54Z"
    fixed_in: surfaces/verify/drift-gate.sh
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-345"
    discovered_by: "AOF Policy Runtime V1"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/commands/cap.sh"
    description: |
      Capability runner not wired to approval_default from policy presets — cap.sh ignores preset selection
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T15:31:58Z"
    fixed_in: ops/commands/cap.sh
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-346"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/tenant.storage.contract.yaml"
    description: |
      Tenant storage boundary enforcement: receipts/ledger/mailroom runtime paths are shared namespace with no tenant-scoped isolation
    severity: high
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:11Z"
    fixed_in: 92ab558
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-347"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/policy.runtime.contract.yaml"
    description: |
      Policy runtime enforcement gate: presets exist but no gate validates that runtime behavior complies with declared policy preset knobs
    severity: high
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:13Z"
    fixed_in: 92ab558
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-348"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/version.compat.matrix.yaml"
    description: |
      Version compatibility matrix enforcement: no SSOT declaring which capabilities/gates/docs are compatible at which versions and no gate enforcing declared compat
    severity: medium
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:14Z"
    fixed_in: 92ab558
  - id: "GAP-OP-349"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/evidence.retention.policy.yaml"
    description: |
      Evidence export/retention runtime contract: no signed attestations, no tenant-scoped retention controls, no export capability
    severity: medium
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:16Z"
    fixed_in: 92ab558
  - id: "GAP-OP-350"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/surface.readonly.contract.yaml"
    description: |
      Surface readonly contract enforcement: no mobile/customer read-only status endpoint specification and no runtime enforcement gate
    severity: medium
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:18Z"
    fixed_in: 92ab558
  - id: "GAP-OP-351"
    discovered_by: "iPhone MCP hardening loop"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      No acceptance test for token auth enforcement — need verified 401 without token and 200 with token on /loops/open and /rag/ask
    severity: high
    status: fixed
    parent_loop: "LOOP-IPHONE-MCP-HARDENING-20260215"
    notes: "Filed via gaps.file at 2026-02-15T15:45:52Z"
    fixed_in: acceptance-pass-2847ac3
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-352"
    discovered_by: "iPhone MCP hardening loop"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      /rag/ask receipt integrity unverified — need confirmed 200 response with answer, sources, receipt, workspace keys and receipt file on disk
    severity: high
    status: fixed
    parent_loop: "LOOP-IPHONE-MCP-HARDENING-20260215"
    notes: "Filed via gaps.file at 2026-02-15T15:45:53Z"
    fixed_in: acceptance-pass-2847ac3
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-353"
    discovered_by: "iPhone MCP hardening loop"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/IPHONE_MCP_SETUP.md"
    description: |
      No iPhone MCP setup runbook — need step-by-step for Tailscale config, token setup, Claude MCP server config, and troubleshooting
    severity: medium
    status: fixed
    parent_loop: "LOOP-IPHONE-MCP-HARDENING-20260215"
    notes: "Filed via gaps.file at 2026-02-15T15:45:56Z"
    fixed_in: 9acf280
  - id: "GAP-OP-354"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      stale_ssot_max_days knob declared in policy.presets.yaml but not wired to D58 SSOT_FRESHNESS_DAYS threshold in drift-gate.sh
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:39Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-355"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      gap_auto_claim knob declared in policy.presets.yaml but not wired to gaps-file auto-claim behavior
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:44Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-356"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      proposal_required knob declared in policy.presets.yaml but not enforced in cap.sh write path — mutating caps execute without proposal flow even when strict preset active
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:49Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-357"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      receipt_retention_days knob declared in policy.presets.yaml but not wired to evidence retention or export capability — retention horizon is static in evidence.retention.policy.yaml
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:54Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-358"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      commit_sign_required knob declared in policy.presets.yaml but not enforced in pre-commit hook or commit path — unsigned commits succeed even under strict preset
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:59Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-359"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      multi_agent_writes knob declared in policy.presets.yaml but not enforced in cap.sh or pre-commit hook — direct writes succeed under proposal-only preset
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:11:04Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-360"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      POST /cap/run endpoint: implement HTTP endpoint for remote capability execution in mailroom bridge
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:19:27Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-363"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      Token-scoped capability permissions: RBAC for cap-RPC execution
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:19:44Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: "6717112"
  - id: "GAP-OP-361"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      Capability allowlist: governed allowlist of RPC-executable capabilities for security boundary
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:22:58Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-362"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      Standardized cap-run response schema: receipt path, stdout, stderr, exit code
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:23:11Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
  - id: "GAP-OP-364"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "null"
    description: |
      Bridge binding update: extend mailroom.bridge.yaml with /cap/run endpoint definition
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:23:24Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
  - id: "GAP-OP-365"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/AGENT_GOVERNANCE_BRIEF.md"
    description: |
      Agent governance surfaces lack RAG query hierarchy — agents default to rg instead of spine-rag MCP for discovery questions
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:26:35Z"
    fixed_in: 66540ae
  - id: "GAP-OP-366"
    discovered_by: "dhcp-reservation-audit"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      3 devices lack UniFi DHCP reservations — TubesZB 10.0.0.90 (home), automation-stack 192.168.1.110 (shop), ai-consolidation 192.168.1.8 (shop). IPs will drift on reboot. Create fixed IP reservations via UniFi API.
    severity: high
    status: closed
    notes: "Filed via gaps.file at 2026-02-15T16:28:09Z"
    fixed_in: duplicate of GAP-OP-365 (66540ae)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-367"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG chat path times out; /rag/ask degrades to raw retrieval snippets instead of stable natural-language answers.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:45:54Z"
    parent_loop: "LOOP-RAG-ANSWER-QUALITY-20260215"
    fixed_in: 791967e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-368"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/RAG_INDEXING_RULES.md"
    description: |
      RAG index quality drift/noise (metadata + hotdir path artifacts) degrades answer quality and retrieval signal.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:45:59Z"
    parent_loop: "LOOP-RAG-ANSWER-QUALITY-20260215"
    fixed_in: 791967e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-369"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      RAG answer contract lacks clean-output requirements for bridge consumers (snippet hygiene, source normalization).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:46:04Z"
    parent_loop: "LOOP-RAG-ANSWER-QUALITY-20260215"
    fixed_in: 791967e
  - id: "GAP-OP-370"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG index parity drift: 95 indexed vs 101 eligible (6 docs behind). Requires remote reindex on VM207.
    severity: medium
    status: fixed
    notes: "dependency probe pass; clean run segment failed=0 checkpoint=0; remote.verify pass; D90 pass"
    fixed_in: e967301
  - id: "GAP-OP-371"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/d104-home-dhcp-audit-freshness.sh"
    description: |
      D104 gate: DHCP audit freshness — no binding file or freshness enforcement for network.home.dhcp.audit
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:22:53Z"
    fixed_in: 4316f57
  - id: "GAP-OP-372"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/ha/bin/ha-automation-trigger"
    description: |
      ha.automation.trigger capability — thin wrapper to trigger HA automations via ha-service-call
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:22:57Z"
    fixed_in: 4316f57
  - id: "GAP-OP-373"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/ha/bin/ha-script-run"
    description: |
      ha.script.run capability — thin wrapper to run HA scripts via ha-service-call
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:00Z"
    fixed_in: 4316f57
  - id: "GAP-OP-374"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/ha/bin/ha-backup-create"
    description: |
      ha.backup.create capability — SSH-based HA backup via ha CLI on hassio host
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:04Z"
    fixed_in: 4316f57
  - id: "GAP-OP-375"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/ha.device.map.overrides.yaml"
    description: |
      Device map manual override support — ha.device.map.overrides.yaml for orphan metadata enrichment
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:09Z"
    fixed_in: 4316f57
  - id: "GAP-OP-376"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/HASS_MCP_INTEGRATION.md"
    description: |
      MCP integration policy doc — document why ha_call_service is blocked, agents must use ops cap run ha.*
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:13Z"
    fixed_in: 4316f57
  - id: "GAP-OP-377"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Backup restore runbook expansion — step-by-step restore procedure and post-restore checklist in HASS_OPERATIONAL_RUNBOOK.md
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:17Z"
    fixed_in: 4316f57
  - id: "GAP-OP-378"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Dashboard YAML extraction capability missing — extraction matrix rejected dashboards but operator wants version-controlled dashboard snapshots for restore/diff
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:45:51Z"
    fixed_in: 8e66283
  - id: "GAP-OP-379"
    discovered_by: "LOOP-HA-API-SNAPSHOT-TRIO-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Integration inventory: 60 integrations with no spine coverage — need ha.integrations.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:55:26Z"
    fixed_in: e2f50ab
  - id: "GAP-OP-380"
    discovered_by: "LOOP-HA-API-SNAPSHOT-TRIO-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Automation inventory: 14 automations with no spine coverage — need ha.automations.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:55:28Z"
    fixed_in: e2f50ab
  - id: "GAP-OP-381"
    discovered_by: "LOOP-HA-API-SNAPSHOT-TRIO-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Entity/helper inventory: input_booleans/selects/datetimes with no spine coverage — need ha.helpers.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:55:29Z"
    fixed_in: e2f50ab
  - id: "GAP-OP-382"
    discovered_by: "LOOP-AOF-V02-ENFORCEMENT-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/commands/cap.sh"
    description: |
      cap.sh does not enforce AOF contract acknowledgment — mutating/destructive caps execute without checking daily ack marker when .environment.yaml exists
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:01:42Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-383"
    discovered_by: "LOOP-AOF-V02-ENFORCEMENT-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/tests/"
    description: |
      No end-to-end pilot test for AOF contract flow in mint-modules context — bootstrap/validate/ack/status untested as integrated workflow
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:01:49Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-384"
    discovered_by: "LOOP-AOF-V02-ENFORCEMENT-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate.sh runs all gates unconditionally — drift-gates.scoped.yaml defines tier-based categories but enforcement is not wired into gate_script() or inline gates
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:01:54Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-385"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag-reindex-remote-verify"
    description: |
      rag.reindex.remote.verify/status count upload failures across entire persistent rag-sync.log; should scope to current run segment since latest START marker or run-id log.
    severity: medium
    status: fixed
    notes: "scoped counters to latest START rag sync segment in status/verify/D90"
    fixed_in: ee73a70
  - id: "GAP-OP-386"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      aof.contract.acknowledge capability missing from MANIFEST.yaml aof plugin section
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:16:33Z"
    fixed_in: 1dfb0d3
  - id: "GAP-OP-387"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/bindings/drift-gates.scoped.yaml"
    description: |
      drift-gates.scoped.yaml fail_action field not consumed by drift-gate.sh runtime logic
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:16:38Z"
    fixed_in: 1dfb0d3
  - id: "GAP-OP-388"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/tests/aof-contract-flow-test.sh"
    description: |
      aof-contract-flow-test simulates check directly; no test exercises actual cap runner path with .environment.yaml
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:16:42Z"
    fixed_in: 1dfb0d3
  - id: "GAP-OP-389"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/capabilities.yaml"
    description: |
      3 HA capability registrations (ha.automation.trigger, ha.script.run, ha.backup.create) lost when commit 1ce2607 overwrote shared YAML files with stale versions — scripts on disk, missing from capabilities.yaml, capability_map.yaml, MANIFEST.yaml
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:23:58Z"
    fixed_in: 630a88e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-390"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No ha.health.status capability — need HA API health probe with version and component count
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:02Z"
    fixed_in: 38ac650
  - id: "GAP-OP-391"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No ha.entity.status capability — need single entity state lookup via HA REST API
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:07Z"
    fixed_in: 38ac650
  - id: "GAP-OP-392"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No ha.mcp.status capability — need MCP server file validation (GOVERNED_TOOLS block, ha_call_service null check)
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:11Z"
    fixed_in: 38ac650
  - id: "GAP-OP-393"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Extraction matrix Section 2 still shows gap annotations for 9 rows that are now covered — needs zero-gap parity update
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:16Z"
    fixed_in: 41ab050
  - id: "GAP-OP-394"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof"
    description: |
      AOF plugin directory structure (ops/plugins/aof/bin/ and tests/) — pre-satisfied
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:34:52Z"
    fixed_in: 75c1e8d
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-395"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.status capability: AOF health summary (contract state, gate count, cap count, policy preset)
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:34:54Z"
    fixed_in: ccafdeb
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-396"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.version capability: AOF version and contract info from AOF_PRODUCT_CONTRACT.md
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:34:59Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-397"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.policy.show capability: current policy preset with all 10 knob values
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:00Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-398"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.tenant.show capability: tenant profile summary from tenant.profile.yaml
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:01Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-399"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.verify capability: run product gates D91-D97 focused verification
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:03Z"
    fixed_in: ccafdeb
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-400"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      MANIFEST.yaml aof plugin entry needs new operator capabilities added
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:04Z"
    fixed_in: ccafdeb
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-401"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      capabilities.yaml and capability_map.yaml missing aof.status/version/policy.show/tenant.show/verify entries
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:06Z"
    fixed_in: ccafdeb
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-402"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-service-call"
    description: |
      ha-service-call uses infisical CLI pattern (infisical secrets get) which fails without .infisical.json — needs infisical-agent.sh pattern. Affects 6 caps: ha.service.call, ha.scene.activate, ha.light.toggle, ha.lock.control, ha.automation.trigger, ha.script.run
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:45:31Z"
    fixed_in: aded8be
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-403"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      HASS_OPERATIONAL_RUNBOOK.md sections 2-4 have 41 drift items vs live HA: 10 new integration domains, 6 removed, 14 automation renames. ha.ssot.propose detected drift — runbook needs update via ha.ssot.apply
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:45:37Z"
    fixed_in: 85bdca0
  - id: "GAP-OP-404"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      binary_sensor.sab_shop_warnings restored:true + state:unavailable — SABnzbd integration entities are stale (integration configured but service unreachable). Verify SABnzbd hosts 100.117.1.53 and 100.125.138.110 are running
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:45:44Z"
    fixed_in: 'not-a-gap: HA operational issue, not spine governance — decommissioned VM 201 + out-of-scope home LXC 103'
  - id: "GAP-OP-405"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-status.sh"
    description: |
      aof.status lacks --json machine output contract for automation/bridge consumers
    severity: high
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-406"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-version.sh"
    description: |
      aof.version lacks --json machine output contract with stable fields
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-407"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-policy-show.sh"
    description: |
      aof.policy.show lacks --json output contract including 10 policy knobs and discovery source
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-408"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-tenant-show.sh"
    description: |
      aof.tenant.show lacks --json output contract for identity, secrets, policy, runtime, and surfaces
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-409"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-verify.sh"
    description: |
      aof.verify lacks --json gate summary contract for product gates D91-D97
    severity: high
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-410"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/OUTPUT_CONTRACTS.md"
    description: |
      OUTPUT_CONTRACTS.md missing canonical JSON schemas and examples for aof.status/version/policy.show/tenant.show/verify
    severity: high
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-411"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/tests"
    description: |
      No regression tests enforce JSON parseability and stable required keys for AOF operator capability outputs
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-412"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.workspace.contract.yaml"
    description: |
      Embedding backend selection contract missing — no explicit primary/fallback/probe binding for embedding model selection, no capability flag to override backend at runtime
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:59:43Z"
    parent_loop: LOOP-RAG-EMBEDDING-STABILIZATION-PREFLIGHT-20260215
    fixed_in: 1faaac6
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-413"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.workspace.contract.yaml"
    description: |
      Sync load-shaping knobs missing — no governed per-request timeout, retry count, retry delay/backoff, or inter-doc pace/sleep controls in binding or sync runtime
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:59:45Z"
    parent_loop: LOOP-RAG-EMBEDDING-STABILIZATION-PREFLIGHT-20260215
    fixed_in: 1faaac6
  - id: "GAP-OP-414"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag-reindex-remote-start"
    description: |
      Short-batch smoke preflight missing — no small-N smoke capability or drift gate to enforce smoke precondition before authorizing full reindex
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:59:47Z"
    parent_loop: LOOP-RAG-EMBEDDING-STABILIZATION-PREFLIGHT-20260215
    fixed_in: 1faaac6,db07c2b
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-415"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-health-check"
    description: |
      media.health.check exits on first failed probe because command substitution inherits non-zero from check_service under set -e, violating the aggregate-health contract and producing empty capability output.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-416"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-nfs-verify"
    description: |
      Media capabilities and drift gates invoke SSH targets without binding-derived ssh_user/ssh_target resolution, causing auth failures (e.g., ronnyworks@download-stack) despite vm.lifecycle declaring ubuntu users.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-417"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-service-status"
    description: |
      media.service.status contains a shell syntax error in ROOT assignment (missing closing parenthesis), making the capability non-executable in current form.
    severity: medium
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-418"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d107-media-nfs-mount-lock.sh"
    description: |
      D107 media NFS lock exits after first failing VM because check_vm_nfs is called directly under set -e, so second VM check is skipped and fail counts are incomplete.
    severity: medium
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-419"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d107-media-nfs-mount-lock.sh"
    description: |
      Media NFS checks use strict source-string matching against pve:/media and false-fail when mounts are healthy but represented as 192.168.1.184:/media; checks should validate mountpoint/export-path semantics, not host string literal.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-420"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d109-media-compose-config-match-lock.sh"
    description: |
      Media runtime checks assume direct docker socket access for ubuntu user, but both media VMs currently require sudo -n for docker CLI; capability and gate commands need deterministic sudo fallback to avoid false missing-container failures.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-421"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ops/bindings/media.services.yaml"
    description: |
      ops/bindings/media.services.yaml drifts from runtime: bazarr-dl declared active but absent on download-stack, and watchtower/node-exporter service keys do not map to actual container names (watchtower, node-exporter), causing D108/D109 false failures.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-422"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d109-media-compose-config-match-lock.sh"
    description: |
      D109 media-compose-config-match-lock ignores service-level .container overrides in media.services binding and compares only service keys, causing false failures for services mapped to shared container names (e.g., node-exporter, watchtower).
    severity: medium
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-423"
    discovered_by: "codex-baseline-recovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh"
    description: |
      D48 worktree hygiene fails due orphaned worktree branch gap-rag-logscope-verify-20260215 (no origin branch), which also blocks preflight (D3) with split-brain stop.
    severity: medium
    status: fixed
    notes: "baseline recovery complete"
    parent_loop: "LOOP-BASELINE-GATE-RECOVERY-20260215"
    fixed_in: d23d6ce
  - id: "GAP-OP-426"
    discovered_by: "codex-baseline-recovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d87-rag-workspace-contract-lock.sh"
    description: |
      D87 gate enforces literal curl pattern 'max-time 180' in rag CLI, but rag now uses load-shaping variable LS_TIMEOUT (default 180). Gate should validate effective timeout contract, not literal string.
    severity: medium
    status: fixed
    notes: "baseline recovery complete"
    parent_loop: "LOOP-BASELINE-GATE-RECOVERY-20260215"
    fixed_in: d23d6ce
  - id: "GAP-OP-424"
    discovered_by: "codex-baseline-recovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/cloudflare-drift-gate.sh"
    description: |
      D14 and D15 gate scripts scan full ops/capabilities.yaml for denylist tokens, causing false failures from unrelated capability output paths (state/). Scope should be limited to cloudflare/github surfaces and their own capabilities only.
    severity: medium
    status: fixed
    notes: "baseline recovery complete"
    parent_loop: "LOOP-BASELINE-GATE-RECOVERY-20260215"
    fixed_in: d23d6ce
  - id: "GAP-OP-425"
    discovered_by: "codex-baseline-recovery-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ops/bindings/d75-gap-mutation-policy.yaml"
    description: |
      D75 enforcement_after_sha currently includes historical non-trailer commit ecd4678 in its validation range, creating permanent fail despite current capability-only workflow. Policy baseline pointer must advance past exempt legacy commit set.
    severity: medium
    status: fixed
    notes: "baseline recovery complete"
    parent_loop: "LOOP-BASELINE-GATE-RECOVERY-20260215"
    fixed_in: d23d6ce
  - id: "GAP-OP-427"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/home/bin/home-health-alert"
    description: |
      home-health-alert and infra-vm-bootstrap use broken infisical CLI pattern (infisical secrets get) which fails without .infisical.json. Replace with canonical infisical-agent.sh subprocess.
    severity: high
    status: fixed
    parent_loop: "LOOP-SECRETS-PATTERN-CONVERGENCE-20260215"
    fixed_in: aded8be
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-428"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-ssot-propose"
    description: |
      ha-ssot-propose (85 lines), secrets-exec, and secrets-projects-status use inline Pattern C auth (curl to universal-auth/login). Replace with canonical infisical-agent.sh auth-token/get commands.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SECRETS-PATTERN-CONVERGENCE-20260215"
    fixed_in: aded8be
  - id: "GAP-OP-429"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/tools/infisical-agent.sh"
    description: |
      infisical-agent.sh missing 3 commands needed for full convergence: list-recursive (recursive secret listing), jwt-decode (JWT payload extraction), auth-token (raw JWT to stdout without banners).
    severity: medium
    status: fixed
    parent_loop: "LOOP-SECRETS-PATTERN-CONVERGENCE-20260215"
    fixed_in: aded8be
  - id: "GAP-OP-430"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/secrets/bin/secrets-identity-rbac-status"
    description: |
      6 scripts use inline Pattern C auth + JWT decode + recursive listing: secrets-identity-rbac-status, secrets-identity-rbac-lock, secrets-namespace-status, secrets-p1-root-cleanup, secrets-cohort-copy-first, check-secret-expiry.sh. Replace with canonical agent commands.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SECRETS-PATTERN-CONVERGENCE-20260215"
    fixed_in: aded8be
  - id: "GAP-OP-431"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/d112-secrets-access-pattern-lock.sh"
    description: |
      No drift gate prevents regression to Pattern B (CLI) or Pattern C (inline auth). Create D112 secrets-access-pattern-lock. Also normalize 8 scripts pointing to workbench shim path instead of canonical SPINE_ROOT path.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SECRETS-PATTERN-CONVERGENCE-20260215"
    fixed_in: aded8be
  - id: "GAP-OP-432"
    discovered_by: "loop-gate-domain-discovery-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/gate.domain.profiles.yaml"
    description: |
      No canonical gate domain map exists to route terminals to domain-relevant drift gate packs. Add ops/bindings/gate.domain.profiles.yaml with explicit domain->gate ID mapping and routing hints.
    severity: high
    status: fixed
    notes: "Added canonical gate.domain.profiles binding with 9 domain packs and explicit gate IDs."
    parent_loop: "LOOP-GATE-DOMAIN-DISCOVERY-20260215"
    fixed_in: a19246b
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-433"
    discovered_by: "loop-gate-domain-discovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/verify/bin/drift-gates-certify"
    description: |
      verify.drift_gates.certify lacks domain-scoped discoverability commands. Add --list-domains, --domain <name>, and --brief using canonical domain binding input.
    severity: medium
    status: fixed
    notes: "Extended drift-gates-certify with --list-domains, --domain, and --brief domain-pack modes."
    parent_loop: "LOOP-GATE-DOMAIN-DISCOVERY-20260215"
    fixed_in: 4d8b6ea
  - id: "GAP-OP-434"
    discovered_by: "loop-gate-domain-discovery-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/commands/preflight.sh"
    description: |
      ops preflight/lane does not expose gate domain packs at terminal start. Add Gate Domains banner with domain list, command hints, default core routing, and OPS_GATE_DOMAIN inline brief output.
    severity: high
    status: fixed
    notes: "Added Gate Domains preflight banner, command hints, and OPS_GATE_DOMAIN routing output."
    parent_loop: "LOOP-GATE-DOMAIN-DISCOVERY-20260215"
    fixed_in: dd18a0f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-435"
    discovered_by: "loop-gate-domain-discovery-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/SESSION_PROTOCOL.md"
    description: |
      Governance docs do not describe domain gate packs or required pre-mutation domain brief checks. Update session/build/onboarding/index docs with canonical domain workflow and OPS_GATE_DOMAIN usage.
    severity: medium
    status: fixed
    notes: "Updated governance docs to require domain brief discovery before mutation."
    parent_loop: "LOOP-GATE-DOMAIN-DISCOVERY-20260215"
    fixed_in: 3d7d59c
  - id: "GAP-OP-436"
    discovered_by: "loop-gate-domain-discovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/verify/tests/test-drift-gates-certify-domain.sh"
    description: |
      No regression tests cover certifier domain modes or preflight gate-domain discoverability output. Add tests for domain listing/filtering, unknown-domain errors, and OPS_GATE_DOMAIN preflight rendering.
    severity: medium
    status: fixed
    notes: "Added regression tests for certifier domain modes and preflight gate-domain banner behavior."
    parent_loop: "LOOP-GATE-DOMAIN-DISCOVERY-20260215"
    fixed_in: b5fa5c6
  - id: "GAP-OP-437"
    discovered_by: "loop-ios-mcp-bridge-closeout-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/SESSION_PROTOCOL.md"
    description: |
      iOS/mobile bridge closeout lacks explicit registration for SESSION_PROTOCOL tailnet URL guidance and tracked claude-ai-skill bootstrap surface. Register and converge documentation + skill surface under one governed unit.
    severity: medium
    status: fixed
    notes: "SESSION_PROTOCOL mobile/remote bridge contract normalized to tailnet path and bridge actions include /rag/ask + /cap/run; claude-ai-skill surface tracked in repo. Verified with spine.verify run CAP-20260215-155705__spine.verify__Rzetd79099."
    parent_loop: "LOOP-IOS-MCP-BRIDGE-CLOSEOUT-20260215"
    fixed_in: 386fd2b
  - id: "GAP-OP-438"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Radio firmware management SOP missing from runbook — no update procedure for SLZB-06, SLZB-06MU, or Z2M
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:06Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-439"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Z-Wave readiness runbook missing — TubesZB ZAC93 on hand but no installation or configuration SOP
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:08Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-440"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Matter/Thread readiness runbook missing — SLZB-06MU installed but not wired to coordinator
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:09Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-441"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Runbook Section 7 Offsite Sync documents legacy MacBook hop path — vzdump now handles backup directly via NFS
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:11Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-442"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      No coordinator health monitoring gate — Z2M add-on state and SLZB-06MU ethernet status not validated
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:14Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-443"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      No automation count stability assertion — expected 14 automations but no gate validates count
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:16Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-444"
    discovered_by: "loop-ios-spine-alignment-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/claude-ai-skill/SKILL.md"
    description: |
      Claude iOS session skill relies on tool-name heuristics and emits ambiguous fallback ('spine unavailable') when tailnet host is unreachable from hosted runtime. Require explicit filesystem verification for desktop mode and bridge-unreachable messaging with actionable fallback.
    severity: high
    status: fixed
    notes: "Hardened claude-ai skill environment detection with real filesystem check, bridge-unreachable runtime messaging, and explicit bridge/offline fallback flow. Verified by spine.verify run CAP-20260215-161210__spine.verify__R7yxt72207."
    parent_loop: "LOOP-IOS-SPINE-ALIGNMENT-20260215"
    fixed_in: "0797518"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-445"
    discovered_by: "loop-bridge-public-https-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/mailroom.bridge.yaml"
    description: |
      No canonical binding defines public HTTPS bridge endpoint contract (public URL, tailnet fallback, auth invariants, runtime behavior). Add bridge endpoint policy binding for cloud-runtime access.
    severity: high
    status: fixed
    notes: "Added canonical public/tailnet endpoint policy binding (mailroom.bridge.endpoints.yaml) for hosted runtime bridge contract."
    parent_loop: "LOOP-BRIDGE-PUBLIC-HTTPS-20260215"
    fixed_in: 9b3353c
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-447"
    discovered_by: "loop-bridge-public-https-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      MAILROOM_BRIDGE and iPhone MCP governance docs are tailnet-only and do not define public HTTPS tunnel posture, security requirements, and operator rollout sequence.
    severity: medium
    status: fixed
    notes: "Updated iPhone MCP governance to include hosted-runtime public HTTPS path and auth-preserving tunnel posture."
    parent_loop: "LOOP-BRIDGE-PUBLIC-HTTPS-20260215"
    fixed_in: 9b3353c
  - id: "GAP-OP-446"
    discovered_by: "loop-bridge-public-https-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/mailroom-bridge/bin/mailroom-bridge-expose-status"
    description: |
      mailroom.bridge.expose.status only reports tailnet serve exposure and does not report public HTTPS endpoint health, causing operator ambiguity in hosted-runtime failures.
    severity: medium
    status: fixed
    notes: "Extended mailroom.bridge.expose.status to report endpoints binding, configured public URL, and public health probe when set."
    parent_loop: "LOOP-BRIDGE-PUBLIC-HTTPS-20260215"
    fixed_in: 9b3353c
  - id: "GAP-OP-448"
    discovered_by: "loop-bridge-public-https-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/claude-ai-skill/SKILL.md"
    description: |
      Claude iOS skill lacks deterministic dual-URL fallback contract (public HTTPS primary, tailnet secondary), leaving hosted sessions dependent on tailnet DNS reachability.
    severity: high
    status: fixed
    notes: "Hardened claude-ai-skill with deterministic remote URL order (public HTTPS then tailnet) and bridge-unreachable fallback messaging."
    parent_loop: "LOOP-BRIDGE-PUBLIC-HTTPS-20260215"
    fixed_in: 9b3353c
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-449"
    discovered_by: "loop-aof-bridge-consumer-v12-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/mailroom.bridge.yaml"
    description: |
      5 read-only AOF caps (aof.status, aof.version, aof.policy.show, aof.tenant.show, aof.verify) not in cap_rpc.allowlist in mailroom.bridge.yaml — remote consumers cannot invoke AOF operator surface via bridge
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:17:43Z"
    fixed_in: mailroom.bridge.yaml allowlist + RBAC update
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-450"
    discovered_by: "loop-aof-bridge-consumer-v12-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/mailroom.bridge.yaml"
    description: |
      No role-scoped RBAC entries for AOF caps in mailroom.bridge.yaml — operator should get all 5 aof.* caps, monitor should get aof.status and aof.version only
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:17:44Z"
    fixed_in: 'mailroom.bridge.yaml RBAC: operator=*, monitor=aof.status+aof.version'
  - id: "GAP-OP-451"
    discovered_by: "loop-aof-bridge-consumer-v12-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/aof/tests/"
    description: |
      No /cap/run integration tests for AOF caps — need to prove each returns valid JSON envelope with ok status and receipt path via bridge RPC
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:17:47Z"
    fixed_in: 'aof-bridge-consumer-test.sh (10 tests: allowlist, safety, RBAC, JSON envelope)'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-452"
    discovered_by: "loop-aof-bridge-consumer-v12-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      MAILROOM_BRIDGE.md lacks AOF consumer examples and JSON contract expectations — bridge docs do not cover aof.* cap-RPC usage patterns
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:17:48Z"
    fixed_in: 'MAILROOM_BRIDGE.md: AOF consumer examples, JSON contract, RBAC scoping'
  - id: "GAP-OP-453"
    discovered_by: "live-api-audit"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Runbook S6 firmware versions stale — SLZB-06MU shows v3.2.4 core + 20241105 radio live, doc says v3.1.6.dev
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:18:34Z"
    fixed_in: 20f4219
  - id: "GAP-OP-454"
    discovered_by: "live-api-audit"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      TubesZB status drift — device registry and baseline say on-hand but hardware is now connected at 10.0.0.90
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:18:35Z"
    fixed_in: 20f4219
  - id: "GAP-OP-455"
    discovered_by: "live-api-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/d113-coordinator-health-probe.sh"
    description: |
      D113 coordinator health probe missing TubesZB check — ESPHome entity online and Z-Wave serial connected state not validated
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:18:36Z"
    fixed_in: 20f4219
  - id: "GAP-OP-456"
    discovered_by: "live-api-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Z-Wave JS UI add-on not activated — needs CLI-based activation checklist and ha.zwave.devices.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:18:38Z"
    fixed_in: 20f4219
  - id: "GAP-OP-457"
    discovered_by: "live-api-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      OTBR not wired to SLZB-06MU — needs CLI-based wiring checklist for Thread network formation
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:18:39Z"
    fixed_in: 20f4219
  - id: "GAP-OP-458"
    discovered_by: "live-activation-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Runbook S6.2/S6.3 CLI commands use wrong add-on slugs (a0d7b954_* vs core_*) and OTBR network_device format (tcp://host:port vs bare host:port)
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:30:59Z"
    fixed_in: runbook-slug-fix-20260215
  - id: "GAP-OP-459"
    discovered_by: "loop-aof-consumer-rollout-acceptance-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/bindings/mailroom.bridge.yaml"
    description: |
      No live evidence that monitor token RBAC scoping works: must prove 200 for aof.status+aof.version and 403 for aof.policy.show+aof.tenant.show+aof.verify
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:31:02Z"
    fixed_in: 'aof-rollout-acceptance-test.sh T6-T10: monitor 200 for aof.status+aof.version, 403 for other 3'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-460"
    discovered_by: "loop-aof-consumer-rollout-acceptance-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "receipts/sessions/"
    description: |
      No live evidence that bridge-invoked AOF caps produce valid receipts on disk with ledger linkage — need receipted chain validation
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:31:03Z"
    fixed_in: 'aof-rollout-acceptance-test.sh T11-T15: all 5 bridge-invoked caps produce valid receipts on disk'
  - id: "GAP-OP-461"
    discovered_by: "loop-aof-consumer-rollout-acceptance-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/aof/tests/"
    description: |
      No live evidence that 5 aof.* caps succeed via bridge /cap/run with valid JSON envelopes — need receipted smoke test against running bridge
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:31:29Z"
    fixed_in: 'aof-rollout-acceptance-test.sh T1-T5: 5/5 aof.* caps HTTP 200 with valid JSON envelopes via live bridge'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-462"
    discovered_by: "coordinator-activation-session-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_AGENT_GOTCHAS.md"
    description: |
      No agent gotchas doc for HA — agents hit CLI deprecation, Supervisor API quirks, token access, slug format confusion every session
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:41:33Z"
    fixed_in: HASS_AGENT_GOTCHAS.md — 8 gotchas documented
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-463"
    discovered_by: "coordinator-activation-session-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-addons-snapshot"
    description: |
      ha-addons-snapshot uses docker exec homeassistant pattern — fragile and inconsistent with bash -l SSH pattern used by all other HA scripts
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:41:35Z"
    fixed_in: 'ha-addons-snapshot: docker exec → bash -l + slug_format_note'
  - id: "GAP-OP-464"
    discovered_by: "coordinator-activation-session-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-z2m-devices-snapshot"
    description: |
      ha-z2m-devices-snapshot hardcodes container name addon_45df7312_zigbee2mqtt — breaks if Z2M reinstalled from different repo
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:41:37Z"
    fixed_in: 'ha-z2m-devices-snapshot: dynamic container discovery via Supervisor API'
  - id: "GAP-OP-465"
    discovered_by: "coordinator-activation-session-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/legacy/brain-lessons/HOME_ASSISTANT_LESSONS.md"
    description: |
      HOME_ASSISTANT_LESSONS.md references deprecated ha addons CLI — agents reading legacy docs get wrong patterns
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:41:38Z"
    fixed_in: 'HOME_ASSISTANT_LESSONS.md: ha apps + core_tailscale + OTBR status'
  - id: "GAP-OP-466"
    discovered_by: "public-https-bridge-cutover-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/bindings/mailroom.bridge.endpoints.yaml + surfaces/claude-ai-skill/SKILL.md"
    description: |
      Public HTTPS bridge is live (spine.ronny.works) but spine SSOT still had placeholder/blank public endpoint URL and skill placeholder, causing hosted mobile to keep failing or requiring out-of-band edits. Set canonical public URL in endpoints binding and in canonical claude-ai skill surface.
    severity: high
    status: fixed
    notes: "Set public_https.url to https://spine.ronny.works and updated canonical claude-ai skill surface to use it as primary hosted-runtime base URL."
    fixed_in: 18033c1
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-467"
    discovered_by: "iphone-bridge-egress-allowlist-20260215"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "surfaces/claude-ai-skill/SKILL.md"
    description: |
      Hosted Claude runtimes can block outbound requests with x-deny-reason: host_not_allowed. Skill must explicitly instruct operator to add the public bridge hostname (e.g. spine.ronny.works) to Claude/Anthropic network egress allowlist (or wildcard *.ronny.works if supported). Without this, mobile sessions will incorrectly report bridge unreachable/spine unavailable.
    severity: high
    status: fixed
    notes: "Updated claude-ai skill to document hosted runtime egress allowlist (x-deny-reason: host_not_allowed) and token retrieval path (mailroom-bridge.token)."
    fixed_in: 3ebb81a
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-468"
    discovered_by: "loop-rag-index-quality-v1-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/"
    description: |
      RAG index has 141 indexed docs vs 103 eligible (ratio 1.36) — 38 stale/duplicate documents need identification and removal via AnythingLLM API
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:07:03Z"
    fixed_in: Removed 46 duplicate embeddings from AnythingLLM index (141→95 docs)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-469"
    discovered_by: "loop-rag-index-quality-v1-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/"
    description: |
      No post-cleanup verify evidence: need short-batch and full verify receipts proving inflation ratio dropped to <=1.15 after index dedupe
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:07:05Z"
    fixed_in: 'Pre-clean: 141 indexed (ratio 1.36). Post-dedupe: 95 indexed (ratio 0.92). Sync running to backfill 8 missing docs.'
  - id: "GAP-OP-470"
    discovered_by: "loop-rag-index-quality-v1-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.reindex.quality.yaml"
    description: |
      max_index_inflation_ratio in rag.reindex.quality.yaml is 1.5 (too permissive) — tighten to 1.15 after cleanup evidence proves sustainable
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:07:08Z"
    fixed_in: max_index_inflation_ratio tightened from 1.5 to 1.15 in rag.reindex.quality.yaml
  - id: "GAP-OP-471"
    discovered_by: "bridge-cf-access-auth-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      No spine SSOT binding captures Cloudflare Access configuration for the public spine bridge (Access app id, policy intent, service-token usage). Add a canonical binding so agents/operators do not improvise UI clicks or lose track of the enforcement posture.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:19:46Z"
    parent_loop: "LOOP-BRIDGE-CF-ACCESS-AUTH-20260215"
    fixed_in: 9bfd548
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-472"
    discovered_by: "bridge-cf-access-auth-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/mailroom-bridge/bin/mailroom-bridge-serve"
    description: |
      Public spine bridge is reachable from hosted runtimes, but bridge requires MAILROOM_BRIDGE_TOKEN for /loops/open and other endpoints. Hosted runtimes cannot read the token file, causing iPhone sessions to prompt for a token every chat. Add Cloudflare Access service-token auth path so hosted Claude can authenticate non-interactively.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:20:07Z"
    parent_loop: "LOOP-BRIDGE-CF-ACCESS-AUTH-20260215"
    fixed_in: 9bfd548
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-473"
    discovered_by: "bridge-cf-access-auth-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/MAILROOM_BRIDGE.md + docs/governance/IPHONE_MCP_SETUP.md + surfaces/claude-ai-skill/SKILL.md"
    description: |
      Bridge/iPhone governance and the Claude mobile skill do not document Cloudflare Access service-token auth (headers, one-time Vaultwarden storage, hosted runtime behavior). Update docs and skill so operators can set up seamless mobile without guessing.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:20:15Z"
    parent_loop: "LOOP-BRIDGE-CF-ACCESS-AUTH-20260215"
    fixed_in: 9bfd548
  - id: "GAP-OP-474"
    discovered_by: "bridge-cf-access-auth-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/mailroom-bridge/tests/"
    description: |
      No regression test covers the new Cloudflare Access service-token auth path for bridge endpoints (at minimum /loops/open without X-Spine-Token). Add a small local integration test to prevent regressions.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:20:27Z"
    parent_loop: "LOOP-BRIDGE-CF-ACCESS-AUTH-20260215"
    fixed_in: 9bfd548
  - id: "GAP-OP-475"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      New snapshot capabilities — scenes, scripts, HACS
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:33:52Z"
    fixed_in: 00608fb
  - id: "GAP-OP-476"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      Entity state baseline snapshot + expected-unavailable allowlist
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:33:56Z"
    fixed_in: 00608fb
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-477"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      Run all snapshots to establish on-disk bindings
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:34:00Z"
    fixed_in: 3c621a3
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-478"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      Unified baseline binding + ha.ssot.baseline.build capability
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:34:07Z"
    fixed_in: 3c621a3
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-479"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      Governance doc HASS_SSOT_BASELINE.md
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:34:08Z"
    fixed_in: 3c621a3
  - id: "GAP-OP-480"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      D115 HA SSOT baseline freshness gate
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:34:09Z"
    fixed_in: "2985e48"
  - id: "GAP-OP-481"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      D108 uses LAN IP but spine runs over Tailscale; download-stack unreachable
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:34:09Z"
    fixed_in: 549c75b
  - id: "GAP-OP-482"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "LOOP-HA-DASHBOARD-REFRESH-AUTOMATION-20260215"
    description: |
      Dashboard snapshot queries /api/lovelace/dashboards which returns 404 on storage-mode HA. Rewrite to SSH .storage method.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:08:46Z"
    fixed_in: 9b57107
  - id: "GAP-OP-483"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "LOOP-HA-DASHBOARD-REFRESH-AUTOMATION-20260215"
    description: |
      4 integrations (jellyfin, radarr, lidarr, sabnzbd) still listed in runbook but removed from HA. Apply drift and add media-VM note.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:08:52Z"
    fixed_in: 9b57107
  - id: "GAP-OP-484"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-DASHBOARD-REFRESH-AUTOMATION-20260215"
    description: |
      No automated refresh for HA baseline bindings. D115 enforces 14-day freshness but refresh is manual. Add weekly LaunchAgent.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:08:58Z"
    fixed_in: 4e53eb0
  - id: "GAP-OP-485"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "GAP-OP-482"
    description: |
      Dashboard snapshot only reads .storage path, misses 9 YAML-mode dashboards defined in configuration.yaml. Add YAML dashboard parsing.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:24:11Z"
    fixed_in: 30b68f0
  - id: "GAP-OP-486"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ha.ssot.baseline.yaml"
    description: |
      30 entities in unknown state in HA baseline. Investigate which entities, triage into expected-unavailable allowlist or fix root cause.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:30:35Z"
    fixed_in: 30faeeb
  - id: "GAP-OP-487"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ha.dashboards.yaml"
    description: |
      Orphaned lovelace.dashboard_we.bak and .bak2 files on HA disk (64KB each). Deregistered storage-mode dashboard — cleanup or archive.
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-15T23:30:41Z"
    fixed_in: 'triage-decision: orphaned .storage .bak files from deregistered dashboard. Safe to rm via SSH: ssh hassio@ha ''rm /config/.storage/lovelace.dashboard_we.bak /config/.storage/lovelace.dashboard_we.bak2''. Low priority — files are inert.'
  - id: "GAP-OP-488"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ha.dashboards.yaml"
    description: |
      command-center-v2-stage.yaml exists on HA disk but is not registered in configuration.yaml lovelace block. Orphaned file — wire up or delete.
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-15T23:30:46Z"
    fixed_in: 'triage-decision: command-center-v2-stage.yaml is an orphaned staging copy never registered in configuration.yaml lovelace block. Safe to rm via SSH: ssh hassio@ha ''rm /config/dashboards/command-center-v2-stage.yaml''. Low priority — file is inert.'
  - id: "GAP-OP-489"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ha.dashboards.yaml"
    description: |
      9 YAML dashboard files (139KB command center, etc.) live only on HA with no git backup. Add ha.dashboard.backup capability to rsync YAML dashboards to spine for version control.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:30:51Z"
    fixed_in: 30faeeb
  - id: "GAP-OP-490"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ha-baseline-refresh.sh"
    description: |
      ha.ssot.apply updates runbook manually. Wire it into the weekly ha-baseline-refresh.sh after snapshot caps to auto-sync runbook drift.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:30:57Z"
    fixed_in: 30faeeb
  - id: "GAP-OP-491"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ha.hacs.yaml"
    description: |
      46 HACS repos with no update monitoring or alerting. Pending HACS updates are invisible to agents. Consider ha.hacs.updates.check capability.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:31:03Z"
    fixed_in: 30faeeb
  - id: "GAP-OP-492"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ha.ssot.baseline.yaml"
    description: |
      Baseline shows addons_errors: 1 — one HA addon in error state. Identify which addon and triage (fix or expected).
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-15T23:31:09Z"
    fixed_in: 'triage-decision: Vaultwarden (a0d7b954_bitwarden) addon in error state. Addon was installed but not actively used (primary password management is via Bitwarden cloud). Options: (1) fix config, (2) uninstall via HA UI. Low priority — does not affect other services.'
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-SPINE-VERIFY-RECOVERY-20260215
  # ─────────────────────────────────────────────────────────────
  - id: "GAP-OP-493"
    discovered_by: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    discovered_at: "2026-02-15"
    type: duplicate-truth
    doc: "surfaces/verify/d66-mcp-parity-gate.sh"
    description: |
      D66 MCP parity drift: `/Users/ronnyworks/code/workbench/agents/media/tools/src/index.ts`
      diverges from `/Users/ronnyworks/code/workbench/infra/compose/mcpjungle/servers/media-stack/src/index.ts`.
      Local tools copy has Spine Bridge config + tools (spine_infra_health, spine_service_status, spine_nfs_verify)
      while MCPJungle copy does not. Tool behavior depends on which surface is invoked.
    severity: high
    status: fixed
    parent_loop: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    notes: "Blocking spine.verify PASS. Re-diverged during Tailscale→LAN IP migration (canonical updated, MCPJungle not). Re-synced 2026-02-17 via workbench a7319fc (index.ts byte-identical, media-stack.json IPs + missing env vars)."
    fixed_in: bfff5fb + d1e434b + a7319fc
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-494"
    discovered_by: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/d77-workbench-contract-lock.sh"
    description: |
      D77 Workbench contract drift: `com.ronny.ha-baseline-refresh.plist` exists at
      `/Users/ronnyworks/code/workbench/dotfiles/macbook/launchd/` but is not allowlisted
      by D77 gate (only `com.ronny.agent-inbox.plist` is allowed). Either add to allowlist
      or archive/remove the plist.
    severity: high
    status: fixed
    parent_loop: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    notes: "Blocking spine.verify PASS"
    fixed_in: bfff5fb
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-495"
    discovered_by: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    discovered_at: "2026-02-15"
    type: duplicate-truth
    doc: "docs/governance/MACBOOK_SSOT.md"
    description: |
      Launchd policy split-brain: `LAUNCHD_RETIREMENT_2026-02-06.md` says "do not load any
      com.ronny.* labels except com.ronny.agent-inbox" but `MACBOOK_SSOT.md` (last_verified
      2026-02-13) lists many com.ronny.* LaunchAgents as ACTIVE including ha-baseline-refresh.
      In-repo reality: only agent-inbox.plist and ha-baseline-refresh.plist exist outside .archive.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    notes: "Agent-confusing SSOT contradiction — which doc is canonical?"
    fixed_in: "LAUNCHD_RETIREMENT updated to allow ha-baseline-refresh; MACBOOK_SSOT updated to mark retired items"
  - id: "GAP-OP-496"
    discovered_by: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    discovered_at: "2026-02-15"
    type: duplicate-truth
    doc: "workbench/scripts/root/mint"
    description: |
      RAG query surfaces competing: Governance says `mint ask` is deprecated, but `mint ask`
      is still implemented at `/Users/ronnyworks/code/workbench/scripts/root/mint` and is
      actively used by `/Users/ronnyworks/code/workbench/scripts/root/rag/quality-test.sh`.
      Agents are confused about which RAG surface to use (spine-rag MCP vs mint ask).
    severity: medium
    status: fixed
    parent_loop: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    notes: "Need single canonical RAG query surface"
    fixed_in: "mint ask now shows deprecation warning; log path fixed; quality-test.sh documented migration need"
    # ─────────────────────────────────────────────────────────────
    # Gap Types
  - id: "GAP-OP-497"
    discovered_by: "session"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      ha.automation.create capability missing — no CLI path to create HA automations via REST API
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T00:42:34Z"
    fixed_in: ha-automation-create script + capabilities.yaml + capability_map.yaml
  - id: "GAP-OP-498"
    discovered_by: "session"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Office button automation missing — BILRESA button_1 should toggle office desk bulb in HA
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T00:42:41Z"
    fixed_in: automation.office_button_desk already exists in HA (pre-satisfied)
  - id: "GAP-OP-499"
    discovered_by: "session"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      Office button device registry entry needs commit — registered but unstaged
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T00:42:45Z"
    fixed_in: commit d30e5da — office-button registered in home.device.registry.yaml
  - id: "GAP-OP-500"
    discovered_by: "session"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      HA device map needs refresh after office button rename — ha.device.map.build to pick up renamed entities
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T00:42:54Z"
    fixed_in: ha.device.rename capability + BILRESA renamed to Office Button via WebSocket API
  - id: "GAP-OP-501"
    discovered_by: "session"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      HA_API_TOKEN not in secrets.namespace.policy.yaml + 4 scripts use TOKEN instead of HA_TOKEN for local var
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T00:48:12Z"
    fixed_in: TOKEN→HA_TOKEN in 4 scripts + HA_API_TOKEN in secrets.namespace.policy.yaml
  - id: "GAP-OP-502"
    discovered_by: "agent"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/"
    description: |
      All HA capability scripts and drift gates hardcode Tailscale IP (100.67.120.1) which is returning 403. Should use LAN IP (10.0.0.100) as default with HA_HOST env override. 17 scripts affected.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:09:37Z"
    fixed_in: pending-commit
  - id: "GAP-OP-503"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: stale-ssot
    doc: "surfaces/verify/d73-opencode-governed-entry-lock.sh"
    description: |
      D73 gate and SSOTs reference old provider name openai/glm-5 but live opencode.json uses zai-coding-plan/glm-5
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:09:44Z"
    fixed_in: 9fc737d — D73 gate + 4 SSOTs aligned to zai-coding-plan/glm-5
  - id: "GAP-OP-504"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-dashboard-backup"
    description: |
      ha.dashboard.backup only backs up 1/9 YAML dashboards — ssh consumes stdin in while-read loop, stealing remaining filenames after first iteration
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:25:11Z"
    fixed_in: 78bd3fd — ssh -n flag prevents stdin consumption in while-read loop
  - id: "GAP-OP-505"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.entity.state.expected-unknown.yaml"
    description: |
      button.roborock_qx_revo_arc_vac_followed_by_mop2 (new Roborock cleaning mode button) not in expected-unknown allowlist — causes 1 unexpected unknown in entity baseline
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:25:15Z"
    fixed_in: 78bd3fd — added to expected-unknown allowlist
  - id: "GAP-OP-506"
    discovered_by: "agent"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/plugins/ha/"
    description: |
      No ha.addon.restart capability. HA add-on lifecycle (start/stop/restart) requires raw SSH. Discovered during Matter/Thread troubleshooting.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:46:11Z"
    fixed_in: 8960ab2 — ha.addon.restart capability created
  - id: "GAP-OP-507"
    discovered_by: "agent"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      MYGGSPRAY motion sensor removed from HA during troubleshooting. Needs recommission via iPhone Companion App (BLE required for Thread sleepy end devices).
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:46:12Z"
    fixed_in: MYGGSPRAY recommissioned, renamed Office Motion Sensor, auto-off automation created
  - id: "GAP-OP-508"
    discovered_by: "agent"
    discovered_at: "2026-02-16"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      HASS_OPERATIONAL_RUNBOOK S6.3 lacks Thread credential sharing procedure and OTBR dataset push via REST API. Discovered during Matter troubleshooting.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:46:15Z"
    fixed_in: runbook S6.3 Thread credential sharing + OTBR REST API procedure
  - id: "GAP-OP-509"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/plugins/ha/"
    description: |
      Z2M health check capability — no CLI way to see battery, staleness, signal for all devices
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:59:58Z"
    fixed_in: d163335 — ha.z2m.health capability created
  - id: "GAP-OP-510"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      Z2M device health drift gate — no automated battery/staleness alerting
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T02:00:02Z"
    fixed_in: d163335 — D118 z2m-device-health gate created
  - id: "GAP-OP-511"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      Z2M naming parity binding — no authoritative canonical name to IEEE to entity ID map
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T02:00:07Z"
    fixed_in: d163335 — z2m.naming.yaml binding created
  - id: "GAP-OP-512"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      Z2M naming parity gate — no validation that friendly names match across bindings
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T02:00:12Z"
    fixed_in: d163335 — D119 z2m-naming-parity gate created
  - id: "GAP-OP-513"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-z2m-devices-snapshot"
    description: |
      Z2M snapshot missing link quality — state.json has LQI data but not extracted
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T02:00:17Z"
    fixed_in: d163335 — Z2M snapshot LQI extraction from state.json
  - id: "GAP-OP-515"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: stale-ssot
    doc: "docs/governance/STACK_REGISTRY.yaml"
    description: |
      STACK_REGISTRY.yaml references workbench infrastructure/** paths but workbench uses infra/**. Multiple stacks have wrong paths (mint-os, cloudflare/tunnel, mcpjungle, n8n, pihole, secrets, templates)
    severity: medium
    status: fixed
    notes: "STACK_REGISTRY.yaml paths corrected from infrastructure/ to infra/"
    fixed_in: dd5f973
  - id: "GAP-OP-514"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/commands/ai.sh"
    description: |
      ops ai --validate fails: script looks for manifest at infrastructure/GOVERNANCE_MANIFEST.yaml but canonical location is docs/governance/GOVERNANCE_MANIFEST.yaml
    severity: high
    status: fixed
    notes: "ops ai manifest path corrected, GOVERNANCE_MANIFEST.yaml created"
    fixed_in: a8fce37
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-516"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/orchestration/bin/orchestration-status"
    description: |
      orchestration.status reads from artifact files (validations/, integrations/) not manifest, so manually-closed loops show validate=missing integrate=missing even when manifest marks lanes integrated
    severity: low
    status: fixed
    notes: "GAP filed for tracking. Fix: orchestration-status should also check manifest.lanes.*.status when artifacts missing"
    fixed_in: 696a266
  - id: "GAP-OP-517"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/orchestration/bin/orchestration-status"
    description: |
      Follow-up to GAP-OP-516: orchestration.status reports validate=missing/integrate=missing when validation/integration artifacts are absent, even if manifest.lanes.<lane>.status is validated/integrated.
    severity: low
    status: fixed
    notes: "Fixes GAP-OP-516 behavior gap: status now falls back to manifest lane status when validation/integration artifacts are missing."
    fixed_in: 3d7e0a9
  - id: "GAP-OP-521"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/mailroom-bridge/bin/mailroom-bridge-expose-status"
    description: |
      bridge public health probe treats Cloudflare Access 403 as FAIL; should distinguish protected/reachable auth boundary from true outage.
    severity: medium
    status: fixed
    notes: "Public health auth semantics fixed (PROTECTED for 403)."
    parent_loop: "LOOP-SPINE-P1P2-DISCONNECT-AUDIT-20260215"
    fixed_in: ef8db86
  - id: "GAP-OP-518"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/secrets/bin/secrets-cli-status"
    description: |
      secrets.cli.status enforces hash parity against workbench infisical-agent shim; should validate shim delegation semantics, not byte-for-byte copy.
    severity: high
    status: fixed
    notes: "Shim-based delegation validation implemented."
    parent_loop: "LOOP-SPINE-P1P2-DISCONNECT-AUDIT-20260215"
    fixed_in: 58c4155
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-519"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets.namespace.status reports root-path drift for CF_ACCESS_CLIENT_ID, CF_ACCESS_CLIENT_SECRET, and UNIFI_SHOP_API_KEY; policy/runtime migration flow incomplete.
    severity: high
    status: fixed
    notes: "CF_ACCESS_* and UNIFI_SHOP_API_KEY migrated via governed capabilities."
    parent_loop: "LOOP-SPINE-P1P2-DISCONNECT-AUDIT-20260215"
    fixed_in: 58c4155
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-520"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/aof/bin/aof-status.sh"
    description: |
      aof.status open loop count uses broad grep and miscounts example text in loop scope markdown; must use structured loop state.
    severity: medium
    status: fixed
    notes: "Structured open-loop state parsing implemented."
    parent_loop: "LOOP-SPINE-P1P2-DISCONNECT-AUDIT-20260215"
    fixed_in: 3c417a1
  - id: "GAP-OP-522"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      No HA doc index — 9 HA governance docs with no routing table or entry point for agents
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T03:43:17Z"
    fixed_in: docs/governance/HASS_INDEX.md — routing table for all HA docs, bindings, gates, capabilities
  - id: "GAP-OP-523"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: agent-behavior
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      45 of 58 HA devices marked orphan in ha.device.map.yaml with no category field to distinguish native-integration vs needs-registry
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T03:43:22Z"
    fixed_in: ha.orphan.classification.yaml rebuilt with actual orphan names, wired into ha-device-map-build, orphan_category field in device map output
  - id: "GAP-OP-524"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: duplicate-truth
    doc: "ops/bindings/ha.ssot.baseline.yaml"
    description: |
      ha.scenes.yaml, ha.helpers.yaml, ha.scripts.yaml are tiny standalone bindings that should merge into ha.ssot.baseline.yaml
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-16T03:43:27Z"
    fixed_in: 'Wontfix: two-tier binding design is intentional per HASS_SSOT_BASELINE.md. Merging creates coupling for negligible savings.'
  - id: "GAP-OP-525"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      No defined HA maintenance cadence for when to run ha.refresh, what freshness thresholds mean, how to onboard new devices into the spine
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T03:43:28Z"
    fixed_in: HASS_OPERATIONAL_RUNBOOK.md section 11 — daily/weekly/on-change cadence with freshness thresholds
  - id: "GAP-OP-526"
    discovered_by: "ha.status audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "LOOP-HA-GOVERNANCE-CONSOLIDATION-20260216"
    description: |
      HA missing integrations: UniFi (network/presence), Proxmox VE (VM health), Speedtest (internet baseline), Sonarr/SABnzbd API wiring (media downloads — addons installed but no API entities), Uptime Kuma API (service monitoring — addon only), Energy Dashboard config (EP25 data exists, dashboard not set up). Also: Apple TV entries are actually HomePod Mini (single speaker). King Lamp EP25 unavailable, Winix 0 functional entities, Islamic Prayer Times duplicate config, Synology USB disk sensors unavailable.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T03:56:54Z"
    fixed_in: 6fec084
  - id: "GAP-OP-527"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/plugins/media/bin/media-status"
    description: |
      Media stack lacks unified status dashboard (media.status). Need single command showing VM status, service counts, NFS health, and storage - matching ha.status pattern.
    severity: medium
    status: fixed
    notes: "Unified media dashboard implemented following ha.status pattern."
    fixed_in: 460ec78
  - id: "GAP-OP-528"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/commands/status.sh"
    description: |
      ops status loop count only reads mailroom/state/loop-scopes scope files, misses open orchestration manifests in mailroom/state/orchestration. Reports 0 open loops when orchestration.status shows 1 open.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T04:28:38Z"
    fixed_in: ops/commands/status.sh — added orchestration manifest scanning, dedupes by loop_id, flags scope-manifest mismatch as anomaly
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-529"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/authority/bin/project-governance-status"
    description: |
      authority.project.status has no exemption mechanism for non-product repos. Workbench dotfiles repo fails with missing PRODUCT_BOUNDARY.md etc. Non-product repos need explicit exemption returning EXEMPT status.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T04:28:40Z"
    fixed_in: authority.exemptions.yaml binding + project-governance-status exemption check — workbench returns EXEMPT exit 0
  - id: "GAP-OP-530"
    discovered_by: "session-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/services.health.yaml"
    description: |
      Observability stack (VM 205) has zero spine capabilities and zero Uptime Kuma monitors. Need: observability.stack.status (unified health), uptime.kuma.monitors.sync (auto-populate from services.health.yaml), prometheus.targets.status (scrape target health).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T04:59:03Z"
    fixed_in: pending-commit
  - id: "GAP-OP-531"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      Synology NAS (DS918+) has zero spine capabilities, zero health probes, zero drift gates. Critical storage backbone for NFS (VMs 209/210) and backup retention. Need: nas.health.status (SMART, volume, temp), nas.nfs.exports.status, nas.backup.integrity.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:10:53Z"
    fixed_in: infra-governance-audit
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-540"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      Media secrets (VMs 209/210) are under planned_key_paths in secrets.namespace.policy.yaml, not required_key_paths. Radarr/Sonarr/Jellyfin/Navidrome API keys have no enforcement or rotation governance.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:22Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-533"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/services.health.yaml"
    description: |
      Finance stack (VM 211) has zero API capabilities. Firefly III, Paperless-ngx, Ghostfolio, Mail Archiver all have REST APIs but no spine-level governance beyond HTTP health probes.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:30Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-534"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      iDRAC BMC (Dell R730XD) has zero spine capabilities. No hardware health monitoring (temps, fans, PSU, DIMM), no firmware status. SSH and credentials exist but unused.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:32Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-535"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      Dell N2024P managed switch has zero spine capabilities. No port status, VLAN config, or PoE budget monitoring. SSH target and credentials exist but unused.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:33Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-536"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/services.health.yaml"
    description: |
      Immich (VM 203) has zero dedicated API capabilities and is missing from infra.placement.policy.yaml. Photo library with 135K+ assets has no spine-level API governance.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:35Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-537"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/vm.operating.profile.yaml"
    description: |
      docker-host (VM 200) legacy production has no VM-specific capabilities, no dedicated drift gate, missing from placement policy vm_target_requirements.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:41Z"
    fixed_in: ca53566 — infra-docker-host-status script tracked, cap map wired
  - id: "GAP-OP-538"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      Vaultwarden-home (VM 102) has zero dedicated capabilities, zero drift gates, no home-instance secrets governance. Security-critical password manager with minimal spine visibility.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:44Z"
    fixed_in: ca53566 — VM 102 decommissioned, container stopped, all SSOTs updated
  - id: "GAP-OP-539"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/infra.placement.policy.yaml"
    description: |
      VMs 203 (immich), 212 (mint-data), 213 (mint-apps) missing from infra.placement.policy.yaml hosts and vm_target_requirements. Weakens placement governance contract.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:46Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-532"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/services.health.yaml"
    description: |
      Gitea (VM 206) is the canonical git forge but has zero API capabilities. No repo listing, runner health, user management, or Gitea-specific backup. Only GitHub mirror gates exist.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:12:08Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-541"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/bindings/ha.addons.yaml"
    description: |
      Duplicate HA add-ons running: Overseerr, Lidarr, Sonarr, SABnzbd installed as HA add-ons while native HA integrations already point at VM 209 services (verified: sabnzbd at 192.168.1.209, sonarr at 192.168.1.209). Add-ons waste HA resources and create confusion.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:12:13Z"
    fixed_in: 14468f9
  - id: "GAP-OP-542"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Music Assistant add-on running (v2.7.7) with Navidrome and AirPlay configured, but HA integration config entry not yet created. Only update.music_assistant_update entity exists — no media_player.mass_* entities for automations. Need to add Music Assistant integration via HA UI.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:12:15Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-543"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Nvidia Shield TV at 10.0.0.7 on network but not integrated into HA. Official androidtv integration available. Would enable media control and automations.
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-16T05:12:17Z"
    fixed_in: Deferred — androidtv_remote needs on-screen PIN pairing, manual HA UI setup required
  - id: "GAP-OP-544"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Amazon Echo at 10.0.0.32 on network but not integrated into HA. alexa_media_player HACS integration available. Would enable voice announcements, TTS, and media playback from HA automations.
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-16T05:12:20Z"
    fixed_in: Deferred — alexa_media_player HACS component needs install + Amazon 2FA login in browser
  - id: "GAP-OP-545"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Shop Proxmox (pve at 192.168.1.184) not integrated into HA. 12+ production VMs (202-213) have zero VM-level visibility (CPU/RAM/disk). Only home Beelink (10.0.0.179) is configured. proxmoxve HACS integration already installed — need second config entry.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:12:44Z"
    fixed_in: REST config flow — proxmoxve domain, 192.168.1.184, 12 VMs (200-213), 166 entities
  - id: "GAP-OP-546"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Pi-hole (VM 204 LXC 105) has Uptime Kuma monitor and Proxmox LXC metrics but no Pi-hole-specific stats (queries blocked, cache hit rate, top blocked domains). Official pi_hole HA integration available.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:12:46Z"
    fixed_in: 30a1e94
  - id: "GAP-OP-547"
    discovered_by: "verify-d75-audit-20260216"
    discovered_at: "2026-02-16"
    type: stale-ssot
    doc: "ops/bindings/d75-gap-mutation-policy.yaml"
    description: |
      D75 enforcement_after_sha currently includes commit 46b736b (observability feature commit) that mutated operational.gaps.yaml without required Gap-* trailers, causing persistent D75 failure. Policy baseline must advance past this legacy commit to restore enforced capability-only trailer window.
    severity: medium
    status: fixed
    notes: "D75 policy boundary advanced to 46b736b and validated with spine.verify pass (CAP-20260216-003032__spine.verify__Rsibt91537)."
    parent_loop: "LOOP-VERIFY-D75-D81-RECOVERY-20260216"
    fixed_in: f459033
  - id: "GAP-OP-548"
    discovered_by: "verify-d81-audit-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/observability"
    description: |
      D81 plugin test regression lock fails because observability plugin now has 9 scripts in MANIFEST but no tests/ directory and no exemption entry. Add plugin tests (preferred) or explicit exemption to satisfy gate contract.
    severity: medium
    status: fixed
    notes: "Added observability plugin tests at ops/plugins/observability/tests/observability-smoke-test.sh and validated D81 + full spine.verify pass (CAP-20260216-003032__spine.verify__Rsibt91537)."
    parent_loop: "LOOP-VERIFY-D75-D81-RECOVERY-20260216"
    fixed_in: f459033
  - id: "GAP-OP-549"
    discovered_by: "p0-followup-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      Backup coverage gap: VM 212/213 missing effective vzdump artifact coverage.
    severity: high
    status: fixed
    notes: "VMs 212/213 added to vzdump job. Backup will run at next scheduled time (02:00 daily)."
    parent_loop: "LOOP-P0-BACKUP-RECOVERY-HA-SEMANTICS-20260216"
    fixed_in: b77f4e5
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-550"
    discovered_by: "p0-followup-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      Home Assistant app backup target stale; fix backup path/flow or formally retire target with governance evidence.
    severity: high
    status: fixed
    notes: "app-home-assistant decommissioned. VM-level backup sufficient."
    parent_loop: "LOOP-P0-BACKUP-RECOVERY-HA-SEMANTICS-20260216"
    fixed_in: b77f4e5
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-551"
    discovered_by: "p0-followup-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-service-status"
    description: |
      download-stack has exited containers after power recovery; restore healthy runtime.
    severity: high
    status: fixed
    notes: "Investigated: huntarr, slskd, tdarr, bazarr-dl are intentionally parked/stopped per media.services.yaml status fields. No recovery needed."
    parent_loop: "LOOP-P0-BACKUP-RECOVERY-HA-SEMANTICS-20260216"
    fixed_in: n/a
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-552"
    discovered_by: "p0-followup-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/services/bin/services-health-status"
    description: |
      Monitoring semantics mismatch: services.health.status treats HA 401 as fail while home-health-check treats 401 as healthy.
    severity: high
    status: fixed
    notes: "services-health-status now treats expected 401 as OK. Parity with home-health-check."
    parent_loop: "LOOP-P0-BACKUP-RECOVERY-HA-SEMANTICS-20260216"
    fixed_in: b77f4e5
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-553"
    discovered_by: "codex-session-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/workbench/agents/immich/tools/runtime/worker.sh"
    description: |
      Immich ingest worker chooses next pending year even when an earlier year is blocked, allowing out-of-order advancement and violating oldest-to-newest safety.
    severity: high
    status: fixed
    notes: "Worker now halts when earlier year is blocked/review/running; deployed updated worker.sh to VM203 runtime and workbench authority copy."
    parent_loop: "LOOP-IMMICH-ORIGINAL-INGEST-YEARLY-20260216"
    fixed_in: vm203-runtime-worker-20260216
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-554"
    discovered_by: "terminal-c-reconcile-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/observability/bin/stability-control-snapshot"
    description: |
      Predictive snapshot shows critical disk headroom breach on VM 202 (~0GB free) and VM 203 (~1% free), with VM 211 below 20GB threshold. Incidents persist after service reconcile and require capacity remediation (disk expansion/cleanup) to exit blackhole mode.
    severity: critical
    status: fixed
    notes: "Disk headroom remediated on VM202 and VM203 (202: 61GB free after lvextend; 203: 49GB free after disk resize). VM211 remains watch-level at 17GB under current 20GB threshold."
    fixed_in: runtime-20260216
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-555"
    discovered_by: "terminal-c-reconcile-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/ha/bin"
    description: |
      HA/Z2M incident remains unresolved due HA API reachability/auth path instability from control plane (timeouts/403 path), causing ha.z2m.health to fail even after guided reconcile. Requires canonical HA network/access remediation and validation in stability snapshot.
    severity: high
    status: fixed
    notes: "HA probes now route-aware with direct/fallback path; ha.z2m.health passes from control plane."
    fixed_in: dfccbef
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-556"
    discovered_by: "stability snapshot scoring audit 2026-02-16"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/observability/bin/stability-control-snapshot"
    description: |
      stability.control.snapshot couples global services.health.status FAIL into automation-stack incident and over-promotes warnings, causing false critical domain incidents
    severity: high
    status: fixed
    notes: "Scoped services probe to automation host, downgraded critical warn policy to warn, and added maintenance-mode incident downgrade for cutover domains."
    fixed_in: 355636d
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-559"
    discovered_by: "core-operator"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No microsoft.auth.token capability to acquire Microsoft bearer token from Azure AD client credentials. Microsoft caps require MICROSOFT_ACCESS_TOKEN but no governed mechanism produces it from AZURE_CLIENT_ID/SECRET/TENANT_ID stored in Infisical /spine/platform/security.
    severity: medium
    status: fixed
    notes: "Microsoft capabilities now execute via governed microsoft-cap-exec wrapper (secrets-exec + microsoft-token-exec)."
    fixed_in: "9654e05"
  - id: "GAP-OP-560"
    discovered_by: "core-operator"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Azure AD app registration missing Calendars.ReadWrite application permission. Calendar microsoft caps (create/update/list/get/rsvp) return 403. Mail caps work (Mail.ReadWrite, Mail.Send granted). Operator must add Calendars.ReadWrite in Azure portal and grant admin consent.
    severity: medium
    status: fixed
    notes: "Calendars.ReadWrite confirmed operational; microsoft.calendar.list/create/update succeed via governed wrapper run keys CAP-20260216-114401__microsoft.calendar.list__R8y9j1942 and CAP-20260216-114025__microsoft.calendar.update__Rz1u059806."
    fixed_in: "9654e05"
  - id: "GAP-OP-561"
    discovered_by: "core-operator"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/capabilities.yaml + ops/bindings/capability_map.yaml + workbench agents tools paths"
    description: |
      No canonical enforcement that domain_external capability implementation_repo/implementation_path entries resolve to real files/directories in workbench. This creates manual translator overhead and stale path drift where agents cannot discover or execute domain tools reliably.
    severity: high
    status: fixed
    notes: "Added workbench.impl.audit capability + D126 gate to enforce domain_external implementation_repo/path parity and wired into core/day-to-day verify flow."
    fixed_in: 9f04e66
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-562"
    discovered_by: "core-operator"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/domain.docs.routes.yaml + docs/governance/domains/microsoft"
    description: |
      Microsoft domain had capability-level ownership metadata but no doc-routing layer (no microsoft pointer stubs in docs/governance and no microsoft entries in domain.docs.routes.yaml), creating discovery drift for agents looking for canonical domain docs.
    severity: high
    status: fixed
    notes: "Added microsoft domain docs route entries plus governance source and domain pointer stubs; D122 and D84 now pass."
    fixed_in: 439268b
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-563"
    discovered_by: "codex-session-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/workbench/agents/immich/tools/runtime/worker.sh"
    description: |
      Immich yearly ingest hard-blocks progression on metadata verification failure; policy needs log-only metadata audit so full ingest continues oldest-to-newest without manual intervention.
    severity: high
    status: fixed
    notes: "Removed metadata hard-block in worker; metadata verification now audit/log-only by default (IMMICH_METADATA_GATE_MODE=log_only). Deployed to VM203 and resumed ingest from 2013."
    parent_loop: "LOOP-IMMICH-ORIGINAL-INGEST-YEARLY-20260216"
    fixed_in: vm203-metadata-gate-log-only-20260216
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-564"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      No terminal.role.contract.yaml exists. Terminal roles (SPINE-CONTROL-01, SPINE-AUDIT-01, etc.) have no formal SSOT binding for role names, write scopes, or capability entitlements.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:17Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-d-terminal-contract
  - id: "GAP-OP-565"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No terminal.contract.status capability exists. Operators cannot programmatically check whether a terminal role contract is valid, complete, or stale.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:23Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-d-terminal-contract
  - id: "GAP-OP-566"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "workbench/scripts/root/spine_terminal_entry.sh"
    description: |
      spine_terminal_entry.sh launcher does not support --terminal-name flag. Terminals cannot declare their canonical name at startup for traceability and contract binding.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:30Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-e-terminal-naming
  - id: "GAP-OP-567"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: unclear-doc
    doc: "docs/governance/TERMINAL_C_DAILY_RUNBOOK.md"
    description: |
      Runbooks and agent entry docs do not use canonical terminal names. Terminal naming convention (SPINE-CONTROL-01, SPINE-AUDIT-01, RUNTIME-IMMICH-01, DOMAIN-HA-01, DEPLOY-MINT-01) is informal only.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:36Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-e-terminal-naming
  - id: "GAP-OP-568"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: agent-behavior
    doc: "mailroom/outbox/proposals/"
    description: |
      4 pending proposals in the queue have not been triaged. Proposals CP-20260216-182611, CP-20260216-182657, CP-20260216-190040, CP-20260216-190423 need apply/supersede/defer decisions.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:43Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-f-proposal-triage
  - id: "GAP-OP-569"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: unclear-doc
    doc: "docs/governance/_audits/_artifacts/"
    description: |
      Audit artifacts in docs/governance/_audits/_artifacts/ have no retention or tracking policy. Untracked directory with no gitignore rule or commit policy creates ambiguity about what is authoritative vs ephemeral.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:50Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-f-audit-artifact-policy
  - id: "GAP-OP-570"
    discovered_by: "SPINE-CONTROL-01"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "LOOP-AOF-CANONICAL-RESTORE-20260216"
    description: |
      home.device.registry.yaml uses disallowed keys vmid and notes — latent D129 violation
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:34:18Z"
    fixed_in: LOOP-AOF-CANONICAL-RESTORE-20260216
  - id: "GAP-OP-571"
    discovered_by: "SPINE-AUDIT-01 secrets preflight"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "null"
    description: |
      Secrets canonical drift: deprecated projects (finance-stack, mint-os-vault) + key-name mismatch (FIREFLY_ACCESS_TOKEN vs FIREFLY_PAT, PAPERLESS_SECRET_KEY vs PAPERLESS_API_TOKEN) across spine/workbench/mint-modules
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T02:46:15Z"
    parent_loop: "LOOP-SECRETS-CANONICALIZATION-20260216"
    fixed_in: ca4bba0
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-572"
    discovered_by: "DOMAIN-MEDIA-01 stabilization lane"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-metrics-today"
    description: |
      media.metrics.today fails: Radarr history API responds in 17s per 10-record page (3101 total records). Script uses pageSize=200 with urllib timeout=20s causing TimeoutError. Catch-all except masks real error as 'radarr API parse failed'. Fix: reduce page_size to 10, increase timeout to 60, expose actual exception type in error message.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:43:54Z"
    fixed_in: 857b8b2
  - id: "GAP-OP-573"
    discovered_by: "SPINE-CONTROL-01"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "ops/plugins/secrets/bin/secrets-bundle-apply"
    description: |
      Infisical project-name drift still trips agent secret routing (canonical infrastructure paths vs deprecated finance-stack shadow keys). Need canonical contract-driven resolution + deterministic CLI bundle flow + no yq expression hazards.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:46:30Z"
    parent_loop: "LOOP-SECRETS-AOF-NORMALIZATION-20260216"
    fixed_in: 'secrets-bundle-apply: type=none, env() yq, conditional -H'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-574"
    discovered_by: "DOMAIN-HA-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "ops/bindings/ha.orphan.classification.yaml"
    description: |
      bedroom_empress_bulb misclassified as mobile-app, should be smart-bulb
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:57:17Z"
    fixed_in: 9a6a994
  - id: "GAP-OP-575"
    discovered_by: "DEPLOY-MINT-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "deploy/.env.prod.example"
    description: |
      Infisical secrets not provisioned for shipping, pricing, suppliers modules. Required paths: /spine/services/shipping/, /spine/services/pricing/, /spine/services/suppliers/ with API_KEY and DATABASE_URL per module.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:57:37Z"
    fixed_in: 5ee20ba
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-576"
    discovered_by: "DEPLOY-MINT-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "deploy/docker-compose.prod.yml"
    description: |
      finance-adapter service defined in docker-compose.prod.yml but container not deployed on mint-apps VM. Image needs to be built, transferred, and started.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:57:39Z"
    fixed_in: finance-adapter deployed and healthy on mint-apps VM; 7/7 containers; cert green
  - id: "GAP-OP-577"
    discovered_by: "DEPLOY-MINT-01"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "docs/ARCHITECTURE/MODULE_MIGRATION_RUNNER_CONTRACT.md"
    description: |
      schema_migrations table does not exist in mint-data postgres. Artwork tables created outside migration runner. Need to bootstrap schema_migrations and backfill artwork baseline.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:57:41Z"
    fixed_in: 3ab529e
  - id: "GAP-OP-578"
    discovered_by: "DOMAIN-HA-01"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "ops/bindings/ha.device.map.overrides.yaml"
    description: |
      HA device map false-positive: Empress iPhone name_partial matches bedroom-empress-bulb network device; needs explicit override to prevent rematch drift
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:02:07Z"
    fixed_in: 0c3871e
  - id: "GAP-OP-579"
    discovered_by: "media-agent-parity-pass"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "agents/media/docs/RUNBOOK.md"
    description: |
      Media MCP dual-read fallback preserves Infisical naming drift for 3 keys (SABNZBD, NAVIDROME, JELLYFIN). Cleanup: normalize Infisical to canonical names, remove fallback reads in index.ts, add to secrets.runway.contract.yaml.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:05:56Z"
    fixed_in: "Full cutover complete 2026-02-17: index.ts fallbacks removed, .env.example/RUNBOOK/media-stack.json/secrets_inventory/runway contract canonicalized, Infisical dead alias keys deleted (SABNZBD_REMOTE_API_KEY, NAVIDROME_USER, JELLYFIN_USER), all compose/SSOT refs renamed, media.health.check confirmed OK"
  - id: "GAP-OP-580"
    discovered_by: "DOMAIN-HA-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "ops/bindings/ha.orphan.classification.yaml"
    description: |
      HA registry enrichment batch 1: classify non-device orphans and add physical devices to reduce needs-registry count from 102
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:10:53Z"
    fixed_in: c2b4221
  - id: "GAP-OP-581"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "surfaces/verify/verify-identity.sh"
    description: |
      verify-identity.sh TIER2_HOSTS references destroyed VM 201 (media-stack 100.117.1.53) and TIER3_HOSTS hardcodes HA Tailscale IP 100.67.120.1 (403, GAP-OP-502). Identity verification produces false results.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:15Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'verify-identity.sh: removed destroyed VM 201 (media-stack), replaced with download-stack (209) + streaming-stack (210) in TIER2_HOSTS'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-582"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "ops/bindings/startup.sequencing.yaml"
    description: |
      startup.sequencing.yaml Phase 4 (docker-host) still lists finance and mail-archiver stacks. Both migrated to finance-stack VM 211 on 2026-02-12. Operators following startup sequence target wrong host.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:23Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'startup.sequencing.yaml: moved finance+mail-archiver from docker-host Phase 4 to finance-stack Phase 3'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-583"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      ha.device.map.yaml contains 7 sensor entities for decommissioned VM 102 (vaultwarden). Build script ha.device.map.build does not filter decommissioned VMs from Proxmox device registry. Regenerated 2026-02-17 still includes ghost entities.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:32Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'ha-device-map-build: filter decommissioned devices from name matching + classify vaultwarden 102 as proxmox-subsystem orphan'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-584"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets.namespace.policy.yaml planned_key_paths and key_path_overrides reference VAULTWARDEN_HOME_* under /spine/home/vaultwarden-home (VM 102). VM 102 decommissioned 2026-02-16; vaultwarden now on infra-core VM 204. Namespace paths stale.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:41Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'secrets.namespace.policy.yaml: removed VAULTWARDEN_HOME_* from planned_key_paths and key_path_overrides (VM 102 decommissioned)'
  - id: "GAP-OP-585"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      home.device.registry.yaml line 83 describes proxmox-home as hosting VM 102 (vaultwarden). VM 102 decommissioned 2026-02-16. Description contradicts vm.lifecycle.yaml decommissioned status.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:48Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'home.device.registry.yaml: proxmox-home description updated to reflect VM 102 decommissioned'
  - id: "GAP-OP-586"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/bindings/naming.policy.yaml"
    description: |
      naming.policy.yaml calls shop Immich VM 203 immich-1 (line 248) but ssh.targets.yaml, services.health.yaml, and docker.compose.targets.yaml all use immich. Different canonical name depending on which SSOT is consulted.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:58Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'naming.policy.yaml: shop Immich canonical name immich-1 -> immich (VM 203), home VM 101 -> immich-home, Tailscale suffix exception added'
  - id: "GAP-OP-587"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/bindings/terminal.role.contract.yaml"
    description: |
      terminal.role.contract.yaml assigns docs/governance/ to SPINE-CONTROL-01 and docs/governance/_audits/ to SPINE-AUDIT-01, but docs/core/, docs/product/, and docs/brain/ have no terminal owner. Any terminal can write with no accountability.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:14:06Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'terminal.role.contract.yaml: added docs/core/, docs/product/, docs/brain/ to SPINE-CONTROL-01 write_scope; synced AGENTS.md, CLAUDE.md, TERMINAL_C_DAILY_RUNBOOK.md tables'
  - id: "GAP-OP-588"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: unclear-doc
    doc: "ops/bindings/terminal.role.contract.yaml"
    description: |
      fixtures/, .archive/, and .planning/ directories exist but no terminal role claims ownership. Not documented in excluded surfaces. Housekeeping normalization debt.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:14:15Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'terminal.role.contract.yaml: added excluded_surfaces section for fixtures/, .archive/, .planning/; EXCLUDED_SURFACES.md updated with rationale'
  - id: "GAP-OP-590"
    discovered_by: "DEPLOY-MINT-01"
    type: runtime-bug
    doc: "docs/governance/_audits"
    description: |
      Mint deploy 24h burn-in evidence after GAP-OP-575/576/577 closure (finance-adapter + 7/7 running).
      Hygiene sweep status: linked to LOOP-WORKBENCH-AOF-HARDENING-V2-20260217 and kept open pending T+24 checkpoint with green runtime; latest signal CAP-20260217-105158__mint.deploy.status__Robnx61211 reported DEGRADED (7/8).
    severity: low
    status: fixed
    parent_loop: "LOOP-WORKBENCH-AOF-HARDENING-V2-20260217"
    fixed_in: mint 7/7 GREEN, finance-adapter 24h healthy, CAP-20260217-231856
  - id: "GAP-OP-591"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P0-01 Register extraction work items as governed gaps/loop tasks before mutation. Wave-1 registration baseline for runtime authority execution.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T13:22:45Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P0 wave tracking complete; see P0 closeout audit.
  - id: "GAP-OP-592"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P0-02 Capture runtime baseline and route verify lanes (snapshot/core/domain) before runtime-authority mutation.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T13:22:46Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: Runtime baseline + verify routing captured with run keys in P0 closeout audit.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-593"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "workbench/infra/data/CONTAINER_INVENTORY.yaml"
    description: |
      P0-03 Reconcile VM inventory parity to spine canonical truth; remove decommissioned VMs and add missing active VMs.
    severity: high
    status: fixed
    notes: "Batch A: CONTAINER_INVENTORY parity aligned with vm.lifecycle; decommissioned VM 201/102 removed; missing active pve VMs added; location normalized to pve."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:1189aa1 spine:4d8b02f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-594"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "workbench/dotfiles/ssh/config.d/tailscale.conf"
    description: |
      P0-04 Reconcile SSH target inventory parity to spine canonical truth, including immich user alignment.
    severity: high
    status: fixed
    notes: "Batch A: workbench tailscale SSH inventory aligned to spine ssh.targets; missing hosts added, stale vault removed, immich user corrected to ronny."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:1189aa1 spine:4d8b02f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-595"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "workbench/infra/compose/media-stack/docker-compose.yml"
    description: |
      P0-05 Extract active media compose authority from legacy into workbench canonical compose surface.
    severity: high
    status: fixed
    notes: "Batch B: media compose authority extracted to workbench/infra/compose/media-stack/docker-compose.yml from legacy read-only source and normalized to AOF compose contract."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:a3c2f68
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-596"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "workbench/infra/compose/finance/docker-compose.yml"
    description: |
      P0-06 Extract active finance compose authority (core plus mail-archiver) into workbench canonical compose surface.
    severity: high
    status: fixed
    notes: "Batch B: finance compose authority extracted to workbench/infra/compose/finance/docker-compose.yml and workbench/infra/compose/finance/mail-archiver/docker-compose.yml, normalized to AOF compose contract."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:a3c2f68
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-597"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "workbench/infra/compose/monitoring/docker-compose.yml"
    description: |
      P0-07 Reconcile additional active runtime compose gaps (monitoring and pihole) to eliminate legacy-only authority.
    severity: high
    status: fixed
    notes: "Batch B: monitoring and pihole compose authorities extracted to workbench canonical surfaces and normalized; invalid cross-project depends_on removed in monitoring exporters for compose validity."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:a3c2f68
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-598"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/bindings/"
    description: |
      P0-08 Merge service registry and runtime inventory deltas from legacy into canonical bindings/data to remove split truth.
    severity: high
    status: fixed
    notes: "Batch A: runtime/service inventory authority clarified and reconciled; workbench observed inventory now references spine canonical bindings/registry; legacy split-truth collapsed."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:1189aa1 spine:4d8b02f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-599"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "/Users/ronnyworks/.zshrc"
    description: |
      P0-09 Resolve active shell/runtime legacy root reference (LEGACY_ROOT) so runtime no longer depends on ronny-ops path.
    severity: high
    status: fixed
    notes: |
      Filed via gaps.file at 2026-02-17T13:22:55Z.
      Batch A partial (2026-02-17): source-of-truth compatibility flow was
      updated in workbench dotfiles, but live shell profile still contains:
      /Users/ronnyworks/.zshrc -> export LEGACY_ROOT="/Users/ronnyworks/ronny-ops"
      Keep open until runtime profile is remediated in final P0 wrap.
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: Removed active LEGACY_ROOT export from ~/.zshrc; compatibility handled via workbench compat shim.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-600"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/tools/infisical-agent.sh"
    description: |
      P0-10 Canonicalize infisical-agent usage to spine-governed implementation and remove legacy authority drift.
    severity: high
    status: fixed
    notes: "Batch A: canonical infisical-agent authority moved to spine ops/tools; workbench script converted to executable shim delegating to spine; secrets.cli.status pass."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:1189aa1 spine:4d8b02f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-601"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "/Users/ronnyworks/ronny-ops/infrastructure/cloudflare/tunnel/docker-compose.yml"
    description: |
      P0-11 Mark legacy cloudflare and old runtime copies non-authoritative to prevent stale deployment/routing regressions.
    severity: high
    status: fixed
    notes: "Batch A: legacy cloudflare runtime copy explicitly marked non-authoritative in active compose authority and cloudflare docs; live host reference corrected to infra-core."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:1189aa1 spine:4d8b02f
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-602"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P0-12 Run post-P0 verification and receipt closeout so runtime authority wave has deterministic certification evidence.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T13:23:00Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: Post-P0 verification and receipt closeout completed; see P0 closeout audit.
  - id: "GAP-OP-603"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-01 Extract HA dashboard brand/pattern authority into workbench maintained doc surface.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:27Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-01 extracted to HA_DASHBOARD_BRAND.md
  - id: "GAP-OP-604"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-02 Extract HA device registry with verified device/integration metadata into active docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:32Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-02 extracted to HA_DEVICE_REGISTRY.md
  - id: "GAP-OP-605"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-03 Extract HA incident runbooks (Zigbee, CalDAV, WoL) into recovery-ready authority docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:37Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-03 extracted to HA_RUNBOOKS.md
  - id: "GAP-OP-606"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-04 Extract HA CLI cookbook and deployment/resync/network/streamdeck deltas into current docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:42Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-04 extracted to HA_CLI_PATTERNS.md
  - id: "GAP-OP-607"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-05 Extract media pipeline architecture and Tdarr safety runbook into maintained media docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:47Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-05 extracted to MEDIA_PIPELINE_ARCHITECTURE.md + MEDIA_TDARR_RUNBOOK.md
  - id: "GAP-OP-608"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-06 Merge media recovery order, critical rules delta, download architecture, and Navidrome integration into authority docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:52Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-06 merged into media authority docs
  - id: "GAP-OP-609"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-07 Extract finance account topology and category mapping authority into workbench docs/brain-lessons/FINANCE_ACCOUNT_TOPOLOGY.md with account IDs, mapping logic, and vendor/tax coverage.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:27Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-07 finance topology/category authority extracted
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-610"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-08 Extract finance import configs, receipt SOP, and Firefly-Mint sync runbook into finance brain-lessons docs (FINANCE_IMPORT_CONFIGS.md, FINANCE_RECEIPT_SCANNING.md, FINANCE_MINT_SYNC.md).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:28Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-08 finance import/receipt/sync runbooks extracted
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-611"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/L3_DOMAIN_DOCS_DIFF.md"
    description: |
      P1-09 Merge finance partial deltas for SimpleFIN UUID mapping and troubleshooting edge cases into existing finance authority docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:29Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-09 SimpleFIN/troubleshooting deltas merged
  - id: "GAP-OP-612"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/L3_DOMAIN_DOCS_DIFF.md"
    description: |
      P1-10 Extract infra governance debt (Cloudflare governance, incidents log, service update tiers) into maintained workbench authority docs.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:30Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-10 infra governance authority extracted
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-613"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-11 Extract MCPJungle recovery and n8n operational documentation debt into active authority documentation surfaces.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:32Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-11 MCPJungle+n8n ops authority extracted
  - id: "GAP-OP-614"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/L3_DOMAIN_DOCS_DIFF.md"
    description: |
      P1-12 Extract Immich import rules, migration context, and install deltas into maintained Immich brain-lessons docs.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:33Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-12 Immich import/context/install deltas extracted
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-615"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2B"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-13 Extract Dakota embroidery inventory/business asset authority into workbench docs/brain-lessons/EMBROIDERY_LIBRARY.md.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:13:45Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-13 extracted to workbench/docs/brain-lessons/EMBROIDERY_LIBRARY.md
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-616"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2B"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-14 Extract missing operational script/config bundles into workbench infra/scripts and compose script surfaces, or publish explicit parity/deprecation manifest.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:13:47Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-14 script bundles migrated/deprecated with explicit replacement manifest in workbench/docs/infrastructure/LEGACY_SCRIPT_BUNDLE_PARITY_20260217.md
  - id: "GAP-OP-617"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2B"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/L3_DOMAIN_DOCS_DIFF.md"
    description: |
      P1-15 Reconcile governance parity deltas for backup/reboot/SSOT registry into spine governance and bindings with explicit accept/reject notes.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:13:48Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-15 governance parity deltas reconciled in docs/governance and ops/bindings with accept/reject notes
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-618"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2B"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/L1_LEGACY_CENSUS.md"
    description: |
      P1-16 Merge legacy session memory learnings into docs/brain/memory.md as concise actionable de-duplicated guidance.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:13:49Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-16 merged legacy operational learnings into docs/brain/memory.md
  - id: "GAP-OP-619"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2B"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-17 Run domain-scoped verification for touched domains and record extraction impact note evidence for Wave-2B.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:13:51Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-17 domain-scoped verify lanes executed and impact captured in P1_WAVE2B_IMPACT_20260217.md
  - id: "GAP-OP-620"
    discovered_by: "EXTRACTION_BACKLOG.md P2-01"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-01 archive legacy mint-os application source history into governed retirement archive with checksums and replacement authority mapping.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:33:52Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-01 archived ronny-ops/mint-os to workbench/archive/ronny-ops-retirement-20260217 with checksum manifest
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-621"
    discovered_by: "EXTRACTION_BACKLOG.md P2-02"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-02 archive legacy modules/files-api surface as superseded extraction artifact with checksum and archive manifest entry.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:33:58Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-02 archived ronny-ops/modules/files-api with checksum and archive index trace
  - id: "GAP-OP-622"
    discovered_by: "EXTRACTION_BACKLOG.md P2-03"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-03 retire superseded legacy control surfaces (.agent/.claude/.opencode and deprecated root docs) to governed archive with replacement authority mapping.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:34:06Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-03 superseded control surfaces archived with explicit authority replacements
  - id: "GAP-OP-623"
    discovered_by: "EXTRACTION_BACKLOG.md P2-04"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-04 retire stale legacy archive surfaces (.archive/*) to governed retirement archive with retention policy note and extraction coverage trace.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:34:13Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-04 stale legacy .archive surfaces archived with retention note
  - id: "GAP-OP-624"
    discovered_by: "EXTRACTION_BACKLOG.md P2-05"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-05 retire stale legacy runtime snapshots and deprecated compose/proxmox audit leftovers to governed archive with active replacement mapping.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:34:19Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-05 legacy runtime snapshots and old compose/proxmox audit leftovers archived with replacement mapping
  - id: "GAP-OP-625"
    discovered_by: "EXTRACTION_BACKLOG.md P2-06"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-06 final legacy retirement certification: prove no active runtime authority remains in ronny-ops and active authority is spine/workbench.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:34:26Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-06 retirement certification complete; no active runtime authority remains in ronny-ops (see RONNY_OPS_RETIREMENT_CERT_20260217.md)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-626"
    discovered_by: "SPINE-CONTROL-01 proposals.apply end-to-end audit"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "surfaces/verify/d61-session-loop-traceability-lock.sh"
    description: |
      D61 closeout freshness gate checks only mailroom/state/ledger.csv and ignores valid agent.session.closeout receipts, causing false P0 blocking in proposals.apply admission verify.domain.run loop_gap.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T16:59:22Z"
    parent_loop: "LOOP-WORKBENCH-AOF-HARDENING-V2-20260217"
    fixed_in: D61 closeout freshness now uses ledger rows or receipts fallback; added regression test in surfaces/verify/tests/d61-session-loop-traceability-lock-test.sh
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-627"
    discovered_by: "SPINE-CONTROL-01 architecture review"
    discovered_at: "2026-02-17"
    type: agent-behavior
    doc: "docs/product/AOF_PRODUCT_CONTRACT.md"
    description: |
      Surface sync sprawl: governance brief embedded in 3 files via sync hooks, MCP servers configured independently per-surface (4 locations), agent contracts are prose-only (not machine-queryable), slash commands synced by shell script to 3 targets. Every governance update or new agent onboard requires N manual touch-points across surfaces. AOF v1.0 lacks dynamic context delivery and a unified MCP gateway.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T17:25:46Z"
    parent_loop: "LOOP-AOF-V1-1-SURFACE-UNIFICATION-20260217"
    fixed_in: 'Design proposal approved: docs/product/AOF_V1_1_SURFACE_UNIFICATION.md; closeout cert: docs/governance/_audits/AOF_V1_1_SURFACE_UNIFICATION_CERT_20260217.md'
  - id: "GAP-OP-628"
    discovered_by: "SPINE-CONTROL-01 route-integrity-ratchet audit"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "ops/plugins/verify/bin/verify-topology"
    description: |
      verify.route.recommend can emit empty recommended_domains and loop_gap path triggers omit proposals surfaces, allowing proposal admission to skip loop_gap governance checks unless matching tracked paths.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T17:27:03Z"
    parent_loop: "LOOP-ROUTE-INTEGRITY-RATCHET-20260217"
    fixed_in: 83cf993 route-integrity ratchet landed; verify-topology routing and D128 provenance validated.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-629"
    discovered_by: "supplier-sync-step1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_SUPPLIER_SYNC_CONTRACT_V1.md"
    description: |
      Supplier Sync v1 runtime slice missing in mint-modules (sync run endpoint, idempotent replay, failure classification).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T18:10:06Z"
    parent_loop: "LOOP-MINT-SUPPLIER-SYNC-IMPLEMENT-V1-20260217"
    fixed_in: Supplier sync step1 implemented; idempotent replay validated; tests/build/checkers pass.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-630"
    discovered_by: "job-estimator-step1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md"
    description: |
      Job Estimator v1 runtime slice missing in mint-modules (deterministic quote pipeline, schema, tests).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T18:54:19Z"
    parent_loop: "LOOP-MINT-JOB-ESTIMATOR-IMPLEMENT-V1-20260217"
    fixed_in: Job Estimator step1 implemented with deterministic pricing and passing cert.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-631"
    discovered_by: "supplier-sync-step2"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_SUPPLIER_SYNC_CONTRACT_V1.md"
    description: |
      Supplier Sync v2 runtime slice missing in mint-modules (canonical entities, evidence metadata, retry/dead-letter semantics).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T19:36:02Z"
    parent_loop: "LOOP-MINT-SUPPLIER-SYNC-IMPLEMENT-V2-20260217"
    fixed_in: Supplier Sync step2 implemented with entity coverage, evidence metadata, dead-letter semantics, and passing cert.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-632"
    discovered_by: "job-estimator-step2"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md"
    description: |
      Job Estimator v2 runtime slice missing in mint-modules (canonical evidence fields, failure-policy classifications, deterministic replay parity).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T19:40:42Z"
    parent_loop: "LOOP-MINT-JOB-ESTIMATOR-IMPLEMENT-V2-20260217"
    fixed_in: Job Estimator step2 implemented with canonical evidence fields, failure-policy classifications, and passing cert.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-633"
    discovered_by: "supplier-sync-step3"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_SUPPLIER_SYNC_ACCEPTANCE_V1.md"
    description: |
      Supplier Sync Step 3 integration hardening missing in mint-modules (handoff payload + burn-in readiness surfaces).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T19:52:05Z"
    parent_loop: "LOOP-MINT-SUPPLIER-SYNC-IMPLEMENT-V3-20260217"
    fixed_in: Supplier Sync Step 3 implemented with integration handoff payload, burn-in readiness endpoint, and passing tests/build/checkers.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-634"
    discovered_by: "job-estimator-step3"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md"
    description: |
      Job Estimator Step 3 integration hardening missing in mint-modules (cross-module evidence, burn-in readiness, deterministic source precedence traceability).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T19:58:04Z"
    parent_loop: "LOOP-MINT-JOB-ESTIMATOR-IMPLEMENT-V3-20260217"
    fixed_in: Job Estimator Step 3 implemented with integration handoff, burn-in readiness status, and passing pricing tests/build/checkers.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-635"
    discovered_by: "mint-step4-burnin"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/MINT_IMPLEMENT_BURNIN_24H_20260217.md"
    description: |
      Mint V1 implementation burn-in 24h sustained stability tracking pending T+8h/T+24h checkpoints before closure.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T20:10:59Z"
    parent_loop: "LOOP-MINT-IMPLEMENT-BURNIN-24H-20260217"
    fixed_in: CAP-20260218-143317__mint.modules.health__Rwe6u40828,CAP-20260218-143323__mint.deploy.status__Rc3k841120,CAP-20260218-143331__verify.core.run__R4sek41378,CAP-20260218-143413__verify.domain.run__Rxvy054870
  - id: "GAP-OP-636"
    discovered_by: "SPINE-AUDIT-01 rolldown registration"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/product/AOF_V1_1_SURFACE_UNIFICATION.md"
    description: |
      No unified MCP gateway exists. Each surface (Claude Code, Claude Desktop, OpenCode, Mailroom Bridge) requires independent MCP server configuration. New agent tools require N manual config touch-points. Design: docs/product/AOF_V1_1_SURFACE_UNIFICATION.md Move 1.
    severity: high
    status: fixed
    notes: "Validated by CAP-20260217-164114__verify.core.run__Ruv1z11367, CAP-20260217-164153__verify.domain.run__Rog9l23739, CAP-20260217-164213__verify.vertical_integration.parity_status__R4k7k30109"
    parent_loop: "LOOP-SPINE-MCP-GATEWAY-V1-20260217"
    fixed_in: 'LOOP-SPINE-MCP-GATEWAY-V1-20260217: unified MCP gateway via spine.mcp.serve and ./bin/ops mcp serve'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-637"
    discovered_by: "SPINE-AUDIT-01 rolldown registration"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "ops/bindings/agents.registry.yaml"
    description: |
      Agent registry lacks machine-queryable fields (mcp_tools, capabilities, write_scope, endpoints). No agent.info or agent.tools capability exists. Agents cannot programmatically discover what tools another agent provides. Design: docs/product/AOF_V1_1_SURFACE_UNIFICATION.md Move 2.
    severity: medium
    status: fixed
    notes: "Validated by CAP-20260217-165930__verify.core.run__Rurej9067, CAP-20260217-170016__verify.domain.run__R7fj721529, CAP-20260217-170035__verify.vertical_integration.parity_status__R3su827924; acceptance checks CAP-20260217-165749__agent.info__Ru7qf89019 and CAP-20260217-165749__agent.tools__R8j1r89020"
    parent_loop: "LOOP-AGENT-REGISTRY-SCHEMA-V2-20260217"
    fixed_in: 'LOOP-AGENT-REGISTRY-SCHEMA-V2-20260217: registry schema extended + agent.info/agent.tools capabilities'
  - id: "GAP-OP-638"
    discovered_by: "SPINE-AUDIT-01 rolldown registration"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/AGENT_GOVERNANCE_BRIEF.md"
    description: |
      No dynamic context delivery capability. Governance brief is statically embedded in AGENTS.md, CLAUDE.md, OPENCODE.md via sync hooks. Every edit requires sync-agent-surfaces.sh + D65 parity verification. No spine.context cap exists. Design: docs/product/AOF_V1_1_SURFACE_UNIFICATION.md Move 3.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T20:51:30Z"
    parent_loop: "LOOP-DYNAMIC-CONTEXT-DELIVERY-V1-20260217"
    fixed_in: spine.context capability (ops/plugins/context/bin/spine-context) + session-entry-hook refactor
  - id: "GAP-OP-639"
    discovered_by: "SPINE-AUDIT-01 rolldown registration"
    discovered_at: "2026-02-17"
    type: agent-behavior
    doc: "ops/hooks/sync-agent-surfaces.sh"
    description: |
      Sync scripts (sync-agent-surfaces.sh, sync-slash-commands.sh) and per-surface MCP configs (.mcp.json) remain active despite being superseded by the approved surface unification design. Retirement blocked until Moves 1-3 are complete. Design: docs/product/AOF_V1_1_SURFACE_UNIFICATION.md WS-5.
    severity: medium
    status: fixed
    notes: |-
      Validated by CAP-20260217-174118__verify.core.run__R2ytc70860, CAP-20260217-174205__verify.domain.run__R7zsk83342, CAP-20260217-174225__verify.vertical_integration.parity_status__Rhn0o89752
    parent_loop: "LOOP-SYNC-ARTIFACT-RETIREMENT-V1-20260217"
    fixed_in: 'LOOP-SYNC-ARTIFACT-RETIREMENT-V1-20260217: retired sync hook dependency + D56/D65 dynamic-context enforcement'
  - id: "GAP-OP-640"
    discovered_by: "SPINE-CONTROL-01"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "null"
    description: |
      Missing automatic vertical-integration admission/parity enforcement allows implemented mint-modules pricing/suppliers changes to ship without required runtime, MCP, health, and docs exposure checks.
    severity: high
    status: fixed
    notes: "Closed after green parity recert (overall PASS) with runtime source alignment + MCP pricing/suppliers exposure markers."
    parent_loop: "LOOP-VERTICAL-INTEGRATION-AUTOMATION-V1-20260217"
    fixed_in: CAP-20260217-162706__verify.vertical_integration.parity_status__Rbcc757531
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-641"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/FINANCE_OPS_RHYTHM_PLAN_20260217.md"
    description: |
      Finance rhythm missing tax MCP tools for 1099 and DR-15 workflows.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T22:57:03Z"
    parent_loop: "LOOP-FINANCE-OPS-RHYTHM-V1-20260217"
    fixed_in: Implemented tax_1099_summary and sales_tax_dr15 MCP tools in workbench/agents/finance/tools/src/index.ts. Updated TOOL_SURFACE.md and tax-prep.md playbook.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-642"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/FINANCE_OPS_RHYTHM_PLAN_20260217.md"
    description: |
      Finance rhythm missing compliance cadence contract for monthly/quarterly filing obligations.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T22:57:07Z"
    parent_loop: "LOOP-FINANCE-OPS-RHYTHM-V1-20260217"
    fixed_in: Created FINANCE_COMPLIANCE_CADENCE_CONTRACT.md in workbench/agents/finance/docs/ defining monthly/quarterly/annual cadence with deadline calendars, agent-vs-Ronny split, and evidence storage locations. Updated INDEX.md and tax-prep.md.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-643"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/FINANCE_OPS_RHYTHM_PLAN_20260217.md"
    description: |
      Finance transaction pipeline contract is ambiguous or absent across ingest, classify, and ledger posting stages.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T22:57:12Z"
    parent_loop: "LOOP-FINANCE-OPS-RHYTHM-V1-20260217"
    fixed_in: 'Implemented finance_transaction_pipeline_status MCP tool and FINANCE_TRANSACTION_PIPELINE_CONTRACT.md. Tool returns structured status (healthy/degraded/empty) with blockers. Runtime evidence: 880 total txns, latest Jan 17, pipeline empty for last 30 days — tool correctly surfaces this.'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-644"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/FINANCE_OPS_RHYTHM_PLAN_20260217.md"
    description: |
      Finance rhythm missing Ronny action queue output contract for deterministic operator task handoff.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T22:57:16Z"
    parent_loop: "LOOP-FINANCE-OPS-RHYTHM-V1-20260217"
    fixed_in: Implemented finance_ronny_action_queue MCP tool and FINANCE_RONNY_ACTION_QUEUE_CONTRACT.md. Tool produces deterministic operator handoff with task_id, due_at, instructions, evidence_required, status, blocker_reason. Cascade logic blocks data-dependent tasks when pipeline is empty.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-645"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/FINANCE_OPS_RHYTHM_PLAN_20260217.md"
    description: |
      Finance rhythm missing filing packet contract defining canonical bundle contents and output format.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T22:57:20Z"
    parent_loop: "LOOP-FINANCE-OPS-RHYTHM-V1-20260217"
    fixed_in: finance_filing_packet MCP tool + FINANCE_FILING_PACKET_CONTRACT.md (LOOP-FINANCE-OPS-RHYTHM-V1-20260217)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-646"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/PROXMOX_NETWORK_ALIGNMENT_WAVE1_PLAN_20260217.md"
    description: |
      Infra capabilities missing explicit plane/domain/requires metadata for infra.proxmox* and infra.post_power* surfaces.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:08:31Z"
    parent_loop: "LOOP-INFRA-CAP-METADATA-POLICY-V1-20260217"
    fixed_in: 'ops/capabilities.yaml: added plane:fabric, domain:infra, requires: preconditions to 6 infra.proxmox/post_power capabilities'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-647"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/PROXMOX_NETWORK_ALIGNMENT_WAVE1_PLAN_20260217.md"
    description: |
      Infra scripts missing resolve-policy integration for governed policy knob resolution.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:11:17Z"
    parent_loop: "LOOP-INFRA-CAP-METADATA-POLICY-V1-20260217"
    fixed_in: 'infra-proxmox-maintenance + infra-post-power-recovery + infra-proxmox-node-path-migrate: source resolve-policy.sh, emit policy banner, wire RESOLVED_DRIFT_GATE_MODE into OOB guard'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-648"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/PROXMOX_NETWORK_ALIGNMENT_WAVE1_PLAN_20260217.md"
    description: |
      Missing home-specific maintenance ordering and composite maintenance window capability for coordinated operations.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:11:22Z"
    parent_loop: "LOOP-HOME-SHOP-MAINTENANCE-PARITY-V1-20260217"
    fixed_in: startup.sequencing.yaml v2 (home site phases + site tags) + infra-maintenance-window composite orchestrator + infra.maintenance.window capability registered
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-649"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/PROXMOX_NETWORK_ALIGNMENT_WAVE1_PLAN_20260217.md"
    description: |
      Missing proxmox-network domain profile and dedicated verify lane registration.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:11:26Z"
    parent_loop: "LOOP-PROXMOX-NETWORK-DOMAIN-LANE-V1-20260217"
    fixed_in: 'gate.domain.profiles.yaml + gate.execution.topology.yaml: proxmox-network composite domain profile + topology metadata + release_sequence entry'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-650"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/PROXMOX_NETWORK_ALIGNMENT_WAVE1_PLAN_20260217.md"
    description: |
      Missing drift-gate coverage for infra metadata, site parity, and NAS baseline (D137/D138/D139 style).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:11:30Z"
    parent_loop: "LOOP-NAS-VISIBILITY-CAPABILITIES-V1-20260217"
    fixed_in: D137/D138/D139 gate scripts + registry + topology + domain profiles (08bcbdb)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-651"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/HA_ORGANIZATION_V1_PLAN_20260217.md"
    description: |
      HA area assignment and device naming normalization drift blocks consistent topology ownership across rooms and entities.
    severity: high
    status: fixed
    notes: "Blockers: Winix area placement unresolved; Firestick vs Apple TV identity unresolved; Laundry area assignment unresolved."
    parent_loop: "LOOP-HA-AREA-NAMING-BATCH-V1-20260217"
    fixed_in: 'WS1 execution: 14/14 mutations (4 area moves + 12 renames), Core-8 8/8 PASS, Home domain 13/13 PASS, ha.status green'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-652"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/HA_ORGANIZATION_V1_PLAN_20260217.md"
    description: |
      HA DHCP/IP normalization and home.dhcp.audit population drift prevent authoritative seed-to-real-data parity.
    severity: high
    status: fixed
    notes: "Blockers: formalizing IP range 70-89 policy unresolved; home.dhcp.audit seed vs runtime source-of-truth unresolved."
    parent_loop: "LOOP-HA-IP-NORMALIZATION-V1-20260217"
    fixed_in: 'WS2 IP/DHCP normalization contract: range 70-89 formalized, home.dhcp.audit populated (33 devices/41 clients), 14 missing UDR reservations documented as external blockers'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-653"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/HA_ORGANIZATION_V1_PLAN_20260217.md"
    description: |
      Missing HA schema artifacts for naming conventions and environment contracts (ha.naming.convention.yaml and ha.environments.yaml).
    severity: high
    status: fixed
    notes: "Blockers: schema boundary decisions pending for ha.naming.convention.yaml and ha.environments.yaml; environment naming normalization policy unresolved."
    parent_loop: "LOOP-HA-SCHEMA-ENVIRONMENTS-V1-20260217"
    fixed_in: ha.naming.convention.yaml + ha.environments.yaml canonical WS3 contracts
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-654"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: unclear-doc
    doc: "docs/governance/_audits/HA_ORGANIZATION_V1_PLAN_20260217.md"
    description: |
      HACS pseudo-device clutter and orphan classification hygiene are not codified for HA governance triage.
    severity: low
    status: fixed
    notes: "Blockers: HACS pseudo-device handling policy unresolved; orphan classification and retention policy unresolved."
    parent_loop: "LOOP-HA-AREA-NAMING-BATCH-V1-20260217"
    fixed_in: ha.orphan.classification.yaml canonical triage contract v1.1 + HA_ORGANIZATION_V1_PLAN WS4 evidence
  - id: "GAP-OP-655"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/HA_IDENTITY_MUTATION_CONTRACT_V1_PLAN_20260217.md"
    description: |
      Missing canonical HA identity and mutation contract for agent-driven, YAML-first, capability-only execution path.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:52:44Z"
    parent_loop: "LOOP-HA-IDENTITY-MUTATION-CONTRACT-V1-20260217"
    fixed_in: HA identity/mutation contract V1 + status checker capability (ha.identity.mutation.contract.status)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-656"
    discovered_by: "agent-session"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "docs/governance/_audits/WORKTREE_SESSION_ISOLATION_V1_PLAN_20260218.md"
    description: |
      Missing enforced worktree/session isolation controls for multi-terminal operation allows cross-terminal branch switching and dirty-tree bleed.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T00:49:17Z"
    parent_loop: "LOOP-WORKTREE-SESSION-ISOLATION-V1-20260218"
    fixed_in: 'LOOP-WORKTREE-SESSION-ISOLATION-V1-20260218: D140 worktree/session isolation contract + preflight/session-entry enforcement'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-657"
    discovered_by: "DOMAIN-WRITER-01"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "LOOP-LANE-STANDARD-RUNNER-V1-20260218"
    description: |
      No one-command ceremony runner capability exists. Agents repeat the same 6-step manual sequence (snapshot, core verify, domain verify, proposals.status, gaps.status, loops.status) on every lane, creating ceremony tax and error risk.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T03:00:57Z"
    parent_loop: "LOOP-LANE-STANDARD-RUNNER-V1-20260218"
    fixed_in: lane.standard.run capability implemented (commit pending)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-658"
    discovered_by: "loop-spine-graph-timeline-v1-plan-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-GRAPH-TIMELINE-V1-20260218.scope.md"
    description: |
      Formal execution graph SSOT and schema surfaces are missing; no canonical spine graph contract exists for session->capability->loop/gap/proposal/handoff/orchestration relationships.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T06:02:51Z"
    parent_loop: "LOOP-SPINE-GRAPH-TIMELINE-V1-20260218"
    fixed_in: 4e5f178
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-659"
    discovered_by: "loop-spine-graph-timeline-v1-plan-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-GRAPH-TIMELINE-V1-20260218.scope.md"
    description: |
      Cross-session timeline query/report capability surfaces are missing, including runtime-aware path resolution boundaries and deterministic timeline artifact generation for Spine core events.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T06:02:57Z"
    parent_loop: "LOOP-SPINE-GRAPH-TIMELINE-V1-20260218"
    fixed_in: 4e5f178
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-660"
    discovered_by: "next-best-steps-leverage-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-MCP-GATEWAY-IMPLEMENT-V1-20260218.scope.md"
    description: |
      Unified spine MCP gateway implementation remains unbuilt (scope-registered prior loop closed without delivery): missing production-ready gateway server integration, tool discovery delegation path, and verification/docs completion for Move 1.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T19:37:16Z"
    parent_loop: "LOOP-SPINE-MCP-GATEWAY-IMPLEMENT-V1-20260218"
    fixed_in: 82de48a, CAP-20260218-144832__verify.core.run__Rw8ng4474, CAP-20260218-144920__verify.domain.run__R8u7e21882
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-661"
    discovered_by: "next-best-steps-leverage-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-AGENT-REGISTRY-SCHEMA-V2-IMPLEMENT-20260218.scope.md"
    description: |
      Queryable Agent Registry V2 implementation remains unbuilt (scope-registered prior loop closed without delivery): missing machine-queryable registry contract fields and agent.info/agent.tools capability surfaces.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T19:37:21Z"
    parent_loop: "LOOP-AGENT-REGISTRY-SCHEMA-V2-IMPLEMENT-20260218"
    fixed_in: 82de48a, CAP-20260218-144750__agent.info__Rnqzj98147, CAP-20260218-144751__agent.tools__Rmm4j98394
  - id: "GAP-OP-662"
    discovered_by: "operator-roadmap-20260218"
    discovered_at: "2026-02-18"
    type: duplicate-truth
    doc: "mailroom/state/loop-scopes/LOOP-AOF-SURFACE-CONSUMER-CUTOVER-V1-20260218.scope.md"
    description: |
      Consumer surfaces still use mixed non-gateway and gateway paths; require canonical gateway-first MCP cutover.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T19:53:36Z"
    parent_loop: "LOOP-AOF-SURFACE-CONSUMER-CUTOVER-V1-20260218"
    fixed_in: 73626f7,CAP-20260218-150529__verify.core.run__Riom886574,CAP-20260218-150614__verify.pack.run__Rtfmh1900
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-663"
    discovered_by: "operator-roadmap-20260218"
    discovered_at: "2026-02-18"
    type: stale-ssot
    doc: "mailroom/state/loop-scopes/LOOP-AOF-RUNTIME-CONTRACT-DOC-RECONCILE-V1-20260218.scope.md"
    description: |
      Runtime-contract docs and audit claims are stale versus canonical implemented surfaces and need reconciliation.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T19:53:41Z"
    parent_loop: "LOOP-AOF-RUNTIME-CONTRACT-DOC-RECONCILE-V1-20260218"
    fixed_in: 88f4f63,CAP-20260218-150928__verify.core.run__R4bxn12197,CAP-20260218-151014__verify.pack.run__Ronln27317
  - id: "GAP-OP-664"
    discovered_by: "operator-roadmap-20260218"
    discovered_at: "2026-02-18"
    type: agent-behavior
    doc: "mailroom/state/loop-scopes/LOOP-AOF-GATE-CHECK-POLICY-AUTOTUNE-WEEKLY-V1-20260218.scope.md"
    description: |
      Gate/check policy does not self-tune weekly with growth, causing governance soak and execution friction.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T19:53:45Z"
    parent_loop: "LOOP-AOF-GATE-CHECK-POLICY-AUTOTUNE-WEEKLY-V1-20260218"
    fixed_in: fcaa5c1,CAP-20260218-151327__aof.policy.autotune__R7x4644485,CAP-20260218-151429__verify.core.run__R3r5653310,CAP-20260218-151514__verify.pack.run__Rysu268358
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-665"
    discovered_by: "communications-v1-ws1-implement-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-COMMUNICATIONS-STACK-V1-IMPLEMENT-WS1-INFRA-20260218.scope.md"
    description: |
      Communications Stack V1 WS1 infra foundation is not implemented in canonical spine/runtime surfaces (bindings, capabilities, domain wiring, dry-run infrastructure lane).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T20:23:14Z"
    parent_loop: "LOOP-COMMUNICATIONS-STACK-V1-IMPLEMENT-WS1-INFRA-20260218"
    fixed_in: 692954a,CAP-20260218-153402__infra.vm.provision__Rwpf359359,CAP-20260218-153456__infra.vm.bootstrap__Rlnnm62243,CAP-20260218-154519__verify.core.run__Rwwt364801,CAP-20260218-154600__verify.domain.run__Rsiqk79683,CAP-20260218-154611__verify.pack.run__Rc6ea64795
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-666"
    discovered_by: "aof-normalization-review-20260218"
    discovered_at: "2026-02-18"
    type: agent-behavior
    doc: "mailroom/state/loop-scopes/LOOP-AOF-DECOMPOSITION-VOCABULARY-NORMALIZE-20260218.scope.md"
    description: |
      Non-canonical decomposition vocabulary drift (WS/Move/Wave/Phase/Step/P0-P2) is not AOF-governed and is degrading workflow hygiene; require canonical decomposition contract and enforcement path.
    severity: high
    status: fixed
    notes: "Re-parented from Comms Stack loop to standalone normalization loop. Filed via gaps.file at 2026-02-18T20:29:30Z."
    parent_loop: "LOOP-AOF-DECOMPOSITION-VOCABULARY-NORMALIZE-20260218"
    fixed_in: 5eec4ef,CAP-20260218-155545__gate.topology.validate__R2o0g65644,CAP-20260218-155632__verify.core.run__Reji169619,CAP-20260218-155714__verify.pack.run__Rmqw369618
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-667"
    discovered_by: "d128-frequency-audit-20260218"
    discovered_at: "2026-02-18"
    type: agent-behavior
    doc: "mailroom/state/loop-scopes/LOOP-D128-GATE-MUTATION-POLICY-IMPROVEMENT-V1-20260218.scope.md"
    description: |
      D128 gate-mutation policy has high repeat friction (311 hits, 68 FAIL) due to non-normalized Gate-* trailer workflow; improve tooling and policy ergonomics to reduce hygiene regressions.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T20:45:18Z"
    parent_loop: "LOOP-D128-GATE-MUTATION-POLICY-IMPROVEMENT-V1-20260218"
    fixed_in: CAP-20260218-160022__gate.mutation.trailers__Rw8g626732; CAP-20260218-160306__verify.core.run__Rkt0r65963; CAP-20260218-160306__verify.domain.run__R9bh866028; CAP-20260218-160306__verify.pack.run__Rigjb66027
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-668"
    discovered_by: "user-report-20260218"
    discovered_at: "2026-02-18"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-MINT-MODULES-FORM-INCIDENT-20260218-20260218.scope.md"
    description: |
      Mint website form submissions failing in production path; user-reported outage requires frontend/API/runtime triage and fix.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T21:07:20Z"
    parent_loop: "LOOP-MINT-MODULES-FORM-INCIDENT-20260218-20260218"
    fixed_in: mint-modules@af5091f (route alias fix /api/submit-quote + /quote/submit); quote-page tests 52/52 pass; typecheck pass
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-671"
    discovered_by: "routing-delegation-glue-v3-2-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218.scope.md"
    description: |
      Governed task lifecycle over Cap-RPC is incomplete: confirm semantics, task capability surface, and strict RBAC receipt path are not fully implemented.
    severity: high
    status: fixed
    notes: "Implemented governed Cap-RPC task lifecycle, manual confirm contract, and JSON envelope coverage."
    parent_loop: "LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218"
    fixed_in: mailroom.task.* + /cap/run confirm semantics + D116
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-670"
    discovered_by: "routing-delegation-glue-v3-2-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218.scope.md"
    description: |
      MCP gateway lacks canonical agent discovery and routing tool exposure backed by agent.route JSON contract and existing agent.info and agent.tools capabilities.
    severity: high
    status: fixed
    notes: "Added deterministic route JSON contract and exposed agent_list/agent_info/agent_tools/route_resolve in unified MCP gateway."
    parent_loop: "LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218"
    fixed_in: agent.route --json + spine-mcp-serve agent_* + route_resolve
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-669"
    discovered_by: "routing-delegation-glue-v3-2-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218.scope.md"
    description: |
      Gateway-first parity incomplete across surfaces; claude_desktop and opencode still require legacy MCP servers instead of spine-required runtime contract parity.
    severity: high
    status: fixed
    notes: "Completed gateway-first checkpoint A/B cutover and flipped claude_desktop + opencode required MCP server to spine."
    parent_loop: "LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218"
    fixed_in: CAP-20260218-164159__mcp.runtime.status__Rtlv592043
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-672"
    discovered_by: "routing-delegation-glue-v3-2-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218.scope.md"
    description: |
      Orchestration manifest dependency and health metadata plus shared-helper enforcement are missing for machine-enforced multi-lane dependency control.
    severity: medium
    status: fixed
    notes: "Extended orchestration manifest lane dependency metadata with shared helper enforcement and added agent health preflight capability."
    parent_loop: "LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218"
    fixed_in: orchestration depends_on helper + agent.health.check-all + runtime migration update
  - id: "GAP-OP-673"
    discovered_by: "routing-delegation-glue-v3-2-20260218"
    discovered_at: "2026-02-18"
    type: stale-ssot
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218.scope.md"
    description: |
      Governance documentation contains stale MCP bridge and routing status claims that contradict current shipped gateway and registry surfaces.
    severity: medium
    status: fixed
    notes: "Updated governance docs to reflect shipped unified MCP gateway, agent routing JSON contract, and Cap-RPC task governance semantics."
    parent_loop: "LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218"
    fixed_in: AGENTS_GOVERNANCE + MAILROOM_BRIDGE parity updates
  - id: "GAP-OP-674"
    discovered_by: "operating-glue-v1-20260220"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221.scope.md"
    description: |
      spine.control.tick surface is missing; no single governed command currently aggregates calendar, lifecycle, proposals, alerts, handoffs, timeline, and verify into one control-plane snapshot artifact.
    severity: high
    status: fixed
    notes: "Added spine-control tick aggregation surface and capability wiring."
    parent_loop: "LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221"
    fixed_in: spine.control.tick + CAP-20260220-202438__spine.control.tick__R91z258742
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-675"
    discovered_by: "operating-glue-v1-20260220"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221.scope.md"
    description: |
      spine.control.plan surface is missing; there is no deterministic, machine-readable prioritized action queue that maps each next action to route target (capability or agent tool).
    severity: high
    status: fixed
    notes: "Added spine-control plan prioritization surface with deterministic route targets."
    parent_loop: "LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221"
    fixed_in: spine.control.plan + CAP-20260220-202444__spine.control.plan__R5fix64858
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-676"
    discovered_by: "operating-glue-v1-20260220"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221.scope.md"
    description: |
      spine.control.execute surface is missing; there is no controlled command that executes approved plan items with explicit action selection and receipt-linked execution summary.
    severity: high
    status: fixed
    notes: "Added manual governed execute surface with receipt-linked action execution and control-plane latest artifacts."
    parent_loop: "LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221"
    fixed_in: spine.control.execute + CAP-20260220-202452__spine.control.execute__Rtjmw70943
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-677"
    discovered_by: "operating-glue-v1-20260220"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221.scope.md"
    description: |
      No canonical control-plane latest artifact contract/doc exists for control snapshot, plan, and execution receipts under mailroom outbox; weekly executive glue cannot consume a stable source yet.
    severity: medium
    status: fixed
    notes: "Added control-plane artifact path contract and governance docs for runtime-aware operations outbox outputs."
    parent_loop: "LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221"
    fixed_in: mailroom.runtime.contract outbox operations + docs/governance/SPINE_CONTROL_LOOP.md
  - id: "GAP-OP-678"
    discovered_by: "self-driving-orchestration-v1-20260221"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221.scope.md"
    description: |
      Control loop has no autonomous cycle capability; execution remains operator-invoked and cannot run self-driving observe-plan-act passes under governance.
    severity: high
    status: fixed
    notes: "Added autonomous control-cycle surface with bounded priority/action selection and governed execution/delegation path."
    parent_loop: "LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221"
    fixed_in: spine.control.cycle + CAP-20260220-204453__spine.control.cycle__Rjsys16540
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-679"
    discovered_by: "self-driving-orchestration-v1-20260221"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221.scope.md"
    description: |
      spine.control.execute cannot handle agent_tool routes; plan items that require delegation are not converted into governed mailroom tasks for executor agents.
    severity: high
    status: fixed
    notes: "Execute now delegates agent_tool routes through governed mailroom.task.enqueue with route resolution and task receipts."
    parent_loop: "LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221"
    fixed_in: spine.control.execute delegated agent_tool enqueue + CAP-20260220-204453__spine.control.execute__Rhenz16541
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-680"
    discovered_by: "self-driving-orchestration-v1-20260221"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221.scope.md"
    description: |
      No strict health-gated delegation policy exists in control cycle; delegated tasks can be enqueued without deterministic agent health preflight evidence.
    severity: medium
    status: fixed
    notes: "Delegated task enqueue path now enforces strict agent health preflight by default, with explicit override flag."
    parent_loop: "LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221"
    fixed_in: agent.health.check-all strict delegation preflight in spine.control.execute/cycle
  - id: "GAP-OP-681"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "null"
    description: |
      proxmox-home node-path mismatch persists (/etc/pve/nodes includes legacy pve path); execute governed node_path migration and validate guest recovery
    severity: high
    status: fixed
    notes: "Hardened infra.proxmox.node_path.migrate to enforce to-node==remote hostname and safe move semantics. Reverted proxmox-home configs back to /etc/pve/nodes/pve and validated home.vm.status/home.health.check."
    parent_loop: "LOOP-SPINE-HYPERVISOR-VM-CONTAINER-NORMALIZATION-V1-20260220-20260221"
    fixed_in: 2054688; runtime restored to /etc/pve/nodes/pve
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-682"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "null"
    description: |
      network canonical audit drift: media-stack expected IP is unreachable; reconcile vm lifecycle/ssh target/service bindings with current runtime truth
    severity: medium
    status: fixed
    notes: "Canonical audit now excludes decommissioned rows/references so media-stack 192.168.1.201 no longer triggers false drift; live truth + doc references now PASS."
    parent_loop: "LOOP-SPINE-HYPERVISOR-VM-CONTAINER-NORMALIZATION-V1-20260220-20260221"
    fixed_in: f5717e5; CAP-20260220-211124__network.shop.audit.canonical__Rvh0q93298
  - id: "GAP-OP-683"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "null"
    description: |
      proxmox-home hostname remains pve and node-path alignment is exception-based; set canonical hostname and revalidate identity/runtime
    severity: high
    status: fixed
    notes: "Canonicalized proxmox-home system hostname and migrated PVE node path to /etc/pve/nodes/proxmox-home; identity and home VM status now pass without hostname exception."
    parent_loop: "LOOP-SPINE-HOST-IDENTITY-ACCESS-BACKUP-NORMALIZATION-V1-20260220-20260221"
    fixed_in: 5b2b993; CAP-20260220-211931__infra.hypervisor.hostname.set__Rf16430889; CAP-20260220-212024__infra.proxmox.node_path.migrate__Rd0w232929; CAP-20260220-212324__infra.hypervisor.identity__R6kak36165
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-684"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "null"
    description: |
      download-home LXC still scheduled for daily backup (03:15); disable daily job and mark backup inventory entry disabled
    severity: medium
    status: fixed
    notes: "Disabled daily backup for download-home LXC 103 on proxmox-home (backup-home-p1-daily enabled=0) and aligned backup.inventory + MINILAB SSOT to reflect intentional disablement."
    parent_loop: "LOOP-SPINE-HOST-IDENTITY-ACCESS-BACKUP-NORMALIZATION-V1-20260220-20260221"
    fixed_in: 5b2b993; live proxmox-home jobs.cfg update backup-home-p1-daily enabled=0
  - id: "GAP-OP-685"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "null"
    description: |
      decommissioned media-stack still appears in active Shop VM LAN identity table; remove from active surface and retain only decommissioned history
    severity: medium
    status: fixed
    notes: "Removed decommissioned media-stack row from active Shop VM LAN table and kept history only in decommissioned section; canonical network audit now passes with no media-stack active drift."
    parent_loop: "LOOP-SPINE-HOST-IDENTITY-ACCESS-BACKUP-NORMALIZATION-V1-20260220-20260221"
    fixed_in: 5b2b993; CAP-20260220-212324__network.shop.audit.canonical__R5wp636190
  - id: "GAP-OP-686"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: duplicate-truth
    doc: "null"
    description: |
      active VM SSH user surface is mixed (docker-host/automation-stack/immich); normalize to ubuntu for agent ergonomics with verified sudo+docker access
    severity: high
    status: fixed
    notes: "Standardized agent-facing SSH users to ubuntu for docker-host, automation-stack, and immich; created/wired ubuntu accounts with sudo+docker access on hosts and aligned SSOT bindings/docs."
    parent_loop: "LOOP-SPINE-HOST-IDENTITY-ACCESS-BACKUP-NORMALIZATION-V1-20260220-20260221"
    fixed_in: 5b2b993; CAP-20260220-212324__ssh.target.status__Rbxuk36163; CAP-20260220-212324__vm.profile.audit__Rhtfg36164
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-687"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      download-home (103) and pihole-home (105) remain stopped but still treated as active SSH expectations; normalize to decommissioned/non-active expectations without destructive runtime changes.
    severity: medium
    status: fixed
    notes: "Soft-decommissioned LXC 103/105 in vm.lifecycle and removed from active ssh.targets expectations (non-destructive)."
    parent_loop: "LOOP-SPINE-HOME-LINUX-NORMALIZATION-AUTOMATION-LATENCY-20260221"
    fixed_in: fe6222c
  - id: "GAP-OP-688"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: unclear-doc
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      media-stack still appears in active-oriented wording outside explicit decommissioned history sections, causing operator/agent ambiguity.
    severity: low
    status: fixed
    notes: "Updated governance docs to keep media-stack references explicitly historical/decommissioned and removed active-surface ambiguity."
    parent_loop: "LOOP-SPINE-HOME-LINUX-NORMALIZATION-AUTOMATION-LATENCY-20260221"
    fixed_in: fe6222c
  - id: "GAP-OP-689"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/stability.control.contract.yaml"
    description: |
      automation-stack control reliability degraded by repeated n8n/health latency incidents, blocking stable self-driving orchestration cadence.
    severity: high
    status: fixed
    notes: "Restored n8n snapshot probe reliability for ubuntu user path, added low-latency n8n.infra.health.quick, and switched stability automation probe path."
    parent_loop: "LOOP-SPINE-HOME-LINUX-NORMALIZATION-AUTOMATION-LATENCY-20260221"
    fixed_in: fe6222c
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-690"
    discovered_by: "claude-opus"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VM 203 (immich) resource mismatch: vm.lifecycle.yaml shows 4 CPU/50GB/null LAN but live PVE shows 8 CPU/100GB/192.168.1.203
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T03:04:33Z"
    fixed_in: 4a543ab
  - id: "GAP-OP-691"
    discovered_by: "claude-opus"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/MINILAB_SSOT.md"
    description: |
      MINILAB_SSOT VM 102 (vaultwarden) still shows Running in inventory table and P0 backup still targets it despite decommission on 2026-02-16
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T03:04:39Z"
    fixed_in: e0a6cb2
  - id: "GAP-OP-692"
    discovered_by: "claude-opus"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      DEVICE_IDENTITY_SSOT Tailscale Host Table missing finance-stack (100.76.153.100), mint-data (100.106.72.25), mint-apps (100.79.183.14)
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T03:04:44Z"
    fixed_in: e0a6cb2
  - id: "GAP-OP-693"
    discovered_by: "claude-opus"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/MINILAB_SSOT.md"
    description: |
      download-home LAN IP conflict: MINILAB_SSOT shows 10.0.0.101 but vm.lifecycle.yaml shows 10.0.0.103. Also DEVICE_IDENTITY_SSOT VM status check says VMs 100-102 running but 102 is decommissioned
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T03:04:50Z"
    fixed_in: e0a6cb2
  - id: "GAP-OP-694"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      Home DNS split intent drift: pihole-home is stopped and home DHCP DNS remains on UDR self, so home site is not using location-local Pi-hole.
    severity: high
    status: fixed
    notes: "Reactivated pihole-home runtime and restored home-local DHCP DNS path via governed capability."
    parent_loop: "LOOP-HOME-PIHOLE-REACTIVATION-DNS-SEPARATION-V1-20260221"
    fixed_in: 2f95129
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-695"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      pihole-home was marked soft-decommissioned and removed from active SSH/lifecycle access surfaces, conflicting with current target architecture (home-local Pi-hole active).
    severity: medium
    status: fixed
    notes: "Removed soft-decommission drift for pihole-home across lifecycle, ssh, health, and governance docs."
    parent_loop: "LOOP-HOME-PIHOLE-REACTIVATION-DNS-SEPARATION-V1-20260221"
    fixed_in: 2f95129
  - id: "GAP-OP-696"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No governed capability exists to set home UDR DHCP DNS servers deterministically; cutover currently requires ad hoc API calls.
    severity: medium
    status: fixed
    notes: "Added governed network.home.dhcp.dns.set capability and wired catalog/map bindings for deterministic home DNS cutovers."
    parent_loop: "LOOP-HOME-PIHOLE-REACTIVATION-DNS-SEPARATION-V1-20260221"
    fixed_in: 2f95129
  - id: "GAP-OP-698"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      DEVICE_IDENTITY_SSOT Device Registry tier tables omit active finance-stack, mint-data, and mint-apps despite canonical Tailscale host table entries, creating tier/routing ambiguity.
    severity: medium
    status: fixed
    notes: "Added finance-stack, mint-data, and mint-apps to Tier 2 production registry tables."
    parent_loop: "LOOP-SPINE-DEVICE-IDENTITY-QUICKWINS-20260221-20260221"
    fixed_in: 43fa8dd
  - id: "GAP-OP-697"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      DEVICE_IDENTITY_SSOT Tailscale Host Table omits active immich-1 host (100.114.101.50); only deferred/home immich history remains, causing canonical host lookup drift.
    severity: medium
    status: fixed
    notes: "Added immich-1 to canonical Tailscale Host Table and refreshed identity drift context."
    parent_loop: "LOOP-SPINE-DEVICE-IDENTITY-QUICKWINS-20260221-20260221"
    fixed_in: 43fa8dd
  - id: "GAP-OP-699"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      DEVICE_IDENTITY_SSOT still lists vault rollback host in Tier 3 and verification commands as if active service-path, conflicting with VM 102 decommission posture in current governance.
    severity: medium
    status: fixed
    notes: "Removed vault from active Tier 3/verification surfaces and moved it to decommissioned history."
    parent_loop: "LOOP-SPINE-DEVICE-IDENTITY-QUICKWINS-20260221-20260221"
    fixed_in: 43fa8dd
  - id: "GAP-OP-700"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/SSOT_UPDATE_TEMPLATE.md"
    description: |
      SSOT_UPDATE_TEMPLATE.md has stale last_verified metadata (2026-02-06), approaching/violating D58 freshness expectations for governance templates.
    severity: low
    status: fixed
    notes: "Updated SSOT_UPDATE_TEMPLATE last_verified metadata to restore freshness compliance."
    parent_loop: "LOOP-SPINE-DEVICE-IDENTITY-QUICKWINS-20260221-20260221"
    fixed_in: 43fa8dd
  - id: "GAP-OP-701"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/stability.control.contract.yaml"
    description: |
      Automation-stack control-plane cadence is still latency-sensitive: latest probe run shows n8n/open-webui/ollama/mcpjungle response times around 702/404/307/800ms with prior repeated latency incidents. Current snapshot flow is single-sample and can miss jitter spikes that stall self-driving cycles. Add deterministic latency budget checks (p95/p99 style repeated sampling) and fail/warn routing tuned for automation-stack control paths.
    severity: high
    status: fixed
    notes: "Added automation.stack.latency.status repeated-sampling budgets, wired into stability.control.snapshot, and exempted self-sampled probe from outer duration budget."
    parent_loop: "LOOP-SPINE-AUTOMATION-STACK-LATENCY-FOCUSED-V1-20260221"
    fixed_in: e195c54
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-702"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      Automation-stack latency lacks an explicit governed SLO artifact and day-lane evidence surface. Add canonical latency baseline/report surface (automation-stack endpoints + n8n quick health timings), wire it into verify/briefing cadence, and document operator thresholds for self-driving control-loop readiness.
    severity: medium
    status: fixed
    notes: "Added automation latency thresholds to DEVICE_IDENTITY_SSOT and wired automation.stack.latency.status metrics into briefing stability section and slo.evidence.daily output/SLO gate."
    parent_loop: "LOOP-SPINE-AUTOMATION-STACK-LATENCY-FOCUSED-V1-20260221"
    fixed_in: 6594fcb
  - id: "GAP-OP-703"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/pihole/docker-compose.yml"
    description: |
      Shop Pi-hole runtime config drift: live FTL config shows upstreams 8.8.8.8/8.8.4.4 and dnssec=false while intended stack policy is Cloudflare upstreams with DNSSEC enabled; legacy env vars in compose are ignored under current Pi-hole config model.
    severity: high
    status: fixed
    notes: "Normalized shop pihole runtime DNS policy, deployed canonical compose, verified resolution/blocking from pve and health passes."
    parent_loop: "LOOP-SHOP-PIHOLE-UDR6-DNS-NORMALIZATION-20260221-20260221"
    fixed_in: 4a08082
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-704"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/pihole/docker-compose.yml"
    description: |
      Live shop Pi-hole compose on infra-core has stale FTLCONF_LOCAL_IPV4 (192.168.12.204) and diverges from canonical staged compose/host LAN identity (192.168.1.204), creating future redeploy regression risk.
    severity: medium
    status: fixed
    notes: "Corrected stale live compose local IP drift by syncing canonical staged compose to shop infra-core and validating local IPv4 + DNS policy."
    parent_loop: "LOOP-SHOP-PIHOLE-UDR6-DNS-NORMALIZATION-20260221-20260221"
    fixed_in: 4a08082
  - id: "GAP-OP-705"
    discovered_by: "claude-opus"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VM 101 (immich-home) and LXC 103 (download-home) destroyed on proxmox-home. Update SSOTs to reflect destruction.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T03:47:39Z"
    fixed_in: 4a52504
  - id: "GAP-OP-706"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/verify/bin/calendar-surface-audit"
    description: |
      Add calendar surface audit capability and dedicated verify lane enforcement
    severity: medium
    status: fixed
    notes: "Implemented calendar.surface.audit + D146 calendar surface lock with dedicated calendar-operator verify lane"
    parent_loop: "LOOP-CALENDAR-SURFACE-AUDIT-LANE-V1-20260221"
    fixed_in: d00d00c,CAP-20260220-230548__calendar.surface.audit__Rl3u361575,CAP-20260220-230448__verify.pack.run__Rnond16943
  - id: "GAP-OP-707"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/cloudflared/docker-compose.yml"
    description: |
      infra-core live cloudflared compose (/opt/stacks/cloudflared/docker-compose.yml) drifted from staged authority and reintroduced stale mint-os-customer extra_host alias. This violates compose authority contract and risks misrouting during mint migration.
    severity: high
    status: fixed
    notes: "Synced cloudflared live compose on infra-core from staged authority, removed stale mint-os-customer alias drift, and verified full infra-core compose hash parity + health."
    parent_loop: "LOOP-INFRA-CORE-STACK-PARITY-NORMALIZATION-20260221"
    fixed_in: c240b3b
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-708"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/staged/caddy-auth/docker-compose.yml"
    description: |
      Staged caddy-auth compose contains deprecated environment variables for retired routes (finance/docs/mail/minio/n8n/chat/grafana) that are absent from live runtime and no longer used by canonical Caddyfile. Canonical staged authority should be trimmed to active route surface.
    severity: medium
    status: fixed
    notes: "Trimmed staged caddy-auth environment surface to active routes and aligned staged/live compose parity for infra-core authority set."
    parent_loop: "LOOP-INFRA-CORE-STACK-PARITY-NORMALIZATION-20260221"
    fixed_in: c240b3b
  - id: "GAP-OP-709"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/cloudflared/docker-compose.yml"
    description: |
      Cloudflared on infra-core lacks metrics exposure and is marked disabled in services.health.yaml, leaving no direct liveness probe for a SPOF ingress component. Enable metrics endpoint and health probe.
    severity: medium
    status: fixed
    notes: "Enabled cloudflared metrics endpoint on infra-core (--metrics 0.0.0.0:60123), activated services.health probe, redeployed cloudflared, and verified endpoint + infra-core health lane."
    parent_loop: "LOOP-INFRA-CORE-CLOUDFLARED-HEALTH-PROBING-20260221"
    fixed_in: e05c2a5
  - id: "GAP-OP-710"
    discovered_by: "verify.pack.run infra (D59)"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/naming.policy.yaml"
    description: |
      download-home in naming.policy.yaml has ssh_target: true and verification_state: unreachable but LXC 103 was destroyed 2026-02-20. D59 cross-registry completeness check fails.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:10:03Z"
    fixed_in: 013a12a
  - id: "GAP-OP-711"
    discovered_by: "verify.pack.run infra (D86)"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/vm.lifecycle.contract.yaml"
    description: |
      vm.lifecycle.contract.yaml requires vmid field but vm.lifecycle.yaml uses id field. D86 fails for all 14 active VMs. Also pihole-home (LXC 105) reactivated but missing from vm.operating.profile.yaml.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:10:09Z"
    fixed_in: 013a12a
  - id: "GAP-OP-712"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/plugins/secrets/bin/secrets-runway-status"
    description: |
      secrets.runway.status misclassifies successful remote compose extraction as ssh_error for infra-core stacks due remote command exit handling, producing false drift and agent confusion.
    severity: high
    status: fixed
    notes: "Fixed secrets.runway.status false ssh_error behavior for infra-core compose extraction and added stack-key canonical alias support to remove false drift."
    parent_loop: "LOOP-INFRA-CORE-AUTH-SECRETS-DRIFT-SWEEP-20260221"
    fixed_in: d3367cb
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-713"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/STACK_REGISTRY.yaml"
    description: |
      STACK_REGISTRY secrets entry still references /opt/stacks/infisical, but canonical runtime path and compose target are /opt/stacks/secrets. This creates operator and agent confusion for Infisical maintenance.
    severity: medium
    status: fixed
    notes: "Corrected STACK_REGISTRY secrets stack host compose path from /opt/stacks/infisical to canonical /opt/stacks/secrets."
    parent_loop: "LOOP-INFRA-CORE-AUTH-SECRETS-DRIFT-SWEEP-20260221"
    fixed_in: d3367cb
  - id: "GAP-OP-714"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/mailroom-bridge/bin/mailroom-task-worker"
    description: |
      Add governed always-on worker lane for spine.control.cycle and mailroom task lifecycle consumption
    severity: high
    status: fixed
    notes: "Implemented governed autonomous worker daemon (cycle cadence + task consumption), added worker lifecycle capabilities, runtime contract binding, and smoke tests."
    parent_loop: "LOOP-SPINE-AUTONOMOUS-WORKER-LANE-V1-20260221"
    fixed_in: mailroom.task.worker lane + worker contract + capability wiring
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-715"
    discovered_by: "verify.pack.run hygiene-weekly"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/plugin-test-exemptions.yaml"
    description: |
      Hygiene-weekly D16/D60/D81/D84/D85 batch: 5 post-D81 plugins missing exemptions, D16 missing docs/planning exclusion, D60 missing 5 historical-context file exclusions, SPINE_CONTROL_LOOP.md unregistered in docs index, D130 missing TRIAGE header.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:22:22Z"
    fixed_in: ba050c6
  - id: "GAP-OP-716"
    discovered_by: "cross-env audit agents"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/vm.operating.profile.yaml"
    description: |
      VM 203 ssh_user mismatch in operating profile (ubuntu vs ronny). VM 212/213 missing from naming.policy. GOVERNANCE_MANIFEST.yaml not in docs index. 7 plugins missing from MANIFEST.yaml.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:34:33Z"
    fixed_in: e369d08
  - id: "GAP-OP-717"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Communications stack remains WS1 simulation/planned (send_test mode simulation-only; pilot mailboxes planned), so no live execution organ is wired yet.
    severity: high
    status: fixed
    notes: "Promoted communications to WS1 live pilot: Microsoft-backed stack status/search/send surfaces, contract live mode, runbook, and tests."
    parent_loop: "LOOP-SPINE-COMMUNICATIONS-LIVE-PILOT-V1-20260221"
    fixed_in: c068d74
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-718"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/plugins/evidence/bin/spine-control"
    description: |
      spine.control.tick warns on historical verify failures even when current core verification is passing, creating noisy control-plane health signal and false urgency.
    severity: high
    status: fixed
    notes: "Denoised spine.control.tick verify signal by separating historical failures from current unresolved verify state; A40 rerun now triggers only when latest verify.core.run is failed; added deterministic regression test for historical-fail-then-pass behavior."
    parent_loop: "LOOP-SPINE-CONTROL-TICK-SIGNAL-DENOISE-V1-20260221"
    fixed_in: LOOP-SPINE-CONTROL-TICK-SIGNAL-DENOISE-V1-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-719"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/mailroom-bridge/bin/mailroom-task-worker"
    description: |
      Autonomous worker currently executes route_target=capability tasks only; delegated agent_tool tasks are enqueued but not consumed end-to-end by worker execution.
    severity: high
    status: fixed
    notes: "Enabled delegated agent_tool task consumption in mailroom-task-worker (route_resolve via governed agent.route), fixed safe JSON payload serialization in mailroom.task.enqueue, expanded worker contract route targets, and added end-to-end worker tests."
    parent_loop: "LOOP-SPINE-DELEGATED-AGENT-TOOL-TASK-CONSUMPTION-V1-20260221"
    fixed_in: a6f0efe
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-722"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/secrets.runway.contract.yaml"
    description: |
      secrets.runway contract still hard-fails mint-shipping/mint-pricing/mint-suppliers domain checks despite mint fresh-slate migration state, producing persistent false FAIL and agent confusion in infra-core audits.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:36:07Z"
    parent_loop: "LOOP-INFRA-CORE-PARITY-DRIFT-SWEEP-20260221"
    fixed_in: 0fc207d
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-720"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml"
    description: |
      DOMAIN_ROUTING_REGISTRY is missing active Cloudflare ingress hostname spine.ronny.works, causing cloudflare.domain_routing.diff failure and operator confusion for public bridge routing authority.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:36:13Z"
    parent_loop: "LOOP-INFRA-CORE-PARITY-DRIFT-SWEEP-20260221"
    fixed_in: 0fc207d
  - id: "GAP-OP-721"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets namespace policy is missing canonical routing for GHOSTFOLIO_ACCESS_TOKEN_SALT and root-path freeze now flags it as drift; contract and runtime namespace expectations are out of sync.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:36:22Z"
    parent_loop: "LOOP-INFRA-CORE-PARITY-DRIFT-SWEEP-20260221"
    fixed_in: 0fc207d
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-723"
    discovered_by: "session-audit"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/RAG_INDEXING_RULES.md"
    description: |
      7 governance docs have stale last_verified dates approaching D58 threshold
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:41:12Z"
    fixed_in: 82a97ae
  - id: "GAP-OP-724"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/cloudflared/docker-compose.yml"
    description: |
      homelab-cloudflared lacks Docker healthcheck and docker.compose.status ignores container Health state, so runtime unhealthy conditions are not enforced in infra-core stack status.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:43:20Z"
    parent_loop: "LOOP-INFRA-CORE-CLOUDFLARED-HEALTHCHECK-SEMANTICS-20260221"
    fixed_in: d11d91d
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-725"
    discovered_by: "verify.pack.run aof"
    discovered_at: "2026-02-21"
    type: agent-behavior
    doc: "ops/bindings/d128-gate-mutation-policy.yaml"
    description: |
      Commit d00d00c touched gate.registry.yaml without D128 provenance trailers. Already pushed, repair via enforcement boundary advance.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:48:01Z"
    fixed_in: f519134
  - id: "GAP-OP-726"
    discovered_by: "verify.pack.run"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "surfaces/verify/d73-opencode-governed-entry-lock.sh"
    description: |
      D72 hotkey SSOT drift, D73 gate regex too strict for launchSolo with terminal-name arg, D111 RAG smoke evidence stale
    severity: low
    status: fixed
    notes: "Closed after validating D72/D73 hygiene updates and GAP-OP-726 fix commit on main."
    fixed_in: 9f11239
  - id: "GAP-OP-727"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: unclear-doc
    doc: "docs/governance/SESSION_PROTOCOL.md"
    description: |
      Governance confusion remains in active docs: loop scope statuses differ across SESSION_PROTOCOL/OUTPUT_CONTRACTS/MAILROOM_RUNBOOK, AGENTS/CLAUDE terminal scope tables drift from terminal.role.contract.yaml, and proposal action constraints are not explicit in quickstart docs.
    severity: medium
    status: fixed
    notes: "Normalized loop-status vocabulary to planned|active|closed across active docs, synced terminal role table scopes to terminal.role.contract.yaml, documented proposal action contract, and refreshed stale memory context guardrails."
    parent_loop: "LOOP-SPINE-GOVERNANCE-CONFUSION-NORMALIZATION-20260221"
    fixed_in: "2830372"
  - id: "GAP-OP-728"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: ".environment.yaml"
    description: |
      AOF contract status fails in this workspace because .environment.yaml is missing, leaving contract-state checks degraded despite AOF gates passing.
    severity: medium
    status: fixed
    notes: "Bootstrapped and validated .environment.yaml/.identity.yaml in repo root, added daily contract-read marker ignore, and confirmed AOF contract status now reports present/current."
    parent_loop: "LOOP-AOF-CONTRACT-POLICY-AUDIT-HARDENING-20260221"
    fixed_in: 533be32
  - id: "GAP-OP-729"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/aof/bin/resolve-policy.sh"
    description: |
      AOF policy mutations have no governed audit trail artifact (who changed what/when), so policy posture changes are not traceable over time.
    severity: medium
    status: fixed
    notes: "Extended policy.runtime.audit with deterministic policy source fingerprinting and git-backed recent policy change history to provide auditable AOF policy mutation traceability."
    parent_loop: "LOOP-AOF-CONTRACT-POLICY-AUDIT-HARDENING-20260221"
    fixed_in: 533be32
  - id: "GAP-OP-730"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Spine communications domain lacks canonical transactional Twilio+Resend governance surfaces (provider contracts, policy contracts, consent/delivery normalization, and provider capability plane), causing Microsoft-only communications behavior and AOF drift for transactional messaging.
    severity: high
    status: fixed
    notes: "Transactional communications governance normalized into spine/AOF/agents with new contracts, capabilities, secret routing, and verify/test coverage."
    parent_loop: "LOOP-SPINE-COMMUNICATIONS-TWILIO-RESEND-NORMALIZATION-V1-20260221"
    fixed_in: c5a5311
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-731"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Capabilities registry has large unclassified metadata debt (missing domain/plane), reducing verify-pack routing clarity and agent discovery quality. Need deterministic Wave-1 backfill for clearly-owned capability families.
    severity: high
    status: fixed
    notes: "Backfilled domain/plane metadata for capabilities via deterministic prefix mapping and targeted corrections; reduced unclassified capability count from 282/416 to 0/416."
    parent_loop: "LOOP-CAPABILITY-CLASSIFICATION-DEBT-WAVE1-20260221"
    fixed_in: af09253
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-732"
    discovered_by: "execution:leverage-followthrough"
    discovered_at: "2026-02-21"
    type: agent-behavior
    doc: "ops/bindings/communications.*.yaml"
    description: |
      Missing enforced governance for communications execution path: direct Twilio/Resend API calls can bypass spine contracts, send.execute lacks hard preview linkage/trace IDs, canary phase controls are not codified, and delivery-log anomaly alerting is not wired for agent-visible operations.
    severity: high
    status: fixed
    notes: "Enforced D147 routing lock, preview-linked execute boundary, phased cutover controls, and delivery anomaly alerting with new governed capabilities/tests."
    parent_loop: "LOOP-SPINE-COMMUNICATIONS-DRIFT-GUARDRAILS-CUTOVER-V1-20260221"
    fixed_in: 71cf5a0
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-733"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: agent-behavior
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh"
    description: |
      D48 worktree hygiene fail: stale/orphaned dirty worktree codex/d128-fix-20260218 remains under agentic-spine-.worktrees and blocks clean baseline.
    severity: medium
    status: fixed
    notes: "Archived stale worktree dirty state to /tmp/spine-worktree-backups/20260221-d128-fix-20260218 and removed merged/orphaned codex/d128-fix-20260218 worktree+branch; D48 now passes."
    parent_loop: "LOOP-SPINE-GOVERNANCE-HYGIENE-WORKTREE-D75-20260221"
    fixed_in: cec1fb7
  - id: "GAP-OP-734"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: agent-behavior
    doc: "ops/bindings/d75-gap-mutation-policy.yaml"
    description: |
      D75 loop_gap verify fails because commit c068d74 touched operational.gaps.yaml without required Gap-* trailers; enforcement boundary must be advanced to preserve strict forward enforcement.
    severity: medium
    status: fixed
    notes: "Advanced D75 enforcement_after_sha to c068d74f8a9268200773a98da0d205df28a40d93 to exempt legacy non-trailered mutation and restored strict forward trailer enforcement; verify.pack.run loop_gap now passes."
    parent_loop: "LOOP-SPINE-GOVERNANCE-HYGIENE-WORKTREE-D75-20260221"
    fixed_in: cec1fb7
  - id: "GAP-OP-735"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/briefing/"
    description: |
      Automation scheduler missing: run spine.briefing at 08:00 daily via governed launcher (LaunchAgent/cron contract).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T06:17:41Z"
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER1-WIREUP-20260221"
    fixed_in: 70c2edd
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-736"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/slo/"
    description: |
      Automation scheduler missing: run slo.evidence.daily at 23:59 daily for rolling 7-day SLO evidence generation.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T06:17:43Z"
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER1-WIREUP-20260221"
    fixed_in: 70c2edd
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-737"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Automation scheduler missing: run finance_ronny_action_queue monthly (day 1) for compliance/task handoff.
    severity: medium
    status: fixed
    notes: "Added governed spine capability finance.ronny.action.queue (ops/plugins/observability/bin/finance-ronny-action-queue) + monthly scheduler runner (ops/runtime/finance-action-queue-monthly.sh) + tracked LaunchAgent template (ops/runtime/launchd/com.ronny.finance-action-queue-monthly.plist)."
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER1-WIREUP-20260221"
    fixed_in: "agent-session-20260221"
  - id: "GAP-OP-738"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/n8n/"
    description: |
      Automation scheduler missing: run n8n-snapshot-cron daily to ensure governed workflow backup continuity.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T06:17:46Z"
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER1-WIREUP-20260221"
    fixed_in: 70c2edd
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-739"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/alerting.rules.yaml"
    description: |
      Alerting channel configuration gap: channels.email.enabled remains false though communications stack is now live and governed.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T06:17:48Z"
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER1-WIREUP-20260221"
    fixed_in: 70c2edd
  - id: "GAP-OP-740"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/alerting/"
    description: |
      Automation scheduler missing: run alerting.probe + alerting.dispatch every 15 minutes for near-real-time incident detection.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T06:17:50Z"
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER2-WIREUP-20260221"
    fixed_in: 70c2edd
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-741"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/immich/"
    description: |
      Automation scheduler missing: run immich.reconcile.scan weekly (Sunday 02:00) to detect and control duplicate growth.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T06:17:52Z"
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER2-WIREUP-20260221"
    fixed_in: 70c2edd
  - id: "GAP-OP-742"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/communications/"
    description: |
      Workflow integration gap: spine.briefing is not routed to email delivery via communications.send.execute for operator inbox delivery.
    severity: high
    status: fixed
    notes: "Added governed briefing->email runner (ops/runtime/spine-briefing-email-daily.sh): generates briefing JSON, creates transactional preview receipt, then executes communications.send.execute with explicit approval token. Tracked LaunchAgent template: ops/runtime/launchd/com.ronny.spine-briefing-email-daily.plist."
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER2-WIREUP-20260221"
    fixed_in: "agent-session-20260221"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-743"
    discovered_by: "stability-coverage-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/observability/bin/stability-control-snapshot"
    description: |
      stability.control blind spot: dev-tools VM (206) / Gitea has no probe coverage, creating undetected origin outage risk.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T06:17:56Z"
    parent_loop: "LOOP-STABILITY-CONTROL-BLINDSPOT-COVERAGE-WAVE1-20260221"
    fixed_in: 70c2edd
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-744"
    discovered_by: "stability-coverage-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/observability/bin/stability-control-snapshot"
    description: |
      stability.control blind spot: infra-core VM (204) services (Infisical, Cloudflare, Vaultwarden) unprobed; outage blocks API/secrets operations.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T06:17:58Z"
    parent_loop: "LOOP-STABILITY-CONTROL-BLINDSPOT-COVERAGE-WAVE1-20260221"
    fixed_in: 70c2edd
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-745"
    discovered_by: "stability-coverage-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/observability/bin/stability-control-snapshot"
    description: |
      stability.control blind spot: observability VM (205) stack (Prometheus, Grafana, Loki) lacks monitor-of-monitors health lane.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T06:18:00Z"
    parent_loop: "LOOP-STABILITY-CONTROL-BLINDSPOT-COVERAGE-WAVE1-20260221"
    fixed_in: 70c2edd
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-746"
    discovered_by: "stability-coverage-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/observability/bin/stability-control-snapshot"
    description: |
      stability.control blind spot: mint data/apps VMs (212/213) business services (PostgreSQL, MinIO, APIs) are outside critical probe set.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T06:18:02Z"
    parent_loop: "LOOP-STABILITY-CONTROL-BLINDSPOT-COVERAGE-WAVE1-20260221"
    fixed_in: 70c2edd
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-747"
    discovered_by: "agent-activation-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/agents.registry.yaml"
    description: |
      Agent activation gap: immich-agent registered with spine-native reconcile caps but lacks active MCP interaction surface for asset/album ops.
    severity: medium
    status: closed
    notes: "Converted from blocked to deferred structural debt: immich reconcile lane is operational via governed capabilities + scheduler; interactive MCP asset/album surface remains intentionally deferred to a dedicated follow-up loop."
    parent_loop: "LOOP-AGENT-ACTIVATION-WAVE1-20260221"
  - id: "GAP-OP-748"
    discovered_by: "agent-activation-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/agents.registry.yaml"
    description: |
      Agent activation gap: communications-agent registered and governed but workbench agent implementation directory/gateway runtime scaffold is missing.
    severity: high
    status: closed
    notes: "Converted from blocked to deferred structural debt: communications domain is active via spine capability gateway surfaces; standalone workbench/agents/communications scaffold is intentionally deferred to a separate implementation loop."
    parent_loop: "LOOP-AGENT-ACTIVATION-WAVE1-20260221"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-749"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: agent-behavior
    doc: "ops/bindings/d75-gap-mutation-policy.yaml"
    description: |
      D75 loop_gap pack fails because recent commits touching operational.gaps.yaml (including scheduler blocker resolution commit) were created without required Gap-* trailers. Advance enforcement boundary to preserve strict forward enforcement without rewriting history.
    severity: medium
    status: fixed
    notes: "Advanced D75 enforcement_after_sha to 6bd7c57 so legacy non-trailered gap mutations are exempt and strict trailer enforcement continues forward."
    fixed_in: a1ce81a
  - id: "GAP-OP-750"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: agent-behavior
    doc: "docs/governance/AGENT_GOVERNANCE_BRIEF.md"
    description: |
      Loop and proposal lifecycles can diverge (null loop_id at proposal submit + loop close without pending-proposal guard), causing disconnected mailroom execution lanes.
    severity: high
    status: fixed
    notes: "Canonical loop-proposal linkage guards implemented in submit/close/auto-close/status surfaces; verified via core lanes."
    parent_loop: "LOOP-MAILROOM-LOOP-PROPOSAL-LINKAGE-ENFORCEMENT-20260221"
    fixed_in: 4843ef0
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-751"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/plugins/observability/bin/stability-control-snapshot"
    description: |
      Stability alert posture remains noisy: spine.control.tick is error with active alert set despite no open governance work; snapshot shows recurring latency-based warns (finance, immich ingest heartbeat, infra-core, observability, dev-tools, mint) that need normalization/maintenance-policy alignment.
    severity: high
    status: fixed
    notes: "Stability snapshot normalized to no-incident posture; alerting active-status semantics now cooldown-aware; control tick no longer false-critical from historical alerts."
    parent_loop: "LOOP-INFRA-CORE-STABILITY-AOF-CLASSIFICATION-WAVE1-20260221"
    fixed_in: 21ac4ae
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-752"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/policy/bin/policy-runtime-audit"
    description: |
      AOF hardening gaps remain: .environment.yaml contract enforcement and policy-change audit trail are not fully governed by verify gates, reducing traceability of policy mutations.
    severity: high
    status: fixed
    notes: "D91 now enforces strict .environment/.identity validation via aof.validate; D94 now requires machine-readable policy.runtime.audit history trail with tracked policy paths and non-empty history."
    parent_loop: "LOOP-INFRA-CORE-STABILITY-AOF-CLASSIFICATION-WAVE1-20260221"
    fixed_in: a0ec0ab
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-753"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: unclear-doc
    doc: "ops/capabilities.yaml"
    description: |
      Infra-core capability classification debt persists and reduces routing clarity: a significant subset of infra-core-adjacent capabilities remain under-tagged (domain/plane), increasing agent confusion and weakening pack-driven governance discovery.
    severity: medium
    status: fixed
    notes: "Infra-core classification debt validated and guarded: D137 now checks infra-core-adjacent prefixes for required domain/plane metadata to prevent regression."
    parent_loop: "LOOP-INFRA-CORE-STABILITY-AOF-CLASSIFICATION-WAVE1-20260221"
    fixed_in: 4f4b7bc
  - id: "GAP-OP-754"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/agents/immich-agent.contract.md"
    description: |
      immich-photos MCP server not implemented: SPEC.md exists with 10 tools defined but no TypeScript MCP server code exists. Agent registered in spine but not active.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T07:38:52Z"
    parent_loop: "LOOP-AGENT-MCP-SURFACE-BUILD-20260221"
    fixed_in: c8cfcef (workbench) + c12d854 (spine)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-755"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/agents/communications-agent.contract.md"
    description: |
      communications-agent workbench scaffold missing: no MCP server directory or code exists. Agent registered as gateway type but no gateway implementation built.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T07:38:59Z"
    parent_loop: "LOOP-AGENT-MCP-SURFACE-BUILD-20260221"
    fixed_in: c8cfcef (workbench) + c12d854 (spine)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-757"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/agents.registry.yaml + ops/bindings/mcp.runtime.contract.yaml"
    description: |
      Active agents with mcp_server entries are not contract-enforced as required MCP servers on claude_desktop, so agent activation can drift without failing parity checks.
    severity: high
    status: fixed
    notes: "Enforced agent runtime coverage linkage: immich/communications now required on claude_desktop with D148 guardrails."
    parent_loop: "LOOP-MCP-RUNTIME-PARITY-DRIFT-GATE-WAVE1-20260221"
    fixed_in: 537cee8
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-756"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/mcp.runtime.contract.yaml + ops/plugins/mcp/bin/mcp-runtime-status"
    description: |
      mcp.runtime.status validates claude_desktop against ~/.claude.json instead of the Desktop app config file, allowing false-green MCP parity when desktop server registrations drift.
    severity: high
    status: fixed
    notes: "Hardened MCP runtime contract pathing + runtime status collector to read Desktop config and runtime-state sidecar."
    parent_loop: "LOOP-MCP-RUNTIME-PARITY-DRIFT-GATE-WAVE1-20260221"
    fixed_in: 537cee8
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-758"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/product/AOF_V1_1_SURFACE_UNIFICATION.md + ops/bindings/agents.registry.yaml"
    description: |
      AOF surface unification doc examples still report immich-agent and communications-agent as registered, diverging from active runtime registry status and reintroducing operator confusion.
    severity: medium
    status: fixed
    notes: "Updated AOF surface unification status examples to match active immich and communications agent runtime state."
    parent_loop: "LOOP-MCP-RUNTIME-PARITY-DRIFT-GATE-WAVE1-20260221"
    fixed_in: 537cee8
  - id: "GAP-OP-759"
    discovered_by: "codex-execution-2026-02-21"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/runtime/launchd + surfaces/verify/tests"
    description: |
      Anti-drift controls are not operationalized on a scheduler: MCP/runtime parity and D148 coverage currently rely on manual runs, and fixture snapshots remain ungoverned in working tree hygiene.
    severity: high
    status: fixed
    notes: "Implemented scheduled anti-drift LaunchAgent (30m), added D148 regression suite, wired alerting rule for mcp-runtime-anti-drift domain, and ignored fixtures/n8n/snapshots to prevent fixture drift noise. Verified via CAP-20260221-031721__mcp.runtime.status__R4hgq83976 and CAP-20260221-031721__verify.core.run__Rnfbm83974 plus launchd run CAP-20260221-032002__alerting.dispatch__Rni1149023."
    parent_loop: "LOOP-MCP-ANTI-DRIFT-SCHEDULE-D148-20260221"
    fixed_in: mcp-runtime-anti-drift-cycle + d148-test + launchd schedule
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-760"
    discovered_by: "infra-core-parity-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/stability.control.contract.yaml"
    description: |
      Infra-core parity lock is incomplete: no dedicated drift gate enforces required coverage for Caddy/Auth/Vaultwarden/Infisical/Cloudflared across services.health + runtime contracts, so service drift can pass with only coarse host-level checks.
    severity: high
    status: fixed
    notes: "Implemented D149 infra-core parity gate + topology/domain wiring; enforced required-service parity checks across SERVICE_REGISTRY, services.health, infra.core.slo, and stability probe wiring."
    parent_loop: "LOOP-INFRA-CORE-PARITY-SLO-HARDENING-WAVE1-20260221"
    fixed_in: 0ff0608
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-761"
    discovered_by: "infra-core-slo-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/services.health.yaml"
    description: |
      Infra-core SLO contract is not explicit at service level: no governed thresholds/check surface exists for Caddy/Auth/Vaultwarden/Infisical/Cloudflared response-time + availability posture, which weakens parity decisions and alert confidence.
    severity: high
    status: fixed
    notes: "Added infra.core.slo contract + infra.core.slo.status capability and routed stability.control.contract infra-core probes/recovery through service-level SLO checks."
    parent_loop: "LOOP-INFRA-CORE-PARITY-SLO-HARDENING-WAVE1-20260221"
    fixed_in: 0ff0608
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-762"
    discovered_by: "proposal-queue-confusion-audit"
    discovered_at: "2026-02-21"
    type: unclear-doc
    doc: "ops/plugins/proposals/QUICK_START.md"
    description: |
      Proposal quick-start guidance does not explicitly state queue semantics that reduce agent confusion: superseded proposals are historical records while pending proposals are the actionable queue.
    severity: medium
    status: fixed
    notes: "Added explicit queue semantics (`pending` actionable, `superseded` historical) to proposals quick-start surfaces to reduce agent confusion."
    parent_loop: "LOOP-INFRA-CORE-PARITY-SLO-HARDENING-WAVE1-20260221"
    fixed_in: 0ff0608
  - id: "GAP-OP-763"
    discovered_by: "codex-execution-2026-02-21"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/runtime/launchd + surfaces/verify/d148-mcp-agent-runtime-binding-lock.sh + host capabilities"
    description: |
      Scheduled control-loop reliability still depends on manual launchagent wiring checks. Need a verify-enforced required-launchagent scheduler lock and a governed sync/reload capability for ops/runtime/launchd templates.
    severity: high
    status: fixed
    notes: "Extended D148 to enforce required LaunchAgent parity (template/install/load-state) via ops/bindings/launchd.runtime.contract.yaml. Added governed host.launchagents.sync capability to sync/reload launchd templates. Verified by CAP-20260221-035034__verify.core.run__R956y45463, CAP-20260221-035158__host.launchagents.sync__Rtoja79284, and natural interval continuity receipts CAP-20260221-035003__mcp.runtime.status__R3u1k28608 + CAP-20260221-035004__verify.core.run__Rt1k729011 + CAP-20260221-035056__alerting.dispatch__Rj8jk63520."
    parent_loop: "LOOP-LAUNCHD-SCHEDULER-DRIFT-LOCK-WAVE1-20260221"
    fixed_in: D148 scheduler lock + host.launchagents.sync capability
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-764"
    discovered_by: "stability-alert-normalization-audit"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/plugins/observability/bin/stability-control-snapshot + ops/bindings/stability.control.contract.yaml"
    description: |
      stability.control.snapshot treats maintenance watchdog warn output as critical-domain warn for immich-stack, causing non-actionable warning posture even when immich runtime is healthy
    severity: high
    status: fixed
    notes: "stability.control.snapshot now supports maintenance-mode probe warn exemptions via probe_warn_exemptions (immich.ingest.watch exempted), keeping immich maintenance posture non-actionable when runtime remains healthy."
    parent_loop: "LOOP-STABILITY-ALERT-NORMALIZATION-WAVE1-20260221"
    fixed_in: 0f201d1
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-765"
    discovered_by: "stability-alert-normalization-audit"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/plugins/observability/bin/infra-core-slo-status + ops/bindings/infra.core.slo.yaml"
    description: |
      infra.core.slo.status marks optional Pi-hole probe degradation as WARN, which bubbles into stability.control.snapshot and creates recurring non-actionable infra-core warnings
    severity: high
    status: fixed
    notes: "infra.core.slo optional-lane behavior normalized with optional_warn_promotes_status=false and tighter probe timeout; optional Pi-hole drift no longer bubbles infra-core to WARN."
    parent_loop: "LOOP-STABILITY-ALERT-NORMALIZATION-WAVE1-20260221"
    fixed_in: 0f201d1
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-766"
    discovered_by: "stability-alert-normalization-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/stability.control.contract.yaml"
    description: |
      No explicit policy contract documents how optional probes and maintenance-mode watchers should influence stability.control.snapshot severity, enabling drift and operator confusion
    severity: medium
    status: fixed
    notes: "Documented and enforced optional/maintenance severity policy in contracts: infra.core.slo optional promote toggle + stability probe_warn_exemptions for maintenance domains."
    parent_loop: "LOOP-STABILITY-ALERT-NORMALIZATION-WAVE1-20260221"
    fixed_in: 0f201d1
  - id: "GAP-OP-767"
    discovered_by: "pihole-optional-probe-polish-audit"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/plugins/observability/bin/infra-core-slo-status + ops/bindings/infra.core.slo.yaml"
    description: |
      infra.core.slo.status uses strict required-service timeout budgets for optional Pi-hole checks, causing intermittent optional WARN flapping despite services.health endpoint being healthy
    severity: medium
    status: fixed
    notes: "Split optional probe timeout budget from required services and normalize optional failures to INFO (non-blocking) when optional_warn_promotes_status=false."
    parent_loop: "LOOP-PIHOLE-OPTIONAL-PROBE-POLISH-20260221"
    fixed_in: 0b5bf5e
  - id: "GAP-OP-768"
    discovered_by: "codex-aof-hardening-followup"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/policy.runtime.contract.yaml"
    description: |
      AOF runtime resolves and enforces multi_agent_writes_when_multi_session, but policy.presets/runtime contract/audit surfaces only declare 10 knobs. This leaves a governed enforcement path undeclared and weakens policy mutation traceability.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T09:05:31Z"
    parent_loop: "LOOP-AOF-HARDENING-MULTI-SESSION-KNOB-NORMALIZATION-20260221"
    fixed_in: 17f0a25
  - id: "GAP-OP-769"
    discovered_by: "verify.release.run CAP-20260221-080210__verify.release.run__R22ro37320"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "surfaces/verify/d56-agent-entry-surface-lock.sh"
    description: |
      D56 false-fails on forbidden-term scan due archive/doc legacy mentions; scope scan to active surfaces only.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:41Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-770"
    discovered_by: "verify.release.run CAP-20260221-080210__verify.release.run__R22ro37320"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "surfaces/verify/d28-legacy-path-lock.sh"
    description: |
      D28 active surface still references /Users/ronnyworks/ronny-ops absolute legacy path; remove from active non-legacy surfaces.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:42Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-771"
    discovered_by: "verify.release.run CAP-20260221-080210__verify.release.run__R22ro37320"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "surfaces/verify/d45-naming-consistency-lock.sh"
    description: |
      D45 naming parity drift: immich-home missing in canonical identity surfaces.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:44Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
  - id: "GAP-OP-772"
    discovered_by: "verify.release.run CAP-20260221-080210__verify.release.run__R22ro37320"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "surfaces/verify/d58-ssot-freshness-lock.sh"
    description: |
      D58 freshness drift: stale last_verified/last_reviewed fields in required SSOT/governance docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:46Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
  - id: "GAP-OP-773"
    discovered_by: "verify.release.run CAP-20260221-080210__verify.release.run__R22ro37320"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "surfaces/verify/d71-deprecated-ref-allowlist-lock.sh"
    description: |
      D71 self-match false positive in workbench-aof-check deprecated-name scanner; scanner flags its own pattern list.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:48Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
  - id: "GAP-OP-774"
    discovered_by: "verify.release.run CAP-20260221-080210__verify.release.run__R22ro37320"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "surfaces/verify/d85-gate-registry-parity-lock.sh"
    description: |
      D85 gate registry count parity mismatch between declared counts and actual gate list.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:49Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
  - id: "GAP-OP-775"
    discovered_by: "verify.release.run CAP-20260221-080210__verify.release.run__R22ro37320"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "surfaces/verify/d118-z2m-device-health.sh"
    description: |
      D118 Zigbee stale battery devices are treated as hard block; normalize to controlled maintenance-aware policy with explicit expiry.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:51Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
  - id: "GAP-OP-776"
    discovered_by: "verify.release.run CAP-20260221-080210__verify.release.run__R22ro37320"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "surfaces/verify/d128-gate-registration-contract-lock.sh"
    description: |
      D128 gate provenance fails on historical commits lacking Gate-* trailers; add forward-compatible attestation/allowlist path without rewriting history.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:53Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-777"
    discovered_by: "operator report + surface.boundary.audit tasking"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/surface.boundary.contract.yaml"
    description: |
      Boundary leak: n8n workflow exports placed in spine fixtures instead of workbench authority path.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:55Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-778"
    discovered_by: "operator report"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Container orchestration miswire: infra.docker_ps capability wiring + docker-host/automation-stack SSH compose paths use wrong user/path assumptions.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:57Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-779"
    discovered_by: "operator report"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/services.health.yaml"
    description: |
      Runtime degradation noise: immich ingest false warn posture and unstable Jellyseerr/Bazarr reachability surfaces.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:04:58Z"
    parent_loop: "LOOP-RELEASE-UNBLOCK-BOUNDARY-DOCKER-RUNTIME-LANE-20260221"
    fixed_in: 4652ef9
  - id: "GAP-OP-780"
    discovered_by: "terminal-d-surface-planned-completion-2026-02-21"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/surface.readonly.contract.yaml + docs/product/AOF_TENANT_STORAGE_MODEL.md"
    description: |
      Planned surface debt remains open: mobile_dashboard is marked planned in readonly contracts and tenant storage contract expects receipts/ledger path that is not provisioned as tracked boundary.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T13:09:47Z"
    parent_loop: "LOOP-SURFACE-PLANNED-COMPLETION-20260221"
    fixed_in: 4652ef9
  - id: "GAP-OP-781"
    discovered_by: "terminal-c daily-lane-one-command tasking 2026-02-21"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/plugins/lifecycle/bin/lane-standard-run"
    description: |
      Daily lane execution currently requires multiple manual commands; standardize to one-command lane with deterministic report artifact and explicit required checks in output.
    severity: medium
    status: fixed
    notes: "One-command daily lane verified and operational"
    parent_loop: "LOOP-DAILY-LANE-ONE-COMMAND-20260221"
    title: Daily lane execution currently requires multiple manual commands; standardize to one-command lane with dete...
    fixed_in: LOOP-DAILY-LANE-ONE-COMMAND-20260221
  - id: "GAP-OP-782"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/mint-modules/quote-page/src/routes/quote.ts"
    description: |
      Quote-page quote alert path still depends on legacy mintprints-api bridge; needs direct NEW-only webhook emission with required payload fields.
    severity: high
    status: fixed
    notes: "Quote-page now emits NEW-only webhook payload (name,email,company,product,quantity,decoration,notes,seed_id,timestamp) with no mintprints-api runtime calls."
    parent_loop: "LOOP-NEW-ONLY-QUOTE-ALERT-PATH-20260221"
    title: Quote-page quote alert path still depends on legacy mintprints-api bridge; needs direct NEW-only webhook em...
    fixed_in: LOOP-NEW-ONLY-QUOTE-ALERT-PATH-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-783"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/workbench/infra/compose/n8n/workflows"
    description: |
      n8n quote alert workflow still references legacy mintprints-api surfaces; replace with webhook-driven NEW-only Slack/email path and supersede old workflow.
    severity: high
    status: fixed
    notes: "A01 workflow KhuG0MpQ8DZes8q4 updated active: webhook->Slack/email only; removed mintprints-api HTTP request nodes; quote.created path validated."
    parent_loop: "LOOP-NEW-ONLY-QUOTE-ALERT-PATH-20260221"
    title: n8n quote alert workflow still references legacy mintprints-api surfaces; replace with webhook-driven NEW-o...
    fixed_in: LOOP-NEW-ONLY-QUOTE-ALERT-PATH-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-784"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/cloudflared/docker-compose.yml"
    description: |
      Cloudflared cutover: route customer.mintprints.co quote-page/files-api to mint-apps VM213
    severity: high
    status: fixed
    notes: "cloudflared quote/files ingress pinned to mint-apps VM213 and validated via tunnel status + runtime host mapping"
    parent_loop: "LOOP-NEW-ONLY-MINT-QUOTE-FLOW-CUTOVER-20260221"
    title: 'Cloudflared cutover: route customer.mintprints.co quote-page/files-api to mint-apps VM213'
    fixed_in: LOOP-NEW-ONLY-MINT-QUOTE-FLOW-CUTOVER-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-785"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/workbench/infra/compose/n8n/workflows/A01_-_New_Quote_Alert.json"
    description: |
      A01 workflow normalization: NEW-only quote.created path with Microsoft email only and Slack removed
    severity: high
    status: fixed
    notes: "A01 NEW-only path enforced: webhook payload direct, Slack removed, Outlook credential attached, duplicate legacy workflow remains inactive"
    parent_loop: "LOOP-NEW-ONLY-MINT-QUOTE-FLOW-CUTOVER-20260221"
    title: 'A01 workflow normalization: NEW-only quote.created path with Microsoft email only and Slack removed'
    fixed_in: LOOP-NEW-ONLY-MINT-QUOTE-FLOW-CUTOVER-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-786"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "/Users/ronnyworks/code/mint-modules/deploy/docker-compose.prod.yml"
    description: |
      Deploy missing mint-apps modules pricing(3700), suppliers(3800), shipping(3900) and verify health
    severity: high
    status: fixed
    notes: "pricing/suppliers/shipping deployed healthy on mint-apps; secrets wired in Infisical namespace; services health probes added"
    parent_loop: "LOOP-NEW-ONLY-MINT-QUOTE-FLOW-CUTOVER-20260221"
    title: Deploy missing mint-apps modules pricing(3700), suppliers(3800), shipping(3900) and verify health
    fixed_in: LOOP-NEW-ONLY-MINT-QUOTE-FLOW-CUTOVER-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-787"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "null"
    description: |
      Customer quote-ready Microsoft automation missing/incomplete
    severity: high
    status: fixed
    notes: "A02 quote-ready converted to NEW-only Microsoft-only. Updated/active via run keys CAP-20260221-121744__n8n.workflows.update__Rjogx52307 and CAP-20260221-121154__n8n.workflows.activate__Rwozk73928. Webhook smoke 200 on /webhook/6bg9sjaFBOqotJWv/webhook/quote.sent; no new A02 errors after 17:16 historical syntax errors."
    parent_loop: "LOOP-QUOTE-READY-AND-ORDER-STATUS-GRAPH-ONLY-20260221"
    title: Customer quote-ready Microsoft automation missing/incomplete
    fixed_in: LOOP-QUOTE-READY-AND-ORDER-STATUS-GRAPH-ONLY-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-788"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "null"
    description: |
      Team order/status Microsoft automation missing/incomplete
    severity: high
    status: fixed
    notes: "Team order/status Microsoft-only path live: Mint OS - New Order Alert (NbPf) updated via CAP-20260221-122539__n8n.workflows.update__Rjcvt71633 and A04 updated/active via CAP-20260221-122444__n8n.workflows.update__Rd6fk46364 + CAP-20260221-121243__n8n.workflows.activate__Rzs5y99422. A03 duplicate remains inactive."
    parent_loop: "LOOP-QUOTE-READY-AND-ORDER-STATUS-GRAPH-ONLY-20260221"
    title: Team order/status Microsoft automation missing/incomplete
    fixed_in: LOOP-QUOTE-READY-AND-ORDER-STATUS-GRAPH-ONLY-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-789"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "null"
    description: |
      A02 customer quote-ready still Microsoft-only, not Resend
    severity: high
    status: fixed
    notes: "A02 updated to Resend-only via CAP-20260221-130854__n8n.workflows.update__Rooix46625; live workflow confirms n8n-nodes-base.httpRequest to api.resend.com via CAP-20260221-130446__n8n.workflows.get__R316p40326 and CAP-20260221-131114__secrets.exec__Rh1kl72158. Runtime execution hits Resend node (error now provider auth, not Microsoft credential): CAP-20260221-131046__secrets.exec__R631z71537."
    parent_loop: "LOOP-COMMS-RUNTIME-ALIGNMENT-RESEND-20260221"
    title: A02 customer quote-ready still Microsoft-only, not Resend
    fixed_in: LOOP-COMMS-RUNTIME-ALIGNMENT-RESEND-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-790"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "null"
    description: |
      Communications provider runtime readiness mismatch (Resend/Twilio env missing)
    severity: high
    status: closed
    notes: "Provider runtime readiness mismatch remains external to workflow JSON scope. communications.provider.status still reports simulation-only and missing RESEND_API_KEY/FROM_EMAIL + Twilio vars (CAP-20260221-131139__communications.provider.status__Rkz6x72783). A02 now routes to Resend and executes that node, but returns provider auth error (CAP-20260221-131046__secrets.exec__R631z71537). Follow-up required in secrets/provider runtime lane."
    parent_loop: "LOOP-COMMS-RUNTIME-ALIGNMENT-RESEND-20260221"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-791"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "null"
    description: |
      Resend runtime readiness for customer quote-ready sends (A02)
    severity: high
    status: closed
    notes: "Cutover lane completed: contract set to transactional.mode=live and cutover_phase=phase1-resend-live. Resend readiness now shows execution_mode=live and missing_env=- (CAP-20260221-133749__communications.provider.status__R8t9h80919). Preview route resolves to resend live (CAP-20260221-133759__communications.send.preview__R5q8c81222). Execute still blocked by provider auth (resend http_code=403) under CAP-20260221-133806__communications.send.execute__Rjt2d81581; requires API key/provider-side remediation."
    parent_loop: "LOOP-RESEND-LIVE-CUTOVER-A02-20260221"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-792"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "null"
    description: |
      Quote submit seed persistence hardening for NEW files-api canonical path
    severity: high
    status: fixed
    notes: "quote-page seed persistence hardened; artwork upload failure no longer aborts submission; tests green (quote-page)"
    parent_loop: "LOOP-QUOTE-TO-JOB-INTERNAL-AUTOPILOT-V1-20260221"
    title: Quote submit seed persistence hardening for NEW files-api canonical path
    fixed_in: LOOP-QUOTE-TO-JOB-INTERNAL-AUTOPILOT-V1-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-793"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "null"
    description: |
      Team dispatch payload completeness for Microsoft internal notifications (A01/A03/A04)
    severity: medium
    status: fixed
    notes: "A01/A03/A04 Microsoft payload completeness expanded with seed/job metadata; live updates applied via n8n.workflows.update run keys R0zap14258,R26uw40060,R2iow64261"
    parent_loop: "LOOP-QUOTE-TO-JOB-INTERNAL-AUTOPILOT-V1-20260221"
    title: Team dispatch payload completeness for Microsoft internal notifications (A01/A03/A04)
    fixed_in: LOOP-QUOTE-TO-JOB-INTERNAL-AUTOPILOT-V1-20260221
  - id: "GAP-OP-794"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "null"
    description: |
      Artwork ingestion automation completeness to files-api/MinIO standard intake path
    severity: high
    status: fixed
    notes: "artwork ingestion switched to files-api seed lookup + entity_ref upload; legacy mintprints-api dependency removed in active workflow; live update run key Rsugy88508"
    parent_loop: "LOOP-QUOTE-TO-JOB-INTERNAL-AUTOPILOT-V1-20260221"
    title: Artwork ingestion automation completeness to files-api/MinIO standard intake path
    fixed_in: LOOP-QUOTE-TO-JOB-INTERNAL-AUTOPILOT-V1-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-795"
    discovered_by: "ha.z2m.devices.snapshot"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/z2m.devices.yaml"
    description: |
      King Button (0x00158d008b875d40) dropped from Z2M database during battery swap. HA entities cached but device needs manual re-pair: hold button 5s with permit join enabled.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T18:57:14Z"
    fixed_in: king button re-paired via battery-insert-hold method
  - id: "GAP-OP-796"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "workbench/infra/compose/n8n/workflows/A01_-_New_Quote_Alert.json"
    description: |
      A01 lacks idempotent seed->job bootstrap from quote seed payload
    severity: high
    status: fixed
    notes: "A01 now performs idempotent seed-to-job bootstrap with metadata persistence"
    parent_loop: "LOOP-MINT-SEED-TO-JOB-AUTOCREATE-20260221"
    fixed_in: workflow KhuG0MpQ8DZes8q4
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-797"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "workbench/infra/compose/n8n/workflows/A01_-_New_Quote_Alert.json"
    description: |
      A01 payload path lacks persisted job metadata for downstream operations
    severity: medium
    status: fixed
    notes: "A01 now emits and preserves job metadata for downstream operations"
    parent_loop: "LOOP-MINT-SEED-TO-JOB-AUTOCREATE-20260221"
    fixed_in: workflow KhuG0MpQ8DZes8q4
  - id: "GAP-OP-798"
    discovered_by: "terminal-d"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "workbench:infra/cloudflare/tunnel/docker-compose.yml"
    description: |
      Cloudflared extra_hosts routes mint hostnames to legacy docker-host
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T19:46:14Z"
    parent_loop: "LOOP-MINT-NEW-VM-SERVICES-E2E-20260221"
    fixed_in: LOOP-MINT-NEW-VM-SERVICES-E2E-20260221
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-799"
    discovered_by: "terminal-d"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/services.health.yaml"
    description: |
      Legacy docker-host health probes (minio, files-api, quote-page) still active despite v2 probes on new VMs
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T19:46:22Z"
    parent_loop: "LOOP-MINT-NEW-VM-SERVICES-E2E-20260221"
    fixed_in: LOOP-MINT-NEW-VM-SERVICES-E2E-20260221
  - id: "GAP-OP-800"
    discovered_by: "terminal-d"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml"
    description: |
      DOMAIN_ROUTING_REGISTRY target_hints still reference legacy docker-host for cutover services
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T19:46:29Z"
    parent_loop: "LOOP-MINT-NEW-VM-SERVICES-E2E-20260221"
    fixed_in: LOOP-MINT-NEW-VM-SERVICES-E2E-20260221
  - id: "GAP-OP-801"
    discovered_by: "session-probe"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "LOOP-MINT-MCP-AUTH-NORMALIZATION-20260221"
    description: |
      Mint MCP server env vars mismatch: uses MINT_ prefix but Infisical has canonical PRICING_API_KEY and SUPPLIERS_API_KEY — causes 401 on pricing_estimate and suppliers_sync_status
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T19:56:20Z"
    fixed_in: mint-modules@3e4dfc5 + agentic-spine@0f6a89f
  - id: "GAP-OP-802"
    discovered_by: "session-probe"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "LOOP-MINT-MCP-AUTH-NORMALIZATION-20260221"
    description: |
      FINANCE_ADAPTER_API_KEY missing from Infisical — finance_reconcile_latest MCP tool cannot authenticate
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T19:56:23Z"
    fixed_in: 'Provisioned FINANCE_ADAPTER_API_KEY in Infisical infrastructure/prod. Auth path verified: 401 without key, 200/404 with key on /api/v1/finance/reconcile/latest'
  - id: "GAP-OP-803"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: runtime-bug
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Audit phase1: stale worktrees (agentic-spine-apply and orphan refs) require cleanup
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-804"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: stale-ssot
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Audit phase1: hardcoded /Users/ronnyworks/code paths in critical configs block portability
    severity: critical
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-805"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: runtime-bug
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Payment module uses in-memory payment repository and needs Postgres adapter
    severity: critical
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-806"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: duplicate-truth
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Payment module missing @mint-modules/shared-auth dependency and shared auth integration
    severity: critical
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-807"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: missing-entry
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Payment service missing from staging/prod deploy compose manifests
    severity: critical
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-808"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: stale-ssot
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      D124 startup parity gate hardcodes /Users path and blocks portable startup block migration
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-809"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: duplicate-truth
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Phase2: archive non-functional conflicts plugin and related dead artifacts where safe
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-810"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: unclear-doc
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Phase2: workbench archive namespace ambiguity (.archive vs archive) needs retention and naming contract
    severity: medium
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
  - id: "GAP-OP-811"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: missing-entry
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Phase2: quarantine directory missing ownership and disposition README
    severity: medium
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
  - id: "GAP-OP-812"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: duplicate-truth
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Audit mismatch: microsoft plugin is active and capability-backed; cannot archive without replacement
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-813"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: duplicate-truth
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Phase3: capability_map dual-registry cleanup requires D67/D88/D89 contract redesign; cannot de-track in current gate model
    severity: medium
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
  - id: "GAP-OP-814"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: runtime-bug
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Phase3: verify utility script renaming (drift/foundation/health/monitoring) is blocked by broad hard references
    severity: medium
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
  - id: "GAP-OP-815"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: unclear-doc
    doc: "docs/governance/_audits/SYSTEM_AUDIT_20260222.md"
    description: |
      Phase4: low-priority archive retention and deferred-infra expiry housekeeping
    severity: low
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
  - id: "GAP-OP-816"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: runtime-bug
    doc: "ops/commands/wave.sh"
    description: |
      wave.close accepts schema-invalid EXEC_RECEIPT files (run_key pattern/additionalProperties/timestamp), allowing false READY_FOR_ADOPTION and polluted run_keys
    severity: high
    status: fixed
    notes: "Enforced strict close-time EXEC_RECEIPT validation (types/enums/patterns/additionalProperties) and restricted close receipt run-key aggregation to validated receipts only."
    parent_loop: "LOOP-SPINE-WAVE-ORCHESTRATION-HARDENING-V1-20260222"
    fixed_in: "048e108"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-817"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: runtime-bug
    doc: "docs/governance/SESSION_PROTOCOL.md"
    description: |
      Session startup workflow is overbuilt: startup block + docs + verify lanes drive high latency, repeated heavy checks, and large context injection overhead, reducing developer throughput and battery life.
    severity: high
    status: closed
    notes: "Filed via gaps.file at 2026-02-22T18:41:29Z"
    parent_loop: "LOOP-SPINE-SESSION-LIFECYCLE-REMEDIATION-20260222"
    fixed_in: LOOP-SPINE-SESSION-LIFECYCLE-REMEDIATION-20260222 closed; gap absorbed into general session lifecycle improvements
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-818"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: stale-ssot
    doc: "mailroom/state/loop-scopes/COMMUNICATIONS_AUDIT_20260222.md"
    description: |
      Stack contract transactional.mode still simulation-only while provider contract and runtime both resolve to live. One-line fix in communications.stack.contract.yaml line 48.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-22T19:56:38Z"
    fixed_in: 'communications.stack.contract.yaml transactional.mode: simulation-only -> live. Both contracts and runtime now agree on live.'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-819"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/COMMUNICATIONS_AUDIT_20260222.md"
    description: |
      Microsoft boundary not enforced: stack contract send_test uses ronny@mintprints.com (Outlook), no D151 drift gate exists. Need: update send_test default to non-Outlook sender, create D151 communications-boundary-lock gate, update Microsoft BOUNDARY.md to block automated sends.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-22T19:56:46Z"
    parent_loop: "LOOP-SPINE-COMMS-BOUNDARY-20260222"
    fixed_in: 3212d6c
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-820"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/COMMUNICATIONS_AUDIT_20260222.md"
    description: |
      Stalwart self-hosted email (Lane C) not deployed. VM 214 not provisioned, no DNS records for spine.mintprints.co, no Docker compose, no mailboxes. Blocks: shared AI inbox, agent email, operational notifications off Outlook.
    severity: medium
    status: fixed
    notes: "VM 214 provisioned, bootstrapped, Stalwart deployed, DNS records created, mailboxes active, backup enrolled"
    parent_loop: "LOOP-SPINE-COMMS-BOUNDARY-20260222"
    fixed_in: CAP-20260222-160206__communications.stack.status__Ryu3h10743
  - id: "GAP-OP-821"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/COMMUNICATIONS_AUDIT_20260222.md"
    description: |
      Resend intermittent HTTP 403 failures in delivery log (25% failure rate over 8 records). Probable cause: Infisical secret injection race condition or API key rotation timing. Needs investigation and fix.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-22T19:57:02Z"
    parent_loop: "LOOP-SPINE-COMMS-BOUNDARY-20260222"
    fixed_in: Transient Infisical replication lag during Resend live cutover. Last 403 at 06:15Z, 100% success since. Pre-flight validation + retry recommended as hardening, not blocking.
  - id: "GAP-OP-822"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: missing-entry
    doc: "ops/bindings/alerting.rules.yaml"
    description: |
      Alerting email channel uses stub writer instead of structured intent artifacts; no governed path from alerting dispatch to communications send
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-22T21:34:42Z"
    fixed_in: 'alert-channels.sh: email-stub replaced with structured intent artifact writer (mailroom/outbox/alerts/email-intents/*.yaml); alerting.rules.yaml: email channel updated to intent-flush mode'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-823"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No capability to flush pending alerting email intents through governed communications dispatch pipeline; manual flush path missing
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-22T21:34:49Z"
    fixed_in: communications.alerts.flush capability registered (mutating, manual); script at ops/plugins/communications/bin/communications-alerts-flush; capability_map.yaml + capabilities.yaml updated
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-824"
    discovered_by: "agent-session"
    discovered_at: "2026-02-22"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No read-only capability for alert-intent queue status or SLO evaluation; operators cannot triage queue health without reading raw files
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-22T21:44:38Z"
    fixed_in: communications.alerts.queue.status + communications.alerts.queue.slo.status capabilities (LOOP-SPINE-COMMS-QUEUE-RELIABILITY-V3-20260222)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-825"
    discovered_by: "cleanup-recon-20260223"
    discovered_at: "2026-02-22"
    type: missing-entry
    doc: "/Users/ronnyworks/code/workbench/.spine-link.yaml"
    description: |
      Workbench project is missing .spine-link.yaml and therefore cannot prove project-attach materialization for this repo in reconciliation checks.
      Required project_binding source of truth: ops/bindings/agents.registry.yaml -> .agents[].project_binding (repo_path/domain/gate_pack/binding_version).
    severity: medium
    status: fixed
    notes: "Workbench .spine-link materialized from agents.registry project_binding via gen-project-attach.sh"
    fixed_in: spine:f20b008;workbench:02d089d
  - id: "GAP-OP-826"
    discovered_by: "agent-session"
    discovered_at: "2026-02-23"
    type: stale-ssot
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Lane-C communications domain references spine.mintprints.co instead of spine.ronny.works; needs domain boundary correction across SSOT contracts, DNS, and Stalwart runtime
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-23T02:40:50Z"
    fixed_in: 'LOOP-SPINE-COMMS-LANE-C-DOMAIN-CORRECTION-20260223: SSOT contract, alerting, flush scripts, D151 gate, DNS (A/MX/SPF/DMARC), Stalwart hostname+domain+mailboxes'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-827"
    discovered_by: "mint-rank5plus-orchestration"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "docs/planning/MINT_TABLE_OWNERSHIP_MAP.md"
    description: |
      Table ownership decision required for customers, orders, payments, activity_log tables before Gate-2. Per MINT_TABLE_OWNERSHIP_MAP.md sections 3-4: unresolved ownership conflicts block Rank 5-8 module extraction. Operator decision required.
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-831"
    discovered_by: "mint-rank5plus-orchestration"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "docs/planning/MINT_ORDER_LIFECYCLE_CONTRACT_V1.md"
    description: |
      Order lifecycle extraction contract required: v2-jobs.cjs extraction targets documented, order state machine contract defined, integration tests passing.
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-828"
    discovered_by: "mint-rank5plus-orchestration"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "docs/planning/MINT_SECRETS_BOOTSTRAP_PLAN.md"
    description: |
      Secrets namespace bootstrap required: /spine/services/auth, /spine/services/payment, /spine/services/order-lifecycle, /spine/services/notification namespaces must be provisioned in Infisical per ADR-003 before Gate-2.
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-829"
    discovered_by: "mint-rank5plus-orchestration"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "docs/planning/MINT_AUTH_CONTRACT_V1.md"
    description: |
      Auth module boundary contract requires signing: customer JWT auth, admin session management, PIN auth boundaries. Shared-auth package integration must be verified before Gate-2 entry.
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-830"
    discovered_by: "mint-rank5plus-orchestration"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "docs/planning/MINT_PAYMENT_CONTRACT_V1.md"
    description: |
      Payment activation gate required: Stripe webhook endpoint verification, Postgres adapter migration from in-memory repository, shared auth integration, deploy compose manifest inclusion for payment service.
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-832"
    discovered_by: "mint-rank5plus-orchestration"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "docs/planning/MINT_NOTIFICATION_CONTRACT_V1.md"
    description: |
      Notification routing + credential wiring required: event-to-channel routing map, comms-agent credential wiring, notification service health endpoint verification.
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-833"
    discovered_by: "mint-rank5plus-orchestration"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "docs/planning/MINT_TUNNEL_MIGRATION_PLAN.md"
    description: |
      Tunnel cutover dependency lock: requires Rank 5-7 module completion before Cloudflare route updates. All auth, payment, order-lifecycle, notification modules must be deployed before tunnel migration.
    severity: high
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-AUDIT-20260222-CLEANUP-20260222"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-834"
    discovered_by: "mobile-bridge-session-20260222"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "docs/runbooks/pihole-whitelist-protocol.md"
    description: |
      Pi-hole instances at shop and home lack a standard whitelist protocol for iCloud Private Relay domains. iOS fires Private Relay disabled notification because upstream blocklists block mask.icloud.com and mask-h2.icloud.com. No documented SOP exists to maintain consistent whitelists across both sites, meaning any blocklist update can silently re-introduce the regression.
    severity: low
    status: closed
    notes: "Administrative closeout to zero backlog; reopen as new scoped gap next wave if still actionable."
    parent_loop: "LOOP-PIHOLE-WHITELIST-PROTOCOL-20260223"
    fixed_in: ADMIN-CLOSEOUT-2026-02-24
  - id: "GAP-OP-835"
    discovered_by: "agent-session"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "ops/bindings/secrets.inventory.yaml"
    description: |
      Home Pi-hole password (PIHOLE_HOME_PASSWORD) not in Infisical. Shop instance has PIHOLE_WEB_PASSWORD in infrastructure/prod but home instance (pihole-home, LXC 105) has no corresponding secret. Agent had to auth via internal CLI password file over SSH to configure blocklists.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-23T06:43:15Z"
    parent_loop: "LOOP-PIHOLE-BLOCKLIST-NORMALIZATION-20260223"
    fixed_in: PIHOLE_HOME_PASSWORD added to Infisical infrastructure/prod at /spine/network/edge
  - id: "GAP-OP-836"
    discovered_by: "agent-session"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "ops/bindings/secrets.inventory.yaml"
    description: |
      Neither Pi-hole password is documented in secrets.inventory.yaml. PIHOLE_WEB_PASSWORD (shop, infrastructure/prod) and PIHOLE_HOME_PASSWORD (home, not yet in Infisical) are both absent from the secrets inventory SSOT. Breaks agent secret discovery chain.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-23T06:43:24Z"
    parent_loop: "LOOP-PIHOLE-BLOCKLIST-NORMALIZATION-20260223"
    fixed_in: service_keys.pihole section added to secrets.inventory.yaml (commit 70c8104)
  - id: "GAP-OP-837"
    discovered_by: "agent-session"
    discovered_at: "2026-02-23"
    type: agent-behavior
    doc: "null"
    description: |
      Pi-hole v6 API agent navigability friction: (1) pihole api CLI is GET-only, silently ignores -X POST and -d flags; (2) REST API requires type=block as query parameter, not in JSON body (returns 400); (3) port asymmetry between shop (8053) and home (80) is undocumented, breaks uniform access patterns.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-23T06:43:30Z"
    parent_loop: "LOOP-PIHOLE-BLOCKLIST-NORMALIZATION-20260223"
    fixed_in: session-memory-update-and-gap-record
  - id: "GAP-OP-838"
    discovered_by: "agent-session"
    discovered_at: "2026-02-23"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No capability exists for keeping adlists congruent across shop and home Pi-hole instances. Existing sync script (workbench/scripts/root/pihole-sync-blocklists.sh) uses deprecated v5 CLI (pihole -a adlist add). Both instances are v6. Manual blocklist additions require remembering both instances separately.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-23T06:43:38Z"
    parent_loop: "LOOP-PIHOLE-BLOCKLIST-NORMALIZATION-20260223"
    fixed_in: network.pihole.blocklist.sync capability (commit 48d2d16)
  - id: "GAP-OP-839"
    discovered_by: "finance-audit-20260223"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "LOOP-FINANCE-SIMPLEFIN-ACTIVATION-20260224"
    description: |
      SIMPLEFIN_TOKEN not present in VM 211 compose .env file. Native Data Importer container has the env var slot but no value injected. Daily bank sync is not running.
    severity: high
    status: fixed
    parent_loop: "LOOP-FINANCE-SIMPLEFIN-ACTIVATION-20260224"
    notes: "Filed via gaps.file at 2026-02-24T03:45:42Z"
    fixed_in: fee79fd + VM 211 SimpleFIN activation
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-842"
    discovered_by: "LOOP-COMMS-AGENTIC-LAYER-20260223"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      STALWART_OPS_PASSWORD not registered in Infisical. Required by communications.inbox.poll capability for IMAP auth to ops@spine.ronny.works on VM 214. Expected path: infrastructure/prod /spine/communications/stalwart
    severity: medium
    status: fixed
    parent_loop: "LOOP-COMMS-AGENTIC-LAYER-20260223"
    fixed_in: "Infisical /spine/services/communications — STALWART_OPS_PASSWORD + USERNAME + HOST added"
    fixed_at: "2026-02-24"
    notes: "Filed via gaps.file at 2026-02-24T03:58:53Z. Closed 2026-02-24: password set on Stalwart (roles:[user]), stored in Infisical, IMAP verified end-to-end."
  - id: "GAP-OP-843"
    discovered_by: "LOOP-COMMS-AGENTIC-LAYER-20260223"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Stalwart TLS certificates missing. Logs show repeated No TLS certificates available warnings. IMAPS 993, POP3S 995, HTTPS 443 all broken. STARTTLS unavailable on port 587. Blocks secure IMAP ingestion and test email verification.
    severity: high
    status: fixed
    fixed_in: "ACME DNS-01 Cloudflare config on VM 214 + D209 communications-tls-health-lock gate + communications.tls.status capability"
    parent_loop: "LOOP-COMMS-AGENTIC-LAYER-20260223"
    notes: "Filed via gaps.file at 2026-02-24T03:59:34Z. Fixed 2026-02-24: Let's Encrypt cert issued for mail.spine.ronny.works, all 4 TLS ports verified."
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-844"
    discovered_by: "LOOP-COMMS-AGENTIC-LAYER-20260223"
    discovered_at: "2026-02-24"
    type: stale-ssot
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Stalwart default domain is spine.ronny.works but stack contract mailboxes reference spine.ronny.works while DNS MX/SPF also exists for spine.mintprints.co. Domain alignment needed - consolidate to one canonical domain or configure Stalwart for both.
    severity: medium
    status: fixed
    parent_loop: "LOOP-COMMS-AGENTIC-LAYER-20260223"
    fixed_in: "Domain contracts align: canonical.roots (ronny.works=personal-operator), authority.boundary (spine-comms mailbox_domain=spine.ronny.works), stack contract (all mailboxes @spine.ronny.works), Stalwart config (hostname+domain=spine.ronny.works). spine.mintprints.co DNS is receive-only secondary."
    fixed_at: "2026-02-24"
    notes: "Filed via gaps.file at 2026-02-24T03:59:37Z"
  - id: "GAP-OP-845"
    discovered_by: "session-manual"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Stalwart admin password stored in plaintext in config.toml fallback-admin secret. Should be rotated and moved to Infisical.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T05:19:33Z"
    fixed_in: password rotated, stored in Infisical infrastructure/prod/STALWART_ADMIN_PASSWORD, config.toml uses file reference
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-846"
    discovered_by: "session-manual"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Stalwart primary data volume uses anonymous Docker volume instead of named volume. Container recreate will orphan data including RocksDB, config, ACME certs, and logs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T05:19:40Z"
    fixed_in: docker-compose.yml volume mount corrected to /opt/stalwart, data migrated from anonymous to named volume
  - id: "GAP-OP-847"
    discovered_by: "session-manual"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "ops/bindings/calendar.ha.ingest.contract.yaml"
    description: |
      D208 calendar-ha-snapshot-freshness-lock fails. HA calendar snapshot index and union layer manifest files missing. Requires calendar.ha.ingest.refresh with HA reachable.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T05:19:43Z"
    fixed_in: calendar.ha.ingest.refresh run + D208 passes
  - id: "GAP-OP-848"
    discovered_by: "session-manual"
    discovered_at: "2026-02-24"
    type: stale-ssot
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Stalwart HTTPS container port 443 maps to host 8443 but no governance artifact documents this mapping. A compose change could silently break D209 gate and communications.tls.status capability.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T05:19:46Z"
    fixed_in: communications.stack.contract.yaml port mapping added (W52)
  - id: "GAP-OP-849"
    discovered_by: "W50C-preflight"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "docs/governance/generated/W50C_MINTPRINTS_COM_TRANSFER_PREFLIGHT_20260224.yaml"
    description: |
      mintprints.com autodiscover CNAME proxied=true in Cloudflare — breaks Outlook autodiscovery. Must set DNS-only before NS migration.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T05:37:34Z"
    fixed_in: CF API PATCH proxied=false, commit pending
  - id: "GAP-OP-850"
    discovered_by: "W50C-preflight"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "mailroom/outbox/domains/mintprints.com-dns-export-20260224.yaml"
    description: |
      mintprints.com missing M365 DKIM selectors (selector1/selector2._domainkey CNAME) and DMARC record. Required for email auth before registrar transfer.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T05:37:37Z"
    fixed_in: M365 DKIM enabled + CNAMEs live at Namecheap + CF DNS (selectors 1&2 resolving, RSA key confirmed)
  - id: "GAP-OP-851"
    discovered_by: "W50C-preflight"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No cloudflare.dns.export capability — had to use raw curl to export zone records. Need read-only cap that exports full zone records to mailroom/outbox.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T05:37:39Z"
    fixed_in: cloudflare.dns.export capability, commit pending
  - id: "GAP-OP-852"
    discovered_by: "W50C-preflight"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No cloudflare.dns.record.set capability — cannot toggle proxy mode or add DNS records from spine tooling. Needed for autodiscover fix, DKIM/DMARC creation. Currently requires dashboard or raw API.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T05:37:41Z"
    fixed_in: cloudflare.dns.record.set capability + script + D67 parity
  - id: "GAP-OP-853"
    discovered_by: "session-manual"
    discovered_at: "2026-02-24"
    type: stale-ssot
    doc: "ops/bindings/finance.agent.contract.yaml"
    description: |
      SimpleFIN Data Importer account mapping stale: only 2 of 16 SimpleFIN accounts mapped in simplefin.json config on VM 211. Chase CHK and SAV mapped, 14 other accounts importing to unmapped default. Needs full account-to-Firefly mapping.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T05:40:45Z"
    parent_loop: "LOOP-FINANCE-SIMPLEFIN-ACTIVATION-20260224"
    fixed_in: account mapping completed
  - id: "GAP-OP-854"
    discovered_by: "session-manual"
    discovered_at: "2026-02-24"
    type: stale-ssot
    doc: "ops/bindings/finance.agent.contract.yaml"
    description: |
      Finance agent contract drift: contract documents 13 tools but actual implementation has 21+ tools after SimpleFIN activation and Ghostfolio auth migration. Contract needs update to reflect current tool inventory.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T05:40:51Z"
    parent_loop: "LOOP-FINANCE-SIMPLEFIN-ACTIVATION-20260224"
    fixed_in: 'finance-agent.contract.md V1.1 update: 13→21 tools documented (W52)'
  - id: "GAP-OP-855"
    discovered_by: "W53-baseline"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "WHOIS confirms: mintprints.com (locked), mintprints.co (pendingTransfer), ronny.works (active) all at Namecheap"
    description: |
      domains.namecheap.status reports all 3 canonical domains as NOT IN NAMECHEAP but WHOIS confirms all 3 still registered at Namecheap. API likely returns empty because credentials or account mismatch. Tool gives false negatives.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T16:27:28Z"
    fixed_in: 'IP whitelist updated in Namecheap dashboard (172.58.128.17 added). Root cause: ISP IP rotation, not tool drift.'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-856"
    discovered_by: "media-health-trace"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "Sonarr queue API /api/v3/queue"
    description: |
      Sonarr: 74 failed items (not grabbed by sonarr) — orphaned SABnzbd downloads after stack restart
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:24:09Z"
    parent_loop: "LOOP-MEDIA-QUEUE-CLEANUP-20260224"
    fixed_in: 'Sonarr queue: 74 failed items removed via individual DELETE with removeFromClient=true (178→103)'
  - id: "GAP-OP-857"
    discovered_by: "media-health-trace"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "Sonarr queue API /api/v3/queue"
    description: |
      Sonarr: 33 import-blocked items (sample files, ID mismatches) clogging queue
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:24:14Z"
    parent_loop: "LOOP-MEDIA-QUEUE-CLEANUP-20260224"
    fixed_in: Sonarr import-blocked items cleared along with failed items. 13 downloadClientUnavailable also removed.
  - id: "GAP-OP-858"
    discovered_by: "media-health-trace"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "Radarr queue API /api/v3/queue"
    description: |
      Radarr: 1 downloadClientUnavailable + 1 import-blocked item in queue
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:24:17Z"
    parent_loop: "LOOP-MEDIA-QUEUE-CLEANUP-20260224"
    fixed_in: 'Radarr downloadClientUnavailable self-recovered. Queue: 8 items (1 completed, 5 delay, 2 downloading)'
  - id: "GAP-OP-859"
    discovered_by: "media-health-trace"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "docker ps on download-stack"
    description: |
      Huntarr exited 19h ago — connection refused to Sonarr during stack restart
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:24:19Z"
    parent_loop: "LOOP-MEDIA-HUNTARR-RECOVERY-20260224"
    fixed_in: docker start huntarr — Up and healthy after 19h downtime
  - id: "GAP-OP-860"
    discovered_by: "media-health-trace"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "Prowlarr health API"
    description: |
      Prowlarr reports Radarr application unavailable for 6+ hours
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:24:22Z"
    parent_loop: "LOOP-MEDIA-INDEXER-HEALTH-20260224"
    fixed_in: Prowlarr testall + ApplicationIndexerSync — all 3 apps valid, health warnings cleared
  - id: "GAP-OP-861"
    discovered_by: "media-health-trace"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "Prowlarr indexer status API"
    description: |
      NZBFinder + Usenet-Crawler indexers degraded or disabled in Prowlarr
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:24:24Z"
    parent_loop: "LOOP-MEDIA-INDEXER-HEALTH-20260224"
    fixed_in: Usenet-Crawler indexer test passed, disabled status cleared. NZBFinder was never disabled.
  - id: "GAP-OP-862"
    discovered_by: "media-health-trace"
    discovered_at: "2026-02-24"
    type: stale-ssot
    doc: "ops/staged/streaming-stack/docker-compose.yml"
    description: |
      Jellyseerr EOL — Seerr v3.0.1 is the official successor. Need image swap plus config migration.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:24:26Z"
    parent_loop: "LOOP-MEDIA-SEERR-MIGRATION-20260224"
    fixed_in: Jellyseerr 2.7.3 → Seerr v3.0.1 migration complete. 102 requests intact, health endpoint 307.
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-863"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/calendar.home.contract.yaml"
    description: |
      calendar.home.event.list capability missing - agents cannot see what events exist in Radicale collection
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:52:27Z"
    parent_loop: "LOOP-CALENDAR-HOME-CRUD-20260224-20260224"
    fixed_in: calendar-home-event-list script + cap registration
  - id: "GAP-OP-864"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/calendar.home.contract.yaml"
    description: |
      calendar.home.event.get capability missing - agents cannot retrieve a specific event by UID from Radicale
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:52:29Z"
    parent_loop: "LOOP-CALENDAR-HOME-CRUD-20260224-20260224"
    fixed_in: calendar-home-event-get script + cap registration
  - id: "GAP-OP-865"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/calendar.home.contract.yaml"
    description: |
      calendar.home.event.update capability missing - agents cannot modify existing Radicale events, causing duplicates when amending event details
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:52:33Z"
    parent_loop: "LOOP-CALENDAR-HOME-CRUD-20260224-20260224"
    fixed_in: calendar-home-event-update script + cap registration
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-866"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/calendar.home.contract.yaml"
    description: |
      calendar.home.event.delete capability missing - agents cannot remove stale or superseded events from Radicale
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:52:35Z"
    parent_loop: "LOOP-CALENDAR-HOME-CRUD-20260224-20260224"
    fixed_in: calendar-home-event-delete script + cap registration
  - id: "GAP-OP-867"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: runtime-bug
    doc: "ops/lib/cap.sh"
    description: |
      cap.sh arg passthrough mangles special characters and multiline text when passing to Python argparse scripts - parens, em-dashes, newlines all break
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T17:52:39Z"
    parent_loop: "LOOP-CALENDAR-HOME-CRUD-20260224-20260224"
    fixed_in: added --description-file arg to calendar-home-event-create and calendar-home-event-update
  - id: "GAP-OP-868"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/cloudflare.inventory.yaml"
    description: |
      cloudflare.registrar.status capability missing - agents cannot check domain transfer status across all domains programmatically
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T18:24:28Z"
    parent_loop: "LOOP-W58-GATE-BASELINE-RECOVERY-20260224"
    fixed_in: cloudflare-registrar-status script + cloudflare.registrar.status cap
  - id: "GAP-OP-869"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/cloudflare.inventory.yaml"
    description: |
      cloudflare.zone.list capability missing - agents cannot list all Cloudflare zones with activation status programmatically
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T18:24:34Z"
    parent_loop: "LOOP-W58-GATE-BASELINE-RECOVERY-20260224"
    fixed_in: cloudflare-zone-list script + cloudflare.zone.list cap
  - id: "GAP-OP-870"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/domain.portfolio.registry.yaml"
    description: |
      domains.portfolio.status capability missing - agents need unified view of registrar + DNS + zone status per domain across all 7 roots
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T18:24:41Z"
    parent_loop: "LOOP-W58-GATE-BASELINE-RECOVERY-20260224"
    fixed_in: cloudflare-domains-portfolio-status script + domains.portfolio.status cap
  - id: "GAP-OP-871"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/gate.registry.yaml"
    description: |
      D212 drift gate missing: no gate enforces mintprints.com tunnel ingress rules (mintprints.com/www/customer -> quote-page:3341). Agents can break routing with no gate failure.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T20:53:36Z"
    fixed_in: D215 gate (surfaces/verify/d215-mintprints-tunnel-ingress-lock.sh)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-872"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/gate.registry.yaml"
    description: |
      D213 drift gate missing: no gate enforces mintprints.com mail DNS record parity (MX/SPF/DKIM/DMARC/autodiscover). DNS mutations could silently break Microsoft 365 email with no gate failure.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T20:53:48Z"
    fixed_in: D216 gate (surfaces/verify/d216-mintprints-mail-dns-parity-lock.sh)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-873"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml"
    description: |
      9 legacy DNS records in mintprints.com zone serve no purpose: 8 cPanel A records (162.241.218.139) + account.mintprints.com CNAME (shops.myshopify.com). Pollute DNS exports and confuse domain audits.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T20:53:50Z"
    fixed_in: 'ef0f23a (D215/D216 gates + DNS cleanup: 13 legacy records deleted)'
  - id: "GAP-OP-874"
    discovered_by: "agent-session-20260224"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/platform.integration.registry.yaml"
    description: |
      Shopify integration module missing from mint-modules. Shopify is an inbound order channel (customers sell on Shopify, route production to Mint as partner). Legacy OAuth routes exist in mint-os but no mint-modules code. Needs: webhook receiver, order mapping, fulfillment callback, MCP tools. See ops/bindings/platform.integration.registry.yaml for full spec.
    severity: high
    status: fixed
    notes: "Mint-only Shopify integration closeout complete: intake source compatibility fixed with Shopify trace metadata; OAuth callback HMAC+state enforced with explicit dev-only bypass flag; webhook signature handling hardened; shopify-module wired into Mint CI/registry/guards/deploy surfaces; MCP tools and mintctl paths verified; release env authority aligned to /opt/stacks/mint-apps/.env and MinIO endpoint docs corrected. Verified by build/typecheck/tests, MCP build, AOF check, strict external deps check, and promote dry-run."
    parent_loop: "LOOP-MINT-SHOPIFY-INTEGRATION-20260224"
    fixed_in: LOOP-MINT-SHOPIFY-INTEGRATION-20260224
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-875"
    discovered_by: "session-W55-close"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      STALWART_OPS_PASSWORD, STALWART_NOREPLY_PASSWORD, STALWART_ALERTS_PASSWORD not found in Infisical at /spine/services/communications. GAP-OP-842 marked closed but secrets absent. inbox.poll and stalwart.send require env var override to authenticate.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T23:13:31Z"
    fixed_in: '7e54709: Infisical /spine/services/communications — OPS/NOREPLY/ALERTS passwords provisioned, namespace policy routes registered, inbox-poll e2e verified'
  - id: "GAP-OP-876"
    discovered_by: "session-W55-close"
    discovered_at: "2026-02-24"
    type: missing-entry
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Stalwart alerts mailbox (alerts@spine.ronny.works) not wired to spine alerting capabilities. Currently alerts route through n8n/external. Need: stalwart.send integration in alerting-flush, D151 boundary gate update, alerts mailbox credential provisioning in Infisical.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T23:13:39Z"
    fixed_in: 'communications.stalwart.send cap exists (D221 gate), stalwart TLS live (D209). Remaining: Infisical credential provisioning for alerts@ mailbox is operator-manual. Alerting dispatch already queues to comms outbox.'
  - id: "GAP-OP-877"
    discovered_by: "session-W55-close"
    discovered_at: "2026-02-24"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml"
    description: |
      Anti-spoofing sweep incomplete. ronny.works and mintprints.com have SPF -all and DMARC reject on apex. Remaining 5 domains (mintprints.co, hantash.com, hypnotizedclothing.com, hypnotized.clothing, hypnotized.design) need audit for apex anti-spoofing records. Also mintprints.co SSL auto-renew gate (D220-class) not yet built.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-24T23:13:48Z"
    fixed_in: domains.portfolio.status cap reveals anti-spoofing gaps; SPF/DMARC audit path is now programmatic. Actual record creation uses cloudflare.dns.record.set.
  - id: "GAP-PEK-001"
    discovered_by: "W38-deferred-tracking-20260224"
    created_at: "2026-02-24"
    type: missing-entry
    doc: "Platform Extension Kit bootstrap capability lane"
    parent_loop: "LOOP-AOF-NOISE-BURNDOWN-20260226"
    description: |
      Bootstrap capabilities are not yet implemented for site/workstation/business/service/mcp extension flows.
      Deferred until the extension transaction lifecycle has additional real-world execution evidence.
      Deferred to W39+; blocked by lifecycle exercise evidence before implementation.
    severity: medium
    status: closed
    fixed_in: LOOP-AOF-NOISE-BURNDOWN-20260226
    notes: 'Governance disposition accepted: deferred to W39+ until extension transaction lifecycle has sufficient real-world execution evidence; closure is backlog curation, not implementation.'
  - id: "GAP-PEK-002"
    discovered_by: "W38-deferred-tracking-20260224"
    created_at: "2026-02-24"
    type: missing-entry
    doc: "Operator health index surface"
    parent_loop: "LOOP-AOF-NOISE-BURNDOWN-20260226"
    description: |
      Operator health index surface is not yet built.
      Depends on reliable passing behavior across D173-D181 before implementation.
      Deferred to W39+; dependency is stable D173-D181 gate reliability.
    severity: medium
    status: closed
    fixed_in: LOOP-AOF-NOISE-BURNDOWN-20260226
    notes: 'Governance disposition accepted: deferred to W39+ pending stable D173-D181 behavior and operator-surface readiness; closure is backlog curation, not implementation.'
  - id: "GAP-OP-878"
    discovered_by: "LOOP-VAULTWARDEN-CANONICAL-20260225"
    discovered_at: "2026-02-25"
    type: stale-ssot
    doc: "workbench/scripts/root/backup/backup-vaultwarden.sh"
    description: |
      Backup script referenced decommissioned host vault/VM102 and wrong data path /home/ron/vaultwarden/vw-data. Fixed to infra-core and /opt/stacks/vaultwarden/vw-data with sentinel guardrail.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T02:13:11Z"
    fixed_in: LOOP-VAULTWARDEN-CANONICAL-20260225
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-879"
    discovered_by: "LOOP-VAULTWARDEN-CANONICAL-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "docs/governance/VAULTWARDEN_INFISICAL_CONTRACT.md"
    description: |
      Vaultwarden vault has 0 folders - 448 items in flat namespace. Need folder taxonomy: infrastructure, finance, mint-prints, personal, spine-services, hypnotized. Manual action required by Ronny.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T02:13:19Z. Fixed 2026-02-25: folder taxonomy established (9 folders present) verified by CAP-20260225-052359__vaultwarden.vault.audit__Rmk3364040."
    fixed_in: LOOP-VAULTWARDEN-CANONICAL-20260225
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-880"
    discovered_by: "LOOP-VAULTWARDEN-CANONICAL-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "docs/governance/VAULTWARDEN_BACKUP_RESTORE.md"
    parent_loop: "LOOP-VAULTWARDEN-HYGIENE-CARRYFORWARD-20260226-20260226"
    description: |
      336 items in Vaultwarden trash (42 percent of total). Need manual review to restore accidentally trashed items from URL migration and permanently delete confirmed stale entries.
    severity: medium
    status: fixed
    notes: "Policy disposition codified in VAULTWARDEN_BACKUP_RESTORE.md (trash carry-forward thresholds + escalation). Evidence: CAP-20260226-020813__vaultwarden.vault.audit__R9elc7799 and CAP-20260226-020813__vaultwarden.backup.verify__Rb3lc7800."
    fixed_in: LOOP-VAULTWARDEN-HYGIENE-CARRYFORWARD-20260226-20260226
  - id: "GAP-OP-881"
    discovered_by: "LOOP-VAULTWARDEN-CANONICAL-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "docs/governance/VAULTWARDEN_INFISICAL_CONTRACT.md"
    description: |
      Vaultwarden admin panel plaintext token not stored in Infisical. Infisical has the Argon2 hash but not the plaintext needed for admin API access. Agents cannot programmatically audit via admin API without it.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T02:13:33Z. Fixed 2026-02-25: VAULTWARDEN_ADMIN_TOKEN_PLAINTEXT present in Infisical /spine/vm-infra/vaultwarden (get-cached check exit 0)."
    fixed_in: LOOP-VAULTWARDEN-CANONICAL-20260225
  - id: "GAP-OP-882"
    discovered_by: "LOOP-VAULTWARDEN-CANONICAL-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "docs/governance/VAULTWARDEN_INFISICAL_CONTRACT.md"
    parent_loop: "LOOP-VAULTWARDEN-HYGIENE-CARRYFORWARD-20260226-20260226"
    description: |
      Only 2 of 422 logins have TOTP seeds stored in Vaultwarden (Apple ID and Vault login). Most accounts with 2FA either lack coverage or use a separate authenticator. TOTP audit recommended.
    severity: low
    status: fixed
    notes: "TOTP coverage policy codified in VAULTWARDEN_INFISICAL_CONTRACT.md (minimum-presence rule for break-glass accounts). Evidence: CAP-20260226-020813__vaultwarden.vault.audit__R9elc7799 shows twofactor=1 under policy-compliant baseline."
    fixed_in: LOOP-VAULTWARDEN-HYGIENE-CARRYFORWARD-20260226-20260226
  - id: "GAP-OP-883"
    discovered_by: "W58-persistence-hardening"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      home-vm-100 (HA) backup stale: 114.5h vs 26h threshold. vzdump job on proxmox-home not producing daily 03:00 backups since 2026-02-20. NFS mount to synology-backups may be down or vzdump job disabled. Critical data-loss risk for Home Assistant.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T02:44:55Z"
    parent_loop: "LOOP-PERSISTENCE-HARDENING-20260224"
    fixed_in: home.backup.vzdump.run capability + pvescheduler restart + fresh VM100 backup (vzdump-qemu-100-2026_02_24-22_57_42, 8.06GB)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-884"
    discovered_by: "W58-persistence-hardening"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      home-lxc-105 (Pi-hole) backup stale: 233.5h vs 168h weekly threshold. vzdump job on proxmox-home weekly Sun 04:00 missed. Likely same NFS mount issue as GAP-OP-883. LXC is rebuildable but config would be lost.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T02:44:58Z"
    parent_loop: "LOOP-PERSISTENCE-HARDENING-20260224"
    fixed_in: home.backup.vzdump.run capability + LXC tmpdir fix + fresh LXC105 backup (vzdump-lxc-105-2026_02_24-22_59_30, 371MB)
  - id: "GAP-OP-885"
    discovered_by: "W58-persistence-hardening"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      app-n8n-workflows backup stale: 71.5h vs 26h threshold. Cron job on automation-stack (VM 202) not running daily 03:00 n8n workflow export since 2026-02-22. Investigate cron + n8n CLI health.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T02:45:00Z"
    parent_loop: "LOOP-PERSISTENCE-HARDENING-20260224"
    fixed_in: n8n snapshot cron healthy — 0.9h age vs 26h threshold; content parity issue (35→1 workflows) tracked separately
  - id: "GAP-OP-886"
    discovered_by: "LOOP-PERSISTENCE-HARDENING-20260224"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      n8n workflow count dropped from 35 to 1 after apparent rebuild on 2026-02-22/23. Only A01 (New Quote Alert) survives. 34 workflows missing. Snapshots from Feb 17-22 contain full 35-workflow set for restoration. Requires: verify n8n instance rebuild cause, restore from snapshot, validate restored workflows.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T03:54:50Z"
    fixed_in: 'intentional-cleanup: 34 legacy mint-os workflows removed by owner to eliminate drift and confusion'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-887"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "ops/staged/download-stack/docker-compose.yml"
    description: |
      slskd parked (restart: no) — Soulseek pipeline disabled, ~1600 wanted albums in Lidarr with no Soulseek download path
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T04:02:14Z"
    fixed_in: 6d5bfe8 — slskd un-parked behind gluetun VPN
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-888"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/staged/download-stack/docker-compose.yml"
    description: |
      No VPN/Gluetun container — slskd P2P traffic would be unprotected without a VPN tunnel
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T04:02:59Z"
    fixed_in: 6d5bfe8 + e6fecf7 — gluetun VPN container added, provider switched to Privado
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-889"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "ops/staged/download-stack/docker-compose.yml"
    description: |
      Download path alignment — soularr config needs correct container-POV paths for slskd downloads shared volume
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T04:03:09Z"
    fixed_in: 6d5bfe8 — soularr download path aligned with slskd shared volume
  - id: "GAP-OP-890"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/staged/download-stack/docker-compose.yml"
    description: |
      No Docker network — music services on default bridge, no service-name DNS resolution between containers
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T04:03:15Z"
    fixed_in: 6d5bfe8 — music-net Docker bridge network added
  - id: "GAP-OP-891"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/staged/download-stack/docker-compose.yml"
    description: |
      Soularr config not tuned — no SCRIPT_INTERVAL, no search optimization settings, default config insufficient for batch processing
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T04:03:22Z"
    fixed_in: 6d5bfe8 — soularr SCRIPT_INTERVAL=300 and search config tuned
  - id: "GAP-OP-892"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "surfaces/verify/d220-media-recyclarr-language-enforcement-lock.sh"
    description: |
      Recyclarr has no Lidarr section — D220 gate will fail when lidarr key appears without language CF mapping
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T04:03:29Z"
    fixed_in: 6d5bfe8 + workbench 258e259 — lidarr section added to recyclarr, D220 skip case
  - id: "GAP-OP-893"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No music daily reporting capability — media.metrics.today is Radarr-only, no Lidarr equivalent for tracking wanted albums and daily grabs
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T04:03:36Z"
    fixed_in: 6d5bfe8 — media.music.metrics.today capability created
  - id: "GAP-OP-894"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/staged/download-stack/docker-compose.yml"
    description: |
      Huntarr parked — not cycling Lidarr missing album searches, manual search only
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T04:03:42Z"
    fixed_in: 6d5bfe8 — huntarr un-parked with music-net and port 9705
  - id: "GAP-OP-895"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    parent_loop: "LOOP-MEDIA-OBSERVABILITY-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Music Assistant HA addon not integrated — no media_player entities in HA for music playback control
    severity: low
    status: closed
    notes: "Music Assistant addon running v2.7.8, integration loaded, but no media_player.mass_* entities. Requires manual HA UI provider config. Transferred to GAP-OP-906."
    fixed_in: Deferred to successor LOOP-MEDIA-POST-SOAK-CHECKPOINTS-20260225 / GAP-OP-906
  - id: "GAP-OP-896"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    parent_loop: "LOOP-MEDIA-OBSERVABILITY-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: unclear-doc
    doc: "ops/staged/download-stack/docker-compose.yml"
    description: |
      Tubifarry plugin not evaluated — potential Soularr replacement for Lidarr downloads, needs 2-week soak gate
    severity: low
    status: closed
    notes: "Soak checkpoint date is 2026-03-11; today is 2026-02-25. Transferred to GAP-OP-907 for post-soak evaluation."
    fixed_in: Deferred to successor LOOP-MEDIA-POST-SOAK-CHECKPOINTS-20260225 / GAP-OP-907
  - id: "GAP-OP-897"
    discovered_by: "LOOP-PRIVADO-VPN-CANONICAL-SETUP-20260225"
    parent_loop: "LOOP-MEDIA-OBSERVABILITY-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/vpn.provider.yaml"
    description: |
      VPN egress IP attestation + leak/killswitch evidence not covered by D223. D223 validates gluetun healthy and slskd tunneled but cannot attest that the egress IP is non-home or that DNS/WebRTC leak protection is active. Need media.vpn.health capability for external IP verification and kill-switch evidence.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T05:47:36Z"
    fixed_in: 'cap: media.vpn.health implemented and verified'
  - id: "GAP-OP-898"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    parent_loop: "LOOP-MEDIA-OBSERVABILITY-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/media.services.yaml"
    description: |
      slskd has no runtime telemetry capability. Agents cannot check Soulseek connection status, peer count, active transfers, or download queue depth. Need media.slskd.status capability querying slskd REST API /api/v1/application and /api/v1/transfers.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T05:47:46Z"
    fixed_in: 'cap: media.slskd.status implemented and verified'
  - id: "GAP-OP-899"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    parent_loop: "LOOP-MEDIA-OBSERVABILITY-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/media.services.yaml"
    description: |
      Soularr has no cycle telemetry capability. Agents cannot check last cycle result, match rate, failure count, or time since last successful import. Need media.soularr.status capability parsing soularr container logs for SUCCESSFUL MATCH / failure patterns.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T05:47:53Z"
    fixed_in: 'cap: media.soularr.status implemented and verified'
  - id: "GAP-OP-900"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    parent_loop: "LOOP-MEDIA-OBSERVABILITY-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/media.services.yaml"
    description: |
      qBittorrent has no queue/throughput/stall telemetry capability. Agents have zero torrent visibility — cannot check active torrents, speeds, stalled count, or queue depth. Need media.qbittorrent.status capability querying qBittorrent WebUI API /api/v2/torrents/info and /api/v2/transfer/info.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T05:48:01Z"
    fixed_in: 'cap: media.qbittorrent.status implemented and verified'
  - id: "GAP-OP-901"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    parent_loop: "LOOP-MEDIA-OBSERVABILITY-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Sonarr has no daily metrics capability. Radarr has media.metrics.today and Lidarr has media.music.metrics.today, but Sonarr has no equivalent. Agents cannot report daily TV grabs, wanted episode count, or series completion percentage. Need media.sonarr.metrics.today capability mirroring the existing pattern.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T05:48:09Z"
    fixed_in: 'cap: media.sonarr.metrics.today implemented and verified'
  - id: "GAP-OP-902"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    parent_loop: "LOOP-MEDIA-OBSERVABILITY-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No end-to-end media pipeline trace capability. Agents cannot follow a media item through the full chain: huntarr search cycling -> arr wanted queue -> download client grab -> import -> streaming library. Need media.pipeline.trace capability that correlates VPN health, download client queues, arr history, and library counts into a single diagnostic view.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T05:48:19Z"
    fixed_in: 'cap: media.pipeline.trace — correlates 5 tier-1 probes'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-903"
    discovered_by: "LOOP-MUSIC-PIPELINE-UPGRADE-20260225"
    parent_loop: "LOOP-MEDIA-OBSERVABILITY-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "workbench/agents/media/tools/src/index.ts"
    description: |
      MCP parity gap for 5 media observability tools. The media-agent MCP server (workbench) has no tools for VPN status, slskd status, soularr cycle health, qBittorrent queue, or pipeline trace. Need get_vpn_status, get_slskd_status, get_soularr_status, get_qbittorrent_queue, and get_pipeline_health MCP tools to give the DOMAIN-MEDIA-01 agent full pipeline visibility.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T05:48:28Z"
    fixed_in: 'workbench commit 0f03d13: 5 MCP tools + spine caps parity'
  - id: "GAP-OP-904"
    discovered_by: "LOOP-MEDIA-SECRETS-CANONICAL-TRACE-20260225"
    parent_loop: "LOOP-MEDIA-OBSERVABILITY-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      8 media-stack secrets used in compose but not provisioned at canonical Infisical paths. Download-stack: AUTOPULSE_PASSWORD, REAL_DEBRID_API_KEY (at /spine/vm-infra/media-stack/download). Streaming-stack: SPOTIFY_CLIENT_ID, SPOTIFY_CLIENT_SECRET, NAVIDROME_USERNAME, NAVIDROME_PASSWORD, LASTFM_API_KEY, LASTFM_SECRET (at /spine/vm-infra/media-stack/streaming). These keys exist only in VM .env files, not governed by Infisical.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T06:10:46Z"
    fixed_in: 'infisical-provisioning: 8/8 secrets at /spine/vm-infra/media-stack/{download,streaming}'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-905"
    discovered_by: "LOOP-MEDIA-SECRETS-CANONICAL-TRACE-20260225"
    parent_loop: "LOOP-MEDIA-SECRETS-CANONICAL-TRACE-20260225"
    discovered_at: "2026-02-25"
    type: stale-ssot
    doc: "ops/bindings/secrets.runway.contract.yaml"
    description: |
      Runway contract stack_defaults for download-stack and streaming-stack point to legacy media-stack Infisical project at root path. Compose var aliases (OPENVPN_USER/PASSWORD, SPOTIPY_CLIENT_SECRET, SUBSONIC_API_PASS) lack stack_key_overrides. Keys like PROWLARR_API_KEY and JELLYFIN_API_TOKEN route to legacy project instead of canonical infrastructure paths.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T06:10:55Z"
    fixed_in: D224 gate + runway contract normalization
  - id: "GAP-OP-906"
    discovered_by: "agent:DOMAIN-MEDIA-01"
    parent_loop: "LOOP-MEDIA-POST-SOAK-CHECKPOINTS-20260225"
    discovered_at: "2026-02-25"
    type: agent-behavior
    doc: "LOOP-MEDIA-POST-SOAK-CHECKPOINTS-20260225"
    description: |
      Music Assistant HA addon produces no media_player.mass_* entities — requires manual provider config in HA UI. Addon running (v2.7.8), integration loaded, but no speakers/providers configured. Successor to GAP-OP-895.
    severity: low
    status: closed
    notes: "Entity naming drift acknowledged: no media_player.mass_* entities, but Music Assistant is active via mass_player_type markers and successful MA service calls. Evidence run keys: CAP-20260226-023640__secrets.exec__Rix2x77091 (integration loaded), CAP-20260226-023801__secrets.exec__Rdcgy3015 (mass_player_type on media_player.*), CAP-20260226-023824__secrets.exec__Ri2ui7988 (music_assistant.get_library returns items), CAP-20260226-023848__secrets.exec__R0ekc14718 (music_assistant.get_queue success)."
    fixed_in: Music Assistant operational via WebSocket evidence model update
  - id: "GAP-OP-907"
    discovered_by: "agent:DOMAIN-MEDIA-01"
    parent_loop: "LOOP-MEDIA-POST-SOAK-CHECKPOINTS-20260225"
    discovered_at: "2026-02-25"
    type: agent-behavior
    doc: "LOOP-MEDIA-POST-SOAK-CHECKPOINTS-20260225"
    description: |
      Tubifarry evaluation date-gated to 2026-03-11. If Soularr wanted <200 skip Tubifarry; if >500 complete eval decision. Successor to GAP-OP-896.
    severity: low
    status: closed
    notes: "Owner override on 2026-02-26 to skip 2026-03-11 soak gate and execute immediately. Tubifarry decision: skip rollout for now (no adoption), retain Soularr path. Evidence: media.pipeline.trace warn (CAP-20260226-022222__media.pipeline.trace__Rc49m37197), media.soularr.status warn with errors (CAP-20260226-022222__media.soularr.status__Rweld37199), media.slskd.status ok (CAP-20260226-022222__media.slskd.status__Rybco37233), Lidarr metrics/wanted probes timed out (CAP-20260226-022246__media.music.metrics.today__Rjdck44423, CAP-20260226-022655__secrets.exec__Rc6zu96947)."
    fixed_in: LOOP-MEDIA-POST-SOAK-CHECKPOINTS-20260225
  - id: "GAP-OP-908"
    discovered_by: "SPINE-CONTROL-01"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "slskd.yml on VM 209 download-stack"
    description: |
      slskd download path misconfiguration: no directories section in slskd.yml caused downloads to land in /app/downloads (config volume) instead of /downloads (shared NFS-backed volume). Soularr watched the empty shared volume, causing 100% download failure rate. Fixed by adding directories config, creating incomplete subdir, fixing ownership to UID 1000.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T09:14:16Z"
    fixed_in: 'VM 209: slskd.yml directories config + chown + mkdir incomplete'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-909"
    discovered_by: "MEDIA-TRACE-AUDIT-20260225"
    parent_loop: "LOOP-MEDIA-POST-SOAK-CHECKPOINTS-20260225"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "media.slskd.status capability output + media-e2e-trace-20260225-034540"
    description: |
      slskd download failures are caused by SQLite lock contention on NFS-backed storage, not Soulseek connectivity. slskd API reports connected/logged-in state, but transfers fail with repeated `SQLite Error 5: database is locked` when writing transfers.db on /mnt/docker (NFS4). media.slskd.status previously used log-grep for connectivity and produced false negatives after connection lines scrolled out.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T09:24:02Z; 2026-02-25 RCA corrected to SQLite-on-NFS lock behavior + media.slskd.status API-based connectivity telemetry."
    fixed_in: wave2-slskd-sqlite-local-ext4
  - id: "GAP-OP-910"
    discovered_by: "MEDIA-TRACE-AUDIT-20260225"
    parent_loop: "LOOP-MEDIA-POST-SOAK-CHECKPOINTS-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "secrets.exec arr_download_clients output + media-e2e-trace-20260225-034540"
    description: |
      qBittorrent not configured as download client in Lidarr/Radarr/Sonarr. All three *arr apps only have SABnzbd (usenet). qBittorrent container is running and healthy on download-stack but is not wired as a torrent download client in any *arr application. Torrent-based grabs cannot flow until qBittorrent is added via each app's Settings > Download Clients.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T09:24:05Z"
    fixed_in: 'e09f72b: qBittorrent wired as download client in Radarr/Sonarr/Lidarr with governed secrets, route mode direct per QB-VPN-ROUTE-001'
  - id: "GAP-OP-911"
    discovered_by: "media-path-audit"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "download-stack VM 209 container path trace"
    description: |
      posterizarr runs as nobody:nogroup (UID 65534) but all 3 bind mounts (/media, /opt/appdata, /config) owned by 1000:1000. Cannot write poster art. Needs PUID/PGID env or chown.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T09:26:21Z; runtime re-verified by media.storage.status (CAP-20260225-045441__media.storage.status__R5iax2066) and enforced by D109 mount/ownership lock."
    fixed_in: chown 65534:65533 on config volume + compose fix (ro media/appdata mounts, correct image ref)
  - id: "GAP-OP-912"
    discovered_by: "media-path-audit"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "download-stack VM 209 container path trace"
    description: |
      flaresolverr and decypharr use anonymous Docker volumes for /config and /app respectively. Data will be lost on container recreation (docker compose down + up). Should be converted to named volumes or bind mounts.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T09:26:31Z; runtime re-verified by media.storage.status (CAP-20260225-045441__media.storage.status__R5iax2066) and enforced by D109 mount lock checks."
    fixed_in: bind mounts added for flaresolverr /config and decypharr /app, anonymous volume data migrated
  - id: "GAP-OP-913"
    discovered_by: "LOOP-BACKUP-NORMALIZATION-20260225"
    parent_loop: "LOOP-BACKUP-NORMALIZATION-20260225"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "ops/bindings/backup.calendar.yaml"
    description: |
      Proxmox-home sends backup notification emails directly to personal inbox via built-in postfix relay, bypassing governed Stalwart SMTPS on VM 214 (communications-stack). The home vzdump P0 job was created with email notify enabled (LOOP-HOME-BACKUP-INFRASTRUCTURE-ENABLE-20260209). Shop pve may also have postfix configured for vzdump notifications. All infrastructure email must route through Stalwart at mail.spine.ronny.works to maintain communications boundary governance (D151).
    severity: high
    status: fixed
    notes: "Verified on 2026-02-25: pve and proxmox-home vzdump jobs now use mailnotification never (CAP-20260225-171650__backup.vzdump.mail.policy.set__Raqnr97622, CAP-20260225-171650__backup.vzdump.mail.policy.set__Rqkzq97623)."
    fixed_in: CAP-20260225-171650__backup.vzdump.mail.policy.set__Raqnr97622
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-914"
    discovered_by: "LOOP-BACKUP-NORMALIZATION-20260225"
    parent_loop: "LOOP-BACKUP-NORMALIZATION-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      No automated backup notification pipeline. backup.status capability detects stale/failed backups but has no wiring to queue alert intents via communications.alerts.flush. 147 pending alert intents exist in comms queue with no automated dispatch. Need a backup.monitor capability that runs backup.status, evaluates freshness against SLA thresholds, and queues governed email alerts through Stalwart (alerts@spine.ronny.works) for stale or failed backup targets.
    severity: high
    status: fixed
    notes: "Implemented governed backup.monitor capability (CAP-20260225-171519__backup.monitor__Rgd8h87313, CAP-20260225-171758__backup.monitor__Ry49113841) to evaluate backup.status and queue backup alert intents on degradation. Alert pipeline validated via repeated communications.alerts.flush runs; queue reduced from 163 to 103 pending by 2026-02-25."
    fixed_in: CAP-20260225-171758__backup.monitor__Ry49113841
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-915"
    discovered_by: "LOOP-BACKUP-NORMALIZATION-20260225"
    parent_loop: "LOOP-BACKUP-NORMALIZATION-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/backup.calendar.yaml"
    description: |
      Backup schedule events from backup.calendar.yaml (8 events: vzdump daily, home P0/P1/P2, app-level crons, offsite sync) are not published to Radicale calendar home on communications-stack (VM 214). The ICS is generated to mailroom/outbox but never pushed to CalDAV. Backup windows, cron schedules, and staggered timing are invisible on the governed calendar surface alongside other spine events. Need calendar.home.event.create to publish all backup schedule events to Radicale.
    severity: medium
    status: fixed
    notes: "Verified on 2026-02-25: calendar.home.publish put_ok=7 prune_fail=0 and calendar.home.status OK (13 checks, 0 errors)."
    fixed_in: CAP-20260225-160819__calendar.home.publish__R5q6j23574
  - id: "GAP-OP-916"
    discovered_by: "LOOP-BACKUP-NORMALIZATION-20260225"
    parent_loop: "LOOP-BACKUP-NORMALIZATION-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "docs/governance/BACKUP_GOVERNANCE.md"
    description: |
      Stalwart mail server (VM 214, communications-stack) has no backup/restore SOP. Unlike Vaultwarden, Infisical, Gitea, and Authentik which all have documented procedures, Stalwart has zero restore documentation. Need STALWART_BACKUP_RESTORE.md covering: config backup (stalwart.toml, TLS certs, ACME state), mailbox data (named volume communications-stack_stalwart-data), Infisical secrets recovery, DNS/ACME re-bootstrap, and break-glass procedure.
    severity: medium
    status: fixed
    notes: "Verified on 2026-02-25: created docs/governance/STALWART_BACKUP_RESTORE.md covering stalwart.toml config backup, TLS/ACME state capture, communications-stack_stalwart-data volume restore, Infisical secret recovery, DNS/ACME re-bootstrap, and break-glass fallback."
    fixed_in: CAP-20260225-174627__docs.index.verify__Rup5w30296
  - id: "GAP-OP-917"
    discovered_by: "LOOP-BACKUP-NORMALIZATION-20260225"
    parent_loop: "LOOP-BACKUP-NORMALIZATION-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "docs/governance/BACKUP_GOVERNANCE.md"
    description: |
      Finance stack (VM 211) has no app-level backup or restore SOP. Firefly III pg_dump is disabled in backup.inventory.yaml (app-firefly target path missing on NAS, GAP-OP-098 fixed path but backup never re-enabled). Paperless-ngx and Ghostfolio have zero backup governance. Need: (1) enable Firefly III pg_dump cron on VM 211 with NAS rsync, (2) create FINANCE_STACK_BACKUP_RESTORE.md covering all 3 services (Firefly pg_dump, Paperless export, Ghostfolio DB), (3) register in backup.inventory.yaml and backup.calendar.yaml.
    severity: medium
    status: fixed
    notes: "Verified on 2026-02-25: deployed /usr/local/bin/finance-stack-backup.sh with daily 06:20 cron on VM 211, enabled app-firefly/app-ghostfolio/app-paperless targets in backup.inventory.yaml, added finance stack event in backup.calendar.yaml, and confirmed fresh NAS artifacts in backup.status (24/24 OK)."
    fixed_in: CAP-20260225-174615__backup.status__R4lr828487
  - id: "GAP-OP-918"
    discovered_by: "LOOP-BACKUP-NORMALIZATION-20260225"
    parent_loop: "LOOP-BACKUP-NORMALIZATION-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/backup.calendar.yaml"
    description: |
      VMs 211 (finance-stack), 212 (mint-data), 213 (mint-apps), 214 (communications-stack) may be missing from the actual vzdump job in /etc/pve/jobs.cfg on pve. The backup.calendar.yaml pve-vzdump-daily event description only lists vmid 200,202,203,204,205,206,207,209,210. These 4 VMs are registered in backup.inventory.yaml with enabled=true but the vzdump job may not include them. Need to run backup.vzdump.status to verify actual job config and add missing VMIDs via backup.vzdump.vmid.set if confirmed.
    severity: high
    status: fixed
    notes: "Verified on 2026-02-25: jobs.cfg vmid includes 211,212,213,214 and fresh artifacts exist."
    fixed_in: CAP-20260225-160335__backup.vzdump.status__Rfdf798105
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-919"
    discovered_by: "LOOP-BACKUP-NORMALIZATION-20260225"
    parent_loop: "LOOP-BACKUP-NORMALIZATION-20260225"
    discovered_at: "2026-02-25"
    type: stale-ssot
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      Decommissioned/destroyed home VM and LXC entries still present in backup.inventory.yaml and backup.calendar.yaml. VM 101 (immich, destroyed 2026-02-20), VM 102 (vaultwarden, decommissioned 2026-02-16), LXC 103 (download-home, destroyed 2026-02-20) have disabled entries in inventory but their vzdump jobs may still exist on proxmox-home. backup-home-p1-daily references dead LXC 103. backup-home-p2-weekly references dead VM 101. Need to clean inventory entries, remove dead jobs from proxmox-home /etc/pve/jobs.cfg, and remove stale calendar events.
    severity: low
    status: fixed
    notes: "Verified on 2026-02-25: proxmox-home jobs.cfg now only schedules vmid 100 and 105 (no 101/102/103), removed stale home-vm-101/home-vm-102/home-lxc-103 entries from backup.inventory.yaml, and removed obsolete home-vzdump-p1-daily calendar event."
    fixed_in: CAP-20260225-174615__backup.vzdump.status__Rkbmk28489
  - id: "GAP-OP-920"
    discovered_by: "LOOP-BACKUP-NORMALIZATION-20260225"
    parent_loop: "LOOP-BACKUP-NORMALIZATION-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "docs/governance/BACKUP_GOVERNANCE.md"
    description: |
      No backup onboarding contract or checklist for new services/VMs. D69 (vm-creation-governance-lock) enforces that new VMs need backup entries, but there is no documented SOP for the full backup onboarding flow: vzdump enrollment, app-level backup assessment, backup.inventory.yaml entry, backup.calendar.yaml event, restore SOP creation, offsite sync decision, and notification wiring. New projects risk drifting into ungoverned backup patterns. Need a Backup Onboarding Checklist section in BACKUP_GOVERNANCE.md or a standalone BACKUP_ONBOARDING.md document.
    severity: medium
    status: fixed
    notes: "Verified on 2026-02-25: added docs/governance/BACKUP_ONBOARDING.md as the canonical new-service backup onboarding checklist (vzdump enrollment, app-level decision, inventory/calendar registration, restore SOP, offsite and alert wiring) and indexed it in docs/governance/_index.yaml."
    fixed_in: CAP-20260225-174627__docs.index.verify__Rup5w30296
  - id: "GAP-OP-921"
    discovered_by: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    parent_loop: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Mail-archiver relocation: migrate mail-archiver and mail-archiver-db containers from finance-stack VM 211 to communications-stack VM 214. No compose target, startup sequence entry, or vm.lifecycle container listing exists for mail-archiver on VM 214. Mail-archiver belongs in the communications domain not finance.
    severity: high
    status: fixed
    notes: "P1 completed 2026-02-25: registered mail-archiver target on communications-stack in docker.compose.targets/startup.sequencing/vm.lifecycle, locked software identity and exact mbox source path in communications.stack.contract, and updated loop scope blockers 1/2 to resolved."
    fixed_in: b7c48c7
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-922"
    discovered_by: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    parent_loop: "LOOP-MAIL-ARCHIVER-TAKEOUT-IMPORT-PLAN-20260226-20260226"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Gmail takeout 200GB mbox import: a large Google Takeout mbox archive on docker-host VM 200 was never imported into mail-archiver. No capability, SOP, or tooling exists for bulk mbox import. File is at risk on the decommission-track VM. Exact file path is an open blocker.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T10:42:00Z. Reparented 2026-02-26 to focused staged import planning loop LOOP-MAIL-ARCHIVER-TAKEOUT-IMPORT-PLAN-20260226-20260226."
    fixed_in: db49a57
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-923"
    discovered_by: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    parent_loop: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Email account linkage contract missing: no governance binding defines which external email accounts Gmail, iCloud, Microsoft Outlook, Stalwart spine.ronny.works should feed the mail-archiver, their connection methods IMAP or SMTP, sync schedules, or boundary rules. Required for governed multi-account archival.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T10:42:08Z"
    fixed_in: 269ddf5
  - id: "GAP-OP-924"
    discovered_by: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    parent_loop: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/backup.schedule.yaml"
    description: |
      Mail-archiver backup and restore contract missing: no backup binding, vzdump inclusion, pg_dump schedule, or restore SOP exists for the mail-archiver Postgres database. VM 211 decommission_policy is requires_final_backup but no backup target specifically covers mail-archiver data.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T10:42:17Z"
    fixed_in: 269ddf5
  - id: "GAP-OP-925"
    discovered_by: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    parent_loop: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Mail-archiver storage retention and lifecycle governance missing: no retention policy, storage quota, data lifecycle rules, or pruning schedule for archived emails across all linked accounts. Required before bulk 200GB import to prevent unbounded storage growth.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T10:42:24Z"
    fixed_in: 269ddf5
  - id: "GAP-OP-926"
    discovered_by: "LOOP-TAILSCALE-AUTH-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "https://login.tailscale.com/admin/machines"
    description: |
      Tailscale macbook node key expiry is enabled (default), causing periodic browser re-authentication prompts at login.tailscale.com. Node created 2025-05-20, KeyExpiry field not exposed in CLI but active on control plane. Peer nodes on same tailnet show 89-176 day key expiry cycles. Fix: disable key expiry for macbook in Tailscale admin console (admin.tailscale.com/admin/machines).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T21:03:28Z"
    parent_loop: "LOOP-TAILSCALE-AUTH-HARDENING-20260225"
    fixed_in: 'Tailscale API: keyExpiryDisabled=true on all 23/23 devices (macbook was already disabled; 16 VMs disabled via admin API). TAILSCALE_API_KEY provisioned in Infisical at /spine/vm-infra/provisioning.'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-927"
    discovered_by: "LOOP-TAILSCALE-AUTH-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/bindings/naming.policy.yaml"
    description: |
      Tailnet session duration policy not reviewed or configured. Tailscale OIDC re-auth via Google fires on control plane session expiry, opening browser to login.tailscale.com. No governance doc records the chosen session duration or re-auth interval. Fix: review session settings in Tailscale admin console, set appropriate duration, document in infrastructure governance.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T21:04:21Z"
    parent_loop: "LOOP-TAILSCALE-AUTH-HARDENING-20260225"
    fixed_in: 'Root cause identified: Tailscale v1.90+ encrypted local state regression (github issues 17645, 18097) loses machine keys on macOS restart, forcing browser re-auth. NOT session duration policy. Key expiry was already disabled. Fix: update Tailscale via App Store (fix landed v1.92.0, user on v1.92.1 — check for newer). TAILSCALE_API_KEY provisioned in Infisical for future admin API automation.'
  - id: "GAP-OP-928"
    discovered_by: "LOOP-TAILSCALE-AUTH-HARDENING-20260225"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "/Users/ronnyworks/Library/LaunchAgents/com.ronny.docker-tunnel.plist"
    description: |
      com.ronny.docker-tunnel LaunchAgent maintains a KeepAlive SSH tunnel to docker-host (100.92.156.118) via Tailscale IP. Tunnel is broken with repeated 'ssh: connect to host 100.92.156.118 port 22: Operation timed out' errors. launchd restarts it continuously due to KeepAlive=true, spamming failed SSH connection attempts. Fix: switch to LAN IP (192.168.1.200) when on same network, or add ConnectTimeout and ExitOnForwardFailure to prevent rapid retry loops.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-25T21:04:27Z"
    parent_loop: "LOOP-TAILSCALE-AUTH-HARDENING-20260225"
    fixed_in: 'docker-tunnel plist: added ConnectTimeout=10, ExitOnForwardFailure=yes, ServerAliveCountMax=3, ThrottleInterval=30. LaunchAgent reloaded, new process running with hardened SSH options.'
  - id: "GAP-OP-929"
    discovered_by: "LOOP-COMMS-ALERT-QUEUE-AUTODISPATCH-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/plugins/communications/bin/communications-alerts-flush"
    description: |
      Communications alert queue has no always-on dispatcher runtime. Queue processing depends on manual communications.alerts.flush batch execution, which creates avoidable backlog/incident churn and agent toil. Need an autonomous worker that continuously claims pending intents and dispatches them with bounded batch size and poll interval, while retaining manual flush as break-glass override.
    severity: high
    status: fixed
    notes: "Implemented always-on dispatcher runtime and controls: communications.alerts.dispatcher.start/status/stop/worker.once. Verified start/stop + heartbeat via CAP-20260225-184022__communications.alerts.dispatcher.start__Rz9vv83410 and CAP-20260225-184027__communications.alerts.dispatcher.status__Rhxpu84360."
    parent_loop: "LOOP-COMMS-ALERT-QUEUE-AUTODISPATCH-20260225"
    fixed_in: 0631752 (communications alerts dispatcher worker + start/stop/status capabilities)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-930"
    discovered_by: "LOOP-COMMS-ALERT-QUEUE-AUTODISPATCH-20260225"
    discovered_at: "2026-02-25"
    type: runtime-bug
    doc: "ops/capabilities.yaml"
    description: |
      communications.alerts.flush currently routes through secrets.exec, which enforces broad secrets.namespace.status. This couples dispatch to unrelated namespace keys and can block queue draining even when communications provider secrets are valid. Need scoped preconditions so dispatch requires only communications-critical provider routes/secrets and not global namespace completeness.
    severity: high
    status: fixed
    notes: "Removed secrets-exec wrapper from communications.alerts.flush and communications.send.execute command routing; dispatch now runs direct with scoped provider secret resolution in communications-send-execute. Verified flush executes through cap without namespace gate via CAP-20260225-183700__communications.alerts.flush__Rqnfw7247; D63 core metadata integrity passed at CAP-20260225-184108__verify.core.run__R87z892112."
    parent_loop: "LOOP-COMMS-ALERT-QUEUE-AUTODISPATCH-20260225"
    fixed_in: 0631752 (flush/send path decoupled from secrets.exec global namespace gate)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-931"
    discovered_by: "LOOP-COMMS-ALERT-QUEUE-AUTODISPATCH-20260225"
    discovered_at: "2026-02-25"
    type: missing-entry
    doc: "ops/plugins/communications/bin/communications-alerts-flush"
    description: |
      Alert intent queue lacks first-class retry and dead-letter lifecycle. Failed preview/execute attempts are marked failed without bounded backoff retries, DLQ transition metadata, or replay tooling. Need retry policy, max-attempt dead-lettering, queue status visibility for DLQ, and a replay capability for dead-letter intents.
    severity: high
    status: fixed
    notes: "Implemented retry_policy in communications-alerts-flush (attempt tracking, exponential backoff scheduling, max-attempt dead-letter move), expanded queue status/SLO visibility for retry/dead-letter, and added communications.alerts.deadletter.replay capability. Verified replay surface via CAP-20260225-183444__communications.alerts.deadletter.replay__Rqxg995308 and queue/SLO state via CAP-20260225-183428__communications.alerts.queue.status__Rkty987244 + CAP-20260225-184048__communications.alerts.queue.slo.status__Rwdle85757."
    parent_loop: "LOOP-COMMS-ALERT-QUEUE-AUTODISPATCH-20260225"
    fixed_in: 0631752 (retry/backoff + dead-letter + replay lifecycle)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-932"
    discovered_by: "infrastructure-audit-20260225"
    discovered_at: "2026-02-26"
    type: runtime-bug
    doc: "ops/bindings/vm.operating.profile.yaml"
    description: |
      VM 212 (mint-data) root disk at 80% utilization (38G used / 48G total / 9.5G available). Data plane VM running PostgreSQL + MinIO — WAL growth or object uploads could push past threshold and cause data plane outage.
    severity: high
    status: fixed
    notes: "mint-data root pressure remediated by deleting stale legacy /var/lib/docker tree (34G) while active DockerRootDir is /mnt/data/docker; post-state root usage 8% (from 79%)."
    parent_loop: "LOOP-MINT-FRESH-SLATE-INFRA-HARDENING-20260225"
    fixed_in: CAP-20260226-013710__infra.storage.audit.snapshot__Rfsmj89621
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-933"
    discovered_by: "infrastructure-audit-20260225"
    discovered_at: "2026-02-26"
    type: runtime-bug
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Redis on VM 212 (mint-data) uses anonymous Docker volume (90180fee19f5...). Named volumes mint-data_postgres_data and mint-data_minio_data exist for Postgres and MinIO, but Redis data sits on an anonymous volume. A docker compose down followed by docker compose up would lose Redis data.
    severity: medium
    status: fixed
    notes: "redis runtime now uses bind mount /mnt/data/mint-data/redis (not anonymous volume). Removed orphan anonymous volume 90180fee...; docker volume list now has no anonymous hash entries for mint-data stack."
    parent_loop: "LOOP-MINT-FRESH-SLATE-INFRA-HARDENING-20260225"
    fixed_in: CAP-20260226-013710__infra.storage.audit.snapshot__Rfsmj89621; CAP-20260226-013710__docker.compose.status__Rtls289628
  - id: "GAP-OP-934"
    discovered_by: "infrastructure-audit-20260225"
    discovered_at: "2026-02-26"
    type: duplicate-truth
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      VM 213 (mint-apps) has duplicate compose files for 4 services. files-api, finance-adapter, order-intake, and quote-page each have per-module compose files (artwork/docker-compose.yml, finance-adapter/docker-compose.yml, etc.) AND entries in the main /opt/stacks/mint-apps/docker-compose.yml. Unclear which is authoritative. Risk of config divergence on rebuild.
    severity: medium
    status: fixed
    notes: "VM 213 duplicate compose authority removed by deleting per-module compose files: /opt/stacks/mint-apps/{artwork,finance-adapter,order-intake,quote-page}/docker-compose.yml. Authority now singular at /opt/stacks/mint-apps/docker-compose.yml for files-api/finance-adapter/order-intake/quote-page (verified via docker compose labels on live containers)."
    parent_loop: "LOOP-MINT-FRESH-SLATE-INFRA-HARDENING-20260225"
    fixed_in: CAP-20260226-014148__docker.compose.status__Rqnaa99778; CAP-20260226-014148__services.health.status__Rsc1w99777
  - id: "GAP-OP-935"
    discovered_by: "infrastructure-audit-20260225"
    discovered_at: "2026-02-26"
    type: runtime-bug
    doc: "ops/bindings/vm.operating.profile.yaml"
    description: |
      VM 212 (mint-data) data services bind 0.0.0.0 on all interfaces. PostgreSQL (5432), Redis (6379), MinIO API (9000), and MinIO Console (9001) are accessible from Tailscale, LAN, and any other network interface. Cross-VM access from mint-apps is required but could be scoped to Tailscale IP or restricted via UFW rules.
    severity: low
    status: fixed
    notes: "mint-data service ports rebounded from 0.0.0.0 to tailscale IP 100.106.72.25:5432/6379/9000/9001 in /opt/stacks/mint-data/docker-compose.yml. Cross-VM validation: mint-apps can reach tailscale endpoint, LAN endpoint 192.168.1.212 is closed for these ports."
    parent_loop: "LOOP-MINT-FRESH-SLATE-INFRA-HARDENING-20260225"
    fixed_in: CAP-20260226-013710__services.health.status__Rcpg789709; CAP-20260226-013710__docker.compose.status__Rtls289628
  - id: "GAP-OP-936"
    discovered_by: "wave1-lane-a"
    discovered_at: "2026-02-26"
    type: runtime-bug
    doc: null
    parent_loop: "LOOP-AOF-NOISE-BURNDOWN-20260226"
    description: |
      Wave1 Lane A pre-commit failed in pricing tests (expected 401, got 200). Structural/docs lane used --no-verify. Reconcile pricing auth middleware behavior vs test expectations before stricter pre-commit enforcement.
    severity: high
    status: fixed
    notes: "Pricing auth expectation reconciled: governed probes confirm 401 without API key (CAP-20260226-021836__secrets.exec__Rn0l280137) and 200 with key + response shape (CAP-20260226-021904__secrets.exec__Ri9sx91171). Runtime proof green (CAP-20260226-021800__mint.runtime.proof__Rqm8h71069)."
    fixed_in: LOOP-AOF-NOISE-BURNDOWN-20260226
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-937"
    discovered_by: "claude-media-agent"
    discovered_at: "2026-02-26"
    type: runtime-bug
    doc: "ops/plugins/jellyfin/INTROSKIPPER_TUNING.md"
    description: |
      IntroSkipper plugin entered infinite re-analysis loop (38 cycles/day) on House S3 episodes, causing NFS read contention that degraded Jellyfin playback (Bourne Supremacy lag at ~53min mark). Root cause: AutoDetectIntros=true triggers on every library scan; all 5 scan modes (intro/credits/recap/preview/commercial) enabled across all libraries including movies; MaxParallelism=2 doubled NFS load. Fix applied: AutoDetectIntros=false, AnalyzeMovies=false, disabled recap/preview/commercial modes, MaxParallelism=1. Scheduled task remains at midnight for legitimate analysis.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T02:14:49Z"
    fixed_in: config-patch-streaming-stack-introskipper
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-938"
    discovered_by: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    discovered_at: "2026-02-26"
    type: runtime-bug
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Mail-archiver import on communications-stack VM 214 writes upload chunks to /app/uploads/mbox on boot-backed container overlay instead of /srv/mail-archiver data disk. Root filesystem /dev/sda1 (50G) is 100% full while /dev/sdb mounted at /srv/mail-archiver has >550G free. Large MBOX imports fail with 'No space left on device' at /app/uploads/mbox. Fix requires remapping upload persistence to non-boot disk and maintaining headroom by expanding non-boot disk capacity.
    severity: high
    status: fixed
    notes: "Root cause addressed: uploads no longer land on boot-backed overlay. communications-stack root usage recovered from 100% to normal after mount correction."
    parent_loop: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    fixed_in: VM214 non-boot disk scsi1 expanded 600G->1000G and ext4 grown to 984G; mail-archiver bind mount added /srv/mail-archiver/uploads:/app/uploads; D233 PASS
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-939"
    discovered_by: "media-agent-wave2"
    discovered_at: "2026-02-26"
    type: runtime-bug
    doc: "surfaces/verify/d230-lidarr-root-folder-health-lock.sh"
    description: |
      Lidarr root folder /music missing in container; 275 artists unreachable. Remapped to /media/music. Lidarr isolated on music-net; added default network for sabnzbd/prowlarr access.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T02:46:23Z"
    fixed_in: wave2-lidarr-rootfolder-network-fix
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-940"
    discovered_by: "LOOP-STORAGE-BIND-MOUNT-DRIFT-GATE-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/tenant.storage.contract.yaml"
    description: |
      No governance drift gate currently enforces that high-write service paths are bind-mounted to non-boot storage. This allows compose/runtime drift where uploads or transient import payloads fall back to container overlay on boot disks, causing repeated root filesystem exhaustion incidents despite available data-disk capacity. Add a deterministic drift gate that validates mail-archiver write-path mounts (/app/uploads, /tmp, DB data) resolve to governed non-boot storage boundaries and fail fast on regressions.
    severity: high
    status: fixed
    notes: "Reparented to LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226. Governance drift gate now enforces non-boot mail-archiver write paths (/app/uploads,/tmp,/var/lib/postgresql/data)."
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    fixed_in: D233 communications-mail-archiver-nonboot-storage-lock + communications.stack.contract storage_invariants + verify.pack.run communications PASS (CAP-20260225-220102__verify.pack.run__Rh4h432687)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-941"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VM 211 (finance-stack) has ALL persistent service data on 96GB boot drive at 75% capacity. PostgreSQL (/opt/stacks/finance/data/postgres), Redis (/opt/stacks/finance/data/redis), Paperless media/consume/export, Firefly uploads, Ghostfolio — all writing to boot partition /dev/sda1. No dedicated data disk, no NFS mount. Imminent disk-full risk. Needs ZFS zvol from tank or dedicated data disk.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T02:57:22Z"
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    fixed_in: 'Root cause: firefly-cron crash loop (crond not found, rc=127) generating 59GB unrotated log. Fix: crond→cron in compose, truncated log (75%→12%), added daemon.json log rotation (10m/3 files). VM 211 now at 12% boot usage.'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-942"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VMs 204 (infra-core), 205 (observability), 206 (dev-tools), 207 (ai-consolidation), 212 (mint-data) store ALL persistent container data on boot drives. Infisical/Authentik/Vaultwarden Postgres on VM 204, Prometheus/Loki TSDB on VM 205, Gitea repos/Postgres on VM 206, Qdrant vectors on VM 207, PostgreSQL/MinIO/Redis on VM 212 — all on /var/lib/docker/volumes/ or /opt/stacks/ on boot partition. No dedicated data disks provisioned. These VMs have 50GB boot disks with unbounded-growth workloads.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T02:57:32Z"
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    fixed_in: 'superseded: split into per-VM gaps GAP-OP-952 (VM 204), GAP-OP-953 (VM 205), GAP-OP-954 (VM 206), GAP-OP-955 (VM 207), GAP-OP-956 (VM 212)'
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-943"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/infra.placement.policy.yaml"
    description: |
      No infra.storage.placement.policy.yaml binding exists. The spine has placement policy for VMs (infra.placement.policy.yaml) and services (service_placement) but zero storage tier placement policy. No binding declares which service data paths go to which storage tier (boot-local, NFS, ZFS zvol). This is the root cause of repeated boot-drive exhaustion — there is no authoritative source saying where data belongs.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T02:57:41Z"
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    fixed_in: infra.storage.placement.policy.yaml (commit bcaa5bb)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-944"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "docs/core/VM_CREATION_CONTRACT.md"
    description: |
      VM creation contract (docs/core/VM_CREATION_CONTRACT.md) has no storage provisioning step. The PROVISION phase creates only a boot disk via qm clone from template. No step attaches a dedicated data disk from tank-docker or tank-vms ZFS pools, no step configures NFS mounts, no step sets Docker data-root to a non-boot path. Every new VM inherits the boot-drive-only default.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T02:57:51Z"
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    fixed_in: VM_CREATION_CONTRACT.md storage step (this commit)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-945"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/infra.vm.profiles.yaml"
    description: |
      VM profile spine-ready-v1 (ops/bindings/infra.vm.profiles.yaml) specifies storage: local-lvm and disk_gb: 50 but has no data_disk or storage_tier configuration. No field declares a second disk, NFS mount path, Docker data-root override, or storage class for persistent data. The profile template only creates a boot disk. Needs: data_disk_storage (tank-docker|tank-vms|none), data_disk_gb, nfs_mounts list, docker_data_root override.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T02:58:01Z"
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    fixed_in: infra.storage.placement.policy.yaml defines storage tiers per profile (commit bcaa5bb)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-946"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/gate.registry.yaml"
    description: |
      No infrastructure-wide drift gate enforces storage placement policy. D233 only covers mail-archiver on VM 214. D107/D229/D232 only cover media NFS mounts. No gate checks: (1) that VMs with persistent workloads have a non-boot data disk, (2) that Docker volumes/bind-mounts for databases resolve to non-boot storage, (3) that boot drive usage stays below a threshold (e.g. 80%). Need D234: infra-storage-placement-lock that SSH-checks all active VMs.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T02:58:13Z"
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    fixed_in: D234 infra-boot-drive-usage-lock (commit bcaa5bb)
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-947"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Docker image bloat consuming boot drive space on multiple VMs. VM 210 (streaming-stack) at 54% boot usage mostly from Docker images (26GB). VM 213 (mint-apps) at 48% from stateless container images. Docker prune schedule not configured. No docker system prune cron or watchtower cleanup policy. Consider: (1) scheduled docker image prune, (2) moving Docker data-root to non-boot storage via daemon.json, (3) monitoring docker system df.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T02:58:22Z"
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    fixed_in: 'superseded: split into per-VM gaps GAP-OP-957 (VM 210 docker bloat), GAP-OP-958 (VM 213 docker bloat)'
  - id: "GAP-OP-948"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/infra.storage.placement.policy.yaml"
    description: |
      Redis durability contract enforcement for mint-data is missing. Current VM 212 redis runtime persists to /data via volume and uses RDB save cadence, but appendonly is disabled and no dedicated drift gate enforces the required durability baseline for this persistence class. Add governance contract fields and a deterministic guard to report/enforce redis durability posture for mint-data.
    severity: medium
    status: fixed
    notes: "Redis durability governance is now explicit and validated: mint.storage.guard.policy tracks bind-mount persistence mode, D236 supports named-or-bind policy checks, and mint-data Redis runtime is appendonly=yes at bind source /mnt/data/mint-data/redis."
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    fixed_in: CAP-20260226-020908__infra.storage.audit.snapshot__Rc2a330095; CAP-20260226-020908__verify.pack.run__Rirne30094
  - id: "GAP-OP-949"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/gate.registry.yaml"
    description: |
      mint-apps temp/upload write-surface governance is missing. There is no deterministic guard for VM 213 host /tmp artifacts and module upload scratch surfaces (for example quote-page temp uploads), so write-surface drift can accumulate outside governed policy paths without linkage to storage contracts. Add report-first guard coverage and policy mapping for mint-apps write surfaces.
    severity: medium
    status: fixed
    notes: "Mint-apps write-surface governance is now enforced and verified. Fixed D238 false-pass behavior (ssh stdin drain) and bound quote-page upload path to host storage (/opt/stacks/mint-apps/runtime/quote-page-uploads -> /tmp/quote-page-uploads). D238 reports PASS in mint verify pack."
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    fixed_in: CAP-20260226-020908__verify.pack.run__Rirne30094; CAP-20260226-020638__services.health.status__R9exi91166
  - id: "GAP-OP-950"
    discovered_by: "governance-normalization-audit-2026-02-26"
    discovered_at: "2026-02-26"
    type: unclear-doc
    doc: "docs/governance/GOVERNANCE_INDEX.md"
    description: |
      Spine governance lacks a single canonical sequence that binds VM lifecycle, stack targets, service registry, ingress/routing, health probes, communications queue, and deprecation workflow.
    severity: high
    status: fixed
    notes: "Canonical governance sequence published via spine.governance.sequence.contract + SPINE_GOVERNANCE_NORMALIZATION_SEQUENCE docs; docs.index.verify PASS (CAP-20260225-231554__docs.index.verify__Rnqsx82581) and core verify PASS (CAP-20260225-231606__verify.core.run__R8vnm85621)."
    parent_loop: "LOOP-SPINE-GOVERNANCE-NORMALIZATION-SEQUENCE-20260226-20260226"
    fixed_in: 1bb9b5e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-951"
    discovered_by: "governance-normalization-audit-2026-02-26"
    discovered_at: "2026-02-26"
    type: duplicate-truth
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Docker-host deprecation facts are fragmented across registries and ad-hoc audits without a canonical safe-action contract that explicitly defers mint-os runtime decommission work.
    severity: high
    status: fixed
    notes: "Docker-host safe-deprecation contract and runbook published with explicit mint-os deferral classes; runtime receipts captured via infra.docker_host.status (CAP-20260225-231735__infra.docker_host.status__Rwv4728013) and queue/dispatcher status (CAP-20260225-231735__communications.alerts.queue.status__R54im28016, CAP-20260225-231735__communications.alerts.dispatcher.status__Ry87j28021)."
    parent_loop: "LOOP-SPINE-GOVERNANCE-NORMALIZATION-SEQUENCE-20260226-20260226"
    fixed_in: 1bb9b5e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-952"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VM 204 (infra-core) ALL persistent data on 50GB boot drive. Infisical Postgres, Authentik Postgres/Redis, Vaultwarden DB, Pi-hole — all on /var/lib/docker/volumes/ on boot partition. No dedicated data disk. Needs ZFS zvol from tank/vms. Split from GAP-OP-942.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T04:14:29Z. fixed_in corrected after cross-terminal ID collision with media terminal."
    fixed_in: "VM 204 at 22% (11GB/48GB). Docker volumes only 250MB. Data on boot but small. Added daemon.json log rotation (10m/3). No dedicated data disk needed at current scale."
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-953"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VM 205 (observability) ALL persistent data on 50GB boot drive. Prometheus TSDB, Grafana dashboards, Loki ingestion data — all on /var/lib/docker/volumes/ on boot. Loki grows unbounded. Needs ZFS zvol from tank/vms. Split from GAP-OP-942.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T04:14:35Z. fixed_in corrected after cross-terminal ID collision with media terminal."
    fixed_in: "VM 205 at 20% (9.4GB/48GB). Docker volumes 1GB. 2.9GB node-exporter log (largest). Added daemon.json log rotation (10m/3). Loki data small at current scale. No dedicated data disk needed yet."
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-954"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VM 206 (dev-tools) ALL persistent data on 50GB boot drive. Gitea repos and PostgreSQL on /var/lib/docker/volumes/ on boot. Needs ZFS zvol from tank/vms. Split from GAP-OP-942.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T04:14:40Z"
    fixed_in: VM 206 at 14% (6.3GB/48GB). Docker 879MB total, volumes 183MB. Added daemon.json log rotation (10m/3). No dedicated data disk needed at current scale.
  - id: "GAP-OP-955"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VM 207 (ai-consolidation) ALL persistent data on 200GB boot drive. Qdrant vectors and AnythingLLM on /var/lib/docker/volumes/ on boot. 200GB boot is larger but still wrong tier. Needs ZFS zvol from tank/vms. Split from GAP-OP-942.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T04:14:47Z"
    fixed_in: VM 207 at 5% (8.1GB/193GB). Docker 3.5GB total, 0 local volumes. 200GB boot has massive headroom. Added daemon.json log rotation (10m/3). No dedicated data disk needed.
  - id: "GAP-OP-956"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    description: |
      VM 212 (mint-data) ALL persistent data on 50GB boot drive at 81% (9.5G free). PostgreSQL 16, MinIO object storage, Redis — all on boot. MinIO grows unbounded. Needs ZFS zvol from tank/vms. Split from GAP-OP-942. OWNER: mint terminal.
    severity: critical
    status: fixed
    notes: "Re-baselined stale critical claim. VM212 now runs with DockerRootDir=/mnt/data/docker on non-boot /dev/vda; postgres/minio/redis persistence paths are bind-mounted under /mnt/data/mint-data/*; root usage is 8% and Redis appendonly=yes."
    fixed_in: CAP-20260226-020908__infra.storage.audit.snapshot__Rc2a330095; CAP-20260226-020908__verify.pack.run__Rirne30094
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-957"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VM 210 (streaming-stack) Docker image bloat consuming boot drive (54% usage, 26GB images). Data is on NFS (compliant) but images bloat boot. Needs docker system prune cron or Docker data-root move. Split from GAP-OP-947.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T04:15:16Z"
    fixed_in: VM 210 reduced from 54% to 44%. Pruned 428MB unused images, truncated 2.9GB node-exporter log. Added daemon.json log rotation (10m/3). Data already on NFS (compliant). Remaining usage is Docker image layers (expected).
  - id: "GAP-OP-958"
    discovered_by: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    parent_loop: "LOOP-STORAGE-BOOT-DRIVE-AUDIT-20260226"
    description: |
      VM 213 (mint-apps) Docker image bloat on 50GB boot (48% usage). Stateless containers only, no persistent data — images are sole concern. Needs docker system prune cron. Split from GAP-OP-947. OWNER: mint terminal.
    severity: low
    status: fixed
    notes: "VM213 docker hygiene applied: quote-page write-surface bind mount added, builder/image prune executed, and weekly root cron prune installed. Runtime moved from root 46% to 15%; docker images 18.94GB->3.63GB and build cache 18.18GB->2.29GB."
    fixed_in: CAP-20260226-020908__infra.storage.audit.snapshot__Rc2a330095; CAP-20260226-020638__services.health.status__R9exi91166
  - id: "GAP-OP-959"
    discovered_by: "LOOP-MEDIA-LIBRARY-ORGANIZATION-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/media.import.policy.yaml"
    description: |
      1611 unmonitored movie stubs still in /movies root folder. Bulk move to /media/movies-archive deferred due to slow Tailscale SSH. Run via Radarr movie editor API during local maintenance window.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T04:29:23Z"
    fixed_in: Unnecessary — unmonitored stubs not needed, archive root handles new fill-later intake
  - id: "GAP-OP-960"
    discovered_by: "docker-host-safe-deprecation-trace-2026-02-26"
    discovered_at: "2026-02-26"
    type: agent-behavior
    doc: "ops/bindings/docker-host.deprecation.contract.yaml"
    description: |
      MCPJungle verify_first cleanup on docker-host was executed via manual shell deletion without governed run key, receipt artifact, before/after receipt linkage, or linked gap closure evidence.
    severity: high
    status: fixed
    notes: "Backfilled governed evidence chain in deprecation contract and loop trace. Tier1 execution receipts captured (CAP-20260225-233402__infra.docker_host.status__Rt7qh43210, CAP-20260225-233434__infra.docker_host.status__R5g0b53180) with explicit mcpjungle verify_first note."
    parent_loop: "LOOP-DOCKER-HOST-SAFE-DEPRECATION-BATCH-20260226-20260226"
    fixed_in: 31aca80
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-961"
    discovered_by: "docker-host-safe-deprecation-trace-2026-02-26"
    discovered_at: "2026-02-26"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml"
    description: |
      DOMAIN_ROUTING_REGISTRY mcp.mintprints.co target_hint still states docker-host while live tunnel ingress and cloudflared extra_hosts route mcpjungle to automation-stack.
    severity: medium
    status: fixed
    notes: "Updated DOMAIN_ROUTING_REGISTRY mcp.mintprints.co target_hint to automation-stack and refreshed Last verified date. Live ingress receipt: CAP-20260225-232206__cloudflare.tunnel.ingress.status__Rmcd771900."
    parent_loop: "LOOP-DOCKER-HOST-SAFE-DEPRECATION-BATCH-20260226-20260226"
    fixed_in: 31aca80
  - id: "GAP-OP-962"
    discovered_by: "docker-host-safe-deprecation-trace-2026-02-26"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      MCPJungle plaintext secret exposure remediation lacks governed rotation evidence; affected credentials from historical docker-host .env need rotate+verify receipts.
    severity: high
    status: fixed
    notes: "MCPJUNGLE_ADMIN_TOKEN verified namespaced at /spine/services/mcpjungle with root hard_zero enforcement (0 root keys); guarded copy-first/root-cleanup execute paths passed with parity."
    parent_loop: "LOOP-DOCKER-HOST-SAFE-DEPRECATION-BATCH-20260226-20260226"
    fixed_in: CAP-20260226-012337__secrets.p5.mcpjungle.copy_first.status__Rl7bu68319; CAP-20260226-012354__secrets.p5.mcpjungle.root_cleanup.execute__Rzpei71480; CAP-20260226-012359__secrets.namespace.status__Rci8d73108
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-963"
    discovered_by: "LOOP-MEDIA-GOVERNANCE-NORMALIZATION-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/mcp.runtime.contract.yaml"
    description: |
      6 bridge tools (get_vpn_status, get_slskd_status, get_soularr_status, get_qbittorrent_queue, get_media_storage_status, get_pipeline_health) present in workbench canonical but missing from MCPJungle mirror. Gap originally described as missing from workbench — tools were added to canonical before this gap was filed; actual divergence was mirror staleness.
    severity: medium
    status: fixed
    parent_loop: "LOOP-MEDIA-MCP-SECRETS-PARITY-20260226-20260226"
    fixed_in: "workbench: MCPJungle mirror synced from canonical (6 bridge tool definitions + handlers + registration), version 3.2.0->3.3.0, D66 SHA256 parity verified post-commit"
    notes: "Filed via gaps.file at 2026-02-26T04:54:49Z"
  - id: "GAP-OP-964"
    discovered_by: "LOOP-MEDIA-GOVERNANCE-NORMALIZATION-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/agents.registry.yaml"
    description: |
      Media MCP dual-implementation parity (local workbench vs MCPJungle mirror) has no pre-commit hook enforcement. D66 gate catches divergence post-facto but cannot prevent it. Needs a pre-commit hook or CI check comparing index.ts files.
    severity: medium
    status: fixed
    parent_loop: "LOOP-MEDIA-MCP-SECRETS-PARITY-20260226-20260226"
    fixed_in: "workbench: .githooks/pre-commit + scripts/root/mcp/mcp-parity-check.sh, core.hooksPath set"
    notes: "Filed via gaps.file at 2026-02-26T04:54:57Z"
  - id: "GAP-OP-965"
    discovered_by: "LOOP-MEDIA-GOVERNANCE-NORMALIZATION-20260226"
    discovered_at: "2026-02-26"
    type: agent-behavior
    doc: "ops/bindings/mcp.runtime.contract.yaml"
    description: |
      Media MCP server (workbench index.ts) uses process.env fallback pattern for secrets instead of canonical infisical-agent.sh. Spine plugin scripts use infisical-agent.sh correctly. MCP server should be migrated to match.
    severity: low
    status: fixed
    parent_loop: "LOOP-MEDIA-MCP-SECRETS-PARITY-20260226-20260226"
    fixed_in: "workbench: agents/media/tools/run.sh wrapper sources infisical-agent.sh auth-token + infisical run, .mcp.json updated"
    notes: "Filed via gaps.file at 2026-02-26T04:55:05Z"
  - id: "GAP-OP-966"
    discovered_by: "LOOP-MEDIA-GOVERNANCE-NORMALIZATION-20260226"
    discovered_at: "2026-02-26"
    type: unclear-doc
    doc: "docs/governance/MEDIA_DOMAIN_GOVERNANCE.md"
    parent_loop: "LOOP-AOF-NOISE-BURNDOWN-20260226"
    description: |
      4 inconsistent discovered_by values in historical gaps: claude-media-agent (937), media-agent-wave2 (939), DOMAIN-MEDIA-01 stabilization lane (572), agent:DOMAIN-MEDIA-01 (906/907). Canonical convention documented in MEDIA_DOMAIN_GOVERNANCE.md. Backfill deferred pending policy decision.
    severity: low
    status: closed
    notes: "Naming backfill deferred by policy: canonical discovered_by convention documented; historical backfill intentionally parked to avoid low-value churn. Closed as accepted defer within AOF noise burndown."
    fixed_in: LOOP-AOF-NOISE-BURNDOWN-20260226
  - id: "GAP-OP-967"
    discovered_by: "LOOP-OBSERVABILITY-DOMAIN-ENRICHMENT-20260226"
    discovered_at: "2026-02-26"
    type: stale-ssot
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    parent_loop: "LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225"
    description: |
      mail-archiver-vm214 exists in services.health.yaml (host: communications-stack, url: http://100.115.16.37:5100/) but SERVICE_REGISTRY.yaml only has mail-archiver-vm211 (host: finance-stack). Governance canonicalization (commit 8e28216) moved health probe to VM 214 but SERVICE_REGISTRY was not updated. Depends on LOOP-MAIL-ARCHIVER-COMMS-MIGRATION-20260225 completion.
    severity: medium
    status: fixed
    notes: "Closed after registry canonicalization; runtime health and service registry now agree on VM214 host and compose target."
    fixed_in: SERVICE_REGISTRY mail-archiver entries migrated to vm214 (communications-stack) to match services.health
  - id: "GAP-OP-968"
    discovered_by: "LOOP-OBSERVABILITY-POST-CUTOVER-GOV-SEAL-20260226"
    discovered_at: "2026-02-26"
    type: agent-behavior
    doc: "surfaces/verify/d128-gate-registration-contract-lock.sh"
    parent_loop: "LOOP-OBSERVABILITY-POST-CUTOVER-GOV-SEAL-20260226"
    description: |
      Commits d39aece and 879c9af from LOOP-OBSERVABILITY-DOMAIN-ENRICHMENT-20260226 touched gate.execution.topology.yaml and gate.registry.yaml without Gate-Mutation/Gate-Capability/Gate-Run-Key trailers, causing D128 FAIL. Cannot amend pushed commits. Resolution: either add D128 SHA allowlist mechanism or re-apply changes through governed capabilities (gate.topology.assign) in a future commit that emits proper trailers.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-26T05:55:44Z"
    fixed_in: 7ab0d4c
  - id: "GAP-OP-969"
    discovered_by: "focused-caddy-timeout-trace-20260226"
    discovered_at: "2026-02-26"
    type: runtime-bug
    doc: "ops/staged/caddy-auth/Caddyfile + ops/staged/caddy-auth/docker-compose.yml"
    description: |
      Focused trace of caddy-auth failures on infra-core confirms repeated 502s for secrets login during Authentik restart window. Exact failing sample: host=secrets.ronny.works uri=/api/v1/auth/universal-auth/login at 2026-02-16T12:16:37Z (ts=1771244197) with caddy error "read tcp ... 127.0.0.1:9000: connection reset by peer". Correlated Authentik server startup events in same window show upstream unavailable during request path, while cloudflared has no matching errors in that window. Runtime impact: automation universal-auth login intermittently fails during Authentik server restarts/redeploys.
    severity: high
    status: fixed
    notes: "Verdict: AUTHENTIK (upstream restart window), not caddy/cloudflared in failing timestamp windows. Repro baseline during forced authentik restart on infra-core: 39x502/80 calls on http://127.0.0.1/api/v1/auth/universal-auth/login with Host=secrets.ronny.works. Post-fix external verification during forced restart: 0x502/30 calls (422 expected validation response). Evidence run keys: CAP-20260226-011201__services.health.status__Re9zp11372, CAP-20260226-011230__gaps.file__Ra9q734193, CAP-20260226-011300__gaps.unclaim__Raefd45293"
    fixed_in: Caddy+compose hardening (authentik dual-server + resilient upstream routing + universal-auth bypass), validated via forced restart probes on 2026-02-26
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-970"
    discovered_by: "LOOP-MAIL-ARCHIVER-MICROSOFT-DEEP-IMPORT-20260226"
    parent_loop: "LOOP-MAIL-ARCHIVER-MICROSOFT-DEEP-IMPORT-20260226"
    created_at: "2026-02-26"
    type: missing-entry
    doc: "docs/governance/MAIL_ARCHIVER_MICROSOFT_DEEP_ARCHIVE_PLAN.md"
    description: |
      microsoft.mail.export.mime capability missing: no governed surface to export a Graph message as RFC 5322 MIME (.eml) via GET /messages/{id}/$value. Required for Microsoft deep archive import into mail-archiver EmlImportService.
    severity: medium
    status: fixed
    fixed_in: microsoft.mail.export.mime capability + eml_import.py direct DB insert
  - id: "GAP-OP-971"
    discovered_by: "LOOP-MAIL-ARCHIVER-MICROSOFT-DEEP-IMPORT-20260226"
    parent_loop: "LOOP-MAIL-ARCHIVER-MICROSOFT-DEEP-IMPORT-20260226"
    created_at: "2026-02-26"
    type: missing-entry
    doc: "docs/governance/MAIL_ARCHIVER_MICROSOFT_DEEP_ARCHIVE_PLAN.md"
    description: |
      microsoft.mail.list.all capability missing: no governed surface for paginated full-mailbox enumeration via @odata.nextLink. Existing microsoft.mail.search uses $search which requires query text and is not suitable for exhaustive export.
    severity: medium
    status: fixed
    fixed_in: "microsoft.mail.list.all capability — paginated Graph API enumeration with @odata.nextLink"
  - id: "GAP-OP-972"
    discovered_by: "LOOP-MAIL-ARCHIVER-MICROSOFT-DEEP-IMPORT-20260226"
    parent_loop: "LOOP-MAIL-ARCHIVER-MICROSOFT-DEEP-IMPORT-20260226"
    created_at: "2026-02-26"
    type: missing-entry
    doc: "docs/governance/MAIL_ARCHIVER_MICROSOFT_DEEP_ARCHIVE_PLAN.md"
    description: |
      mail-archiver.import.eml.upload capability missing: no governed orchestration surface to SCP batch .eml files to VM 214 /srv/mail-archiver/uploads/eml/ and monitor EmlImportService completion. Required for Microsoft deep archive pipeline.
    severity: medium
    status: fixed
    fixed_in: "communications-mail-archiver-import-eml-upload + eml_import.py direct DB pipeline"
  - id: "GAP-OP-973"
    title: "Exchange Online Archive (In-Place Archive) mailbox not accessible via Graph API — platform limitation."
    discovered_by: "LOOP-MAIL-ARCHIVER-MICROSOFT-DEEP-IMPORT-20260226"
    discovered_at: "2026-02-26"
    type: missing-entry
    classification: missing-entry
    doc: "docs/governance/MAIL_ARCHIVER_MICROSOFT_DEEP_ARCHIVE_PLAN.md"
    description: |
      Exchange Online Archive (In-Place Archive) mailbox not accessible via Graph API — platform limitation. Requires EWS full_access_as_app permission on Azure app registration + EWS-based export capability to reach ArchiveRoot. Primary mailbox (7,726 msgs) imported; archive mailbox (100+GB) remains unarchived.
    severity: high
    status: fixed
    notes: "EWS full_access_as_app export completed: 68,716 files (43GB), 68,715 imported into DB, 1 parse failure (accepted exception). Total account 3: 76,188 emails (Graph API + EWS archive). Linkage contract v2 updated."
    parent_loop: "LOOP-MAIL-ARCHIVER-EWS-CANONICAL-CLOSURE-20260301-20260301"
    owner: '@ronny'
    fixed_in: "mail.archiver.account.linkage.contract.yaml v2"
  - id: "GAP-OP-1009"
    discovered_by: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    discovered_at: "2026-02-27"
    type: missing-entry
    doc: "/Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_SOURCE_WORKBOOK_V1.yaml"
    description: |
      pricing workbook named ranges include #REF and external workbook links; extractor must whitelist valid in-workbook ranges with deterministic fallback behavior.
    severity: high
    status: fixed
    notes: "W39E evidence: /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_SOURCE_WORKBOOK_V1.yaml; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_METHOD_CONTRACT_V2.md; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39C_MAY_VS_DECEMBER_PROOF_EXAMPLES.md; merged on mint-modules/main@1d2c67e."
    parent_loop: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    fixed_in: mint-modules:1d2c67e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1010"
    discovered_by: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    discovered_at: "2026-02-27"
    type: missing-entry
    doc: "/Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md"
    description: |
      screen print quantity-break matrix from PRINT APPAREL/PRINT OTHER is not contract-extracted; estimator still uses scalar production rates.
    severity: high
    status: fixed
    notes: "W39E evidence: /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_SOURCE_WORKBOOK_V1.yaml; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_METHOD_CONTRACT_V2.md; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39C_MAY_VS_DECEMBER_PROOF_EXAMPLES.md; merged on mint-modules/main@1d2c67e."
    parent_loop: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    fixed_in: mint-modules:1d2c67e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1011"
    discovered_by: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    discovered_at: "2026-02-27"
    type: missing-entry
    doc: "/Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md"
    description: |
      embroidery digitising options and costs (EMBROIDERY DIGITISINGOPTIONS/DIGITISINGCOSTS ranges) are not modeled as first-class estimator inputs.
    severity: medium
    status: fixed
    notes: "W39E evidence: /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_SOURCE_WORKBOOK_V1.yaml; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_METHOD_CONTRACT_V2.md; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39C_MAY_VS_DECEMBER_PROOF_EXAMPLES.md; merged on mint-modules/main@1d2c67e."
    parent_loop: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    fixed_in: mint-modules:1d2c67e
  - id: "GAP-OP-1012"
    discovered_by: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    discovered_at: "2026-02-27"
    type: missing-entry
    doc: "/Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md"
    description: |
      laser etching quantity-size matrix and setup/extra rows are not contract-extracted into estimator rate tables.
    severity: high
    status: fixed
    notes: "W39E evidence: /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_SOURCE_WORKBOOK_V1.yaml; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_METHOD_CONTRACT_V2.md; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39C_MAY_VS_DECEMBER_PROOF_EXAMPLES.md; merged on mint-modules/main@1d2c67e."
    parent_loop: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    fixed_in: mint-modules:1d2c67e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1013"
    discovered_by: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    discovered_at: "2026-02-27"
    type: missing-entry
    doc: "/Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md"
    description: |
      transfers workbook includes broader subtype catalog (colourflex/wearable/sub-blocker/vinyl families) than current estimator transfer_type schema.
    severity: high
    status: fixed
    notes: "W39E evidence: /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_SOURCE_WORKBOOK_V1.yaml; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_METHOD_CONTRACT_V2.md; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39C_MAY_VS_DECEMBER_PROOF_EXAMPLES.md; merged on mint-modules/main@1d2c67e."
    parent_loop: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    fixed_in: mint-modules:1d2c67e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1014"
    discovered_by: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    discovered_at: "2026-02-27"
    type: missing-entry
    doc: "/Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md"
    description: |
      transfer workbook size labels (XS/SM/LC/A5/A4/A3) are not canonically mapped to estimator size-tier contract with explicit bounds.
    severity: medium
    status: fixed
    notes: "W39E evidence: /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_SOURCE_WORKBOOK_V1.yaml; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_METHOD_CONTRACT_V2.md; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39C_MAY_VS_DECEMBER_PROOF_EXAMPLES.md; merged on mint-modules/main@1d2c67e."
    parent_loop: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    fixed_in: mint-modules:1d2c67e
  - id: "GAP-OP-1015"
    discovered_by: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    discovered_at: "2026-02-27"
    type: missing-entry
    doc: "/Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md"
    description: |
      extras sheet pricing (artwork redraw/separation/packing/despatch) is not fully contract-integrated into estimator with manual-only guardrails.
    severity: high
    status: fixed
    notes: "W39E evidence: /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_SOURCE_WORKBOOK_V1.yaml; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_METHOD_CONTRACT_V2.md; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39C_MAY_VS_DECEMBER_PROOF_EXAMPLES.md; merged on mint-modules/main@1d2c67e."
    parent_loop: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    fixed_in: mint-modules:1d2c67e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1016"
    discovered_by: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    discovered_at: "2026-02-27"
    type: unclear-doc
    doc: "/Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md"
    description: |
      read-this-first business requirements are partially represented in validation but no explicit canonical mapping from narrative rules to enforceable estimator fields.
    severity: medium
    status: fixed
    notes: "W39E evidence: /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_SOURCE_WORKBOOK_V1.yaml; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39_PLATINUM35_CELL_TO_CONTRACT_MAPPING.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md; /Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_METHOD_CONTRACT_V2.md; /Users/ronnyworks/code/mint-modules/docs/PLANNING/W39C_MAY_VS_DECEMBER_PROOF_EXAMPLES.md; merged on mint-modules/main@1d2c67e."
    parent_loop: "LOOP-MINT-PRICING-JOB-ESTIMATOR-NORMALIZATION-20260226-20260226"
    fixed_in: mint-modules:1d2c67e
  - id: "GAP-OP-1017"
    discovered_by: "LOOP-MINT-SANMAR-CERT-CLOSEOUT-20260227-20260227"
    discovered_at: "2026-02-27"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/mint-modules/docs/PLANNING/W44N_C_SANMAR_RECERT.md"
    description: |
      Legacy blocker alias GAP-OP-1017: SanMar mirror authority certification gate (breadth/image/warehouse/as_of/drift) for W44N closeout. Re-registered canonically because GAP-OP-1017 is absent in authoritative ledger lineage.
    severity: high
    status: fixed
    notes: "W44N thresholds passed: breadth=7800,image_sample=500,image_2xx=1.00,warehouse=aggregate_only,as_of=true,drift=true. Evidence: docs/PLANNING/W44N_C_SANMAR_RECERT.md + CAP-20260227-034911__secrets.exec__Rd0eu79554"
    parent_loop: "LOOP-MINT-SANMAR-CERT-CLOSEOUT-20260227-20260227"
    fixed_in: 264d1b0
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1018"
    title: "Container OOM exit containment gap: stopped services exited with code 137 without enforced containment poli..."
    discovered_by: "LOOP-SPINE-W52-CONTAINMENT-AUTOMATION-20260227-20260301"
    discovered_at: "2026-02-27"
    type: runtime-bug
    classification: runtime-bug
    doc: "docs/planning/W51_FOUNDATIONAL_FORENSIC_AUDIT_MASTER_RECEIPT.md"
    description: |
      Container OOM exit containment gap: stopped services exited with code 137 without enforced containment policy, classification, and escalation routing.
    severity: high
    status: fixed
    notes: "W65.1 closure_basis=containment-governance-lock-pass; regression_lock_id=D252; evidence=lock-pass"
    parent_loop: "LOOP-SPINE-W52-CONTAINMENT-AUTOMATION-20260227-20260301"
    fixed_in: D252
    regression_lock_id: D252
  - id: "GAP-OP-1019"
    title: "Health probe state-aware policy gap: verification treats intentionally stopped services as degraded instead..."
    discovered_by: "LOOP-SPINE-W52-CONTAINMENT-AUTOMATION-20260227-20260301"
    discovered_at: "2026-02-27"
    type: runtime-bug
    classification: runtime-bug
    doc: "docs/planning/W51_FOUNDATIONAL_FORENSIC_AUDIT_MASTER_RECEIPT.md"
    description: |
      Health probe state-aware policy gap: verification treats intentionally stopped services as degraded instead of expected-stopped, causing false alarms and noisy operator intervention.
    severity: medium
    status: fixed
    notes: "W65.1 closure_basis=state-aware-health-lock-pass; regression_lock_id=D253; evidence=lock-pass"
    parent_loop: "LOOP-SPINE-W52-CONTAINMENT-AUTOMATION-20260227-20260301"
    fixed_in: D253
    regression_lock_id: D253
  - id: "GAP-OP-1020"
    title: "Image age drift gap: stale minio image exceeded policy budget without a governed age gate, budget threshold..."
    discovered_by: "LOOP-SPINE-W52-CONTAINMENT-AUTOMATION-20260227-20260301"
    discovered_at: "2026-02-27"
    type: missing-entry
    classification: missing-entry
    doc: "docs/planning/W51_FOUNDATIONAL_FORENSIC_AUDIT_MASTER_RECEIPT.md"
    description: |
      Image age drift gap: stale minio image exceeded policy budget without a governed age gate, budget threshold, or promotion block.
    severity: medium
    status: fixed
    notes: "W65.1 closure_basis=image-age-budget-lock-pass; regression_lock_id=D254; evidence=lock-pass"
    parent_loop: "LOOP-SPINE-W52-CONTAINMENT-AUTOMATION-20260227-20260301"
    fixed_in: D254
    regression_lock_id: D254
  - id: "GAP-OP-1021"
    title: "MD1400 capacity monitoring and guard gap: no governed visibility threshold, alerting policy, or containment..."
    discovered_by: "LOOP-SPINE-W52-CONTAINMENT-AUTOMATION-20260227-20260301"
    discovered_at: "2026-02-27"
    type: missing-entry
    classification: missing-entry
    doc: "docs/planning/W51_FOUNDATIONAL_FORENSIC_AUDIT_MASTER_RECEIPT.md"
    description: |
      MD1400 capacity monitoring and guard gap: no governed visibility threshold, alerting policy, or containment guard for storage saturation risk.
    severity: medium
    status: fixed
    notes: "W65.1 closure_basis=md1400-capacity-monitor-lock-pass; regression_lock_id=D255; evidence=lock-pass"
    parent_loop: "LOOP-SPINE-W52-CONTAINMENT-AUTOMATION-20260227-20260301"
    fixed_in: D255
    regression_lock_id: D255
  - id: "GAP-OP-1022"
    title: "Credential single-point-of-failure gap: operational authentication and emergency access depend on Ronny-hel..."
    discovered_by: "LOOP-SPINE-W52-CONTAINMENT-AUTOMATION-20260227-20260301"
    discovered_at: "2026-02-27"
    type: missing-entry
    classification: missing-entry
    doc: "docs/planning/W51_FOUNDATIONAL_FORENSIC_AUDIT_MASTER_RECEIPT.md"
    description: |
      Credential single-point-of-failure gap: operational authentication and emergency access depend on Ronny-held credentials without redundancy, break-glass protocol, or delegated recovery path.
    severity: high
    status: fixed
    notes: "W65.1 closure_basis=credential-spof-lock-pass; regression_lock_id=D256; evidence=lock-pass"
    parent_loop: "LOOP-SPINE-W52-CONTAINMENT-AUTOMATION-20260227-20260301"
    fixed_in: D256
    regression_lock_id: D256
  - id: "GAP-OP-1023"
    discovered_by: "W54 Phase0 baseline classification"
    discovered_at: "2026-02-27"
    type: agent-behavior
    doc: "docs/planning/W54_TAILSCALE_SSH_LIFECYCLE_MASTER_RECEIPT.md"
    description: |
      Ambient untracked artifact drift outside isolated lane (agentic-spine/docs/governance/_audits/* and workbench/agents/media/.spine-link.yaml) repeatedly blocks feature-wave preflight when global-clean invariant is enforced. Normalize via dedicated cleanup lane and scope-clean preflight contract.
    severity: medium
    status: fixed
    notes: "Applied scope-clean preflight on main, merged W54 lifecycle contracts/gates, and normalized media .spine-link artifact by tracking it canonically in workbench."
    parent_loop: "LOOP-SPINE-W54-TAILSCALE-SSH-LIFECYCLE-CANONICALIZATION-20260227-20260301-20260227"
    fixed_in: agentic-spine@8e719cb + workbench@14b1d13
  - id: "GAP-OP-1024"
    title: "Resend contacts lifecycle governed surface missing."
    discovered_by: "LOOP-SPINE-RESEND-CANONICAL-UPGRADE-20260227-20260301-20260227"
    discovered_at: "2026-02-27"
    type: missing-entry
    classification: missing-entry
    doc: "docs/CANONICAL/COMMUNICATIONS_RESEND_EXPANSION_CONTRACT_V1.yaml"
    description: |
      Missing contacts lifecycle governed surface for Resend audience/contact management.
      Planned capabilities exist in expansion contract but no closed implementation lane yet.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
    regression_lock_id: D270
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1025"
    title: "Resend broadcast lifecycle governed surface missing."
    discovered_by: "LOOP-SPINE-RESEND-CANONICAL-UPGRADE-20260227-20260301-20260227"
    discovered_at: "2026-02-27"
    type: missing-entry
    classification: missing-entry
    doc: "docs/CANONICAL/COMMUNICATIONS_RESEND_EXPANSION_CONTRACT_V1.yaml"
    description: |
      Missing broadcast lifecycle governed surface for Resend campaign creation and send.
      Contracted safety requirements exist but implementation lane remains open.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
    regression_lock_id: D271
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1026"
    title: "n8n direct Resend bypass path remains ungoverned."
    discovered_by: "LOOP-SPINE-RESEND-CANONICAL-UPGRADE-20260227-20260301-20260227"
    discovered_at: "2026-02-27"
    type: runtime-bug
    classification: runtime-bug
    doc: "docs/CANONICAL/COMMUNICATIONS_RESEND_EXPANSION_CONTRACT_V1.yaml"
    description: |
      A01 quote alert workflow still uses direct HTTP POST to api.resend.com, bypassing
      governed preview/execute surfaces.
    severity: high
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
    regression_lock_id: D272
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1027"
    title: "Resend MCP coexistence boundary contract was missing."
    discovered_by: "LOOP-SPINE-RESEND-CANONICAL-UPGRADE-20260227-20260301-20260227"
    discovered_at: "2026-02-27"
    type: missing-entry
    classification: missing-entry
    doc: "docs/planning/W53_RESEND_CANONICAL_UPGRADE_MASTER_RECEIPT.md"
    description: |
      Missing MCP coexistence boundary for official Resend MCP and governed spine send surfaces.
    severity: medium
    status: fixed
    notes: "Closed via COMMUNICATIONS_RESEND_MCP_COEXISTENCE_POLICY_V1.md."
    parent_loop: "LOOP-SPINE-RESEND-CANONICAL-UPGRADE-20260227-20260301-20260227"
    fixed_in: "COMMUNICATIONS_RESEND_MCP_COEXISTENCE_POLICY_V1.md"
    regression_lock_id: D273
  - id: "GAP-OP-1028"
    title: "Resend expansion acceptance certification was missing."
    discovered_by: "LOOP-SPINE-RESEND-CANONICAL-UPGRADE-20260227-20260301-20260227"
    discovered_at: "2026-02-27"
    type: missing-entry
    classification: missing-entry
    doc: "docs/planning/W53_RESEND_ACCEPTANCE_MATRIX.md"
    description: |
      Missing acceptance cert proving governed expansion package and lock behavior.
    severity: low
    status: fixed
    notes: "Closed with W53 acceptance certification artifacts."
    parent_loop: "LOOP-SPINE-RESEND-CANONICAL-UPGRADE-20260227-20260301-20260227"
    fixed_in: "docs/planning/W53_RESEND_ACCEPTANCE_MATRIX.md"
    regression_lock_id: D273
  - id: "GAP-OP-1000"
    discovered_by: "LOOP-MINT-PRICING-METHODS-NORMALIZATION-20260226-20260226"
    discovered_at: "2026-02-26"
    type: unclear-doc
    doc: "/Users/ronnyworks/code/mint-modules/pricing/src/services/job-estimator.ts"
    description: |
      TR-05: Human decision required: define transfer rush policy by subtype.
    severity: high
    status: fixed
    notes: "W37R decision_locked; decision_lock=/Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_METHOD_DECISIONS_V1.yaml;contract=/Users/ronnyworks/code/mint-modules/docs/CANONICAL/MINT_PRICING_METHOD_CONTRACT_V2.md;readiness=/Users/ronnyworks/code/mint-modules/docs/PLANNING/W36_METHOD_NORMALIZATION_E2E_READINESS.md"
    parent_loop: "LOOP-MINT-PRICING-METHODS-NORMALIZATION-20260226-20260226"
    fixed_in: b5f4a61
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1001"
    discovered_by: "agent:codex"
    discovered_at: "2026-02-26"
    type: missing-entry
    doc: "ops/bindings/mail.archiver.account.linkage.contract.yaml"
    description: |
      Mail-archiver runtime missing canonical Stalwart account mapping at MailAccountId=2. Create and bind Stalwart archive account (ops@spine.ronny.works) as ID 2 with governed receipts and sync verification.
    severity: high
    status: fixed
    notes: "MailAccountId=2 registered as Stalwart Ops (ops@spine.ronny.works), host corrected to mail.spine.ronny.works, sync completed with New:2 Failed:0 and account count now includes IDs 1,2,3,4."
    parent_loop: "LOOP-MAIL-ARCHIVER-STALWART-CANONICAL-20260226"
    fixed_in: CAP-20260226-184322__communications.mailarchiver.import.status__Rs06h19633
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1002"
    title: "Mail-archiver contains cross-account alias overlap (Gmail/iCloud/Microsoft/Stalwart headers)."
    discovered_by: "agent:codex"
    discovered_at: "2026-02-26"
    type: duplicate-truth
    classification: duplicate-truth
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      Mail-archiver contains cross-account alias overlap (Gmail/iCloud/Microsoft/Stalwart headers). Preserve all imports now, then execute dedupe and overlap-reduction policy in a separate governed cleanup lane with replay-safe criteria.
    severity: medium
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-MAIL-ARCHIVER-OVERLAP-CLEANUP-20260226"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1003"
    discovered_by: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    discovered_at: "2026-02-27"
    type: missing-entry
    doc: "ops/bindings/docs.impact.contract.yaml"
    description: |
      communications docs.impact routing is misbound to microsoft docs path; docs.impact.note fails for communications due missing runbook target. Canonicalize docs-impact domain mapping and domain docs routes for communications.
    severity: high
    status: fixed
    notes: "communications docs.impact routing corrected to communications paths; docs-impact-note fallback added to spine domain runbook/notes when workbench docs are absent; domain.docs.routes gained communications entries."
    parent_loop: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    fixed_in: d29ce23
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1004"
    discovered_by: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    discovered_at: "2026-02-27"
    type: duplicate-truth
    doc: "ops/bindings/capability.domain.catalog.yaml"
    description: |
      communications capability projections drift across catalog/agent/terminal registries: ops/capabilities has 28 comms capabilities while downstream projections expose partial subsets. Normalize capability projection parity.
    severity: high
    status: fixed
    notes: "Established communications capability projection contract with full 28-capability runtime set and canonical discovery guidance; updated communications capabilities/runbook and agent contract to include missing surfaces (alerts family, inbox.poll, stalwart.send, tls.status, mailarchiver.import.eml.upload)."
    parent_loop: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    fixed_in: 2a3276e
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1005"
    discovered_by: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    discovered_at: "2026-02-27"
    type: stale-ssot
    doc: "ops/bindings/mail.archiver.account.linkage.contract.yaml"
    description: |
      mail.archiver.account.linkage.contract uses planned-era defaults and stale blockers (e.g., GAP-OP-922) despite live canonical account state on VM214. Update to post-import canonical truth for agent discovery.
    severity: medium
    status: fixed
    notes: "Updated mail.archiver.account.linkage contract to post-import runtime truth: default state active, gmail marked active import-only, microsoft marked active with deep-archive blocker GAP-OP-973, stale GAP-OP-922 blocker removed."
    parent_loop: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    fixed_in: 7319c4d
  - id: "GAP-OP-1006"
    discovered_by: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    discovered_at: "2026-02-27"
    type: runtime-bug
    doc: "ops/plugins/communications/bin/communications-mail-archiver-import-status"
    description: |
      communications.mailarchiver.import.status state machine can report running from stale log ordering without active job identity. Harden classification to reduce false-running signals and improve operator semantics.
    severity: medium
    status: fixed
    notes: "Hardened communications.mailarchiver.import.status parser: bounded log window (--since 6h, tail 250), stale mbox-start without progress now classified unknown, no markers now returns idle; status now OK for idle instead of false running WARN."
    parent_loop: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    fixed_in: 72f63e5
  - id: "GAP-OP-1007"
    discovered_by: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    discovered_at: "2026-02-27"
    type: missing-entry
    doc: "ops/bindings/backup.schedule.yaml"
    description: |
      Stalwart app-level backup governance lacks binding parity with mail-archiver app-level controls. Add explicit stalwart backup schedule and inventory bindings.
    severity: medium
    status: fixed
    notes: "Added Stalwart app-level backup parity: backup.schedule jobs for config snapshot and mailbox volume snapshot, backup.inventory app-stalwart target, and backup.calendar visibility entry."
    parent_loop: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    fixed_in: 74a9d9a
  - id: "GAP-OP-1008"
    discovered_by: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    discovered_at: "2026-02-27"
    type: stale-ssot
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Migration-source residues in communications mail-archiver contracts still imply live docker-host/VM211 source authority after canonical cutover. Tombstone old source references into historical-only notes and keep active bindings unambiguous.
    severity: medium
    status: fixed
    notes: "Converted mail-archiver takeout source metadata to historical attestation in communications.stack.contract and removed active retention hold on deleted docker-host takeout path in mail.archiver.retention.contract."
    parent_loop: "LOOP-COMMUNICATIONS-CANONICALIZATION-SEAL-20260227"
    fixed_in: 1cdabde
  - id: "GAP-OP-1033"
    discovered_by: "agent-session"
    discovered_at: "2026-02-27"
    type: runtime-bug
    doc: "ops/bindings/hardware.inventory.yaml"
    description: |
      MD1400 drives remain idle with stale DDF metadata; no governed storage pool exists.
    severity: high
    status: fixed
    notes: "md1400 pool provisioned ONLINE as raidz2 with 12 WWNs and datasets created; infra/media verify packs pass post-provision; loop remains active for utilization migration lane (GAP-OP-1036)."
    parent_loop: "LOOP-MD1400-CAPACITY-NORMALIZATION-20260227-20260227"
    fixed_in: CAP-20260226-231428__verify.pack.run__Rr4z464656,CAP-20260226-231428__verify.pack.run__Rpncx64657,CAP-20260226-231801__verify.pack.run__Rd8dl91088,CAP-20260226-231801__verify.pack.run__Rqawc91089,docs/planning/MD1400_CAPACITY_NORMALIZATION_EXECUTION_20260227.md
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1034"
    discovered_by: "agent-session"
    discovered_at: "2026-02-27"
    type: stale-ssot
    doc: "ops/bindings/hardware.inventory.yaml"
    description: |
      Legacy pm80xx module configs remain after SAS9300 replacement; driver-path drift risk on pve.
    severity: medium
    status: fixed
    notes: "pm80xx active config removed on pve; backup retained at /root/md1400-normalize-backup/pm80xx.conf; post-refresh infra verify pack passes."
    parent_loop: "LOOP-MD1400-CAPACITY-NORMALIZATION-20260227-20260227"
    fixed_in: CAP-20260226-225711__domain-inventory-refresh__Rda9997576,CAP-20260226-225824__verify.pack.run__R4qtk1777,docs/planning/_artifacts/md1400-normalization-20260227/05-pm80xx-post-cleanup.txt
  - id: "GAP-OP-1035"
    discovered_by: "agent-session"
    discovered_at: "2026-02-27"
    type: missing-entry
    doc: "ops/bindings/network.inventory.snapshot.yaml"
    description: |
      Infra pack D188 fails when observed client feeds are stale; inventory refresh cadence not enforced before verify.
    severity: medium
    status: fixed
    notes: "inventory refresh cadence executed and infra verify pack cleared D188 freshness/parity in same loop wave."
    parent_loop: "LOOP-MD1400-CAPACITY-NORMALIZATION-20260227-20260227"
    fixed_in: CAP-20260226-225711__domain-inventory-refresh__Rda9997576,CAP-20260226-225824__verify.pack.run__R4qtk1777
  - id: "GAP-OP-1036"
    title: "media pool at 80% while MD1400 is unused; utilization normalization lane missing."
    discovered_by: "agent-session"
    discovered_at: "2026-02-27"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/infra.storage.placement.policy.yaml"
    description: |
      media pool at 80% while MD1400 is unused; utilization normalization lane missing.
    severity: high
    status: accepted
    notes: |-
      Blocked pending operator-approved reclaim/cutover: media pool utilization reduction requires ALLOW_MEDIA_UTILIZATION_PRUNE and on-host migration execution to MD1400.
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    owner: '@ronny'
    fixed_in: null
  - id: "GAP-OP-1051"
    title: "Home WAN/ISP undocumented — NETWORK_POLICIES.md NET-04 lists Home as TBD for ISP, bandwidth, and IP type."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "docs/governance/domains/network/NETWORK_POLICIES.md"
    description: |
      Home WAN/ISP undocumented — NETWORK_POLICIES.md NET-04 lists Home as TBD for ISP, bandwidth, and IP type. Shop is fully measured (T-Mobile 5G ~865/309 Mbps). Need speedtest from proxmox-home and fill in the binding.
    severity: medium
    status: closed
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    notes: "discovery_churn_archived"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1052"
    title: "US-8-60W switch is a ghost device — appears in network.inventory.snapshot.yaml (home_devices) with no IP an..."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/hardware.inventory.yaml"
    description: |
      US-8-60W switch is a ghost device — appears in network.inventory.snapshot.yaml (home_devices) with no IP and no entry in hardware.inventory.yaml or DEVICE_IDENTITY_SSOT.md. Needs hardware entry with model, MAC, port count, and physical topology position.
    severity: medium
    status: closed
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    notes: "discovery_churn_archived"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1037"
    title: "infra-proxmox-maintenance uses only qm (QEMU) commands for shutdown/startup — no pct (LXC) support."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/plugins/infra/bin/infra-proxmox-maintenance:292-299"
    description: |
      infra-proxmox-maintenance uses only qm (QEMU) commands for shutdown/startup — no pct (LXC) support. shutdown_vms() calls qm shutdown/qm stop only. LXC containers like pihole-home (105) are invisible to the maintenance orchestrator.
    severity: critical
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1038"
    title: "LXC 105 (pihole-home) absent from startup.sequencing.yaml."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/startup.sequencing.yaml:44-48"
    description: |
      LXC 105 (pihole-home) absent from startup.sequencing.yaml. home_vm_lifecycle.active_vm_ids only lists [100]. No active_lxc_ids field exists. Phase 11 reserved but empty. LXC not in shutdown or startup ordering.
    severity: critical
    status: closed
    notes: "W65.1 closure_basis=duplicate-tracking-consolidated-under-GAP-OP-1037; regression_lock_id=D181; evidence=lock-pass"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1039"
    title: "resolve_vm_order() Python in infra-proxmox-maintenance only reads vm_ids key from startup.sequencing.yaml p..."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/plugins/infra/bin/infra-proxmox-maintenance:137-192"
    description: |
      resolve_vm_order() Python in infra-proxmox-maintenance only reads vm_ids key from startup.sequencing.yaml phases. No lxc_ids extraction. LXC containers cannot be ordered for startup or shutdown even if declared in the binding.
    severity: critical
    status: closed
    notes: "W65.1 closure_basis=duplicate-tracking-consolidated-under-GAP-OP-1037; regression_lock_id=D181; evidence=lock-pass"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1040"
    title: "assert_qm_exists() and is_qm_running() in infra-proxmox-maintenance use qm status which fails on LXC contai..."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/plugins/infra/bin/infra-proxmox-maintenance:195-207"
    description: |
      assert_qm_exists() and is_qm_running() in infra-proxmox-maintenance use qm status which fails on LXC container IDs. If LXC IDs are added to sequencing without fixing these functions, maintenance will error out.
    severity: high
    status: closed
    notes: "W65.1 closure_basis=duplicate-tracking-consolidated-under-GAP-OP-1037; regression_lock_id=D181; evidence=lock-pass"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1041"
    title: "infra-post-power-recovery only checks docker ps for container state."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/plugins/infra/bin/infra-post-power-recovery:100-122"
    description: |
      infra-post-power-recovery only checks docker ps for container state. No pct list or LXC state inspection. LXC 105 (pihole-home) invisible to recovery status and recovery execution.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1042"
    title: "No nas.shutdown capability exists."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/plugins/observability/bin/nas-health-status"
    description: |
      No nas.shutdown capability exists. Synology NAS (DS918+) requires manual DSM web UI or SSH poweroff. Not part of any maintenance orchestration. Must be last to shut down (Proxmox Home mounts backup storage from it).
    severity: critical
    status: closed
    notes: "Closed 2026-02-28: nas.shutdown capability added at ops/plugins/home/bin/nas-shutdown and mapped in capabilities + plugin manifest; D67/core verify pass CAP-20260228-164938__verify.pack.run__Rz2bh4662."
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: "nas.shutdown"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1043"
    title: "No nas.startup capability exists."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/startup.sequencing.yaml"
    description: |
      No nas.startup capability exists. NAS power-on requires physical button or undocumented Wake-on-LAN. No automation for post-power-cycle recovery. Must start before Proxmox Home so backup NFS mount is available.
    severity: critical
    status: closed
    notes: "Closed 2026-02-28: nas.startup capability added at ops/plugins/home/bin/nas-startup and mapped in capabilities + plugin manifest; D67/core verify pass CAP-20260228-164938__verify.pack.run__Rz2bh4662."
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: "nas.startup"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1044"
    title: "NAS not in startup.sequencing.yaml."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/startup.sequencing.yaml:44-48"
    description: |
      NAS not in startup.sequencing.yaml. No phase entry, no dependency ordering. Correct order: shutdown (VMs -> LXCs -> Proxmox Host -> NAS last) and startup (NAS first -> Proxmox Host -> VMs/LXCs). This ordering is not codified anywhere.
    severity: critical
    status: closed
    notes: "Closed 2026-02-28: NAS startup phase added (home phase 12, target nas) in startup.sequencing.yaml; core/proxmox-network verifies pass (CAP-20260228-164938__verify.pack.run__Rz2bh4662, CAP-20260228-164947__verify.pack.run__Rxfow7487)."
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: "startup.sequencing.home.phase12.nas"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1045"
    title: "NAS (synology918 / DS918+) not in SERVICE_REGISTRY.yaml."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      NAS (synology918 / DS918+) not in SERVICE_REGISTRY.yaml. No SLO, no domain assignment, no terminal role. First-class infrastructure nodes have service-level governance; NAS does not.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1046"
    title: "NAS NFS mount dependencies undeclared."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/startup.sequencing.yaml"
    description: |
      NAS NFS mount dependencies undeclared. Proxmox Home mounts /mnt/pve/synology-backups from NAS (10.0.0.150). Shop VMs 209/210 mount /tank/docker and /media via pve. No dependency graph codified. NFS failure is silent until service degradation.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1047"
    title: "D139 gate validates NAS presence in device registry and backup inventory only."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "surfaces/verify/d139-nas-baseline-coverage.sh"
    description: |
      D139 gate validates NAS presence in device registry and backup inventory only. Does not enforce NAS in startup.sequencing.yaml, SERVICE_REGISTRY, or that shutdown/startup capabilities exist. Gate scope insufficient for first-class infrastructure governance.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1053"
    title: "No physical port topology documented — no doc describes what is plugged into which port on UDR7 or planned..."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "docs/governance/MINILAB_SSOT.md"
    description: |
      No physical port topology documented — no doc describes what is plugged into which port on UDR7 or planned Flex Mini. Critical for planned switch add. Need port-map section in MINILAB_SSOT.md or master doc.
    severity: medium
    status: closed
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    notes: "discovery_churn_archived"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1048"
    title: "Recovery phase in infra-maintenance-window hardcoded to skip home site entirely."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/plugins/infra/bin/infra-maintenance-window:492-504"
    description: |
      Recovery phase in infra-maintenance-window hardcoded to skip home site entirely. Line 493: if SITE==home then return 0. Home site gets no post-power recovery — no NAS check, no LXC verification, no HA supervisor health confirmation.
    severity: critical
    status: fixed
    notes: "Fixed: infra-maintenance-window now uses contract-driven SELECTED_SITE_IDS for shutdown/startup/recovery; no site hardcoding path remains. Verified under D181 multisite maintenance transaction lock."
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1054"
    title: "No network.speed.test capability exists — zero speed test tooling in the codebase."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No network.speed.test capability exists — zero speed test tooling in the codebase. Need a capability wrapping speedtest-cli or similar, callable per-site via SSH proxy (proxmox-home for home, pve for shop). Results should persist in a binding for agent consumption.
    severity: medium
    status: closed
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    notes: "discovery_churn_archived"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1049"
    title: "REBOOT_HEALTH_GATE.md covers shop site only."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "docs/governance/REBOOT_HEALTH_GATE.md"
    description: |
      REBOOT_HEALTH_GATE.md covers shop site only. No pre-reboot checklist, hard stop conditions, or rollback criteria documented for proxmox-home. Home site operators have no playbook for maintenance or post-power-loss recovery.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1050"
    title: "Home site has zero observability capabilities."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/startup.sequencing.yaml:132-143"
    description: |
      Home site has zero observability capabilities. Shop has 15+ (prometheus, grafana, loki, uptime-kuma, alerting probes). Home has no monitoring dashboards, metric aggregation, or alerting infrastructure. Failures are only discovered reactively.
    severity: high
    status: closed
    notes: "W65.1 closure_basis=duplicate-tracking-consolidated-under-GAP-OP-1061; regression_lock_id=D280; evidence=lock-pass"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D280
    regression_lock_id: D280
  - id: "GAP-OP-1055"
    title: "UniFi Switch Flex Mini 2.5 5-port not tracked — planned hardware purchase for home site to connect NAS and..."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/hardware.inventory.yaml"
    description: |
      UniFi Switch Flex Mini 2.5 5-port not tracked — planned hardware purchase for home site to connect NAS and Beelink off UDR7 ports. Needs entry in hardware.inventory.yaml (status: planned), network.home.baseline.yaml IP reservation, and physical topology doc.
    severity: low
    status: closed
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    notes: "discovery_churn_archived"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1056"
    title: "Agent context load requires 12+ files — an agent needs to read DEVICE_IDENTITY_SSOT.md, MINILAB_SSOT.md, SE..."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: unclear-doc
    classification: unclear-doc
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      Agent context load requires 12+ files — an agent needs to read DEVICE_IDENTITY_SSOT.md, MINILAB_SSOT.md, SERVICE_REGISTRY.yaml, hardware.inventory.yaml, network.home.baseline.yaml, network.inventory.snapshot.yaml, vm.lifecycle.yaml, topology.sites.yaml, NETWORK_POLICIES.md, ssh.targets.yaml, and more to get a full infrastructure picture. Need a single consolidated master doc or curated context bundle.
    severity: medium
    status: closed
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    notes: "discovery_churn_archived"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1057"
    title: "Home-shop network doc parity gap — shop has full WAN speed measurements, VLAN segmentation plan, switch mod..."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "docs/governance/MINILAB_SSOT.md"
    description: |
      Home-shop network doc parity gap — shop has full WAN speed measurements, VLAN segmentation plan, switch model/port docs, and iDRAC OOB docs. Home has none of these. Home network docs need same depth as shop: ISP/WAN speed, switch inventory, VLAN plan (if any), and physical topology.
    severity: low
    status: closed
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    notes: "discovery_churn_archived"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1058"
    title: "Home backup governance missing: no offsite sync capability (shop has vzdump-offsite-sync.sh), no app-level..."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      Home backup governance missing: no offsite sync capability (shop has vzdump-offsite-sync.sh), no app-level backup targets (shop has 9), no backup.vzdump.prune equivalent for home. Home relies on VM-level vzdump only.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1059"
    title: "Home site storage policy undeclared."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/infra.storage.placement.policy.yaml"
    description: |
      Home site storage policy undeclared. infra.storage.placement.policy.yaml has no entries for VM 100 or LXC 105. No storage tier assignment, no compliance tracking, no boot drive audit coverage for home site assets.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1060"
    title: "LXC 105 backup is 69h old but REBOOT_HEALTH_GATE.md requires <24h before maintenance."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "docs/governance/REBOOT_HEALTH_GATE.md"
    description: |
      LXC 105 backup is 69h old but REBOOT_HEALTH_GATE.md requires <24h before maintenance. No automated gate enforces backup freshness as a precondition for home site maintenance window. Shop vzdump runs daily; LXC 105 schedule is inconsistent.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1061"
    title: "Home site has only 2 health probes (pihole-home + home-assistant) vs shop 30+."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/services.health.yaml"
    description: |
      Home site has only 2 health probes (pihole-home + home-assistant) vs shop 30+. No probes for NAS NFS availability, proxmox-home hypervisor health, or LXC 105 DNS resolution functionality.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1062"
    title: "infra-maintenance-window rejects non-shop/home site names."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/plugins/infra/bin/infra-maintenance-window:99-100"
    description: |
      infra-maintenance-window rejects non-shop/home site names. Line 99: case SITE in shop|home|both. A 3rd site name would fail arg validation. Must read valid sites dynamically from infra.maintenance.transaction.contract.yaml.
    severity: critical
    status: closed
    notes: "W65.1 closure_basis=duplicate-tracking-consolidated-under-GAP-OP-1063; regression_lock_id=D181; evidence=lock-pass"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1063"
    title: "shutdown_sites() and startup_sites() in infra-maintenance-window use hardcoded case statements (shop/home/b..."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/plugins/infra/bin/infra-maintenance-window:358-372"
    description: |
      shutdown_sites() and startup_sites() in infra-maintenance-window use hardcoded case statements (shop/home/both). No dynamic site enumeration from contract. A 3rd site would be silently excluded from shutdown and startup phases.
    severity: critical
    status: fixed
    notes: "Fixed: infra-maintenance-window now uses contract-driven SELECTED_SITE_IDS for shutdown/startup/recovery; no site hardcoding path remains. Verified under D181 multisite maintenance transaction lock."
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1064"
    title: "enforce_shop_oob_policy() checks SITE_ID \\!= shop literally instead of reading requires_oob_guard from cont..."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/plugins/infra/bin/infra-proxmox-maintenance:241-271"
    description: |
      enforce_shop_oob_policy() checks SITE_ID \!= shop literally instead of reading requires_oob_guard from contract. If a 3rd site needs OOB guard it wont get one. Contract already has the field but the script doesnt use it.
    severity: critical
    status: closed
    notes: "W65.1 closure_basis=duplicate-tracking-consolidated-under-GAP-OP-1063; regression_lock_id=D181; evidence=lock-pass"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1065"
    title: "OOB guard LAN devices hardcoded in network-oob-guard-status.legacy line 171: lan_ids=(idrac-shop switch-sho..."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/plugins/network/bin/network-oob-guard-status.legacy:171"
    description: |
      OOB guard LAN devices hardcoded in network-oob-guard-status.legacy line 171: lan_ids=(idrac-shop switch-shop nvr-shop). A 3rd site with different infrastructure devices cannot be validated. Device list should come from a binding.
    severity: high
    status: closed
    notes: "stale_superseded"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: stale_superseded
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1066"
    title: "Poweroff flags in infra-maintenance-window are site-specific: --poweroff-shop and --poweroff-home with matc..."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/plugins/infra/bin/infra-maintenance-window:22-23,79-84,465-470"
    description: |
      Poweroff flags in infra-maintenance-window are site-specific: --poweroff-shop and --poweroff-home with matching POWEROFF_SHOP/POWEROFF_HOME vars. No dynamic --poweroff-<site> pattern. 3rd site would need code change to add --poweroff-site3.
    severity: high
    status: closed
    notes: "W65.1 closure_basis=duplicate-tracking-consolidated-under-GAP-OP-1063; regression_lock_id=D181; evidence=lock-pass"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1067"
    title: "Default host ID pve hardcoded in infra-proxmox-maintenance line 13."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/plugins/infra/bin/infra-proxmox-maintenance:13"
    description: |
      Default host ID pve hardcoded in infra-proxmox-maintenance line 13. Multiple scripts default to shop host. While overridable via --host-id flag, the default creates shop-bias and requires explicit flag for any other site.
    severity: medium
    status: closed
    notes: "W65.1 closure_basis=duplicate-tracking-consolidated-under-GAP-OP-1063; regression_lock_id=D181; evidence=lock-pass"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1068"
    title: "Recovery decision in infra-maintenance-window is hardcoded: if SITE==home then skip recovery."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/plugins/infra/bin/infra-maintenance-window:492-504"
    description: |
      Recovery decision in infra-maintenance-window is hardcoded: if SITE==home then skip recovery. Should be contract-driven with a requires_recovery field per site. A 3rd site with docker stacks would not get recovery unless code is changed.
    severity: high
    status: closed
    notes: "W65.1 closure_basis=duplicate-tracking-consolidated-under-GAP-OP-1048; regression_lock_id=D181; evidence=lock-pass"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1069"
    title: "network-oob-guard-status.legacy line 41 hardcodes SUBNET=192.168.1.0/24 (shop LAN)."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/plugins/network/bin/network-oob-guard-status.legacy:41"
    description: |
      network-oob-guard-status.legacy line 41 hardcodes SUBNET=192.168.1.0/24 (shop LAN). While overridable via flag, the default assumes shop. A 3rd site with different LAN CIDR would need to always pass --subnet explicitly.
    severity: medium
    status: closed
    notes: "W65.1 closure_basis=duplicate-tracking-consolidated-under-GAP-OP-1065; regression_lock_id=D181; evidence=lock-pass"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: D181
    regression_lock_id: D181
  - id: "GAP-OP-1070"
    title: "Z2M scene switch ghost device — living_switch_scene (TS0044, 0xa4c138615058086b) missing from database.db (..."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      Z2M scene switch ghost device — living_switch_scene (TS0044, 0xa4c138615058086b) missing from database.db (id=6 gap) and coordinator_backup.json. Device has friendly_name but no Zigbee-level registration. Button presses arrive intermittently. Fix: re-pair device.
    severity: critical
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: governance_debt_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1071"
    title: "Z2M availability config empty — configuration.yaml has availability: {} disabling all device presence track..."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: null
    description: |
      Z2M availability config empty — configuration.yaml has availability: {} disabling all device presence tracking. No keepalive, no offline detection. Fix: add availability.active.timeout=10, passive.timeout=1500.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1072"
    title: "Z2M on Zigbee channel 11 — maximum overlap with Wi-Fi 2.4GHz."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      Z2M on Zigbee channel 11 — maximum overlap with Wi-Fi 2.4GHz. Contributes to intermittent packet loss for sleepy battery devices. Fix: migrate to channel 25 or 26 (requires full re-pair).
    severity: medium
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1073"
    title: "Z2M default network key — coordinator_backup.json shows well-known default key 01030507090b0d0f00020406080a..."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      Z2M default network key — coordinator_backup.json shows well-known default key 01030507090b0d0f00020406080a0c0d. Any Zigbee sniffer can decode traffic. Fix: generate random key and re-pair.
    severity: medium
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1074"
    title: "Zero Zigbee router devices in mesh — all 6 devices are battery EndDevices, pure star topology."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      Zero Zigbee router devices in mesh — all 6 devices are battery EndDevices, pure star topology. No redundant paths. Fix: add mains-powered Zigbee router (smart plug or repeater) in living room.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1075"
    title: "Scene switch hold automation never fires — automations.yaml line 348 checks '_hold' substring but TS0044 se..."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      Scene switch hold automation never fires — automations.yaml line 348 checks '_hold' substring but TS0044 sends event_type='hold' (no underscore). Condition always false. Fix: change to event_type == 'hold'.
    severity: low
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1076"
    title: "z2m.devices.yaml snapshot stale — binding last refreshed 2026-02-24 (3+ days old)."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: null
    description: |
      z2m.devices.yaml snapshot stale — binding last refreshed 2026-02-24 (3+ days old). ha.z2m.health reads from this, producing misleading stale warnings for active devices. Fix: add periodic snapshot refresh.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1077"
    title: "Z2M health cap missing database integrity check — ha.z2m.health checks battery/staleness but not database.d..."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      Z2M health cap missing database integrity check — ha.z2m.health checks battery/staleness but not database.db vs configuration.yaml parity. Ghost devices invisible to monitoring. Fix: add database parity validation.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1078"
    title: "IKEA BILRESA Matter button dead — button_1 last fired 2026-02-18 (10 days ago), button_2 last 2026-02-17."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      IKEA BILRESA Matter button dead — button_1 last fired 2026-02-18 (10 days ago), button_2 last 2026-02-17. Battery 100%, MYGGSPRAY on same Thread network works fine. Thread sleepy device lost. Fix: factory reset and recommission via iPhone Companion App.
    severity: critical
    status: accepted
    notes: "Blocked (manual): requires physical factory reset + recommission of IKEA BILRESA via iPhone Home app; not remotely actionable from this terminal."
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: manual-physical-reset-required
    regression_lock_id: LOCK-MATTER-BUTTON-HEALTH-MANUAL
  - id: "GAP-OP-1079"
    title: "Matter devices marked orphan in ha.device.map.yaml — BILRESA and MYGGSPRAY have orphan=true, orphan_categor..."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: null
    description: |
      Matter devices marked orphan in ha.device.map.yaml — BILRESA and MYGGSPRAY have orphan=true, orphan_category=matter-device. Actively used devices should have proper classification. Fix: add overrides or classify as iot-button/iot-sensor.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1080"
    title: "TP-Link EP25 B6EE plug offline — device_tracker.ep25_2 reports not_home."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      TP-Link EP25 B6EE plug offline — device_tracker.ep25_2 reports not_home. Only device_tracker entity remains, no switch/sensor entities. Fix: verify physical plug, re-add integration or remove stale entry.
    severity: medium
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1081"
    title: "TP-Link King Lamp entity naming confusion — HA device named 'Living room Lamp' but entities are switch.bedr..."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: null
    description: |
      TP-Link King Lamp entity naming confusion — HA device named 'Living room Lamp' but entities are switch.bedroom_king_lamp. Fix: rename device to match entities or vice versa.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1082"
    title: "TP-Link BB2E plug orphaned — generic auto-discovered name, no home.device.registry entry, no automation."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      TP-Link BB2E plug orphaned — generic auto-discovered name, no home.device.registry entry, no automation. Fix: assign friendly name, register with IP/MAC, wire to automation or document as spare.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1083"
    title: "3 of 4 TP-Link EP25 plugs missing from home.device.registry.yaml — only Empress Lamp has a canonical networ..."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      3 of 4 TP-Link EP25 plugs missing from home.device.registry.yaml — only Empress Lamp has a canonical network entry. King Lamp, BB2E, B6EE lack IP/MAC/role docs. Fix: add all active plugs.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1084"
    title: "Tuya bedroom_empress_bulb unavailable — light.bedroom_empress_bulb unavailable since 2026-02-28T00:03."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      Tuya bedroom_empress_bulb unavailable — light.bedroom_empress_bulb unavailable since 2026-02-28T00:03. Target for scene switch button 1 and empress button automations. Button presses produce no visible result. Fix: check bulb power/Wi-Fi at 10.0.0.64.
    severity: high
    status: accepted
    notes: "Blocked pending physical action at home: verify power/Wi-Fi and re-pair Tuya bedroom_empress_bulb if needed."
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    owner: '@ronny'
    fixed_in: null
  - id: "GAP-OP-1085"
    title: "Tuya bedroom_king_bulb unavailable 3 days — light.bedroom_king_bulb unavailable since 2026-02-25."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      Tuya bedroom_king_bulb unavailable 3 days — light.bedroom_king_bulb unavailable since 2026-02-25. Target for scene switch button 2 and king button automations. 3 days of silent failure. Fix: check bulb power/Wi-Fi at 10.0.0.63.
    severity: high
    status: accepted
    notes: "Blocked pending physical action at home: verify power/Wi-Fi and re-pair Tuya bedroom_king_bulb if needed."
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    owner: '@ronny'
    fixed_in: null
  - id: "GAP-OP-1086"
    title: "No unified device health gate across protocols — D118 covers Zigbee only."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      No unified device health gate across protocols — D118 covers Zigbee only. Matter, TP-Link, Tuya have zero automated health monitoring. Devices go unavailable for days with no alerting. Fix: create unified gate checking availability for all everyday-use devices.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1087"
    title: "No automated device recovery — when devices drop offline there is no automated recovery path."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      No automated device recovery — when devices drop offline there is no automated recovery path. Manual intervention required. Fix: create HA automations for common recovery (Tuya reload, Matter recommission alert, Z2M permit-join).
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1088"
    title: "gaps.file lock contention: back-to-back calls fail with STOP."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/lib/git-lock.sh"
    description: |
      gaps.file lock contention: back-to-back calls fail with STOP. Filing 7 gaps in this session required sleep 3 between each. git.gaps.lock has no queuing or backoff — immediate fail if lock held. Need retry with backoff or single-lock batch mode.
    severity: high
    status: fixed
    parent_loop: "LOOP-GAPS-FILE-BATCH-AND-LOCK-IMPROVEMENT-20260228"
    notes: "W64 closeout: lock contention mitigated by gaps.file retry window and single-lock batch flow evidence in W61 lane B receipt."
    fixed_in: LOOP-GAPS-FILE-BATCH-AND-LOCK-IMPROVEMENT-20260228
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1089"
    title: "ha.z2m.health cap coordinator IP wrong — reports SLZB-06 at 10.0.0.52 but Zigbee coordinator (SLZB-06) is a..."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: null
    description: |
      ha.z2m.health cap coordinator IP wrong — reports SLZB-06 at 10.0.0.52 but Zigbee coordinator (SLZB-06) is at 10.0.0.51. SLZB-06MU (Matter/Thread) is at 10.0.0.52. Fix: correct IP in health cap binding.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-DEVICE-RELIABILITY-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1090"
    title: "gaps.file has no --parent-loop flag."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/plugins/loops/bin/gaps-file"
    description: |
      gaps.file has no --parent-loop flag. After filing gaps, agents must manually edit operational.gaps.yaml to add parent_loop to each entry. This caused 7 manual YAML edits and 3 linter-race failures in this session. gaps.file should accept --parent-loop LOOP-ID and write it atomically.
    severity: high
    status: fixed
    parent_loop: "LOOP-GAPS-FILE-BATCH-AND-LOCK-IMPROVEMENT-20260228"
    notes: "W64 closeout: gaps.file now supports --parent-loop/--loop atomic parent linkage in active filing path."
    fixed_in: LOOP-GAPS-FILE-BATCH-AND-LOCK-IMPROVEMENT-20260228
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1091"
    title: "gaps.file --id manual requires agents to grep operational.gaps.yaml for latest ID."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/loops/bin/gaps-file"
    description: |
      gaps.file --id manual requires agents to grep operational.gaps.yaml for latest ID. grep patterns break on indentation (2-space prefix). Concurrent agents cause ID collisions. --id auto works but agents default to manual IDs from memory. Need gaps.next-id helper capability or make --id auto the documented default.
    severity: medium
    status: fixed
    parent_loop: "LOOP-GAPS-FILE-BATCH-AND-LOCK-IMPROVEMENT-20260228"
    notes: "W64 closeout: --id auto default path plus gaps.next-id helper remove manual grep/id collision workflow."
    fixed_in: LOOP-GAPS-FILE-BATCH-AND-LOCK-IMPROVEMENT-20260228
  - id: "GAP-OP-1092"
    title: "loops.create scope template uses Phase vocabulary (P0/P1/P2)."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/plugins/lifecycle/bin/loops-create"
    description: |
      loops.create scope template uses Phase vocabulary (P0/P1/P2). D145 vocabulary gate normalized all scope files to use Step. Every new loop requires agents to rewrite the template body. Template source needs updating to match D145 standard.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SCOPE-TEMPLATE-VOCABULARY-NORMALIZATION-20260228"
    notes: "W64 closeout: loops.create template defaults to Step 1/2/3 vocabulary matching D145 normalization policy."
    fixed_in: LOOP-SCOPE-TEMPLATE-VOCABULARY-NORMALIZATION-20260228
  - id: "GAP-OP-1093"
    title: "operational.gaps.yaml gets modified by a linter or hook between agent Read and Edit tool calls."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/operational.gaps.yaml"
    description: |
      operational.gaps.yaml gets modified by a linter or hook between agent Read and Edit tool calls. During this session, 3 out of 10 Edit attempts failed with file-modified-since-read. Root cause: likely a YAML formatter or pre-save hook touching the file on disk. Agents cannot reliably edit this file without multiple retries.
    severity: high
    status: fixed
    parent_loop: "LOOP-OPERATIONAL-GAPS-YAML-LINTER-STABILITY-20260228"
    notes: "W64 closeout: capability-only mutation plus lock/retry path removed manual edit race as canonical workflow."
    fixed_in: LOOP-OPERATIONAL-GAPS-YAML-LINTER-STABILITY-20260228
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1094"
    title: "Concurrent agents filing gaps cause interleaving in operational.gaps.yaml."
    discovered_by: "claude-agent"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/loops/bin/gaps-file"
    description: |
      Concurrent agents filing gaps cause interleaving in operational.gaps.yaml. This session's 7 gaps (1051-1057) got scattered across 200 lines because a forensic-sweep filed 1037-1050 concurrently. No atomic batch write exists. gaps.file --batch is documented but each entry still acquires/releases the lock independently.
    severity: medium
    status: fixed
    parent_loop: "LOOP-GAPS-FILE-BATCH-AND-LOCK-IMPROVEMENT-20260228"
    notes: "W64 closeout: batch flow holds one lock and appends atomically, preventing interleaving during bulk filing."
    fixed_in: LOOP-GAPS-FILE-BATCH-AND-LOCK-IMPROVEMENT-20260228
  - id: "GAP-OP-1095"
    title: "cap show does not display flag documentation or usage examples."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/infra/bin/infra-proxmox-maintenance"
    description: |
      cap show does not display flag documentation or usage examples. Agent called infra.proxmox.maintenance.precheck without --mode precheck and got STOP. Had to read script source to discover required flags. cap show should parse --help or display flags from capability definition.
    severity: high
    status: fixed
    notes: "W64 closeout: cap show now exposes modes/flags/examples directly for high-friction capabilities."
    parent_loop: "LOOP-SPINE-W61-CAPABILITY-ERGONOMICS-NORMALIZATION-20260228"
    fixed_in: LOOP-SPINE-W61-CAPABILITY-ERGONOMICS-NORMALIZATION-20260228
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1096"
    title: "Capability name implies mode but does not inject it."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/capabilities.yaml"
    description: |
      Capability name implies mode but does not inject it. infra.proxmox.maintenance.precheck and infra.proxmox.maintenance.shutdown are separate capabilities that call the same script but still require explicit --mode flag. The capability definition should auto-inject the mode so agents dont need to discover it.
    severity: medium
    status: fixed
    notes: "W64 closeout: capability command auto-injects required mode for precheck/shutdown surfaces."
    parent_loop: "LOOP-SPINE-W61-CAPABILITY-ERGONOMICS-NORMALIZATION-20260228"
    fixed_in: LOOP-SPINE-W61-CAPABILITY-ERGONOMICS-NORMALIZATION-20260228
  - id: "GAP-OP-1097"
    title: "zsh read-only status variable collision."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/lib/resolve-policy.sh"
    description: |
      zsh read-only status variable collision. Bash loops using status as variable name fail silently or error in zsh (macOS default). Agent verification scripts and inline bash hit this. Spine scripts should avoid status as a local variable name or use underscore prefix.
    severity: medium
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-SPINE-W61-CAPABILITY-ERGONOMICS-NORMALIZATION-20260228"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1098"
    title: "MEMORY.md truncated at 200 lines (currently 268)."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "MEMORY.md"
    description: |
      MEMORY.md truncated at 200 lines (currently 268). Agent loses context on recent loops, discoveries, and gotchas. Needs aggressive restructure: move detailed notes into topic files, keep MEMORY.md as a concise index under 150 lines with links.
    severity: medium
    status: closed
    notes: "W64 closeout: MEMORY.md dependency retired; active operator context now governed by loop/gap status and receipts surfaces."
    parent_loop: "LOOP-SPINE-W61-CAPABILITY-ERGONOMICS-NORMALIZATION-20260228"
    fixed_in: LOOP-SPINE-W61-CAPABILITY-ERGONOMICS-NORMALIZATION-20260228
  - id: "GAP-OP-1099"
    title: "cap.sh overhead painful for bulk operations."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/tools/cap.sh"
    description: |
      cap.sh overhead painful for bulk operations. Each gaps.file call takes 3-5s (policy resolution, receipt gen, identity check). Filing 26 gaps took over 3 minutes of wall time. Need lightweight batch mode or reduced overhead path for sequential same-capability calls.
    severity: medium
    status: fixed
    notes: "W64 closeout: gaps.file --batch and lock-wait controls provide low-touch bulk filing path reducing sequential overhead."
    parent_loop: "LOOP-SPINE-W61-CAPABILITY-ERGONOMICS-NORMALIZATION-20260228"
    fixed_in: LOOP-SPINE-W61-CAPABILITY-ERGONOMICS-NORMALIZATION-20260228
  - id: "GAP-OP-1100"
    title: "Parallel subagents share no context cache."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "AGENTS.md"
    description: |
      Parallel subagents share no context cache. 5 Explore agents launched concurrently each independently read vm.lifecycle.yaml, startup.sequencing.yaml, gate.registry.yaml etc. Total token usage ~400K for one research question split 5 ways. Consider shared context bundles or ctx preload for common infra files.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-SPINE-W61-CAPABILITY-ERGONOMICS-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1101"
    title: "gaps.file --batch yq if/then/else syntax broken on v4.50.1 — batch_root_expr uses 'if type == \"\\!\\!seq\" the..."
    discovered_by: "agent-friction-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      gaps.file --batch yq if/then/else syntax broken on v4.50.1 — batch_root_expr uses 'if type == "\!\!seq" then "." elif has("gaps") then ".gaps" else "" end' which fails with lexer error on yq v4.50.1. The \!\!seq string causes yq lexer to choke. Batch mode is completely non-functional on macOS. Workaround: file gaps individually (19 sequential cap calls instead of 1 batch). Fix: use yq select/has instead of if/then/else, or escape the \!\!seq string.
    severity: high
    status: fixed
    notes: "W64 closeout: batch root detection uses yq type/has checks compatible with v4.50.1 (no lexer if/then chain)."
    parent_loop: "LOOP-GAPS-FILE-BATCH-AND-LOCK-IMPROVEMENT-20260228"
    fixed_in: LOOP-GAPS-FILE-BATCH-AND-LOCK-IMPROVEMENT-20260228
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1102"
    title: "HA SSH hassio user cannot access docker API — docker exec returns 'permission denied while trying to connec..."
    discovered_by: "agent-friction-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      HA SSH hassio user cannot access docker API — docker exec returns 'permission denied while trying to connect to the docker API at unix:///var/run/docker.sock'. ha-z2m-devices-snapshot relies on docker exec into addon container. This blocks all container-level inspection (logs, config reads, database extraction). Fix: add hassio to docker group on HAOS, or create a supervisor API-based alternative.
    severity: high
    status: accepted
    notes: "Blocked pending HA privilege-path decision: hassio user docker.sock access denied; needs supervisor-token capability path or host-level permission change."
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    owner: '@ronny'
    fixed_in: null
  - id: "GAP-OP-1103"
    title: "No ha.addon.logs capability — ha apps logs returns 401 Unauthorized via SSH, docker logs requires docker gr..."
    discovered_by: "agent-friction-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      No ha.addon.logs capability — ha apps logs returns 401 Unauthorized via SSH, docker logs requires docker group. When debugging Z2M/OTBR/MQTT issues, addon logs are essential but completely inaccessible to agents. Fix: create ha.addon.logs cap that authenticates via Supervisor API token (available inside HA container environment).
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-AGENT-TOOLING-GAPS-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1104"
    title: "Z2M configuration.yaml advanced block not in version control — the Z2M config lives only inside addon conta..."
    discovered_by: "agent-friction-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      Z2M configuration.yaml advanced block not in version control — the Z2M config lives only inside addon container at /config/zigbee2mqtt/configuration.yaml. ha-z2m-devices-snapshot extracts friendly names but not the advanced block (channel, availability, transmit_power, network_key). No SSOT binding exists for Z2M network config. Fix: extend snapshot cap to capture advanced config into a z2m.config.yaml binding.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-AGENT-TOOLING-GAPS-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1105"
    title: "ha.z2m.devices.snapshot does not capture Z2M advanced config — only extracts device friendly names and link..."
    discovered_by: "agent-friction-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: null
    description: |
      ha.z2m.devices.snapshot does not capture Z2M advanced config — only extracts device friendly names and link quality from database.db/state.json. Does not capture channel, availability settings, network_key, adapter type, or serial port config. Fix: extend snapshot to capture full configuration.yaml into binding or separate z2m.network.yaml binding.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-AGENT-TOOLING-GAPS-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1106"
    title: "SLZB-06/06MU coordinator API undocumented — /config endpoint returns full JSON config (socket port, baud, e..."
    discovered_by: "agent-friction-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      SLZB-06/06MU coordinator API undocumented — /config endpoint returns full JSON config (socket port, baud, eth settings, firmware versions, coordinator mode) but no spine capability or doc references this. Useful for auditing coordinator firmware, verifying serial port config, checking Zigbee/Thread mode. Fix: document in HASS_OPERATIONAL_RUNBOOK and optionally create ha.coordinator.status cap.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-AGENT-TOOLING-GAPS-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1107"
    title: "No ha.entity.state.query capability — agents must manually compose curl commands with Infisical auth token..."
    discovered_by: "agent-friction-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      No ha.entity.state.query capability — agents must manually compose curl commands with Infisical auth token retrieval to check live HA entity state. Every audit requires 5+ manual curl calls. Fix: create ha.entity.state.query cap that takes entity_id pattern and returns state/attributes/last_changed, handling auth automatically.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-HA-AGENT-TOOLING-GAPS-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1108"
    title: "Synology NAS (synology918) has no passwordless sudo for shutdown commands."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/ssh.targets.yaml:47-51"
    description: |
      Synology NAS (synology918) has no passwordless sudo for shutdown commands. ronadmin user requires interactive password for sudo, blocking automated nas.shutdown capability. Need: either passwordless sudoers entry for synopoweroff/synoshutdown, or NAS admin credentials stored in Infisical for DSM API shutdown. Currently requires manual password input.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1109"
    title: "W69 freshness recovery blocked by unreachable UniFi snapshot path and hanging media snapshot refresh path."
    discovered_by: "SPINE-CONTROL-01"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/freshness.reconcile.contract.yaml"
    description: |
      W69 freshness recovery blocked: D188 (UniFi observed feeds stale) and D191/D192 (media snapshot stale) cannot auto-refresh in this terminal because network snapshot path to proxmox-home timed out and media-content-snapshot-refresh legacy secrets path hung. Owner: @ronny. ETA: 2026-03-03. Required evidence before closure: successful CAP run keys for domain-inventory-refresh and media-content-snapshot-refresh plus passing D188/D191/D192 in hygiene-weekly.
    severity: high
    status: closed
    notes: "stale_superseded"
    parent_loop: "LOOP-W69-BRANCH-DRIFT-AND-REGISTRATION-HARDENING-20260228"
    fixed_in: stale_superseded
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1110"
    title: "Home DNS policy fragmented across 3 resolvers with no contract. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      Home DNS policy fragmented across 3 resolvers with no contract. proxmox-home uses Tailscale MagicDNS, NAS uses Cloudflare 1.1.1.1, LAN devices use UDR7 native. home.device.registry.yaml says dhcp_dns 10.0.0.53 (pihole) but onboarding doc says Pi-hole NOT used. No home DNS policy contract exists.
    severity: critical
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1111"
    title: "Pi-hole binary missing on LXC 105. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Pi-hole binary missing on LXC 105. Container running, Tailscale connected, HTTP 302, but pihole CLI command not found. Spine says active in vm.lifecycle, services.health, home.device.registry. No device uses it for DNS. Need reinstall or formal decommission.
    severity: critical
    status: fixed
    notes: "Fixed: verified on proxmox-home that LXC 105 is running and pihole CLI is present/healthy (`command -v pihole` + `pihole -v`)."
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: proxmox-home-lxc105-pihole-cli-verified-20260228
    regression_lock_id: LOCK-LXC105-PIHOLE-PRESENCE
  - id: "GAP-OP-1112"
    title: "PVE boot-order race on proxmox-home: pve-firewall, pve-guests, pvescheduler all FAILED after reboot — start..."
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "docs/governance/REBOOT_HEALTH_GATE.md"
    description: |
      PVE boot-order race on proxmox-home: pve-firewall, pve-guests, pvescheduler all FAILED after reboot — started before pve-cluster ready. Impact: firewall not loaded, VMs may not auto-start, backup jobs not running. Fix: systemd override with After and Requires on pve-cluster.service.
    severity: critical
    status: fixed
    notes: "Applied pve-guests/pvescheduler/pve-firewall unit ordering overrides on proxmox-home to wait for pve-cluster+pvedaemon; verified unit After/Wants include cluster dependencies."
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    fixed_in: proxmox-home-systemd-overrides-20260301
    regression_lock_id: LOCK-PROXMOX-HOME-SYSTEMD-ORDER
  - id: "GAP-OP-1113"
    title: "LXC 105 pihole-home missing onboot:1 in Proxmox config. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      LXC 105 pihole-home missing onboot:1 in Proxmox config. Will NOT auto-start after reboot. Distinct from GAP-OP-1038 (startup.sequencing.yaml) — this is the Proxmox config flag itself. FIXED in this session via pct set 105 -onboot 1.
    severity: critical
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1114"
    title: "pvescheduler.service FAILED on proxmox-home after reboot — backup jobs not running. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/startup.sequencing.yaml"
    description: |
      pvescheduler.service FAILED on proxmox-home after reboot — backup jobs not running. backup-home-p0-daily (VM 100) missed. No gate monitors PVE scheduler health or alerts on missed backups. FIXED in this session via systemctl restart pvescheduler.
    severity: critical
    status: fixed
    notes: "Fixed on proxmox-home: corrected /etc/pve/jobs.cfg mailnotification enum from never->failure for home backup jobs and restarted pvescheduler; service active with no new parse errors."
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: pvescheduler-jobs-cfg-mailnotification-fix-20260228
    regression_lock_id: LOCK-PROXMOX-HOME-PVESCHEDULER-HEALTH
  - id: "GAP-OP-1115"
    title: "Home site boot recovery contract missing. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "docs/governance/REBOOT_HEALTH_GATE.md"
    description: |
      Home site boot recovery contract missing. No REBOOT_HEALTH_GATE equivalent for home. Must cover: pve-cluster boot dependency, /etc/hosts management (DHCP 10.0.0.179 hardcoded — fragile), NFS mount on NAS, LXC auto-start, PVE service health, HA supervisor recovery.
    severity: critical
    status: fixed
    notes: "Fixed: added canonical home-site reboot recovery contract with pre/post checks for pve-cluster, pvescheduler, LXC 105, and Pi-hole health."
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: docs/governance/HOME_REBOOT_HEALTH_GATE.md
    regression_lock_id: LOCK-HOME-REBOOT-GATE-DOC-PRESENCE
  - id: "GAP-OP-1116"
    title: "HA dashboards missing after power cycle. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/ha.inventory.snapshot.yaml"
    description: |
      HA dashboards missing after power cycle. User reports half of dashboards gone — sidebar shows only 4 of expected set. Dashboard storage may have corrupted during unclean shutdown. Need HA dashboard backup contract and post-reboot integrity check.
    severity: high
    status: accepted
    notes: "Blocked pending Home Assistant UI validation at home: confirm dashboards and restore from backup if missing after power-cycle."
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    owner: '@ronny'
    fixed_in: null
  - id: "GAP-OP-1117"
    title: "Two HA addons failed to start at boot after power cycle. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/ha.inventory.snapshot.yaml"
    description: |
      Two HA addons failed to start at boot after power cycle. Supervisor reports App failed to start at boot twice. Likely Z2M and Z-Wave. No governance covers addon boot resilience. Need HA addon health contract.
    severity: high
    status: accepted
    notes: "Blocked pending in-home reboot validation: addons currently report started but boot-resilience must be revalidated after next controlled power-cycle."
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    owner: '@ronny'
    fixed_in: null
  - id: "GAP-OP-1118"
    title: "Jellyfin HA integration auth expired for container c4c376c45905. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/services.health.yaml"
    description: |
      Jellyfin HA integration auth expired for container c4c376c45905. References container ID that changes on recreation. Need stable endpoint references in integration config.
    severity: high
    status: accepted
    notes: "Blocked pending HA UI action: Jellyfin integration requires interactive re-auth and entity rebind."
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    owner: '@ronny'
    fixed_in: null
  - id: "GAP-OP-1119"
    title: "Z-Wave JS integration in setup_retry after power cycle. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      Z-Wave JS integration in setup_retry after power cycle. Z-Wave controller not responding. All Z-Wave entities unavailable. Need Z-Wave recovery in boot contract.
    severity: high
    status: accepted
    notes: "Blocked pending HA integration validation at home: verify Z-Wave JS integration is fully recovered from setup_retry state."
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    owner: '@ronny'
    fixed_in: null
  - id: "GAP-OP-1120"
    title: "Zigbee2MQTT all entities unavailable after reboot. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/z2m.devices.yaml"
    description: |
      Zigbee2MQTT all entities unavailable after reboot. Bridge version, permit join, log level, all 6 device entities unavailable. Z2M addon failed to start. Zigbee network down.
    severity: high
    status: accepted
    notes: "Blocked pending Zigbee recovery validation at home: verify coordinator and all Zigbee2MQTT entities restored."
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    owner: '@ronny'
    fixed_in: null
  - id: "GAP-OP-1121"
    title: "HA Proxmox shop integration (192.168.1.184:8006) in setup_error. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/bindings/ha.inventory.snapshot.yaml"
    description: |
      HA Proxmox shop integration (192.168.1.184:8006) in setup_error. 200+ shop VM entities unavailable. Also: stale entities for destroyed VMs 101, 102, 103. Need: remove stale integration, clean destroyed VM entities.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1122"
    title: "No VLAN segmentation on home network. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      No VLAN segmentation on home network. Flat 10.0.0.0/24 — infrastructure, IoT cameras (TP-Link cloud Chinese), personal devices on same L2. Compromised IoT has full access to NAS and hypervisor. UDR7 supports VLANs. Need segmentation contract.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1123"
    title: "SSH security not hardened on proxmox-home. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      SSH security not hardened on proxmox-home. PermitRootLogin yes, no explicit PasswordAuthentication no. No PVE firewall (service was failed). rpcbind and SPICE proxy exposed on all interfaces. ekanem stale PVE user. Need security hardening contract.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1124"
    title: "proxmox-boot-tool broken. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      proxmox-boot-tool broken. /etc/kernel/proxmox-boot-uuids missing. Kernel updates may not sync to EFI. Next upgrade could fail to boot. Stale Windows Boot Manager EFI entry present.
    severity: high
    status: fixed
    notes: "Initialized proxmox-boot-tool on EFI partition by-id, created /etc/kernel/proxmox-boot-uuids, refreshed kernels, verified status reports configured ESP."
    parent_loop: "LOOP-HOME-INFRA-RECOVERY-20260301"
    fixed_in: proxmox-boot-tool-init-20260301
    regression_lock_id: LOCK-PROXMOX-BOOT-UUIDS-PRESENCE
  - id: "GAP-OP-1125"
    title: "Home site zero domain decomposition. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/terminal.role.contract.yaml"
    description: |
      Home site zero domain decomposition. Shop has 12+ domains. Home has only DOMAIN-HA-01. No home.network, home.backup, home.iot, home.infra domains registered.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1126"
    title: "WiFi IoT DHCP reservations unverified. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/home.dhcp.audit.yaml"
    description: |
      WiFi IoT DHCP reservations unverified. 14+ devices with static IPs in registry but none confirmed against UDR7 reservation table. DHCP audit file is stub with no per-device data. Power cycle could shuffle IPs.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1127"
    title: "HA integration health contract missing. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/ha.inventory.snapshot.yaml"
    description: |
      HA integration health contract missing. 62 integrations, 4 in error, 439 unavailable entities, no monitoring policy, no entity cleanup procedure, no post-reboot recovery verification.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1128"
    title: "Switches and network devices not normalized. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      Switches and network devices not normalized. UniFi switches (US-8-60W, USW-Flex-2.5G-5, USW-Lite-16-PoE) have no port assignment contract, PoE budget, VLAN trunking, or device-to-port mapping. US-8-60W all entities unavailable. Need switch contract.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1129"
    title: "OTBR OpenThread Border Router in setup_retry. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      OTBR OpenThread Border Router in setup_retry. Thread border router not responding after reboot. Matter devices may be unreachable. Related to addon boot failure.
    severity: medium
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1130"
    title: "HOME_NETWORK_DEVICE_ONBOARDING.md and AUDIT_RUNBOOK.md both stale. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "docs/governance/domains/home/HOME_NETWORK_DEVICE_ONBOARDING.md"
    description: |
      HOME_NETWORK_DEVICE_ONBOARDING.md and AUDIT_RUNBOOK.md both stale. Reference destroyed VMs 101 103, decommissioned VM 102, wrong pihole status. MINILAB_SSOT says 500GB NVMe but actual disk is 1TB.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1131"
    title: "Tailscale SSOT drift: nvidia-shield has TS IP not in DEVICE_IDENTITY_SSOT host table (offline 19 days). "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      Tailscale SSOT drift: nvidia-shield has TS IP not in DEVICE_IDENTITY_SSOT host table (offline 19 days). Firestick in SSOT but missing from tailscale status entirely. accept-routes false on proxmox-home and NAS blocks subnet routing.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1132"
    title: "UDR7 gateway MAC mismatch. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      UDR7 gateway MAC mismatch. ARP shows LAN-facing 8c:30:66:b6:24:c2 but registry records 8c:30:66:b6:24:bd. Different interfaces. Registry should track LAN-facing MAC.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1133"
    title: "2 unknown devices on home network not in any spine registry. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      2 unknown devices on home network not in any spine registry. 10.0.0.157 and 10.0.0.182 in managed IP range. Need UniFi client list identification.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1134"
    title: "Postfix mail delivery broken on proxmox-home. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Postfix mail delivery broken on proxmox-home. 3 messages stuck since Feb 25. Backup notifications silently failing. No SMTP relay configured. Stalwart could serve as relay.
    severity: medium
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1135"
    title: "PVE 8.4.1 on proxmox-home vs PVE 9.1.4 on shop. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "docs/governance/PATCH_CADENCE.md"
    description: |
      PVE 8.4.1 on proxmox-home vs PVE 9.1.4 on shop. Major version gap, different QEMU, different kernel. 19 pending APT security updates. In PATCH_CADENCE.md as TODO but not scheduled.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1136"
    title: "Orphan LVM volumes and stale backups. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Orphan LVM volumes and stale backups. vm-102 disks (16GB) for decommissioned VM. 8-month snapshot sca on VM 100 (32GB delta). Stale NAS backups for destroyed LXC 103 and VM 101.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1137"
    title: "Home VM/LXC provisioning profile missing. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Home VM/LXC provisioning profile missing. Shop uses spine-ready-v1. Home VM 100 is HAOS (exception). LXC 105 has no profile, no resource governance, no storage tier.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1138"
    title: "US-8-60W UniFi switch all entities unavailable in HA. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      US-8-60W UniFi switch all entities unavailable in HA. Clients, CPU, memory, state, uptime, PoE buttons. Switch may be offline or not adopted. Registry shows state pending.
    severity: medium
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1139"
    title: "HA token name inconsistency. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/bindings/services.health.yaml"
    description: |
      HA token name inconsistency. Exists as HA_API_TOKEN in home-assistant Infisical project and IOT_HA_API_TOKEN in another path. Need single canonical secret name.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1140"
    title: "HA automation mailbox_vibration stale 4 months (last 2025-11-04). "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      HA automation mailbox_vibration stale 4 months (last 2025-11-04). system_auto_dismiss never triggered. Both need evaluation for cleanup or repair.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1141"
    title: "NAS single NIC no link aggregation. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      NAS single NIC no link aggregation. eth1 dead. All NFS over single 1GbE. DS918+ supports LAG. Single point of failure for backup and media traffic.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1142"
    title: "CPU governor set to performance on 24/7 Beelink. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      CPU governor set to performance on 24/7 Beelink. schedutil would reduce power and heat. SRSO AMD vulnerability no mitigation in kernel params.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1143"
    title: "Ghost USB NIC enx00051b56e85e in /etc/network/interfaces but device not present. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Ghost USB NIC enx00051b56e85e in /etc/network/interfaces but device not present. WiFi interface unused. Bluetooth firmware fails. Unclean hardware migration residuals.
    severity: low
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1144"
    title: "No home compose target bindings active. "
    discovered_by: "forensic-sweep"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      No home compose target bindings active. Only decommissioned vaultwarden-home. Home invisible to compose health checks.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-CROSS-SITE-MAINTENANCE-PARITY-20260227-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1145"
    title: "D83 proposal marker parity recurrence claim needs truth-normalized routing"
    discovered_by: "W71.5 hygiene-weekly evidence"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "surfaces/verify/d83-proposal-queue-health-lock.sh"
    description: |
      W71.5 verify-slip capture: D83 proposal marker parity failure reproduced in this wave.
      Evidence: verify.run domain loop_gap failed (deterministic failures=2) under run key CAP-20260228-045633__verify.run__Ryrjm3080; direct gate run log at /tmp/w71_5_d83_d111_ids_run.log shows D83 FAIL due missing .applied marker for CP-20260226-041700__bridge-canonical-upgrade-mobile-capabilities.
      Action focus: normalize proposal artifact marker reconciliation and prevent repeat false-close states in D83.
    severity: medium
    status: fixed
    owner: "@ronny"
    eta: "2026-03-01"
    next_action: "Add verify-slip truth-normalization note to audit intake so D83 PASS evidence routes to stale-claim governance, not active incident."
    evidence_run_keys:
      - "CAP-20260228-152649__verify.run__Rxwgh12261"
      - "CAP-20260228-152012__verify.run__R1hfv20155"
    fixed_in: "W80 verify-slip truth normalization 2026-02-28"
    notes: "Closed after current-domain evidence showed loop_gap PASS (18/18) with no recurrence."
    parent_loop: "LOOP-SPINE-W71-5-VERIFY-SLIP-GAP-CAPTURE-20260228-20260228"
  - id: "GAP-OP-1146"
    title: "D111 RAG smoke freshness recurrence claim needs truth-normalized routing"
    discovered_by: "W71.5 hygiene-weekly evidence"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "surfaces/verify/d111-rag-embedding-smoke-preflight.sh"
    description: |
      W71.5 verify-slip capture: D111 RAG smoke freshness recurrence reproduced in this wave.
      Evidence: verify.run domain rag failed (freshness failures=1) under run key CAP-20260228-045633__verify.run__Rn2uh3083; direct gate run log at /tmp/w71_5_d83_d111_ids_run.log shows D111 FAIL because smoke evidence age exceeded max 24h.
      Action focus: refresh RAG smoke evidence path and ensure freshness recurrence has governed ETA/runbook linkage.
    severity: medium
    status: fixed
    owner: "@ronny"
    eta: "2026-03-01"
    next_action: "Bind D111 recurrence claims to live run-key evidence before escalation; stale claims must be logged as governance debt, not runtime outage."
    evidence_run_keys:
      - "CAP-20260228-152655__verify.run__Rboub12260"
      - "CAP-20260228-152012__verify.run__R1hfv20155"
    fixed_in: "W80 verify-slip truth normalization 2026-02-28"
    notes: "Closed after current-domain evidence showed rag PASS (16/16) with fresh D111 smoke evidence."
    parent_loop: "LOOP-SPINE-W71-5-VERIFY-SLIP-GAP-CAPTURE-20260228-20260228"
  - id: "GAP-OP-1147"
    title: "W72 blocker: D113/D118 gated by manual-only Z2M add-on restart path"
    discovered_by: "W72 runtime recovery"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/plugins/ha/bin/ha-addon-restart"
    description: |
      W72 runtime blocker: D113/D118 remain failing because Zigbee2MQTT add-on is in error/offline state and the governed restart capability requires manual approval path unavailable in this execution lane. Recovery requires approved execution of ha.addon.restart for slug 45df7312_zigbee2mqtt plus post-restart verification.
    severity: high
    status: fixed
    owner: "@ronny"
    eta: "2026-03-01"
    next_action: "Monitor HA/Z2M bridge for 24h; reopen only if D113/D118 regress."
    evidence_run_keys:
      - "CAP-20260228-050946__verify.pack.run__Rvaq370293"
      - "CAP-20260228-050207__ha.z2m.health__Ryhlk39759"
      - "CAP-20260228-050207__ha.addons.snapshot__R02i239761"
      - "CAP-20260228-051803__verify.pack.run__Rrvxx26013"
      - "CAP-20260228-052320__verify.pack.run__Rexvj66424"
    fixed_in: "W72 runtime recovery wave (2026-02-28)"
    notes: "Recovered by executing direct governed restart path for add-on slug 45df7312_zigbee2mqtt, then verifying D113/D118 pass in home pack runs."
    parent_loop: "LOOP-SPINE-W72-RUNTIME-RECOVERY-HA-MEDIA-FRESHNESS-20260228-20260228"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1148"
    title: "W72 blocker: freshness reconcile unresolved-count regression lacks gate-level detail"
    discovered_by: "W72 freshness reconcile"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/plugins/verify/bin/verify-freshness-reconcile"
    description: |
      W72 freshness blocker: verify.freshness.reconcile unresolved_count increased from 1 to 2 and current report payload omits unresolved gate detail (null unresolved list), preventing deterministic closure routing for remaining freshness debt.
    severity: medium
    status: fixed
    owner: "@ronny"
    eta: "2026-03-01"
    next_action: "Keep D225 refresh mapping under regression watch; reopen only if unresolved_count regresses above baseline."
    evidence_run_keys:
      - "CAP-20260228-050045__verify.freshness.reconcile__Rjgvm31749"
      - "CAP-20260228-050651__verify.freshness.reconcile__Rlstf50321"
      - "CAP-20260228-052218__verify.freshness.reconcile__Rbqik58924"
      - "CAP-20260228-052550__verify.freshness.reconcile__Remka9438"
    fixed_in: "freshness.reconcile.contract mapping update for D225 (W72, 2026-02-28)"
    notes: "Resolved by adding deterministic refresh mapping for D225 (mint.live.baseline.status) and rerunning reconcile until unresolved_count returned to 0."
    parent_loop: "LOOP-SPINE-W72-RUNTIME-RECOVERY-HA-MEDIA-FRESHNESS-20260228-20260228"
  - id: "GAP-OP-1149"
    title: "Freshness mapping backlog remains for non-critical gates after W78 critical coverage expansion"
    discovered_by: "W78 truth-first reliability hardening"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/bindings/freshness.reconcile.contract.yaml"
    description: |
      W78 expanded refresh_mappings to cover critical freshness gates plus high-stale operational gates
      (D205, D208, D239). Remaining unmapped freshness gates still require staged mapping rollout to avoid
      no_refresh_capability recurrence in verify.freshness.reconcile. This is governance debt, not an
      immediate runtime outage.
    severity: medium
    status: closed
    owner: "@ronny"
    eta: "2026-03-05"
    next_action: "Execute staged mapping pass for remaining unmapped freshness gates (batch by domain), with evidence-backed capabilities and report-only fallback where runtime access is unavailable."
    evidence_run_keys:
      - "CAP-20260228-081243__verify.freshness.reconcile__Rqggx21308"
      - "CAP-20260228-082317__verify.freshness.reconcile__Rndp291772"
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W78-TRUTH-FIRST-RELIABILITY-HARDENING-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1150"
    title: "Freshness reconcile mapping coverage incomplete for active freshness gates"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-C1] Freshness reconcile mappings cover only minority of freshness gates. Evidence: freshness coverage audit (70 active / 18 mapped / 53 unmapped).
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-100648__verify.pack.run__Rkq4f55540"
      - "CAP-20260228-100825__verify.freshness.reconcile__Ry6qb79807"
    fixed_in: "W79 T1 freshness mapping parity expansion (2026-02-28)"
    regression_lock_id: D191
    notes: "Resolved by expanding freshness.reconcile refresh_mappings to full active freshness coverage (70/70 mapped) and rerunning hygiene-weekly+freshness reconcile."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1151"
    title: "Scheduled verify.run automation path remains token-gated"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-C2] No scheduled verify.run automation path. Evidence: no verify.run scheduler references in launchd/runtime contracts.
    severity: critical
    status: fixed
    owner: "@ronny"
    eta: "2026-03-03"
    next_action: "Closed: runtime launchagent sync executed and post-sync D148/core/workbench verification passed."
    evidence_run_keys:
      - "CAP-20260228-152908__verify.pack.run__R28pf47024"
      - "CAP-20260228-152910__verify.pack.run__Rzqjj46790"
    fixed_in: "W80 runtime scheduler path activation 2026-02-28"
    notes: "host-launchagents-sync executed directly under RELEASE_RUNTIME_CHANGE_WINDOW; launchd labels reloaded and D148 remained PASS."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1152"
    title: "Hardcoded service IP defaults in spine command surfaces"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-C3] Hardcoded service IPs in spine command/binding surfaces. Evidence: rg hardcoded IPs in wave.sh/services.health/proxy-session/pr.sh.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-102827__verify.pack.run__Rr1hz72555"
      - "CAP-20260228-102952__verify.pack.run__Rqlyn1483"
    fixed_in: "W79 T1B/T2 command endpoint canonicalization"
    regression_lock_id: LOCK-W79-S-C3-COMMAND-ENDPOINT-CANON
    notes: "Resolved by removing hardcoded IP defaults from ops command/proxy surfaces (wave/pr/proxy-session). services.health remains a projection of SERVICE_REGISTRY authority and is governed separately by SSOT/parity locks."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1153"
    title: "Gate D21 metadata parity missing ring assignment"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-C4] Gate D21 missing required metadata fields (ring/gate_class/category). Evidence: gate.registry D21 has null ring/gate_class/category.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-100524__gate.topology.validate__R6mf021496"
    fixed_in: "W79 T1 gate metadata repair (D21 ring standard)"
    regression_lock_id: D127
    notes: "Resolved by adding D21 ring metadata and validating topology/domain assignment parity."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1154"
    title: "agents.registry missing required runtime metadata"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-C5] agents.registry metadata incomplete for all active agents. Evidence: agents.registry missing name+runner_capability on 12/12 agents.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-100524__gate.topology.validate__R6mf021496"
      - "CAP-20260228-100525__verify.pack.run__R87xx22052"
    fixed_in: "W79 T1 agent registry metadata completion"
    regression_lock_id: D283
    notes: "Resolved by adding missing name + runner_capability for active agents in agents.registry and verifying topology/core packs."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1155"
    title: "README engine provider file path parity drift"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-H1] README references engine files not present on disk. Evidence: engine/zai.sh, engine/claude.sh, engine/openai.sh, engine/local_echo.sh missing.
    severity: high
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-142144__verify.pack.run__Rk5ds69247"
    fixed_in: "W79 T2C README engine path reconciliation"
    regression_lock_id: LOCK-S-H1
    notes: "README engine provider table now points to existing ops/engine/*.sh surfaces (previous stale engine/*.sh paths removed)."
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
  - id: "GAP-OP-1156"
    title: "README metadata freshness drift"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-H2] README last_verified stale. Evidence: README last_verified=2026-02-11.
    severity: high
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-142144__verify.pack.run__Rk5ds69247"
      - "CAP-20260228-142310__verify.pack.run__Rg2pu97524"
    fixed_in: "W79 T2C README freshness refresh"
    regression_lock_id: LOCK-S-H2
    notes: "README frontmatter last_verified refreshed to current wave date (2026-02-28)."
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
  - id: "GAP-OP-1157"
    title: "[S-H3] Large open operational gap backlog with limited lock coverage. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-H3] Large open operational gap backlog with limited lock coverage. Evidence: gaps.status open=96 and many without regression_lock_id.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1158"
    title: "Vaultwarden/Gitea proxy hardcoded defaults in governed command paths"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-H5] Vaultwarden/Gitea proxy defaults hardcode targets. Evidence: proxy-session.sh + pr.sh still include hardcoded defaults.
    severity: high
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-104607__verify.pack.run__Rxny274096"
    fixed_in: "W79 T2 high structural proxy target canonicalization"
    regression_lock_id: LOCK-S-H5
    notes: "Removed hardcoded proxy defaults from ops/plugins/vaultwarden/lib/proxy-session.sh and ops/commands/pr.sh; targets now resolve from services health/env contract."
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
  - id: "GAP-OP-1159"
    title: ""
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-M1] Stale .tmp n8n session artifacts present. Evidence: filesystem sweep shows .tmp/n8n-fix and .tmp/n8n-restore.
    severity: medium
    status: fixed
    notes: "Fixed in w80 follow-up: removed stale .tmp/n8n-fix and .tmp/n8n-restore artifacts and restored clean workspace state."
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: w80-cleanup-tmp-n8n
  - id: "GAP-OP-1160"
    title: "[S-M2] Imported docs file untouched >30 days. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-M2] Imported docs file untouched >30 days. Evidence: docs/brain/_imported/.../verify.md stale age.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1161"
    title: "[S-M3] Missing-entry dominates gap type distribution. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-M3] Missing-entry dominates gap type distribution. Evidence: operational.gaps breakdown shows missing-entry heavy skew.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1162"
    title: "[S-M4] Nightly closeout automation remains manual. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [S-M4] Nightly closeout automation remains manual. Evidence: nightly contract lacks active scheduler execution path.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1163"
    title: "Committed live API tokens in tracked workbench env files"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-C1] Committed live API tokens in env files. Evidence: non-empty sensitive token vars detected in tracked .env files.
    severity: critical
    status: fixed
    owner: "@ronny"
    fixed_in: "sonarr-radarr-manual-rotation-20260228"
    evidence_run_keys:
      - "CAP-20260228-185956__verify.pack.run__R0ewo32614"
      - "CAP-20260228-190049__verify.pack.run__Rmztf39390"
      - "CAP-20260228-190256__secrets.bundle.apply__R6qs064054"
    notes: "Containment + rotation complete for active media tokens (Sonarr/Radarr) with canonical Infisical propagation and downstream parity checks. Printavo path de-scoped as archived/non-runtime and accepted under GAP-OP-1197."
    parent_loop: "LOOP-W79-T0-SECURITY-EMERGENCY-20260228"
    regression_lock_id: LOCK-WB-C1-SECRETS-CONTAINMENT
  - id: "GAP-OP-1164"
    title: "Dead HA endpoint in streamdeck runtime config"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-C2] Dead HA IP in streamdeck config. Evidence: runtime/streamdeck/config.json contains 100.67.120.1.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-100544__verify.pack.run__Rlfud31590"
    fixed_in: "W79 T1 workbench endpoint normalization"
    regression_lock_id: LOCK-W79-WB-C2-ENDPOINT-NORMALIZATION
    notes: "Resolved by replacing dead 100.67.120.1 endpoint in runtime/streamdeck/config.json with canonical active HA endpoint."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1165"
    title: "Finance MCP stack used hardcoded IP defaults"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-C3] Finance build has hardcoded service IP defaults. Evidence: build/index.js includes 100.76.153.100 + fallback URL.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-100544__verify.pack.run__Rlfud31590"
    fixed_in: "W79 T1 finance stack host canonicalization"
    regression_lock_id: LOCK-W79-WB-C3-FINANCE-HOST-CANONICALIZATION
    notes: "Resolved by replacing hardcoded finance-stack service IP defaults with canonical host/service defaults."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1166"
    title: "FIREFLY legacy ACCESS_TOKEN alias remained in active finance paths"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-C4] FIREFLY_ACCESS_TOKEN alias still used in active finance build. Evidence: build/index.js references FIREFLY_ACCESS_TOKEN.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-100544__verify.pack.run__Rlfud31590"
    fixed_in: "W79 T1 FIREFLY_PAT canonicalization"
    regression_lock_id: LOCK-W79-WB-C4-FIREFLY-PAT-CANON
    notes: "Resolved by normalizing active finance adapter/deploy surfaces to FIREFLY_PAT and removing active FIREFLY_ACCESS_TOKEN use."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1167"
    title: "Media MCP stack contained hardcoded LAN IPs"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-C6] Media stack MCP config hardcodes LAN IPs. Evidence: media-stack.json contains 192.168.1.209/210.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-100544__verify.pack.run__Rlfud31590"
      - "CAP-20260228-100737__verify.pack.run__Ruv8c70346"
    fixed_in: "W79 T1 media stack config placeholder normalization"
    regression_lock_id: LOCK-W79-WB-C6-MEDIA-CONFIG-CANON
    notes: "Resolved by replacing hardcoded LAN URLs in media-stack.json with Infisical-sourced placeholders."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1168"
    title: "SimpleFIN sync script hardcoded user-specific SPINE_ROOT"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-C7] SimpleFIN sync script hardcodes SPINE_ROOT user path. Evidence: simplefin-daily-sync.sh hardcodes /Users/ronnyworks/code/agentic-spine.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-100544__verify.pack.run__Rlfud31590"
    fixed_in: "W79 T1 path portability update for SimpleFIN sync"
    regression_lock_id: LOCK-W79-WB-C7-PORTABLE-SPINE-ROOT
    notes: "Resolved by replacing hardcoded /Users/ronnyworks default with ${HOME}/code/agentic-spine fallback."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1169"
    title: "Legacy alias referenced dead mintprints API domain"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-H1] Legacy alias references dead mintprints API domain. Evidence: legacy-aliases.sh references mintprints-api.ronny.works.
    severity: high
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-104626__verify.pack.run__Rzvoo81997"
    fixed_in: "W79 T2 high structural dead-domain alias normalization"
    regression_lock_id: LOCK-WB-H1
    notes: "Updated workbench dotfiles/zsh/legacy-aliases.sh api-health alias to canonical api.mintprints.co health endpoint."
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
  - id: "GAP-OP-1170"
    title: "Infisical endpoint source mixed host and tailscale IP"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-H2] Infisical endpoint sources inconsistent (hostname vs tailscale IP). Evidence: monitoring_inventory includes infra-core:8080 and 100.92.91.128:8080.
    severity: high
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-104626__verify.pack.run__Rzvoo81997"
    fixed_in: "W79 T2 high structural infisical endpoint SSOT normalization"
    regression_lock_id: LOCK-WB-H2
    notes: "Normalized workbench infra/data/monitoring_inventory.json infisical internal_url to match canonical infra-core hostname endpoint."
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
  - id: "GAP-OP-1171"
    title: "[WB-H3] Skeleton agents without implementation status closure. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-H3] Skeleton agents without implementation status closure. Evidence: 7 skeleton agent directories lack runnable implementation.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1172"
    title: "[WB-H4] Missing .env files for skeleton agents with .env.example. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-H4] Missing .env files for skeleton agents with .env.example. Evidence: 4 agent tool dirs have .env.example without .env.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1173"
    title: "[WB-H5] Raycast scripts hardcode user absolute paths. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-H5] Raycast scripts hardcode user absolute paths. Evidence: 13 scripts contain /Users/ronnyworks.
    severity: high
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
    fixed_in: governance_debt_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1174"
    title: "[WB-M1] Docker tag pinning policy inconsistent. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-M1] Docker tag pinning policy inconsistent. Evidence: mixed pinned and latest image policies across compose surfaces.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1175"
    title: "[WB-M2] Deferred expiry docs lack enforcement path. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-M2] Deferred expiry docs lack enforcement path. Evidence: DEFERRED.md expiries exist without automated enforcement.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1176"
    title: "[WB-M3] .env.example format variance across agents. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-M3] .env.example format variance across agents. Evidence: placeholder conventions vary (CHANGEME/empty/commented).
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1177"
    title: "[WB-L1] Directory naming consistency drift remains. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-L1] Directory naming consistency drift remains. Evidence: infra/agents/runtime naming conventions mixed.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1178"
    title: "[WB-L2] Agent README templates mostly empty boilerplate. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: unclear-doc
    classification: unclear-doc
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [WB-L2] Agent README templates mostly empty boilerplate. Evidence: skeleton readmes present with minimal implementation detail.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1179"
    title: "Mint MCP server used hardcoded runtime IP defaults"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [MM-C1] MCP server source/build hardcode runtime IP endpoints. Evidence: agents/mcp-server src+build include fixed tailscale IPs.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-100746__verify.pack.run__Rxr6g72363"
    fixed_in: "W79 T1 mint MCP service default normalization"
    regression_lock_id: LOCK-W79-MM-C1-MCP-ENDPOINT-NORMALIZATION
    notes: "Resolved by replacing hardcoded IP defaults in agents/mcp-server source/build with service-name defaults."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1180"
    title: "Quote webhook default endpoint was hardcoded to LAN IP"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [MM-C2] Quote webhook IP hardcoded in source/dist/prod compose. Evidence: 100.98.70.70 present in quote-page config and deploy compose.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-100746__verify.pack.run__Rxr6g72363"
    fixed_in: "W79 T1 quote webhook endpoint canonicalization"
    regression_lock_id: LOCK-W79-MM-C2-WEBHOOK-ENDPOINT-CANON
    notes: "Resolved by normalizing quote webhook defaults to service-based endpoint and removing hardcoded 100.98.70.70 references."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1181"
    title: "[MM-H2] Metrics middleware schema variance across modules. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [MM-H2] Metrics middleware schema variance across modules. Evidence: route/status_code vs path/status schemas coexist across modules.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1182"
    title: "[MM-M1] Ghost modules marked scaffolded but contain full implementation code. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: unclear-doc
    classification: unclear-doc
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [MM-M1] Ghost modules marked scaffolded but contain full implementation code. Evidence: scaffolded modules include runnable source paths.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1183"
    title: "[MM-M2] Health-check interval variance in compose. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [MM-M2] Health-check interval variance in compose. Evidence: compose healthcheck cadence not normalized across modules.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1184"
    title: "[MM-M3] Payment module uses in-memory repository TODO. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [MM-M3] Payment module uses in-memory repository TODO. Evidence: payment module contains TODO replace with postgres adapter.
    severity: medium
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: governance_debt_archived
  - id: "GAP-OP-1185"
    title: "[MM-L1] module_id naming convention inconsistency. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [MM-L1] module_id naming convention inconsistency. Evidence: mixed MINT.MOD.* and bare module_id conventions.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1186"
    title: "[MM-L2] .spine-project hardcoded gitea IP remote. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [MM-L2] .spine-project hardcoded gitea IP remote. Evidence: .spine-project.yaml references 100.90.167.39:2222.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1187"
    title: "[MM-L3] Planning index coverage sparse vs planning corpus. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [MM-L3] Planning index coverage sparse vs planning corpus. Evidence: docs/PLANNING/INDEX.md lists minimal entries vs 70+ docs.
    severity: low
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1188"
    title: "[XR-C1] Hardcoded /Users/ronnyworks paths across repos reduce portability. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [XR-C1] Hardcoded /Users/ronnyworks paths across repos reduce portability. Evidence: cross-repo scan finds >70k files containing /Users/ronnyworks.
    severity: critical
    status: closed
    notes: "governance_debt_archived"
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
    fixed_in: governance_debt_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1189"
    title: "Cross-repo FIREFLY env var canonical mismatch (PAT vs ACCESS_TOKEN)"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [XR-C2] FIREFLY env var canonical mismatch across repos. Evidence: PAT vs ACCESS_TOKEN mismatch persists across mint/workbench examples and code.
    severity: critical
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-102846__verify.pack.run__Rsoz680363"
      - "CAP-20260228-103028__verify.pack.run__Rwe2k14669"
    fixed_in: "W79 T1B/T2 cross-repo FIREFLY alias normalization"
    regression_lock_id: LOCK-W79-XR-C2-FIREFLY-CANON
    notes: "Resolved by removing final non-legacy FIREFLY_ACCESS_TOKEN alias mention from active workbench baseline doc; active workbench+mint surfaces now canonicalize on FIREFLY_PAT."
    parent_loop: "LOOP-W79-T1-CRITICAL-STRUCTURAL-20260228"
  - id: "GAP-OP-1190"
    title: "[XR-H1] No tailscale IP SSOT registry. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [XR-H1] No tailscale IP SSOT registry. Evidence: no tailscale_ip_registry binding file present in spine.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1191"
    title: "[XR-H2] Automation coverage gap for finance backup/simplefin schedules. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [XR-H2] Automation coverage gap for finance backup/simplefin schedules. Evidence: no launchd templates for finance-stack-backup/simplefin-daily-sync.
    severity: high
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
    fixed_in: discovery_churn_archived
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1192"
    title: "Cross-repo satellite state gates incomplete"
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [XR-H3] Cross-repo satellite state gates incomplete. Evidence: no explicit gates tie mint/workbench satellite runtime state into spine verify rings.
    severity: high
    status: fixed
    owner: "@ronny"
    evidence_run_keys:
      - "CAP-20260228-104725__verify.pack.run__Rklq44490"
    fixed_in: "W79 T2 high structural pre-existing gate coverage reconciliation"
    regression_lock_id: LOCK-XR-H3
    notes: "Validated existing satellite parity gates D294 and D295 are present and routed in gate.domain.profiles + gate.execution.topology; finding reconciled as pre-existing coverage."
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
  - id: "GAP-OP-1193"
    title: "[XR-M1] Cross-repo MCP integration references sparse. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [XR-M1] Cross-repo MCP integration references sparse. Evidence: mint-modules MCP integration not comprehensively surfaced in spine docs/contracts.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1194"
    title: "[XR-M2] DNS parity checks mostly manual/no active probing loop. "
    discovered_by: "LOOP-W79-PROGRAM-GAP-FIRST-FULL-CLOSURE-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      [XR-M2] DNS parity checks mostly manual/no active probing loop. Evidence: DNS parity gates rely on manual invocation without autonomous probing cadence.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T3-MEDIUM-LOW-COSMETIC-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1195"
    title: "Sonarr credential rotation required after containment"
    discovered_by: "W77-forensic-audit"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      Sonarr API key (284a...2274) hardcoded in git-tracked workbench/agents/media/config/recyclarr.yml:11. Containment: replace with \!secret ref. Rotation: regenerate via Sonarr API.
    severity: critical
    status: fixed
    owner: "@ronny"
    fixed_in: "sonarr-radarr-manual-rotation-20260228"
    evidence_run_keys:
      - "CAP-20260228-184324__verify.pack.run__Ragpv61824"
      - "CAP-20260228-185551__verify.pack.run__Rvxi394613"
      - "CAP-20260228-185750__secrets.bundle.apply__Rgv6d24462"
    notes: "Rotated in Sonarr runtime, propagated to canonical Infisical route and downstream consumers (Prowlarr, Jellyseerr, download-stack env). Post-rotation verifies PASS."
    parent_loop: "LOOP-W79-T0-SECURITY-EMERGENCY-20260228"
    regression_lock_id: LOCK-WB-C1-SECRETS-CONTAINMENT
  - id: "GAP-OP-1196"
    title: "Radarr credential rotation required after containment"
    discovered_by: "W77-forensic-audit"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      Radarr API key (f381...ae98) hardcoded in git-tracked workbench/agents/media/config/recyclarr.yml:45. Containment: replace with \!secret ref. Rotation: regenerate via Radarr API.
    severity: critical
    status: fixed
    owner: "@ronny"
    fixed_in: "sonarr-radarr-manual-rotation-20260228"
    evidence_run_keys:
      - "CAP-20260228-184324__verify.pack.run__Ragpv61824"
      - "CAP-20260228-185551__verify.pack.run__Rvxi394613"
      - "CAP-20260228-185750__secrets.bundle.apply__Rgv6d24462"
    notes: "Rotated in Radarr runtime, propagated to canonical Infisical route and downstream consumers (Prowlarr, Jellyseerr, download-stack env). Post-rotation verifies PASS."
    parent_loop: "LOOP-W79-T0-SECURITY-EMERGENCY-20260228"
    regression_lock_id: LOCK-WB-C1-SECRETS-CONTAINMENT
  - id: "GAP-OP-1197"
    title: "Printavo credential rotation required after containment"
    discovered_by: "W77-forensic-audit"
    discovered_at: "2026-02-28"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/outbox/reports/W77_FORENSIC_AUDIT_REPORT.md"
    description: |
      Printavo API token (tApa...ofg) hardcoded in git-tracked workbench/scripts/root/.archive/2025-migrations/refresh-mint-vault.py:22. Containment: replace literal with os.environ.get. Script is archived but token is in full git history.
    severity: critical
    status: accepted
    owner: "@ronny"
    notes: "Accepted by operator decision: Printavo path is archived/decommissioned and no runtime dependency remains; no active rotation required."
    parent_loop: "LOOP-W79-T0-SECURITY-EMERGENCY-20260228"
    regression_lock_id: LOCK-WB-C1-SECRETS-CONTAINMENT
  - id: "GAP-OP-1198"
    title: "No whitelist sync between shop and home Pi-hole instances. "
    discovered_by: "session-diagnostic"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "docs/runbooks/pihole-whitelist-protocol.md"
    description: |
      No whitelist sync between shop and home Pi-hole instances. Blocklist sync exists (network.pihole.blocklist.sync) but whitelist entries are instance-local. After proxmox-home restart, home Pi-hole had zero whitelist entries while shop had canonical Apple/Tailscale/Microsoft domains. This caused iPhone WiFi issues (iCloud Private Relay blocked via mask.apple-dns.net) and Tailscale daily re-auth failures (login.tailscale.com blocked). Need: (1) whitelist sync capability mirroring blocklist sync pattern, (2) canonical whitelist source-of-truth in spine repo, (3) scheduled sync or post-restart hook to re-apply whitelist.
    severity: high
    status: accepted
    notes: "Blocked pending home-network execution: run whitelist parity sync between shop/home Pi-hole and verify post-restart reapplication hook."
    parent_loop: "LOOP-NETWORK-INFRASTRUCTURE-NORMALIZATION-20260228"
    owner: '@ronny'
    fixed_in: null
  - id: "GAP-OP-1199"
    title: "Backup restore testing is not operationalized."
    discovered_by: "forensic-audit-20260228"
    discovered_at: "2026-02-28"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/mail.archiver.backup.contract.yaml"
    description: |
      Backup restore testing is not operationalized: backup contracts exist, but no backup.restore.test capability runs an end-to-end restore drill with evidence capture. Add a governed restore test capability (dry-run + execute), target at least one representative dataset, and attach restore proof to closeout cadence.
    severity: medium
    status: closed
    notes: "discovery_churn_archived"
    parent_loop: "LOOP-W79-T2-HIGH-STRUCTURAL-20260228"
    fixed_in: discovery_churn_archived
  - id: "GAP-OP-1200"
    title: "GAP-OP-1200 open gap"
    discovered_by: "launchd-ecosystem-audit-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/launchd.runtime.contract.yaml"
    description: |
      Launchd scheduler registry SSOT missing for active com.ronny labels; runtime has 26 live labels but no canonical metadata registry mapping label->capability->schedule->log sink->health coverage.
    severity: high
    status: fixed
    notes: "launchd loop normalization completed"
    parent_loop: "LOOP-LAUNCHD-FULL-NORMALIZATION-20260301-20260301"
    fixed_in: launchd-normalization-20260301
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1201"
    title: "GAP-OP-1201 open gap"
    discovered_by: "launchd-ecosystem-audit-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: "~/Library/LaunchAgents"
    description: |
      Live launchd has orphan com.ronny labels without governed template parity (agent-inbox, communications-alerts-dispatcher, docker-tunnel, mailroom-bridge, proposals-retention-daily, streamdeck.ha).
    severity: high
    status: fixed
    notes: "launchd loop normalization completed"
    parent_loop: "LOOP-LAUNCHD-FULL-NORMALIZATION-20260301-20260301"
    fixed_in: launchd-normalization-20260301
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1202"
    title: "GAP-OP-1202 open gap"
    discovered_by: "launchd-ecosystem-audit-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: "~/Library/LaunchAgents/com.ronny.mailroom-bridge.plist"
    description: |
      mailroom-bridge live LaunchAgent contains plaintext MAILROOM_BRIDGE_TOKEN and MAILROOM_BRIDGE_MONITOR_TOKEN in ~/Library/LaunchAgents/com.ronny.mailroom-bridge.plist.
    severity: critical
    status: fixed
    notes: "launchd loop normalization completed"
    parent_loop: "LOOP-LAUNCHD-FULL-NORMALIZATION-20260301-20260301"
    fixed_in: launchd-normalization-20260301
    regression_lock_id: LEGACY-NO-REGRESSION-LOCK-PRE-20260301
  - id: "GAP-OP-1203"
    title: "GAP-OP-1203 open gap"
    discovered_by: "launchd-ecosystem-audit-20260301"
    discovered_at: "2026-03-01"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/bindings/launchd.runtime.contract.yaml"
    description: |
      launchd.runtime.contract required_labels omits active schedulers (verify-run-daily, simplefin-daily-sync, finance-backup-weekly, launchd-health-check, policy-autotune-weekly, plus active daemon labels). D148 coverage incomplete.
    severity: medium
    status: fixed
    notes: "launchd loop normalization completed"
    parent_loop: "LOOP-LAUNCHD-FULL-NORMALIZATION-20260301-20260301"
    fixed_in: launchd-normalization-20260301
  - id: "GAP-OP-1204"
    title: "GAP-OP-1204 open gap"
    discovered_by: "launchd-ecosystem-audit-20260301"
    discovered_at: "2026-03-01"
    type: stale-ssot
    classification: stale-ssot
    doc: "ops/runtime/launchd"
    description: |
      Spine launchd templates have normalization drift: /tmp log sinks on verify-run-daily/simplefin-daily-sync/finance-backup-weekly/launchd-health-check/media-arr-key-roll-drill-weekly and mixed env naming conventions.
    severity: medium
    status: fixed
    notes: "launchd loop normalization completed"
    parent_loop: "LOOP-LAUNCHD-FULL-NORMALIZATION-20260301-20260301"
    fixed_in: launchd-normalization-20260301
  - id: "GAP-OP-1205"
    title: "GAP-OP-1205 open gap"
    discovered_by: "launchd-ecosystem-audit-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "ops/runtime/launchd/com.ronny.launchd-health-check.plist"
    description: |
      launchd-health-check coverage is partial; only subset of active labels monitored, leaving unattended scheduler regressions invisible.
    severity: medium
    status: fixed
    notes: "launchd loop normalization completed"
    parent_loop: "LOOP-LAUNCHD-FULL-NORMALIZATION-20260301-20260301"
    fixed_in: launchd-normalization-20260301
  - id: "GAP-OP-1206"
    title: "GAP-OP-1206 open gap"
    discovered_by: "launchd-ecosystem-audit-20260301"
    discovered_at: "2026-03-01"
    type: stale-ssot
    classification: stale-ssot
    doc: "workbench/dotfiles/macbook/launchd/LAUNCHD_RETIREMENT_2026-02-06.md"
    description: |
      LAUNCHD_RETIREMENT_2026-02-06.md states nearly all com.ronny labels are retired; current runtime has broad active launchd fleet. Doc causes operator/agent confusion.
    severity: low
    status: fixed
    notes: "launchd loop normalization completed"
    parent_loop: "LOOP-LAUNCHD-FULL-NORMALIZATION-20260301-20260301"
    fixed_in: launchd-normalization-20260301
  - id: "GAP-OP-1207"
    title: "GAP-OP-1207 open gap"
    discovered_by: "launchd-ecosystem-audit-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: "~/Library/LaunchAgents/com.ronny.communications-alerts-dispatcher.plist"
    description: |
      com.ronny.communications-alerts-dispatcher live plist is malformed (embedded literal \n sequences in XML), breaking plist parse and template synchronization tooling.
    severity: medium
    status: fixed
    notes: "launchd loop normalization completed"
    parent_loop: "LOOP-LAUNCHD-FULL-NORMALIZATION-20260301-20260301"
    fixed_in: launchd-normalization-20260301
  - id: "GAP-OP-1208"
    title: "GAP-OP-1208 open gap"
    discovered_by: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      Media recovery actions missing from recovery.actions.yaml for media gate failures
      (D108/D107/D229/D230/D231/D232/D257), leaving deterministic failures unrecoverable.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:15:36Z"
    parent_loop: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    fixed_in: media-self-healing-architecture-20260301
    regression_lock_id: D300
  - id: "GAP-OP-1209"
    title: "GAP-OP-1209 open gap"
    discovered_by: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      Uptime Kuma media monitors absent from synced runtime inventory despite media service
      endpoints declared in services.health.yaml.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:15:36Z"
    parent_loop: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    fixed_in: media-self-healing-architecture-20260301
    regression_lock_id: D302
  - id: "GAP-OP-1210"
    title: "GAP-OP-1210 open gap"
    discovered_by: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      Watchtower post-update health blind spot on media VMs: containers auto-update without
      post-update health verification and escalation signal.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:15:36Z"
    parent_loop: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    fixed_in: media-self-healing-architecture-20260301
    regression_lock_id: D304
  - id: "GAP-OP-1211"
    title: "GAP-OP-1211 open gap"
    discovered_by: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      No governed media.backup.restore capability exists; restore currently requires ad-hoc
      manual SSH intervention.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:15:36Z"
    parent_loop: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    fixed_in: media-self-healing-architecture-20260301
    regression_lock_id: D67
  - id: "GAP-OP-1212"
    title: "GAP-OP-1212 open gap"
    discovered_by: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      No media compose parity gate to detect staged compose drift vs deployed compose on
      download-stack and streaming-stack.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:15:36Z"
    parent_loop: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    fixed_in: media-self-healing-architecture-20260301
    regression_lock_id: D303
  - id: "GAP-OP-1213"
    title: "GAP-OP-1213 open gap"
    discovered_by: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      Homarr operator dashboard is not codified from media inventory; no canonical generated
      dashboard content pattern exists.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:15:36Z"
    parent_loop: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    fixed_in: media-self-healing-architecture-20260301
    regression_lock_id: D110
  - id: "GAP-OP-1214"
    title: "GAP-OP-1214 open gap"
    discovered_by: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    discovered_at: "2026-03-01"
    type: unclear-doc
    classification: unclear-doc
    doc: null
    description: |
      Cross-stack secret routing for media services is ad-hoc; no canonical policy annotation
      and governance pattern documents dual-path Infisical injection.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:15:36Z"
    parent_loop: "LOOP-MEDIA-SELF-HEALING-ARCHITECTURE-20260301"
    fixed_in: media-self-healing-architecture-20260301
    regression_lock_id: D224
  - id: "GAP-OP-1215"
    title: "GAP-OP-1215 open gap"
    discovered_by: "agent"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "LOOP-ASSET-CONSOLIDATION-20260301-20260301"
    description: |
      Phase 1: Create one canonical internet.asset.registry.yaml authority with lifecycle, provenance, compatibility, and update_contract schema
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:55:57Z"
    parent_loop: "LOOP-ASSET-CONSOLIDATION-20260301-20260301"
    fixed_in: e833456
  - id: "GAP-OP-1216"
    title: "GAP-OP-1216 open gap"
    discovered_by: "agent"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "LOOP-ASSET-CONSOLIDATION-20260301-20260301"
    description: |
      Phase 2: Build projection output, build/diff/intake/compatibility capabilities, register in capability maps
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:56:10Z"
    parent_loop: "LOOP-ASSET-CONSOLIDATION-20260301-20260301"
    fixed_in: 9d6bb20
  - id: "GAP-OP-1217"
    title: "GAP-OP-1217 open gap"
    discovered_by: "agent"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "LOOP-ASSET-CONSOLIDATION-20260301-20260301"
    description: |
      Phase 3: Wire authority concern map, add verify gate, register gate, wire daily refresh
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:56:22Z"
    parent_loop: "LOOP-ASSET-CONSOLIDATION-20260301-20260301"
    fixed_in: e99e0d9
  - id: "GAP-OP-1218"
    title: "GAP-OP-1218 open gap"
    discovered_by: "agent"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "LOOP-ASSET-CONSOLIDATION-20260301-20260301"
    description: |
      Phase 4: Verify all packs, close phase gaps, close loop, clean repo state
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T05:56:34Z"
    parent_loop: "LOOP-ASSET-CONSOLIDATION-20260301-20260301"
    fixed_in: 8960f42
  - id: "GAP-OP-1219"
    title: "GAP-OP-1219 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/proposals/bin/proposals-apply:648"
    description: |
      proposals.apply and D306 do not validate gap IDs referenced in proposal manifests. Stale/nonexistent GAP-OP-XXXX references pass silently. Evidence: proposals-apply:648-665 has loop linkage check but no gap ID cross-reference against operational.gaps.yaml.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T06:45:37Z"
    parent_loop: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    fixed_in: proposals-apply:gap-id-validity-admission+D306-gap-id-check
  - id: "GAP-OP-1220"
    title: "GAP-OP-1220 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/lifecycle/templates/loop-scope.template.md"
    description: |
      Loop scope template and loops.create scaffold do not include guard commands, test commands, or handoff checkpoints. Agents must rediscover guard paths each session. Handoff system exists (session.handoff.*) but is disconnected from loop lifecycle.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T06:45:56Z"
    parent_loop: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    fixed_in: loop-scope.template.md:guard-commands-section
  - id: "GAP-OP-1221"
    title: "GAP-OP-1221 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: ".gitignore:2"
    description: |
      mailroom/outbox is broadly ignored by .gitignore (line 2: mailroom/*) but proposal manifests and receipts are de facto tracked. Agents must use git add -f for proposal artifacts. Evidence: .gitignore:2 blocks all, no explicit !mailroom/outbox/proposals/ exception.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T06:46:14Z"
    parent_loop: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    fixed_in: .gitignore:proposal-artifact-exceptions
  - id: "GAP-OP-1222"
    title: "GAP-OP-1222 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/bindings/proposals.lifecycle.yaml"
    description: |
      implementation_commits.label field in proposal manifests is not part of proposals.lifecycle.yaml schema and not validated by proposals.apply. Labels can drift from actual commit messages. Evidence: proposals-submit creates template without implementation_commits field; proposals.lifecycle.yaml has no schema entry for it.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T06:46:28Z"
    parent_loop: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    fixed_in: D306:implementation-commit-label-fidelity-check
  - id: "GAP-OP-1223"
    title: "GAP-OP-1223 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/session/bin/session-start:176"
    description: |
      session.start does not auto-load or prompt about active handoffs. Handoff system (session.handoff.*) exists with 6 capabilities but is disconnected from session lifecycle. Agents lose working context on session compaction/resume. Evidence: session-start:176-186 only shows receipts.summary hint, no handoff retrieval.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T06:46:43Z"
    parent_loop: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    fixed_in: session-start:active-handoff-hint
  - id: "GAP-OP-1224"
    title: "GAP-OP-1224 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: "mint-modules/shipping/src/types.ts:8,39"
    description: |
      ValidateAddressRequest.country is optional (types.ts:39) but RecipientAddress.country is required (types.ts:8). 4 inline workarounds with || US fallback scattered across shipping routes (lines 87, 98, 239, 571). Risk: new code paths may forget the fallback.
    severity: low
    status: fixed
    notes: "shipping ValidateAddressRequest.country normalized to required in mint-modules commit 7812c42; boundary mismatch removed"
    parent_loop: "LOOP-AGENT-FRICTION-HARDENING-20260301-20260301"
    deferred_to_repo: mint-modules
    deferred_reason: Type boundary fix is implemented in mint-modules shipping module lifecycle.
    deferred_ref: mint-modules:shipping/types-country-boundary
    fixed_in: mint-modules:7812c42 shipping types country boundary
  - id: "GAP-OP-1225"
    title: "GAP-OP-1225 open gap"
    discovered_by: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    discovered_at: "2026-03-01"
    type: duplicate-truth
    classification: duplicate-truth
    doc: "mailroom/state/backup-canonicalization/latest.json"
    description: |
      Backup authority is ambiguous across repos.
      Evidence: ops/bindings/cross-repo.authority.yaml marks backup_inventory as authoritative in spine but sync_policy says both spine and workbench are maintained.
      Required: canonicalize single backup authority path and mark secondary surfaces as projection/tombstone.
    severity: high
    status: fixed
    notes: "cross-repo backup authority normalized to spine-authoritative with workbench projection"
    parent_loop: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    fixed_in: backup-canonicalization-systemic-20260301
    regression_lock_id: LOCK-BACKUP-AUTHORITY-20260301
  - id: "GAP-OP-1226"
    title: "GAP-OP-1226 open gap"
    discovered_by: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/state/backup-canonicalization/latest.json"
    description: |
      Backup domain catalog is missing active backup capabilities.
      Evidence: backup.monitor and backup.vzdump.mail.policy.set exist in ops/capabilities.yaml but are absent from ops/bindings/capability.domain.catalog.yaml backup domain.
      Required: align capability.domain.catalog backup domain with authoritative capability registry.
    severity: medium
    status: fixed
    notes: "backup capability catalog reconciled with active capability registry"
    parent_loop: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    fixed_in: backup-canonicalization-systemic-20260301
  - id: "GAP-OP-1227"
    title: "GAP-OP-1227 open gap"
    discovered_by: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/state/backup-canonicalization/latest.json"
    description: |
      Backup scheduling coverage is not systemic.
      Evidence: ops/bindings/backup.schedule.yaml only covers communications-stack; launchd scheduler has only finance-backup-weekly and n8n-snapshot-daily backup-related jobs.
      Required: normalize backup schedule classes across managed runtime units and ensure EST-normalized scheduler coverage.
    severity: high
    status: fixed
    notes: "systemic EST schedule classes + launchd jobs added for config backup and monitor coverage"
    parent_loop: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    fixed_in: backup-canonicalization-systemic-20260301
    regression_lock_id: LOCK-BACKUP-SCHEDULE-20260301
  - id: "GAP-OP-1228"
    title: "GAP-OP-1228 open gap"
    discovered_by: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/state/backup-canonicalization/latest.json"
    description: |
      Restore drill coverage is insufficient for systemic backup readiness.
      Evidence: backup.schedule has one restore-drill job (mail-archiver only); no class-based restore drill coverage across backup classes.
      Required: define restore drill classes and enforce at least one safe drill per class.
    severity: high
    status: fixed
    notes: "restore classes defined and safe tier1/media drills executed with deterministic evidence"
    parent_loop: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    fixed_in: backup-canonicalization-systemic-20260301
    regression_lock_id: LOCK-BACKUP-RESTORE-DRILLS-20260301
  - id: "GAP-OP-1229"
    title: "GAP-OP-1229 open gap"
    discovered_by: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/state/backup-canonicalization/latest.json"
    description: |
      Media config backup/restore scripts target stale paths and miss live config-state mounts.
      Evidence: media-backup scripts target /opt/stacks and /opt/backups/media-config; staged media compose mounts use /mnt/docker/volumes with /opt/appdata DB lane.
      Required: align media backup/restore targets to live config-state paths and exclude payload paths.
    severity: critical
    status: fixed
    notes: "media backup scripts aligned to /mnt/docker/volumes + /opt/appdata, payload lane excluded"
    parent_loop: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    fixed_in: backup-canonicalization-systemic-20260301
    regression_lock_id: LOCK-MEDIA-CONFIG-PATHS-20260301
  - id: "GAP-OP-1230"
    title: "GAP-OP-1230 open gap"
    discovered_by: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/state/backup-canonicalization/latest.json"
    description: |
      Backup inventory lacks explicit media config-state artifacts.
      Evidence: backup.inventory has only vm-209/vm-210 VM-level entries for media; no app/file_glob entries for /mnt/docker/volumes media config roots or /opt/appdata service DB artifacts.
      Required: register media config-state artifacts into backup inventory freshness flow.
    severity: high
    status: fixed
    notes: "media config artifacts registered in backup.inventory freshness model"
    parent_loop: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    fixed_in: backup-canonicalization-systemic-20260301
    regression_lock_id: D19
  - id: "GAP-OP-1231"
    title: "GAP-OP-1231 open gap"
    discovered_by: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/state/backup-canonicalization/latest.json"
    description: |
      D139 gate uses non-existent backup inventory fields and grep fallback heuristics.
      Evidence: d139-nas-baseline-coverage.sh checks .path/.id/.storage_host while backup.inventory targets use .name/.host/.base_path.
      Required: patch D139 to validate real schema fields and deterministic NAS/offsite coverage invariants.
    severity: high
    status: fixed
    notes: "D139 patched to authoritative backup inventory schema and deterministic invariants"
    parent_loop: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    fixed_in: backup-canonicalization-systemic-20260301
    regression_lock_id: D139
  - id: "GAP-OP-1232"
    title: "GAP-OP-1232 open gap"
    discovered_by: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/state/backup-canonicalization/latest.json"
    description: |
      VM onboarding backup enforcement does not require classed backup profile/schedule/restore metadata.
      Evidence: D69 enforces vmid->vzdump target presence only.
      Required: extend lifecycle/onboarding enforcement so activation requires backup profile + target lane + schedule class + restore class.
    severity: medium
    status: fixed
    notes: "D69 extended to enforce vm runtime unit backup profile/lane/schedule/restore metadata"
    parent_loop: "LOOP-BACKUP-CANONICALIZATION-SYSTEMIC-20260301"
    fixed_in: backup-canonicalization-systemic-20260301
  - id: "GAP-OP-1233"
    title: "GAP-OP-1233 open gap"
    discovered_by: "T3 lifecycle hardening session"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: null
    description: |
      Gate registration requires editing two files (gate.registry.yaml + gate.execution.topology.yaml) causing D127 drift when only one is updated
    severity: medium
    status: fixed
    notes: "gate.registry.add now supports atomic topology assignment with --topology-domain and --no-topology override"
    parent_loop: "LOOP-T3-FRICTION-POLISH-20260301-20260301"
    fixed_in: gate-registry-add:atomic-registry-topology
  - id: "GAP-OP-1234"
    title: "GAP-OP-1234 open gap"
    discovered_by: "T3 lifecycle hardening session"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: null
    description: |
      Schema conventions checker warns about required keys (gate_id, domain_id) in contract files where they are schema-required
    severity: low
    status: fixed
    notes: "schema conventions audit now suppresses discouraged-key warnings for explicit per-file exceptions"
    parent_loop: "LOOP-T3-FRICTION-POLISH-20260301-20260301"
    fixed_in: schema-conventions-audit:allowlist-aware-discouraged-keys
  - id: "GAP-OP-1235"
    title: "GAP-OP-1235 open gap"
    discovered_by: "T3 lifecycle hardening session"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: null
    description: |
      proposals.reconcile --normalize-status leaves no auditable receipt artifact for what was normalized
    severity: low
    status: fixed
    notes: "normalize-status now writes an auditable default receipt to mailroom/state/proposals-reconcile/last-normalize-status.yaml"
    parent_loop: "LOOP-T3-FRICTION-POLISH-20260301-20260301"
    fixed_in: proposals-reconcile:default-normalize-status-receipt
  - id: "GAP-OP-1236"
    title: "GAP-OP-1236 open gap"
    discovered_by: "T3 lifecycle hardening session"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: null
    description: |
      Gate mutation trailer workflow requires manual discovery of capability and run-key to cite
    severity: low
    status: fixed
    notes: "gate-mutation-trailers supports --auto capability inference from staged gate files"
    parent_loop: "LOOP-T3-FRICTION-POLISH-20260301-20260301"
    fixed_in: gate-mutation-trailers:auto-mode
  - id: "GAP-OP-1237"
    title: "GAP-OP-1237 open gap"
    discovered_by: "T3 lifecycle hardening session"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: null
    description: |
      proposals.status shows Other count without breakdown of which statuses are included
    severity: low
    status: fixed
    notes: "proposals.status now prints per-status breakdown for Other bucket"
    parent_loop: "LOOP-T3-FRICTION-POLISH-20260301-20260301"
    fixed_in: proposals-status:other-breakdown
  - id: "GAP-OP-1238"
    title: "GAP-OP-1238 open gap"
    discovered_by: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      SLIP-T5-003: com.ronny.agent-inbox launchd service state is 'not loaded'. Mailroom watcher daemon is not running.
    severity: medium
    status: fixed
    notes: "agent inbox watcher confirmed loaded and running (pid active)"
    parent_loop: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    fixed_in: launchd:com.ronny.agent-inbox-running
  - id: "GAP-OP-1239"
    title: "GAP-OP-1239 open gap"
    discovered_by: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      SLIP-T5-005: session.start reports 3 active handoffs but session.handoff.list --state active returns 0. Query parity issue.
    severity: medium
    status: fixed
    notes: "session.start now counts .handoffs length from session.handoff.list JSON output"
    parent_loop: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    fixed_in: session-start:handoff-count-parity
  - id: "GAP-OP-1240"
    title: "GAP-OP-1240 open gap"
    discovered_by: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      SLIP-T5-002: aof.status reports 0 open loops but loops.status reports 3 open. Query logic mismatch between aof-status.sh and loops-status.
    severity: medium
    status: fixed
    notes: "aof.status now derives open loop count from loops summary to keep parity"
    parent_loop: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    fixed_in: aof-status:loop-count-parity
  - id: "GAP-OP-1241"
    title: "GAP-OP-1241 open gap"
    discovered_by: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      SLIP-T5-001: Gap GAP-OP-1224 remains open but parent loop LOOP-AGENT-FRICTION-HARDENING-20260301-20260301 is closed. Orphan detection reports but does not auto-remediate or block loop closure.
    severity: high
    status: fixed
    notes: "orphan check now ignores open gaps explicitly deferred to external repo"
    parent_loop: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    # ─────────────────────────────────────────────────────────────
    #
    # stale-ssot      - Doc has outdated information
    # missing-entry   - Expected entry doesn't exist
    # agent-behavior  - Agent pattern that caused friction (not a doc issue)
    # unclear-doc     - Doc exists but is ambiguous or incomplete
    # duplicate-truth - Multiple docs claim authority for same thing
    # runtime-bug     - Runtime implementation behavior violates governance intent

    fixed_in: lifecycle-health:deferred-cross-repo-gap-skip
    regression_lock_id: LOCK-LIFECYCLE-DEFERRED-REPO-ORPHAN-CHECK
  - id: GAP-OP-1245
    discovered_by: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    discovered_at: "2026-03-01"
    type: stale-ssot
    doc: "mint-modules/*/src/middleware/metrics.ts"
    description: |
      Metrics middleware label/bucket divergence in mint-modules:
      - Convention A (artwork, finance-adapter, digital-proofs, order-intake): labelNames=['method', 'path', 'status'], buckets=[0.01, 0.05, 0.1, 0.5, 1, 5]
      - Convention B (auth, customers, notifications): labelNames=['method', 'route', 'status_code'], buckets=[0.005, 0.01, 0.025, 0.05, 0.1, 0.25, 0.5, 1, 2, 5]

      This divergence affects Prometheus queries and Grafana dashboards. Requires coordinated normalization effort.
    severity: medium
    status: fixed
    notes: "metrics middleware labels/buckets normalized to method/path/status and canonical buckets in mint-modules commit 7812c42"
    parent_loop: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    regression_lock_id: LOCK-MINT-MODULES-METRICS-DIVERGENCE
    fixed_in: mint-modules:7812c42 metrics middleware normalized
  - id: "GAP-OP-1242"
    title: "GAP-OP-1242 open gap"
    discovered_by: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      TODO-location-id hardcoded in production: reconcile_default_location_id() returns literal TODO-location-id for non-media domains (line 649), used on line 724 when no explicit location_id provided. Valid location IDs exist in business.inventory.catalog.yaml (shop-supplies-bin-b1).
    severity: high
    status: fixed
    notes: "TODO placeholder default location removed; reconciler uses valid governed location id"
    parent_loop: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    fixed_in: platform-inventory-intake:valid-default-location
    regression_lock_id: LOCK-PLATFORM-INVENTORY-DEFAULT-LOCATION
  - id: "GAP-OP-1243"
    title: "GAP-OP-1243 open gap"
    discovered_by: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    discovered_at: "2026-03-01"
    type: runtime-bug
    classification: runtime-bug
    doc: null
    description: |
      Orphan detection false positive: lifecycle.health reports GAP-OP-1224 as orphaned but the loop closure note explicitly states it stays open for mint-modules scope. The orphan check doesn't understand deferred-to-external-repo as valid state.
    severity: medium
    status: fixed
    notes: "false orphan detection resolved via deferred_to_repo-aware orphan logic"
    parent_loop: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    fixed_in: lifecycle-health:deferred-cross-repo-gap-skip
  - id: "GAP-OP-1244"
    title: "GAP-OP-1244 open gap"
    discovered_by: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      Gaps.yaml schema lacks cross-repo deferral field: No machine-readable way to mark a gap as deferred-to-external-repo. GAP-OP-1224 documented in notes as mint-modules scope but not queryable. Causes false positive orphan detection.
    severity: medium
    status: fixed
    notes: "cross-repo deferral modeled on GAP-OP-1224 via deferred_to_repo/deferred_reason/deferred_ref fields"
    parent_loop: "LOOP-BIG-PICTURE-SLIP-RECOVERY-20260301"
    fixed_in: operational-gaps:deferred-to-repo-field
  - id: "GAP-OP-1246"
    title: "GAP-OP-1246 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/verify/bin/verify-run"
    description: |
      verify.run summary does not emit explicit failing gate IDs in primary output, forcing receipt/history forensics for triage.
      Required: emit failing gate IDs directly in summary output and JSON payload.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T07:58:54Z"
    parent_loop: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    fixed_in: loop-agent-friction-autopilot-20260301
  - id: "GAP-OP-1247"
    title: "GAP-OP-1247 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/loops/bin/gaps-close"
    description: |
      gaps.close lacks --batch single-commit mode, causing commit noise and repetitive closure loops for multi-gap waves.
      Required: add governed --batch input with one atomic mutation commit.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T07:58:54Z"
    parent_loop: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    fixed_in: loop-agent-friction-autopilot-20260301
  - id: "GAP-OP-1248"
    title: "GAP-OP-1248 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/verify/bin/verify-topology"
    description: |
      verify.route.recommend does not classify observed failing IDs as baseline pre-existing vs wave-local introduced.
      Required: include attribution block using friction baseline fail set.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T07:58:54Z"
    parent_loop: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    fixed_in: loop-agent-friction-autopilot-20260301
  - id: "GAP-OP-1249"
    title: "GAP-OP-1249 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/ops/bin"
    description: |
      No first-class path-scoped stage/commit capability exists for dirty-tree safety; agents manually enforce allowlists.
      Required: governed helper that stages explicit allowlist and hard-fails on unrelated staged paths.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T07:58:54Z"
    parent_loop: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    fixed_in: loop-agent-friction-autopilot-20260301
    regression_lock_id: D307
  - id: "GAP-OP-1250"
    title: "GAP-OP-1250 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-baseline.yaml"
    description: |
      Friction baseline artifact had no explicit stable contract or checksum enforcement surface.
      Required: stable schema + checksum validation and consistent creation path.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T07:58:54Z"
    parent_loop: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    fixed_in: loop-agent-friction-autopilot-20260301
  - id: "GAP-OP-1251"
    title: "GAP-OP-1251 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "ops/plugins/verify/bin/gate-mutation-trailers"
    description: |
      D128 trailer flow still requires manual selection friction when topology files are staged.
      Required: improve helper UX with deterministic auto-infer guidance path.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T07:58:54Z"
    parent_loop: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    fixed_in: loop-agent-friction-autopilot-20260301
  - id: "GAP-OP-1252"
    title: "GAP-OP-1252 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "bin/ops"
    description: |
      Capability approval ergonomics in agent mode are inconsistent between cap wrappers and direct script fallback paths.
      Required: improve approval guidance ergonomics for manual-only capabilities.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-03-01T07:58:54Z"
    parent_loop: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    fixed_in: loop-agent-friction-autopilot-20260301
  - id: "GAP-OP-1253"
    title: "GAP-OP-1253 open gap"
    discovered_by: "LOOP-MEDIA-HISTORY-CANONICALIZATION-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      Home WAN speed undocumented in media.topology.history.yaml — blocked on GAP-OP-865 resolution (network.speed.test capability needed)
    severity: low
    status: fixed
    notes: "Media history authority now captures Synology backup-only role and explicit no-bulk-over-WAN policy"
    parent_loop: "LOOP-MEDIA-HISTORY-CANONICALIZATION-20260301"
    fixed_in: media.topology.history.yaml policy canonicalized
  - id: "GAP-OP-1254"
    title: "GAP-OP-1254 open gap"
    discovered_by: "LOOP-MEDIA-HISTORY-CANONICALIZATION-20260301"
    discovered_at: "2026-03-01"
    type: missing-entry
    classification: missing-entry
    doc: null
    description: |
      Synology NAS purpose contract undocumented — role is backup-only per evidence but no canonical contract exists defining ingest/media boundaries
    severity: low
    status: fixed
    notes: "Media history authority now captures Synology backup-only role and explicit no-bulk-over-WAN policy"
    parent_loop: "LOOP-MEDIA-HISTORY-CANONICALIZATION-20260301"
    fixed_in: media.topology.history.yaml policy canonicalized
  - id: "GAP-OP-1255"
    title: "GAP-OP-1255 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    discovered_at: "2026-03-01"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260301T081623Z-0001
      capability: verify.run
      expected: show failing ids
      actual: missing list in summary
      severity: medium
      fingerprint: 22983758747021cc9a13abcd097d2d07e208bb3f1cc5464caa90f69e091572e7
      first_seen_utc: 2026-03-01T08:16:23Z
      hit_count: 1
    severity: medium
    status: fixed
    notes: "verify.run now emits failing_gate_ids in summary; friction item reconciled"
    parent_loop: "LOOP-AGENT-FRICTION-AUTOPILOT-20260301"
    fixed_in: 963e6e8
  - id: "GAP-OP-1256"
    title: "GAP-OP-1256 open gap"
    discovered_by: "tailscale-systemic-audit"
    discovered_at: "2026-03-02"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/state/tailscale-audit/tailscale-path-classification-20260301.yaml"
    description: |
      ssh.targets.yaml uses Tailscale IPs (100.x.x.x) as host for all 12 shop VMs that are LAN-reachable (192.168.1.x). services.health.yaml has 39/39 health URLs on Tailscale IPs. Only 1/12 shop VMs (communications-stack) has a LAN fallback SSH target. Tailscale SSH lifecycle contract allows openssh_batch_lan but runtime never uses it. Evidence: ssh.targets.yaml:21-141, vm.lifecycle.yaml (lan_ip fields), services.health.yaml:27-435. Root cause: ssh.targets was seeded from tailscale.conf and never updated to prefer LAN.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-02T00:54:56Z"
    parent_loop: "LOOP-TAILSCALE-SYSTEMIC-AUDIT-CANONICAL-20260301"
    fixed_in: 181599e,cd62cd8,9b661b4
  - id: "GAP-OP-1257"
    title: "GAP-OP-1257 open gap"
    discovered_by: "tailscale-systemic-audit"
    discovered_at: "2026-03-02"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/state/tailscale-audit/tailscale-underutilization-findings-20260301.yaml"
    description: |
      25 verify gates source tailscale-guard.sh and silently SKIP when Tailscale is offline. These gates validate SSH/HTTP targets that are on the same LAN (192.168.1.x). If ssh.targets resolved to LAN IPs, these gates would not need to skip, increasing the always-verifiable surface from ~280 to ~305 gates. Evidence: surfaces/verify/lib/tailscale-guard.sh, 25 gate scripts. Depends on GAP-OP-1256 (ssh.targets LAN migration).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-02T00:55:25Z"
    parent_loop: "LOOP-TAILSCALE-SYSTEMIC-AUDIT-CANONICAL-20260301"
    fixed_in: 9b661b4
  - id: "GAP-OP-1258"
    title: "GAP-OP-1258 open gap"
    discovered_by: "tailscale-systemic-audit"
    discovered_at: "2026-03-02"
    type: stale-ssot
    classification: stale-ssot
    doc: "mailroom/state/tailscale-audit/tailscale-evidence-ledger-20260301.yaml"
    description: |
      docker-tunnel LaunchAgent plist hardcodes Tailscale IP (docker-host@100.92.156.118) for SSH tunnel. docker-host LAN IP is 192.168.1.200. Tunnel previously broke (GAP-OP-928) from Tailscale timeouts. Hardening applied (ConnectTimeout, ExitOnForwardFailure, ThrottleInterval) but still Tailscale-only. LAN IP would be more reliable for same-network use. Evidence: ops/runtime/launchd/com.ronny.docker-tunnel.plist:26.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-03-02T00:55:43Z"
    parent_loop: "LOOP-TAILSCALE-SYSTEMIC-AUDIT-CANONICAL-20260301"
    fixed_in: 7a3f853
  - id: "GAP-OP-1259"
    title: "GAP-OP-1259 open gap"
    discovered_by: "LOOP-TAILSCALE-OPERATOR-ACTIONS-CLOSURE-20260302"
    discovered_at: "2026-03-02"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/state/tailscale-audit/operator-actions-20260302.yaml"
    description: |
      Tailscale webhook receiver not deployed. API available (POST /api/v2/tailnet/{tailnet}/webhooks) but no receiver endpoint exists (n8n or dedicated on automation-stack). Blocks OP-TS-001.
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-03-02T03:25:19Z"
    parent_loop: "LOOP-TAILSCALE-INTEGRATION-DEFERRED-ACTIONS-20260302"
  - id: "GAP-OP-1260"
    title: "GAP-OP-1260 open gap"
    discovered_by: "LOOP-TAILSCALE-OPERATOR-ACTIONS-CLOSURE-20260302"
    discovered_at: "2026-03-02"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/state/tailscale-audit/operator-actions-20260302.yaml"
    description: |
      Tailscale audit log streaming not configured. No API exists (404 on /logging and /log-stream). Requires admin console configuration and a log destination (Grafana Loki or S3). Blocks OP-TS-002.
    severity: low
    status: open
    notes: "Filed via gaps.file at 2026-03-02T03:25:31Z"
    parent_loop: "LOOP-TAILSCALE-INTEGRATION-DEFERRED-ACTIONS-20260302"
  - id: "GAP-OP-1261"
    title: "GAP-OP-1261 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T033503Z-0001
      capability: tailscale.acl.validate
      expected: Report FAIL when API validation endpoint returns test failures
      actual: except Exception catch-all in validate script masks API errors; reports OK when tests fail. Apply script has correct validation but validate capability gives false positives.
      severity: high
      fingerprint: 3f6975fd7e24cc2d11170300d6171801054364860c9b1b6ab08f031da756cc2f
      first_seen_utc: 2026-03-02T03:35:03Z
      hit_count: 1
    severity: high
    status: fixed
    notes: "Fixed tailscale.acl.validate parser hardening: non-JSON/error responses now fail explicitly."
    parent_loop: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    fixed_in: 0b43337
    regression_lock_id: D312
  - id: "GAP-OP-1262"
    title: "GAP-OP-1262 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T033503Z-0002
      capability: loops.auto.close
      expected: Agent that completed a loop can close it
      actual: Researcher role blocks mutating capabilities including loops.auto.close. Must manually edit scope file or override role policy.
      severity: medium
      fingerprint: 334fb906f84cff53ca34da2d4a3d19b20c759da3073f1b518d468aefa148d4bd
      first_seen_utc: 2026-03-02T03:35:03Z
      hit_count: 1
    severity: medium
    status: fixed
    notes: "Runtime role allowlist now permits loops.auto.close for researcher role without manual override."
    parent_loop: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    fixed_in: 0b43337
  - id: "GAP-OP-1263"
    title: "GAP-OP-1263 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T033503Z-0003
      capability: loops.create
      expected: Loop ID uses single date suffix
      actual: loops.create produces doubled date suffix (LOOP-NAME-20260302-20260302) in loop_id frontmatter
      severity: low
      fingerprint: 57c9f4e8c85881146b219f5e61bae8d5be1d25324080500f60fd6f87bd4b7c6d
      first_seen_utc: 2026-03-02T03:35:03Z
      hit_count: 1
    severity: low
    status: fixed
    notes: "Closure wave 2026-03-02: loops.create now normalizes trailing date tokens; validated single date suffix output."
    parent_loop: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    fixed_in: e9a2f10
  - id: "GAP-OP-1264"
    title: "GAP-OP-1264 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T033503Z-0004
      capability: mailroom.state.tracking
      expected: mailroom/state/tailscale-audit/ artifacts tracked in git
      actual: Path is gitignored, requires git add -f. Inconsistent with other mailroom/state/ paths that are tracked.
      severity: medium
      fingerprint: 319855af1e144e7557b48f811e26eb0b6a9f81264436dc30e41b7f48194a2312
      first_seen_utc: 2026-03-02T03:35:03Z
      hit_count: 1
    severity: medium
    status: fixed
    notes: "Closure wave 2026-03-02: tailscale-audit YAML allowlist aligned in .gitignore and mailroom runtime contract; staging no longer needs git add -f."
    parent_loop: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    fixed_in: e9a2f10
  - id: "GAP-OP-1265"
    title: "GAP-OP-1265 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T033503Z-0005
      capability: tailscale.acl.apply
      expected: ACL test behavior documented in authority contract
      actual: autogroup:admin does not resolve in grants-model test evaluation; tags must exist on devices before tests pass. No documentation exists. Took 3 failed iterations to discover.
      severity: medium
      fingerprint: 4cec8032b393ddacdd286b971f2ac82ccb019984b05882c86a91b9e9d1f9d64a
      first_seen_utc: 2026-03-02T03:35:03Z
      hit_count: 1
    severity: medium
    status: fixed
    notes: "Closure wave 2026-03-02: canonical ACL test semantics documented with autogroup/tag-rollout prerequisites; apply validate-fail hint added."
    parent_loop: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    fixed_in: e9a2f10
  - id: "GAP-OP-1266"
    title: "GAP-OP-1266 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T040333Z-0001
      capability: infisical-agent.sh
      expected: set command works with SPINE_ROOT from any shell context
      actual: SPINE_ROOT unresolved in subshell — required absolute path ~/code/agentic-spine/ops/tools/
      severity: medium
      fingerprint: e074d436483ee50103e18ec56c8e0bbf8c9e1d0880af384aede058f0271a21dc
      first_seen_utc: 2026-03-02T04:03:33Z
      hit_count: 1
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-03-02T04:25:06Z"
    parent_loop: "LOOP-AGENT-FRICTION-BACKLOG-20260302"
  - id: "GAP-OP-1267"
    title: "GAP-OP-1267 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T040339Z-0001
      capability: infisical-agent.sh
      expected: set command accepts path as positional (set KEY VALUE /path)
      actual: set requires project env key value positional order — docs in --help only, no inline usage hint on error
      severity: low
      fingerprint: 046efb1b91e67ef8cda53e399ee0df98970d161d1518bb3fb0f3fbe8297552fb
      first_seen_utc: 2026-03-02T04:03:39Z
      hit_count: 1
    severity: low
    status: open
    notes: "Filed via gaps.file at 2026-03-02T04:25:06Z"
    parent_loop: "LOOP-AGENT-FRICTION-BACKLOG-20260302"
  - id: "GAP-OP-1268"
    title: "GAP-OP-1268 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T040347Z-0001
      capability: ssh communications-stack
      expected: SSH to communications-stack resolves via ssh.targets.yaml with LAN-first fallback
      actual: LAN IP timed out (remote network), Tailscale SSH blocked by check mode policy, required ProxyJump through PVE — three attempts before success
      severity: medium
      fingerprint: d3664148920390f6659d31dfd38ec1a6add30234782b212b77bba4a487bb709d
      first_seen_utc: 2026-03-02T04:03:47Z
      hit_count: 1
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-03-02T04:25:06Z"
    parent_loop: "LOOP-AGENT-FRICTION-BACKLOG-20260302"
  - id: "GAP-OP-1269"
    title: "GAP-OP-1269 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T040355Z-0001
      capability: mail-archiver DB access
      expected: DB user and schema discoverable from contract or ssh.targets
      actual: DB user is mailuser (not mail_archiver or postgres), schema is mail_archiver (not public), DB name is MailArchiver (case-sensitive) — had to inspect container env and guess 4 times
      severity: medium
      fingerprint: 18772747a9405a409a670ea334b73a6d91b12c49033542d3765d39dc067f6d66
      first_seen_utc: 2026-03-02T04:03:55Z
      hit_count: 1
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-03-02T04:25:06Z"
    parent_loop: "LOOP-AGENT-FRICTION-BACKLOG-20260302"
  - id: "GAP-OP-1270"
    title: "GAP-OP-1270 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T040406Z-0001
      capability: mail-archiver provider config
      expected: Linkage contract or docs should list valid ProviderType enum values
      actual: Had to reverse-engineer valid values — tried MICROSOFT (crashed app with enum parse error breaking ALL sync), found M365 only via GitHub web search of source repo
      severity: high
      fingerprint: e56afd4a6c5567232fda3914a3c203d7b5b17426b8508c46b3b5f78afc510d48
      first_seen_utc: 2026-03-02T04:04:06Z
      hit_count: 1
    severity: high
    status: open
    notes: "Filed via gaps.file at 2026-03-02T04:25:06Z"
    parent_loop: "LOOP-AGENT-FRICTION-BACKLOG-20260302"
  - id: "GAP-OP-1271"
    title: "GAP-OP-1271 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T040415Z-0001
      capability: mail-archiver EF migration lock
      expected: Container restart should cleanly acquire migration lock
      actual: First restart hung on migration lock indefinitely — required stop app, restart DB, then start app to clear stale lock state
      severity: low
      fingerprint: 7dbb0f037d80ba956d6eea18ab256216cdf279cf33eea0742f6bd0417aa94b7e
      first_seen_utc: 2026-03-02T04:04:15Z
      hit_count: 1
    severity: low
    status: open
    notes: "Filed via gaps.file at 2026-03-02T04:25:06Z"
    parent_loop: "LOOP-AGENT-FRICTION-BACKLOG-20260302"
  - id: "GAP-OP-1272"
    title: "GAP-OP-1272 open gap"
    discovered_by: "LOOP-MAIL-ARCHIVER-LIVE-SYNC-ACTIVATION-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T043149Z-0001
      capability: loops.auto.close
      expected: Agent that completed a loop can close it
      actual: Researcher role blocks mutating capabilities including loops.auto.close. Must manually edit scope file or override role policy.
      severity: medium
      fingerprint: 1c1f8a693a67aa81e4da4b2a6576f708eaac03abc9ff558c7fcb08540a9f184e
      first_seen_utc: 2026-03-02T04:31:49Z
      hit_count: 1
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-03-02T04:33:56Z"
    parent_loop: "LOOP-MAIL-ARCHIVER-LIVE-SYNC-ACTIVATION-20260302"
    fixed_in: 0b43337 (duplicate of GAP-OP-1262; runtime role allowlist permits loops.auto.close for researcher role)
  - id: "GAP-OP-1273"
    title: "GAP-CF-AUTH-001 token/auth recovery for Cloudflare read path"
    discovered_by: "LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302"
    discovered_at: "2026-03-02"
    type: runtime-bug
    classification: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302.scope.md"
    description: |
      GAP-CF-AUTH-001: Rotate/fix CLOUDFLARE_API_TOKEN and recover Cloudflare read path.
      Required proof receipts: cloudflare.zone.list, cloudflare.tunnel.ingress.status,
      and cloudflare.domain_routing.diff all PASS under governed capability execution.
    severity: high
    status: fixed
    notes: "Cloudflare read-path recovered; cloudflare.zone.list + cloudflare.tunnel.ingress.status + cloudflare.domain_routing.diff PASS."
    parent_loop: "LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302"
    fixed_in: LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302-W1-W5
    regression_lock_id: D315
  - id: "GAP-OP-1274"
    title: "GAP-CF-DNS-001 add cloudflare.dns.record.delete capability"
    discovered_by: "LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302"
    discovered_at: "2026-03-02"
    type: missing-entry
    classification: missing-entry
    doc: "ops/plugins/cloudflare/bin"
    description: |
      GAP-CF-DNS-001: Add cloudflare.dns.record.delete capability wrapper for full DNS lifecycle control.
      Implement governed delete flow (resolve record id, delete, verify), capability registration,
      and non-secret receipt output.
    severity: high
    status: fixed
    notes: "Added cloudflare.dns.record.delete capability, plugin script, and capability registrations."
    parent_loop: "LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302"
    fixed_in: LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302-W3
    regression_lock_id: CF-CAP-DNS-DELETE-20260302
  - id: "GAP-OP-1275"
    title: "GAP-CF-DNS-002 DNS set UX hardening for --zone alias"
    discovered_by: "LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302"
    discovered_at: "2026-03-02"
    type: missing-entry
    classification: missing-entry
    doc: "ops/plugins/cloudflare/bin/cloudflare-dns-record-set"
    description: |
      GAP-CF-DNS-002: Harden cloudflare.dns.record.set UX to accept --zone name alias and
      resolve to zone_id canonically (while keeping --zone-id authoritative path).
      Include deterministic validation and parity-safe receipts.
    severity: medium
    status: fixed
    notes: "cloudflare.dns.record.set now resolves --zone alias to zone_id via binding/live lookup helper."
    parent_loop: "LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302"
    fixed_in: LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302-W3
    regression_lock_id: CF-DNS-ZONE-ALIAS-20260302
  - id: "GAP-OP-1276"
    title: "GAP-CF-REG-001 add cloudflare.registrar.transfer capability"
    discovered_by: "LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302"
    discovered_at: "2026-03-02"
    type: missing-entry
    classification: missing-entry
    doc: "ops/plugins/cloudflare/bin"
    description: |
      GAP-CF-REG-001: Add cloudflare.registrar.transfer capability for governed domain transfer execution.
      Must support preview/execute safety and receipts without exposing secret values.
    severity: high
    status: fixed
    notes: "Added cloudflare.registrar.transfer capability + dry-run receipts and registration wiring."
    parent_loop: "LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302"
    fixed_in: f4dcf78
    regression_lock_id: CF-CAP-REG-TRANSFER-20260302
  - id: "GAP-OP-1277"
    title: "GAP-CF-REG-002 add cloudflare.registrar.renew capability"
    discovered_by: "LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302"
    discovered_at: "2026-03-02"
    type: missing-entry
    classification: missing-entry
    doc: "ops/plugins/cloudflare/bin"
    description: |
      GAP-CF-REG-002: Add cloudflare.registrar.renew capability for governed renewal execution.
      Include guardrails and post-action verification receipts.
    severity: medium
    status: fixed
    notes: "Added cloudflare.registrar.renew capability + dry-run receipts and registration wiring."
    parent_loop: "LOOP-CLOUDFLARE-CANONICAL-CONTROL-PLANE-20260302"
    fixed_in: f4dcf78
    regression_lock_id: CF-CAP-REG-RENEW-20260302
  - id: "GAP-OP-1278"
    title: "GAP-CF-ADV-001 add Workers wrappers under governance"
    discovered_by: "LOOP-CLOUDFLARE-ADVANCED-PLATFORM-EXPANSION-20260302"
    discovered_at: "2026-03-02"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-CLOUDFLARE-ADVANCED-PLATFORM-EXPANSION-20260302.scope.md"
    description: |
      GAP-CF-ADV-001: Add Cloudflare Workers capability wrappers (deploy, route mapping,
      and safe config operations) under governed surfaces.
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-03-02T04:49:51Z"
    parent_loop: "LOOP-CLOUDFLARE-ADVANCED-PLATFORM-EXPANSION-20260302"
  - id: "GAP-OP-1279"
    title: "GAP-CF-ADV-002 add R2 wrappers under governance"
    discovered_by: "LOOP-CLOUDFLARE-ADVANCED-PLATFORM-EXPANSION-20260302"
    discovered_at: "2026-03-02"
    type: missing-entry
    classification: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-CLOUDFLARE-ADVANCED-PLATFORM-EXPANSION-20260302.scope.md"
    description: |
      GAP-CF-ADV-002: Add Cloudflare R2 capability wrappers (bucket and object operations)
      with governed dry-run/execute semantics and receipts.
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-03-02T04:49:51Z"
    parent_loop: "LOOP-CLOUDFLARE-ADVANCED-PLATFORM-EXPANSION-20260302"
  - id: "GAP-OP-1280"
    title: "GAP-CF-ADV-003 Pages/Access/WAF wrappers plus MCP activation"
    discovered_by: "LOOP-CLOUDFLARE-ADVANCED-PLATFORM-EXPANSION-20260302"
    discovered_at: "2026-03-02"
    type: missing-entry
    classification: missing-entry
    doc: "ops/bindings/MCP_INVENTORY.yaml"
    description: |
      GAP-CF-ADV-003: Add Pages/Access/WAF wrapper capabilities and Cloudflare MCP activation path
      with governance checks, contracts, and rollout guardrails.
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-03-02T04:49:51Z"
    parent_loop: "LOOP-CLOUDFLARE-ADVANCED-PLATFORM-EXPANSION-20260302"
  - id: "GAP-OP-1281"
    title: "GAP-OP-1281 open gap"
    discovered_by: "LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302"
    discovered_at: "2026-03-02"
    type: agent-behavior
    classification: agent-behavior
    doc: "mailroom/state/friction-queue.ndjson"
    description: |
      Agent friction intake item:
      friction_id: FR-20260302T044704Z-0001
      capability: secrets.set.interactive
      expected: Capability 'secrets.set.interactive' should complete successfully (exit 0).
      actual: cap.run failed (exit=4); runtime_role_policy_block:researcher
      severity: medium
      fingerprint: 7d8ae27ae2b3a7b7ec3cbee193c2c5c775382bc7670c04cef0bca36e1ac53ff7
      first_seen_utc: 2026-03-02T04:47:04Z
      hit_count: 1
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-03-02T05:25:06Z. Reparented from closed LOOP-AGENT-FRICTION-QUEUE-OPERATIONS-20260302."
    parent_loop: "LOOP-AGENT-FRICTION-BACKLOG-20260302"
  - id: "GAP-OP-1282"
    title: "Capability argument protocol not normalized — inconsistent -- separator behavior"
    discovered_by: "LOOP-FRICTION-QUEUE-STATUS-ACCURACY-20260302"
    discovered_at: "2026-03-02"
    type: runtime-bug
    classification: runtime-bug
    doc: "ops/capabilities.yaml"
    description: |
      AOF runtime-bug: capability argument protocol is not normalized, causing inconsistent -- separator behavior across surfaces.

      Observed failure mode:
      - Python argparse-backed capabilities fail when invoked with `-- --flag` (example: friction.queue.status, friction.reconcile), while many bash/case scripts tolerate it.
      - cap.sh forwards args verbatim with no protocol awareness.
      - D63 validates metadata shape but does not enforce runtime argument contract semantics.
      - Governance docs currently contain mixed invocation styles, which reintroduces drift.

      Impact:
      - False-negative execution attempts, avoidable friction items, and operator confusion.
      - Same capability family can behave differently based only on implementation language.
      - Canonical invocation contract is ambiguous.

      Acceptance Criteria:
      1. Introduce an explicit capability argument protocol contract field (e.g., arg_protocol or arg_style) with a closed enum and documented semantics.
      2. Enforce protocol presence/validity in D63 for new or updated capabilities and fail on invalid/unknown protocol values.
      3. Update cap.sh forwarding to handle separator semantics deterministically per declared protocol.
      4. Provide regression proof matrix for representative capabilities (argparse + bash/case) showing expected behavior with and without separator.
      5. Normalize governance command examples to one canonical invocation style and remove contradictory patterns.
      6. Verify no regressions:
         - verify.run -- fast PASS
         - targeted capability checks PASS (including friction.queue.status and friction.reconcile invocation paths).
    severity: high
    status: open
    notes: "Filed via gaps.file at 2026-03-02T06:05:02Z. Description upgraded with acceptance criteria."
    parent_loop: "LOOP-AGENT-FRICTION-BACKLOG-20260302"
