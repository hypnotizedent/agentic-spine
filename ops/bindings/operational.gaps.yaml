# Operational Gaps - Runtime SSOT Discoveries
#
# These are NOT extraction gaps (see docs/core/AGENTIC_GAP_MAP.md)
# These are issues agents discover DURING work that are out of scope to fix immediately
#
# Review periodically, create cleanup loops for open gaps
#
# Status: authoritative
# Last verified: 2026-02-07

version: 1
updated: "2026-02-21T06:17:45Z"
gaps:
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-INFRA-VM-RESTRUCTURE-20260206
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-001
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: stale-ssot
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Still lists cloudflared, pihole, infisical (secrets) under docker-host
      after Phase 1 migration to infra-core. Services are now on VM 204.
    severity: low
    status: fixed
    fixed_in: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    notes: "Moved cloudflared/pihole/secrets to infra-core target, added vaultwarden"
  - id: GAP-OP-002
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      No infisical entry existed before migration. Agent had to discover
      the stack by inspecting Docker containers on docker-host.
    severity: medium
    status: fixed
    fixed_in: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    notes: "Entry added during migration work"
  - id: GAP-OP-003
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: agent-behavior
    doc: null
    description: |
      Agent guessed path ~/stacks/infisical/ instead of consulting
      docker.compose.targets.yaml binding first. SSOT had the correct
      path (~/stacks/secrets). This is a pattern issue, not a data issue.
    severity: low
    status: fixed
    fixed_in: "gap-sweep-20260208"
    notes: "Documented 'consult bindings first' in SESSION_PROTOCOL.md (Trace truth) and docs/brain/rules.md (Entry Points table)"
  - id: GAP-OP-004
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: duplicate-truth
    doc: "ops/bindings/infra.placement.policy.yaml"
    description: |
      Canonical infra-core/observability services were intended for shop Proxmox
      (pve) but relocation commands relied on manifest values without a
      canonical site/hypervisor placement lock. This allowed wrong-instance
      execution risk when target metadata drifted.
    severity: high
    status: fixed
    fixed_in: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    notes: "Added infra placement policy SSOT + D37 lock + command-time enforcement in relocation/provision scripts"
  - id: GAP-OP-005
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      Hypervisor SSH target IDs are distinct (`pve`, `proxmox-home`) but runtime
      host identity is ambiguous: `proxmox-home` currently reports hostname `pve`.
      This creates decision-risk during relocation/provisioning because agents and
      operators can confuse shop/home hypervisors.
    severity: high
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Guardrail added: infra.hypervisor.identity capability + mutating infra
      preconditions now fail on hostname/machine-id ambiguity. Host-level fix
      applied: proxmox-home canonical hostname updated from `pve` to
      `proxmox-home` via capability `infra.hypervisor.hostname.set`
      (receipt: RCAP-20260207-113039__infra.hypervisor.hostname.set__Rxrbe80548).
  - id: GAP-OP-006
    discovered_by: "LOOP-GOV-SPINE-SEAL-20260207"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "ops/plugins/infra/bin/infra-relocation-preflight"
    description: |
      Preflight host scan silently skipped service source hosts because it used
      an invalid yq expression (`.services[].from_host // empty`) and suppressed
      parser errors. The command also reported missing SSH targets/unreachable
      hosts as informational output instead of a failing gate, allowing
      decision flow to continue without required host evidence.
    severity: high
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Fixed by correcting host extraction, deriving required hosts from active
      VM/service states, and enforcing hard failure on required host/SSOT
      mismatches.
  - id: GAP-OP-007
    discovered_by: "LOOP-GOV-SPINE-SEAL-20260207"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "ops/plugins/infra/bin/infra-relocation-service-transition"
    description: |
      Service and relocation state transitions allowed out-of-order decision
      updates (cutover/migrated) with warning-only behavior. This permitted
      metadata progression even when relocation state had not reached cutover.
    severity: medium
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Transition scripts now hard-fail when relocation state and service/vm
      status are misaligned, and cutover state transition includes an execute-time
      vm readiness gate.
  - id: GAP-OP-008
    discovered_by: "LOOP-GOV-SPINE-SEAL-20260207"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Top-level `spine.verify` can pass while `infra.hypervisor.identity` fails.
      During active relocation this produces a green global health signal even
      when hypervisor identity ambiguity remains unresolved.
    severity: high
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Added D39 gate (`surfaces/verify/d39-infra-hypervisor-identity-lock.sh`)
      and wired it into `drift-gate.sh`. During active relocation states,
      `spine.verify` now fails if hypervisor identity invariants are violated.
  # ─────────────────────────────────────────────────────────────
  # Discovered during soak-window parallel execution 2026-02-07
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-009
    discovered_by: "soak-window-parallel-execution-20260207"
    discovered_at: "2026-02-07"
    type: stale-ssot
    doc: "surfaces/verify/contracts-gate.sh"
    description: |
      contracts-gate.sh (T5) referenced contracts at docs/ (e.g. docs/RECEIPTS_CONTRACT.md)
      but canonical files live at docs/core/ (e.g. docs/core/RECEIPTS_CONTRACT.md).
      Path mismatch caused ops verify to fail at foundation gate. The files exist;
      the gate paths were stale.
    severity: high
    status: fixed
    fixed_in: "soak-window-parallel-execution-20260207"
    notes: "Fixed contracts-gate.sh paths: docs/ → docs/core/ for all three contracts"
  - id: GAP-OP-010
    discovered_by: "soak-window-parallel-execution-20260207"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      media-stack host has docker.compose.targets.yaml binding (ssh_target: media-stack)
      but no corresponding entry in ssh.targets.yaml. Prevents governed SSH access
      for media stack RCA work.
    severity: medium
    status: fixed
    fixed_in: "soak-window-parallel-execution-20260207"
    notes: "Added media-stack target (100.117.1.53, root, shop/pve) to ssh.targets.yaml"
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-HOST-CANONICALIZATION-20260207
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-011
    discovered_by: "LOOP-HOST-CANONICALIZATION-20260207"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Hidden-root coverage missing from active drift gates. host.drift.audit
      passes while unmanaged hidden roots and a secret-bearing legacy file
      (~/.config/ronny-ops/env.sh) exist at home root. No gate enforces
      hidden-root inventory or forbidden pattern scanning.
    severity: high
    status: fixed
    fixed_in: "LOOP-HOST-CANONICALIZATION-20260207"
    notes: "D41 hidden-root governance lock + D42 code path case lock + env.sh deleted + backups quarantined"
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-INFRA-CADDY-AUTH-20260207 pre-work
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-012
    discovered_by: "LOOP-INFRA-CADDY-AUTH-20260207"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "Infisical project: infrastructure (prod)"
    description: |
      Required Authentik bootstrap secrets are not present in Infisical
      infrastructure/prod: AUTHENTIK_SECRET_KEY and AUTHENTIK_DB_PASSWORD.
      This blocks safe execute of staged caddy-auth stack deployment.
    severity: high
    status: fixed
    fixed_in: "LOOP-INFRA-CADDY-AUTH-20260207"
    notes: "Created in infrastructure/prod at /spine/vm-infra/caddy-auth (no root-path duplicates)."
  - id: GAP-OP-013
    discovered_by: "LOOP-INFRA-CADDY-AUTH-20260207"
    discovered_at: "2026-02-07"
    type: duplicate-truth
    doc: "Infisical project: infrastructure (prod)"
    description: |
      Infrastructure project still stores legacy keys at root path `/` (flat
      namespace). This risks future collisions with new VM-infra secrets unless
      all new infra keys are constrained under `/spine/*` namespaces.
    severity: medium
    status: fixed
    fixed_in: "secrets-namespace-migration-20260207"
    notes: |
      Enforcement added: secrets.namespace.status + secrets.namespace.policy freeze.
      Migration map staged at ops/staged/SECRETS_NAMESPACE_MIGRATION_MAP.md.
      P1 complete for /spine/platform/security (9 root duplicates removed) and
      P2 complete for /spine/network/edge (10 root duplicates removed) and
      P3 complete for /spine/storage/nas (6 root duplicates removed) and
      P4 complete for /spine/integrations/commerce-mail (9 root duplicates removed) and
      P5 complete for /spine/services/* (11 root duplicates removed) and
      P6 complete for /spine/ai/providers (4 root duplicates removed).
      Root key count reduced from baseline 49 -> 0 (49 removed).
      Evidence: ops/staged/SECRETS_NAMESPACE_P1_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P2_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P3_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P4_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P5_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P6_EXECUTION_20260207.md,
      RCAP-20260207-171547__secrets.p2.root_cleanup.execute__Rchmg11028,
      RCAP-20260207-180752__secrets.namespace.status__R4k6j64294.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-GOV-CLI-TOOL-DISCOVERY-20260207
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-014
    discovered_by: "LOOP-GOV-CLI-TOOL-DISCOVERY-20260207"
    discovered_at: "2026-02-07"
    type: agent-behavior
    doc: null
    description: |
      Agent could not discover qrencode despite it being registered in
      maker.tools.inventory.yaml. The tool is domain-scoped (maker plugin)
      with no cross-domain discovery path. Session protocol, brain context,
      and rules all lack tool discovery guidance. Agent searched workbench
      repo, MCP catalogs, and file contents but never found the binding.
    severity: medium
    status: fixed
    fixed_in: "LOOP-GOV-CLI-TOOL-DISCOVERY-20260207"
    notes: |
      Fixed by: cli.tools.inventory.yaml (cross-domain catalog),
      generate-context.sh (tool injection into agent context),
      D44 drift gate (discovery chain validation),
      SESSION_PROTOCOL.md + rules.md updates (agent guidance).
  # ─────────────────────────────────────────────────────────────
  # Discovered during OL_HOME_BASELINE_FINISH audit 2026-02-07
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-015
    discovered_by: "OL_HOME_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "docs/governance/MINILAB_SSOT.md"
    description: |
      PVE node-name mismatch on proxmox-home: hostname changed from `pve` to
      `proxmox-home` (GAP-OP-005 fix) but PVE node was not migrated. All VM/LXC
      configs live under /etc/pve/nodes/pve/ while PVE tools look under
      /etc/pve/nodes/proxmox-home/. Breaks qm list, pct list, pct exec, vzdump
      jobs. VMs running pre-rename continue but are unmanageable. VM 101 (immich)
      is stopped and cannot be restarted.
    severity: critical
    status: fixed
    fixed_in: "gap-sweep-20260208"
    notes: "Fixed: hostname reverted to pve (matching PVE node name). qm list, pct list, vzdump all functional. Tailscale hostname remains proxmox-home (independent). Exception recorded in naming.policy.yaml."
  - id: GAP-OP-017
    discovered_by: "LOOP-GOV-CLAUDE-ENTRYPOINT-LOCK-20260208"
    discovered_at: "2026-02-08"
    type: duplicate-truth
    doc: "~/.claude/CLAUDE.md"
    description: |
      Claude home config (CLAUDE.md, commands/ctx.md, settings.json, settings.local.json)
      contains standalone governance sections (Authority Order, Immutable Invariants, etc.)
      and uppercase ~/Code/ path references. No Claude-equivalent of D32 (Codex instruction
      source lock) exists. Runtime scripts reference .brain/ paths but no .brain/ directory
      exists — actual files live at docs/brain/. SESSION_PROTOCOL.md also references .brain/.
    severity: medium
    status: fixed
    fixed_in: "LOOP-GOV-CLAUDE-ENTRYPOINT-LOCK-20260208"
    notes: |
      Fixed by: CLAUDE.md rewritten to redirect shim, path case canonicalized across
      all governed Claude files, .brain/ references replaced with docs/brain/ in runtime
      scripts and SESSION_PROTOCOL.md, D46 + D47 drift gates added, agent.entrypoint.lock.yaml
      binding created, host-claude-entrypoint-lock plugin with status/enforce/execute modes.
  # ─────────────────────────────────────────────────────────────
  # Discovered during PVE baseline SSH audit 2026-02-07
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-018
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "/etc/pve/jobs.cfg"
    description: |
      VM 204 (infra-core) is not included in the vzdump backup job on pve.
      The job covers VMs 200-203 but was created before VM 204 existed.
      infra-core runs cloudflared, pihole, infisical, vaultwarden, caddy,
      and authentik — all critical services with no hypervisor-level backup.
    severity: high
    status: fixed
    fixed_in: "LOOP-INFRA-SSOT-ALIGNMENT-20260208"
    notes: |
      Fixed: added vmid 204 to vzdump job in /etc/pve/jobs.cfg via SSH.
      Job now covers 200,201,202,203,204. Add VM 205 when provisioned.
  - id: GAP-OP-019
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "pve crontab"
    description: |
      No ZFS scrub scheduled for the media pool on pve. Only the tank pool
      has a weekly scrub (`0 3 * * 0 zpool scrub tank`). The media pool's
      last scrub was CANCELED on 2026-01-11. Media pool is RAIDZ1 with 4x
      Seagate ST8000AS0002 (SMR archive drives) — higher risk profile than
      tank (RAIDZ2 enterprise SAS).
    severity: medium
    status: fixed
    fixed_in: "LOOP-INFRA-SSOT-ALIGNMENT-20260208"
    notes: |
      Fixed: added `0 4 * * 0 zpool scrub media` to pve crontab via SSH.
      Runs Sundays at 4am, offset from tank scrub (3am).
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-MEDIA-STACK-RCA-20260205 / ARCH-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-021
    discovered_by: "LOOP-MEDIA-STACK-RCA-20260205"
    discovered_at: "2026-02-07"
    type: agent-behavior
    doc: "ops/staged/MEDIA_RCA_DECISION_NOTE.md"
    description: |
      RCA decision note stated /opt/appdata/*.db files were "stale copies, not
      actively used." In reality these were active symlink targets created Dec 23,
      serving all 5 main databases. An agent following the decision note would have
      assumed the entire database layer was on NFS and may have attempted redundant
      or harmful migrations. The inaccuracy persisted for 2 days before correction.
    severity: medium
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      Root cause: initial RCA SSH session saw files at /opt/appdata/ and assumed
      copies without checking symlink state (ls -la vs ls -l). Fixed: decision note
      corrected. Lesson: always use `ls -la` or `file` command to distinguish
      symlinks from regular files during NFS topology discovery.
  - id: GAP-OP-022
    discovered_by: "LOOP-MEDIA-STACK-ARCH-20260208"
    discovered_at: "2026-02-08"
    type: agent-behavior
    doc: null
    description: |
      Phase A symlink migration broke trailarr and posterizarr because their
      compose services lacked the /opt/appdata:/opt/appdata bind mount that
      radarr/sonarr/lidarr/prowlarr/jellyfin already had (Dec 23 setup).
      The playbook did not include a pre-check for container mount visibility.
      Failure mode: sqlite3.OperationalError with no mention of symlinks,
      making diagnosis non-obvious.
    severity: medium
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      Fixed: added /opt/appdata:/opt/appdata volume to trailarr and posterizarr
      in docker-compose.yml on media-stack, containers recreated via compose up -d.
      Lesson codified in docs/brain/lessons/MEDIA_STACK_LESSONS.md.
      Future mitigation: any symlink migration playbook MUST include a
      pre-flight step: `docker inspect <service> --format '{{range .Mounts}}...'`
      to verify the symlink target path is visible inside the container.
  - id: GAP-OP-023
    discovered_by: "LOOP-MEDIA-STACK-ARCH-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/staged/MEDIA_STACK_ARCH_PHASE_A_PLAYBOOK_20260207.md"
    description: |
      Phase A playbook listed 5 target services but missed sonarr logs.db (2.2MB,
      constant writes) which was also on NFS. The playbook was written from the
      ARCH scope doc which only listed "databases STILL on NFS" but omitted logs.db
      files for services whose main .db was already symlinked. Discovery chain:
      scope doc partial → playbook incomplete → extra target found during execution.
    severity: low
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      sonarr logs.db migrated during Phase A execution. Lesson: when scoping
      NFS-to-local migrations, enumerate ALL .db files per service (not just the
      main database). Use: find /mnt/docker/volumes/<service> -name '*.db' -type f
  - id: GAP-OP-024
    discovered_by: "LOOP-MEDIA-STACK-ARCH-20260208"
    discovered_at: "2026-02-08"
    type: agent-behavior
    doc: "ops/staged/MEDIA_STACK_ARCH_PHASE_A_PLAYBOOK_20260207.md"
    description: |
      Phase A playbook listed introskipper.db path as
      /mnt/docker/volumes/jellyfin/config/data/introskipper.db but actual path was
      /mnt/docker/volumes/jellyfin/config/data/introskipper/introskipper.db (extra
      directory level). Path was assumed from scope doc without SSH verification.
      Similarly, trailarr had a logs/logs.db not mentioned in the playbook.
    severity: low
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      Correct paths discovered via `find` during execution. Lesson: playbooks for
      remote file operations MUST include a preflight `find` or `ls -la` step to
      confirm actual paths before mutation. Never trust doc-assumed paths for
      file-level operations.
  # ─────────────────────────────────────────────────────────────
  # Discovered during pre-vm-creation reliability hardening 2026-02-08
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-025
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      media-stack SSH target had the wrong user (root vs actual), causing
      ssh.target.status to fail with auth denied and misleading downstream
      tooling that relies on governed SSH.
    severity: medium
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: media-stack entry updated to user=media. ssh.target.status confirms
      OK (192ms). Docker compose status resolves correctly via binding.
  - id: GAP-OP-026
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/plugins/docker/bin/docker-compose-status"
    description: |
      docker.compose.status assumed `ssh <id>` works via ~/.ssh/config aliases
      and did not resolve ssh_target via ops/bindings/ssh.targets.yaml. This
      produced false UNREACHABLE signals even when the governed SSH binding was
      correct (infra-core, observability).
    severity: high
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: docker-compose-status now resolves host/user/port from ssh.targets.yaml
      (lines 170-178), uses binding defaults for StrictHostKeyChecking=no and
      UserKnownHostsFile=/dev/null. SSH error classification added. Verified working
      for infra-core (13 stacks), observability (5 stacks), dev-tools (1 stack).
  - id: GAP-OP-027
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/plugins/backup/bin/backup-status"
    description: |
      backup.status validated host IDs exist in ssh.targets.yaml but then used
      `ssh \"$HOST\"` (alias) and StrictHostKeyChecking=accept-new (known_hosts
      writes), violating HOME drift constraints and breaking when aliases are not
      present.
    severity: high
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: backup-status now resolves host/user/port from ssh.targets.yaml
      (lines 107-118), uses binding defaults for StrictHostKeyChecking and
      UserKnownHostsFile=/dev/null. SSH error classification added. Verified
      working for pve and nas targets.
  - id: GAP-OP-028
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/bindings/secrets.binding.yaml + ops/plugins/secrets/bin/*"
    description: |
      Secrets capabilities failed when Infisical API URL was behind forward-auth
      (HTTP 302/HTML), causing jq parse errors and broken automation. A binding-
      supported internal API endpoint is required, and scripts must prefer it and
      fail with actionable errors on redirects/non-JSON responses.
    severity: high
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: secrets.binding.yaml has internal_api_url (http://100.92.91.128:8088,
      direct Infisical bypassing Authentik). All secrets plugins prefer
      internal_api_url over api_url via yq fallthrough (.internal_api_url // .api_url).
      Verified in secrets-namespace-status, secrets-exec, secrets-projects-status,
      secrets-binding.
  - id: GAP-OP-016
    discovered_by: "OL_HOME_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: null
    description: |
      No naming governance policy exists. Hostname, PVE node name, Tailscale
      hostname, ssh.targets.yaml ID, and DEVICE_IDENTITY_SSOT entries are all
      managed independently with no canonical mapping or rename procedure.
      This caused GAP-OP-015 (hostname changed without PVE node migration)
      and has caused repeated confusion (media-stack site attribution, hypervisor
      identity ambiguity).
    severity: high
    status: fixed
    fixed_in: "LOOP-NAMING-GOVERNANCE-20260207"
    notes: |
      Fixed by: naming.policy.yaml (canonical names + surface authority + rename
      procedure + allowed exceptions) + D45 naming consistency lock gate
      (cross-file verification wired into drift-gate.sh). Also fixed vault kind
      misclassification (lxc→vm) in placement policy and DEVICE_IDENTITY_SSOT.
  # ─────────────────────────────────────────────────────────────
  # Discovered during gap sweep 2026-02-08
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-020
    discovered_by: "gap-sweep-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/commands/loops.sh"
    description: |
      ops loops list --open crashes with jq error at open_loops.jsonl:121.
      Close records use "id" key but the parser expects "loop_id", producing
      "Cannot index object with null". Additionally, open_loops.jsonl has
      54 open entries with massive duplication and 3 close records that never
      filter out closed loops. The loops subsystem is the spine's work-tracking
      surface and currently fails on every invocation.
    severity: high
    status: fixed
    fixed_in: "gap-sweep-20260208"
    notes: |
      Fixed: loops.sh jq filter now normalizes close records, deduplicates by loop_id,
      and applies close status. open_loops.jsonl compacted from 121 to 61 lines.
      6 completed loops closed. 9 open loops remain.
  # Discovered during CODE_AUDIT_20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-029
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets.namespace.status failed because the required Gitea secrets were
      missing from Infisical at /spine/vm-infra/gitea. This blocks governed
      automation and leaves the dev-tools deployment partially undocumented.
    severity: high
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Fixed by writing the required keys to Infisical under /spine/vm-infra/gitea:
      GITEA_ADMIN_PASSWORD, GITEA_API_TOKEN, GITEA_RUNNER_TOKEN,
      GITEA_OAUTH_CLIENT_ID, GITEA_OAUTH_CLIENT_SECRET. Verified via
      secrets.namespace.status (receipt RCAP-20260208-105831__secrets.namespace.status__Rwaub7817).
  - id: GAP-OP-030
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/plugins/cloudflare/bin/cloudflare-tunnel-ingress-status"
    description: |
      There was no spine-native way to export Cloudflare tunnel ingress rules.
      This forced manual dashboard checks and allowed docs-vs-dashboard drift.
    severity: medium
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Added cloudflare.tunnel.ingress.status (API export) and
      cloudflare.domain_routing.diff (diff vs DOMAIN_ROUTING_REGISTRY.yaml).
  - id: GAP-OP-031
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml"
    description: |
      DOMAIN_ROUTING_REGISTRY.yaml drifted from the Cloudflare tunnel ingress
      configuration, creating extra/missing hostname entries and agent confusion
      (docs indicated services/paths that did not exist).
    severity: medium
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Registry updated and verified against live ingress export:
      cloudflare.domain_routing.diff status OK (receipt RCAP-20260208-110109__cloudflare.domain_routing.diff__Rwa0y18221).
  - id: GAP-OP-032
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      docker.compose.targets.yaml referenced a docker-host storage stack path
      that does not exist, producing false negatives in docker.compose.status
      and confusing agents about the MinIO deployment source.
    severity: medium
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Removed the invalid compose target and aligned compose authority docs to the
      current SSOT model (VM-infra under ops/staged/**; live stack locations via
      docker.compose.targets.yaml).
  - id: GAP-OP-033
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/commands/cap.sh + surfaces/verify/drift-gate.sh"
    description: |
      ops capability execution was not worktree-safe: receipts and drift gates
      assumed the canonical repo CWD and scanned worktree-only paths, causing
      incorrect failures when operating from isolated worktrees.
    severity: high
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Introduced SPINE_CODE (current code root) distinct from SPINE_REPO
      (canonical receipts/runtime root). Updated capability CWDs to SPINE_CODE and
      hardened drift-gate scripts to ignore .worktrees and to compare canonical
      instruction sources.
  - id: GAP-OP-034
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "docs/governance/BACKUP_GOVERNANCE.md"
    description: |
      Backup governance defines a requirement for app-level dumps per stack, but
      there is no documented, tested app-level backup/restore procedure for
      Authentik or Gitea (even if VM-level vzdump exists).
    severity: medium
    status: fixed
    fixed_in: "2026-02-08_app_backup_runbooks"
    notes: |
      Follow-up: add stack READMEs or runbooks covering export, restore, and a
      periodic restore test for both Authentik and Gitea.
      Evidence:
      - docs/governance/AUTHENTIK_BACKUP_RESTORE.md
      - docs/governance/GITEA_BACKUP_RESTORE.md
  # ─────────────────────────────────────────────────────────────
  # Discovered during OL_SHOP_BASELINE_FINISH remote audit 2026-02-08
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-037
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "docs/governance/SHOP_SERVER_SSOT.md"
    description: |
      Dell MD1400 DAS shelf is physically cabled to R730XD (pve) via SAS cable
      (Dell 0GYK61) but zero drives are visible to the OS. Two root causes:
      (1) PM8072 SAS controller PCI vendor ID is 0x11f8 (Microchip, post-acquisition)
      but the Linux pm80xx driver only recognizes 0x117C (PMC-Sierra, pre-acquisition) —
      driver does not auto-bind. (2) Hot-loading the driver via new_id fails because
      the PM8072 firmware requires cold-boot initialization — MPI handshake times out
      with "FW is not ready" (chip_init failed, ret=-16/EBUSY).
      Result: entire MD1400 shelf storage is inaccessible. Unknown drive count and
      capacity sitting completely dark.
    severity: critical
    status: accepted
    fixed_in: null
    parent_loop: null
    notes: |
      Phase 1 (module config) complete; on-site full shutdown + cold boot with AC drain was performed 2026-02-09 and still failed
      (`FW is not ready`, `chip_init failed [ret: -16]`) with no new block devices appearing.
      Implication: treat PM8072 as hardware/firmware defective; proceed with controller replace/reflash path.
      2026-02-10 update: external SAS HBA ordered; this gap is now hardware-blocked pending install + validation (Phase 2b in loop scope).
      Upstream: PCI ID gap in Linux pm80xx driver (kernel 6.14.8-2-pve).
      2026-02-12 update: Accepted-standalone by operator to unblock MCP/RAG execution work.
      Hardware remediation is intentionally paused and can be resumed in a new dedicated loop.
  - id: GAP-OP-038
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "/etc/pve/jobs.cfg"
    description: |
      vzdump backup job on pve covers VMs 200-204 only. VMs 205 (observability),
      206 (dev-tools), 207 (ai-consolidation), 209 (download-stack), and
      210 (streaming-stack) are running with no hypervisor-level backup.
      5 VMs provisioned since the backup job was last updated.
    severity: high
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      P1 fix: vzdump vmid list updated to 204,205,206,201,202,203,200 (reordered
      so critical infra-core runs first, heaviest VM 200 last). VMs 207/209/210
      deferred to P2 (enable as each stabilizes). Orphaned 34GB partial backup
      from power-outage crash cleaned up.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CAMERA-BASELINE-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-039
    discovered_by: "LOOP-CAMERA-BASELINE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "docs/governance/CAMERA_SSOT.md"
    description: |
      NVR channels 2, 3, 4 report chanDetectResult=notExist via ISAPI. Cameras
      are powered off or disconnected from the Netgear PoE switch that feeds the
      NVR's internal 192.168.254.0/24 network. Requires physical visit to the
      upstairs 9U rack to inspect PoE switch ports and camera cabling.
    severity: medium
    status: fixed
    fixed_in: "LOOP-CAMERA-BASELINE-20260208"
    notes: |
      Subsumed by LOOP-CAMERA-BASELINE-20260208 Phase P2 + OL_SHOP_BASELINE_FINISH.
      Physical visit required — cameras are still offline but gap tracking is redundant
      with loop ownership. Fix will occur during on-site audit.
  - id: GAP-OP-040
    discovered_by: "LOOP-CAMERA-BASELINE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "docs/governance/CAMERA_SSOT.md"
    description: |
      NVR channel 5 has IP address 192.168.254.7 which conflicts with channel 4
      (same IP). ISAPI reports chanDetectResult=ipAddrConflict for ch5. This is
      a configuration error in the NVR channel assignment, not a physical issue.
    severity: low
    status: fixed
    fixed_in: "LOOP-CAMERA-BASELINE-20260208"
    notes: |
      Fixed: ch5 IP reassigned from 192.168.254.7 to 192.168.254.5 via ISAPI PUT
      (2026-02-08). NVR accepted change (statusCode=1/OK). Ch5 now shows
      netUnreachable (camera physically disconnected, not IP conflict).
      Previous name "SCREEN PRINT" auto-reset to "IPCamera 05" by NVR.
  - id: GAP-OP-041
    discovered_by: "LOOP-CAMERA-BASELINE-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "Infisical project: infrastructure (prod)"
    description: |
      Shop infrastructure credentials (NVR, iDRAC, Dell switch) were referenced
      in SHOP_SERVER_SSOT.md and CAMERA_SSOT.md at Infisical paths
      /spine/shop/nvr/*, /spine/shop/idrac/*, /spine/shop/switch/* but all three
      paths were empty. Agent could not diagnose camera IP conflict without
      asking the user for credentials interactively. SSOT docs implied secrets
      existed when they did not.
    severity: medium
    status: fixed
    fixed_in: "LOOP-SHOP-EDGE-CREDS-AND-INVENTORY-20260210"
    parent_loop: "LOOP-SHOP-EDGE-CREDS-AND-INVENTORY-20260210"
    notes: |
      Historical: fixed during LOOP-CAMERA-BASELINE-20260208 by seeding NVR/iDRAC/switch creds.
      Regression (2026-02-10): Infisical currently contains only /spine/shop/wifi; /spine/shop/{nvr,idrac,switch,unifi} folders are missing.
      Fixed (2026-02-11): /spine/shop/{nvr,idrac,switch,unifi,wifi} now present with expected key sets.
      Evidence:
      - RCAP-20260211-091704__secrets.namespace.status__Rtu2v36568 (path distribution + key checks)
      - docs/governance/CAMERA_SSOT.md credentials line updated to remove stale blocker text
      - docs/governance/SHOP_SERVER_SSOT.md updated with switch service tag (1TQR0Z1)
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-BACKUP-STABILIZATION-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-042
    discovered_by: "LOOP-BACKUP-STABILIZATION-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      No SSH key authentication existed from pve or infra-core to the NAS
      (Synology 918+ at house, Tailscale). Blocked all offsite backup sync.
      The backup binding had an enabled offsite target (vm-200-docker-host-offsite)
      and NAS directories existed, but no sync mechanism or SSH trust was ever
      established. backup.status reported no_matches — a false signal that
      appeared like a path problem when the real issue was no connectivity.
    severity: high
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      Fixed: pve RSA key and infra-core ed25519 key added to
      ronadmin@nas authorized_keys. Verified bidirectional SSH from both hosts.
      Offsite rsync script and app backup scripts both use this trust path.
  - id: GAP-OP-043
    discovered_by: "LOOP-BACKUP-STABILIZATION-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      Vaultwarden backup stopped when the service migrated from proxmox-home
      (LXC 102) to infra-core (VM 204) on 2026-02-05. No backup cron was
      re-established on the new host. Last NAS backup was 2026-02-05 02:45,
      creating a 3-day gap (Feb 5-8) where vaultwarden had zero backups.
      The migration playbook had no post-migration backup verification step.
      Additionally, the old host had no backup cron — the mechanism was unknown.
    severity: high
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      Fixed: /usr/local/bin/vaultwarden-backup.sh on infra-core creates daily
      tar.gz of vw-data dir, rsyncs to NAS. Cron at 02:45 daily. First backup
      verified (1.5MB, synced to NAS successfully). Lesson: service migration
      playbooks MUST include a backup continuity step — verify backup mechanism
      is re-established on the new host before closing the migration.
  - id: GAP-OP-044
    discovered_by: "LOOP-BACKUP-STABILIZATION-20260208"
    discovered_at: "2026-02-08"
    type: duplicate-truth
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      The backup binding had vm-200-docker-host-offsite enabled=true with a NAS
      path that existed but was always empty. backup.status reported this as
      no_matches, which appeared to be a path misconfiguration. In reality, no
      sync mechanism (rsync, scp, Hyper Backup pull) was ever wired between pve
      and NAS. The enabled=true flag + existing NAS directory created a false
      impression that offsite backup was configured but broken, when it had never
      been set up at all.
    severity: medium
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      Fixed: vm-200-docker-host-offsite disabled (186GB exceeds shop upload
      bandwidth). New vm-offsite-critical target covers VMs 204-210 via
      /usr/local/bin/vzdump-offsite-sync.sh on pve (cron 09:00, rsync with
      1500 KB/s bwlimit over Tailscale). Lesson: never enable a backup target
      in the binding without a corresponding sync mechanism. enabled=true must
      mean "this is actively running and verifiable."
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-MEDIA-AGENT-WORKBENCH-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-045
    discovered_by: "LOOP-MEDIA-AGENT-WORKBENCH-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/agents/ (expected directory) + generate-context.sh"
    description: |
      No agent discovery mechanism exists. ops/agents/ directory is absent.
      generate-context.sh injects CLI tools but not domain-specific agents.
      agents_verify.sh exists but is not wired into spine.verify. No routing
      rules map problem domains (media, infra, finance, etc.) to specialized
      agents. A fresh Claude Code session asking about a media issue has no
      path to discover the media agent in workbench/agents/media/.
    severity: high
    status: fixed
    fixed_in: "LOOP-AGENT-DISCOVERY-GOVERNANCE-20260208"
    notes: |
      Fixed: (1) ops/bindings/agents.registry.yaml created with routing rules,
      (2) generate-context.sh injects "Available Agents" section,
      (3) D49 agent discovery lock wired into drift-gate.sh,
      (4) agents_verify.sh rewritten for contract model,
      (5) AGENTS_GOVERNANCE.md updated. media-agent registered as first entry.
  - id: GAP-OP-046
    discovered_by: "LOOP-MEDIA-AGENT-WORKBENCH-20260208"
    discovered_at: "2026-02-08"
    type: duplicate-truth
    doc: "AGENTS_LOCATION.md, CORE_AGENTIC_SCOPE.md, WORKBENCH_CONTRACT.md, REPO_STRUCTURE_AUTHORITY.md"
    description: |
      Agent implementation path governance is contradictory across 4 docs.
      AGENTS_LOCATION.md says "agentic-spine/agents/" (directory doesn't exist).
      CORE_AGENTIC_SCOPE.md references agents/active/ and agents/contracts/
      (neither exists; actual contracts are in ops/agents/). Workbench .gitignore
      blocks agents/ as "Runtime (spine owns these)". REPO_STRUCTURE_AUTHORITY.md
      doesn't list agents/ as an allowed workbench root. WORKBENCH_CONTRACT.md
      is silent on agents. All docs predate D49 agent discovery architecture
      (2026-02-08). Result: P1 media-agent artifacts in workbench/agents/media/
      are untrackable by git.
    severity: high
    status: fixed
    fixed_in: "LOOP-MEDIA-AGENT-WORKBENCH-20260208"
    notes: |
      Fixed: (1) AGENTS_LOCATION.md updated to reflect ops/agents/ for contracts,
      workbench/agents/<domain>/ for implementations. (2) CORE_AGENTIC_SCOPE.md
      updated: agents/active/ → ops/agents/ (contracts), implementation in workbench.
      (3) Workbench .gitignore: added !agents/ exception. (4) REPO_STRUCTURE_AUTHORITY.md:
      added agents/ to allowed root entries. (5) WORKBENCH_CONTRACT.md: added agent
      placement rule.
  # ─────────────────────────────────────────────────────────────
  # Discovered during macbook alignment hardening 2026-02-09
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-047
    discovered_by: "macbook-alignment-20260209"
    discovered_at: "2026-02-09"
    type: unclear-doc
    doc: "docs/governance/CLAUDE_ENTRYPOINT_SHIM.md + host.claude.entrypoint.*"
    description: |
      Claude Code home state (~/.claude) contains a mix of governed entrypoint
      surfaces (CLAUDE.md, commands/ctx.md, settings.json, settings.local.json)
      and volatile user-local runtime state (history, cache, transcripts, etc.).
      Without a single "apply + verify" command, agents and operators can drift
      these entrypoint surfaces over time, causing inconsistent governance
      injection across sessions.
    severity: high
    status: fixed
    fixed_in: "macbook-alignment-20260209"
    notes: |
      Fixed by adding:
      - host.macbook.managed_configs.apply (enforces managed symlinks and runs
        host-claude-entrypoint-lock --execute)
      - host.macbook.drift.check (enforced read-only drift check)
      Receipts:
      - RCAP-20260208-202527__host.macbook.managed_configs.apply__R2d9081898
      - RCAP-20260208-202527__host.macbook.drift.check__R4yty81893
  - id: GAP-OP-048
    discovered_by: "macbook-alignment-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/plugins/host/"
    description: |
      No read-only macbook drift gate existed to enforce host invariants beyond
      the start routine. Drift could accumulate silently (managed symlinks,
      CLAUDE entrypoint shim) until an agent session failed.
    severity: medium
    status: fixed
    fixed_in: "macbook-alignment-20260209"
    notes: |
      Fixed: host.macbook.drift.check capability added (receipt:
      RCAP-20260208-202527__host.macbook.drift.check__R4yty81893).
  - id: GAP-OP-049
    discovered_by: "macbook-alignment-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "workbench/dotfiles/macbook/README.md"
    description: |
      Managed tool configs existed in home (~/.codex/config.toml,
      ~/.config/opencode/opencode.json) but were not governed as reproducible
      dotfiles, so new machines (or drifted machines) would revert to ad-hoc
      defaults and surprise other agents.
    severity: low
    status: fixed
    fixed_in: "macbook-alignment-20260209"
    notes: |
      Fixed by storing these configs in workbench dotfiles and enforcing
      symlinks via host.macbook.managed_configs.apply. Verified by:
      - workbench verifier scripts/root/verify_laptop_hotkeys.sh
      - host.macbook.drift.check capability
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-050
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/staged/dev-tools/"
    description: |
      No automated backup cron exists for Gitea app-level dumps (gitea dump +
      pg_dump). Only VM-level vzdump protects data. A Gitea-specific corruption
      or misconfiguration would require full VM restore instead of targeted
      app-level recovery. Vaultwarden and Infisical both have automated
      app-level backups; Gitea does not.
    severity: high
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: gitea-backup.sh deployed to /usr/local/bin on dev-tools (VM 206).
      Cron installed: 55 2 * * * (daily). SSH key for NAS access generated and
      authorized. Manual test verified: gitea dump (3.8M) + pg_dump (80K) ->
      NAS /volume1/backups/apps/gitea/. Retention: 7 daily.
  - id: GAP-OP-051
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      No app-gitea entry existed in backup.inventory.yaml. backup.status
      has no visibility into Gitea app-level backup freshness. Other app
      backups (app-infisical, app-vaultwarden) are tracked; Gitea is not.
    severity: high
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: app-gitea entry added to backup.inventory.yaml with
      stale_after_hours=26, classification=critical, NAS path
      /volume1/backups/apps/gitea. Will show STALE until P5 deploys cron.
  - id: GAP-OP-052
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: runtime-bug
    doc: "Gitea push mirror configuration"
    description: |
      Push mirror from Gitea to GitHub uses an OAuth token (gho_*) that
      has an expiration date. When it expires, mirror sync will silently
      fail. No monitoring or alerting exists for mirror sync failures.
      A classic PAT (non-expiring or long-lived) is more durable.
    severity: medium
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: GitHub classic PAT stored in Infisical at
      /spine/vm-infra/gitea/GITHUB_PUSH_MIRROR_TOKEN. Push mirrors for
      both agentic-spine and workbench deleted+recreated with durable PAT.
      Sync verified (last_error empty, fresh timestamps). Namespace policy
      updated with GITHUB_PUSH_MIRROR_TOKEN in required_key_paths.
  - id: GAP-OP-053
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: ".gitea/workflows/"
    description: |
      Gitea Actions runner is deployed on VM 206 but no CI workflow
      exists. Runner is idle. No push-triggered verification of spine
      drift gates. GitHub Actions still runs but will become secondary
      once Gitea is canonical origin.
    severity: medium
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: .gitea/workflows/verify.yml created. Triggers on push to
      main and pull_request. Runs surfaces/verify/drift-gate.sh on
      ubuntu-latest runner. D50 drift gate validates workflow exists.
  - id: GAP-OP-054
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: null
    description: |
      No documented browser test exists for the Authentik SSO flow
      protecting Gitea (git.ronny.works). The SSO integration was
      configured during LOOP-DEV-TOOLS-DEPLOY-20260208 but the login
      flow has not been manually verified end-to-end via browser.
    severity: low
    status: accepted
    fixed_in: null
    parent_loop: null
    notes: |
      Accepted-standalone: manual browser test of git.ronny.works -> Authentik
      login -> Gitea. Low severity, non-blocking. Will be verified during next
      Gitea maintenance window. Re-parented from closed LOOP-MAILROOM-GAP-LINKAGE-20260211.
  - id: GAP-OP-055
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      Gitea monitoring is limited to HTTP health probe (services.health.yaml).
      No Prometheus metrics endpoint, no Grafana dashboard, no alerts for
      runner offline, mirror sync stale, disk usage, or API latency.
      Other critical services (Prometheus itself, Loki) have deeper
      observability. Gitea will become the canonical code forge.
    severity: low
    status: fixed
    fixed_in: "LOOP-GITEA-OBSERVABILITY-IMPLEMENT-20260212"
    parent_loop: "LOOP-GITEA-OBSERVABILITY-IMPLEMENT-20260212"
    notes: |
      Fixed: GITEA__metrics__ENABLED=true in docker-compose env, Prometheus
      scrape job 'gitea' targeting 100.90.167.39:3000 (UP), Grafana dashboard
      'gitea-overview' with 10 panels (version/repos/users/mirrors/issues/hooks/
      memory/goroutines/cpu/scrape-health). Alerting rules deferred (non-goal).
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-OBSERVABILITY-HYGIENE-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-056
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/staged/observability/prometheus/prometheus.yml"
    description: |
      Prometheus scrape targets for loki (localhost:3100) and node-observability
      (localhost:9100) resolve to [::1] (IPv6 loopback) inside the Prometheus
      Docker container. Both services bind to the host network only. Result:
      2 of 7 scrape targets permanently DOWN. Prometheus API shows
      "dial tcp [::1]:3100: connection refused" for both.
    severity: high
    status: fixed
    fixed_in: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    notes: |
      Fixed: replaced localhost with 100.120.163.70 (observability Tailscale IP)
      for both targets in prometheus.yml (staged + live). All targets now UP.
  - id: GAP-OP-057
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "ops/staged/observability/prometheus/prometheus.yml"
    description: |
      Prometheus scrape config includes infra-core-cadvisor (100.92.91.128:8080)
      and docker-host-cadvisor (100.92.156.118:8080) targets. cAdvisor is not
      deployed on either host. Both targets permanently DOWN with "connection
      refused". These were aspirational targets from the initial config, never
      backed by actual deployments.
    severity: medium
    status: fixed
    fixed_in: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    notes: |
      Fixed: removed both cAdvisor job entries from prometheus.yml (staged + live).
      Can be re-added when/if cAdvisor is deployed in a future loop.
  - id: GAP-OP-058
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/staged/observability/loki/docker-compose.yml"
    description: |
      Loki Docker health check reports container as unhealthy despite the service
      responding 200 on /ready from the host. Two compounding root causes:
      (1) grafana/loki:latest is a distroless image with no shell, wget, or nc —
      the wget-based health check can never succeed regardless of timing.
      (2) Loki's compactor waits 10 minutes for ring stability before /ready
      returns 200, so even a working health check would need >10min start_period.
    severity: low
    status: fixed
    fixed_in: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    notes: |
      Fixed: disabled in-container health check (test: ["NONE"]) since distroless
      image has no health check tools. Health monitored externally via
      services.health.yaml (GET /ready on 100.120.163.70:3100).
  - id: GAP-OP-059
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/secrets.binding.yaml"
    description: |
      Grafana admin password secret path is undocumented. Other infra services
      (caddy-auth, gitea, vaultwarden) have documented Infisical paths under
      /spine/vm-infra/<service>/. Grafana follows the same pattern but is not
      explicitly documented in any binding or runbook.
    severity: low
    status: fixed
    fixed_in: "LOOP-GRAFANA-SECRET-PATH-ALIGN-20260212"
    parent_loop: "LOOP-GRAFANA-SECRET-PATH-ALIGN-20260212"
    notes: |
      Fixed: Infisical folder /spine/vm-infra/grafana created, GRAFANA_ADMIN_PASSWORD
      secret stored. secrets.namespace.policy.yaml updated (required_key_paths +
      key_path_overrides). Agent tooling resolves path correctly.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-VAULTWARDEN-GOVERNANCE-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-060
    discovered_by: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      Vaultwarden ADMIN_TOKEN is not stored in Infisical. It exists only in
      the host-local .env on infra-core. Every other infra-core service
      (Gitea, Caddy-Auth, Infisical itself) has secrets at
      /spine/vm-infra/<service>/. Vaultwarden is the sole exception.
    severity: high
    status: fixed
    fixed_in: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    notes: |
      Fixed: VAULTWARDEN_ADMIN_TOKEN stored at /spine/vm-infra/vaultwarden/
      in Infisical. Folder created via API. Verified: key, path, value length.
      Non-secret config (DOMAIN, LOG_LEVEL, TZ, etc.) stays in .env.
  - id: GAP-OP-061
    discovered_by: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets.namespace.policy.yaml has no vaultwarden entries in
      required_key_paths, planned_key_paths, or forbidden_root_prefixes.
      D43 cannot enforce vaultwarden secret placement.
    severity: medium
    status: fixed
    fixed_in: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    notes: |
      Fixed: VAULTWARDEN_ADMIN_TOKEN added to required_key_paths at
      /spine/vm-infra/vaultwarden/. VAULTWARDEN_ added to
      forbidden_root_prefixes. D43 PASS confirmed.
  - id: GAP-OP-062
    discovered_by: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      No restore runbook exists for Vaultwarden. GITEA_BACKUP_RESTORE.md,
      INFISICAL_BACKUP_RESTORE.md, and AUTHENTIK_BACKUP_RESTORE.md all exist.
      Vaultwarden is Tier 1 Critical Infrastructure with no documented
      restore procedure.
    severity: medium
    status: fixed
    fixed_in: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    notes: |
      Fixed: created docs/governance/VAULTWARDEN_BACKUP_RESTORE.md following
      the Infisical pattern. Covers: backup (tar.gz + NAS rsync), restore
      (stop, replace vw-data, start), secrets recovery (from Infisical),
      break-glass access, quarterly restore test requirement.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CADDY-PROTO-FIX-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-063
    discovered_by: "LOOP-CADDY-PROTO-FIX-20260209"
    discovered_at: "2026-02-09"
    type: missing-process
    doc: "ops/bindings/deploy.dependencies.yaml"
    description: |
      No governance artifact tracks deployment dependencies between services.
      When Caddy config changed (X-Forwarded-Proto fix), Authentik OIDC
      discovery URLs switched from http:// to https://, but Gitea cached
      the old http:// issuer. SSO failed with JWT issuer mismatch until
      Gitea was restarted. No gate or checklist existed to enforce the
      downstream restart.
    severity: high
    status: fixed
    fixed_in: "LOOP-CADDY-PROTO-FIX-20260209"
    notes: |
      Fixed: created deploy.dependencies.yaml (dependency chain map),
      D51 caddy-proto-lock (validates X-Forwarded-Proto https on all
      Authentik proxy blocks in staged Caddyfile). Gate prevents the
      proto header from being removed; binding documents restart chain.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-UDR6-SHOP-CUTOVER-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-064
    discovered_by: "LOOP-UDR6-SHOP-CUTOVER-20260209"
    discovered_at: "2026-02-09"
    type: missing-process
    doc: "docs/governance/SHOP_SERVER_SSOT.md"
    description: |
      Shop LAN has no dedicated gateway/router. T-Mobile 5G Home Internet
      gateway is fully locked (no DHCP/DNS control, no bridge mode). DHCP
      and DNS are unmanaged by the homelab operator. Pi-hole exists but
      DHCP clients don't use it. VLANs impossible without a VLAN-capable
      router. All SSOT docs reference 192.168.12.0/24 (T-Mobile subnet).
    severity: high
    status: fixed
    fixed_in: "LOOP-UDR6-SHOP-CUTOVER-20260209"
    notes: |
      Fixed 2026-02-09: UDR6 deployed as shop gateway (192.168.1.1).
      All VMs re-IPed to VMID-based 192.168.1.0/24. Pi-hole DNS active.
      CF tunnel, NFS, all Docker stacks verified live.
      Device re-IP (iDRAC, NVR, switch) deferred — BMC initializing.
      Receipt: ADHOC_20260209_160037_UDR6_CUTOVER_P2.
  # ─────────────────────────────────────────────────────────────
  # Discovered during change pack governance post-mortem 2026-02-09
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-065
    discovered_by: "LOOP-UDR6-SHOP-CUTOVER-20260209"
    discovered_at: "2026-02-09"
    type: missing-process
    doc: "docs/governance/CHANGE_PACK_TEMPLATE.md"
    description: |
      UDR6 cutover executed without a governed preflight process, no filled
      change pack, no LAN-only device bindings in ssh.targets.yaml, and no
      cutover sequencing rules. Mid-cutover discoveries (docker-host re-IP,
      infra-core DNS, grafana tunnel routing) required improvisation.
    severity: high
    status: fixed
    fixed_in: "change-pack-governance-20260209"
    notes: |
      Fixed by: CHANGE_PACK_TEMPLATE.md (enhanced with rollback map, cutover
      sequence, deferred items, doc sweep, sign-off), cutover.sequencing.yaml
      (5-phase mandatory ordering), LAN-only device entries in ssh.targets.yaml
      (switch-shop, idrac-shop, nvr-shop), network.lan.device.status capability
      (ping via probe_via), network.cutover.preflight capability (composite GO/NO-GO),
      D53 change-pack-integrity-lock drift gate, retrospective UDR6 change pack,
      NETWORK_RUNBOOK.md Section 9 (change pack process).
  # ─────────────────────────────────────────────────────────────
  # Discovered during drift gates consolidation proposal 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-066
    discovered_by: "LOOP-DRIFT-GATES-CONSOLIDATION-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Drift-gate suite has grown to 50+ checks without an explicit taxonomy or
      consolidation strategy. Agents see this as sprawl: multiple STOPs for the
      same remediation path (notably secrets readiness) and unclear separation
      between irreversible safety locks vs operator guidance checks.
    severity: medium
    status: fixed
    fixed_in: "LOOP-DRIFT-GATES-CONSOLIDATION-20260210"
    parent_loop: "LOOP-DRIFT-GATES-CONSOLIDATION-20260210"
    notes: |
      Resolved: composite locks D55-D57 implemented, DRIFT_VERBOSE mode added.
      Proposal: docs/governance/_audits/2026-02-10-drift-gates-consolidation-proposal.md
  # ─────────────────────────────────────────────────────────────
  # Discovered during mailroom audit 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-067
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "mailroom/outbox/CLAUDE__RESULT.md"
    description: |
      Certification audit produced 31 findings (5 critical, 12 moderate, 14 minor)
      to CLAUDE__RESULT.md but no triage pipeline exists to convert findings into
      gaps or loops. Audit results sit in outbox with no follow-up workflow.
      21 findings went untracked until manual mailroom audit discovered them.
    severity: high
    status: fixed
    fixed_in: "fix/gap-067-audit-triage"
    notes: |
      Fixed: spine.audit.triage capability reads *RESULT.md files from outbox,
      extracts findings by severity, cross-references against operational.gaps.yaml
      and open_loops.jsonl, and produces a TRACKED/UNTRACKED/STALE triage report.
  - id: GAP-OP-068
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "docs/governance/SSOT_REGISTRY.yaml"
    description: |
      SSOT documents have last_reviewed fields but no drift gate checks temporal
      freshness. A file can be structurally valid but weeks stale. 11 of 25
      SSOT_REGISTRY entries had last_reviewed dates 2-3 weeks old. No automated
      signal for staleness.
    severity: medium
    status: fixed
    fixed_in: "fix/gap-068-ssot-freshness"
    notes: |
      Fixed: D58 drift gate added. Checks all SSOT last_reviewed dates against
      SSOT_FRESHNESS_DAYS threshold (default 21). Gate script at
      surfaces/verify/d58-ssot-freshness-lock.sh.
  - id: GAP-OP-069
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      D45 naming consistency checks that hosts in naming.policy.yaml appear in
      their declared bindings. But no reverse check exists — a host can exist in
      ssh.targets.yaml and be absent from SERVICE_REGISTRY.yaml or
      DEVICE_IDENTITY_SSOT.md. Each registry is validated in isolation.
      Missing automation-stack host in SERVICE_REGISTRY (C5) was one result.
    severity: medium
    status: fixed
    fixed_in: "fix/gap-069-registry-completeness"
    notes: |
      Fixed: D59 cross-registry completeness lock added. Bidirectional checks:
      (1) naming.policy ssh_target=true hosts must appear in ssh.targets.yaml,
      (2) shop-site SSH targets (non-lan-only, non-proxmox, non-decommissioned)
      must appear in SERVICE_REGISTRY.yaml hosts section.
  - id: GAP-OP-070
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: null
    description: |
      When entities are deprecated (tools, docs, paths, services), no enforcement
      ensures stale references are cleaned up. Examples: context.md referenced
      deprecated `mint ask`, AGENT_BOUNDARIES.md referenced superseded
      INFRASTRUCTURE_AUTHORITY.md. Nothing greps governance docs for known-
      deprecated strings.
    severity: low
    status: fixed
    fixed_in: "fix/gap-070-deprecation-sweeper"
    notes: |
      Proposed fix: create ops/bindings/deprecated.terms.yaml listing deprecated
      strings + their replacements. Add a drift gate that greps governance docs
      for any listed deprecated term.
  - id: GAP-OP-071
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "ops/bindings/naming.policy.yaml"
    description: |
      naming.policy.yaml documents a 9-step rename_procedure but it is
      documentation only — not enforced. When hosts are added, removed, or
      renamed, operators must manually remember every file to update. The VM 201
      decommission required updating 6 files; no automated check ensured all
      were hit until spine.verify caught D45 failure.
    severity: medium
    status: fixed
    fixed_in: "fix/gap-071-ripple-check"
    notes: |
      Proposed fix: add a spine.ripple.check capability that, given a host
      change, lists every file needing updates based on the naming.policy
      surfaces configuration.
  - id: GAP-OP-072
    discovered_by: "session-closeout-design-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: null
    description: |
      Work done in sessions (AP setup, credential changes, physical audits) is
      not traced back to the loops they resolve. The next agent starts from zero
      with no receipt, no loop update, no Infisical sync. Loops stay open despite
      being resolved and agents repeat already-completed work.
    severity: medium
    status: fixed
    fixed_in: "D61 session-loop traceability gate + agent.session.closeout capability"
    notes: |
      Fix: agent.session.closeout capability cross-refs recent session receipts
      against open loops. D61 drift gate enforces closeout freshness (48h default).
  # ── MinIO volume path divergence (LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210) ──
  - id: GAP-OP-073
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: duplicate-truth
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Live compose on docker-host maps MinIO volume to /mnt/data/mint-os/minio
      (local disk, empty). Workbench compose at infra/compose/storage/docker-compose.yml
      maps to /mnt/docker/storage/minio (NFS via symlink, 86k+ objects). The Jan 23
      extraction updated workbench but never deployed to docker-host. No receipt exists.
    severity: high
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: live compose volume updated to /mnt/docker/mint-os-data/minio,
      storage-network added. All 8 buckets restored. Backup at docker-compose.yml.bak.20260210-pre-p0.
  - id: GAP-OP-074
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/STACK_REGISTRY.yaml"
    description: |
      STACK_REGISTRY.yaml references paths that do not exist in workbench:
      - infrastructure/docker-host/mint-os/docker-compose.minio.yml (phantom)
      - infrastructure/storage/docker-compose.yml (phantom)
      Actual file: infra/compose/storage/docker-compose.yml
    severity: medium
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: mint-os compose_files → docker-host:~/stacks/mint-os/docker-compose.yml.
      Storage stack path → infra/compose/storage/, status → reference-only.
  - id: GAP-OP-075
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "docs/infrastructure/storage/MINIO_STANDALONE_SSOT.md"
    description: |
      MINIO_STANDALONE_SSOT.md listed as "authoritative" in the Feb 5
      canonicalization commit (6e0fbf3) but the file does not exist.
    severity: medium
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: authority.json updated to point to SERVICE_REGISTRY.yaml (minio entry)
      as the canonical MinIO SSOT instead of the phantom file.
  - id: GAP-OP-076
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: null
    description: |
      docker-host ~/stacks/mint-os/ has no .git directory. Compose file mutations
      are unversioned and untraceable. The Jan 30 compose rewrite (container rename,
      password hardening) left no audit trail.
    severity: high
    status: accepted
    parent_loop: null
    notes: |
      Accepted-standalone: docker-host ~/stacks/mint-os/ has no .git directory.
      High severity but docker-host (VM 200) is legacy and deferred from spine
      governance. Will be addressed if/when mint-os stack is migrated.
      Re-parented from closed LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210.
  - id: GAP-OP-077
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: null
    description: |
      Watchdog script (~/scripts/mint-os-watchdog.sh) references
      docker-compose.frontends.yml which does not exist. Produces failed
      recovery loops every 2 minutes. health-check.sh cron also missing.
    severity: low
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: watchdog updated to docker-compose.yml. health-check.sh cron disabled
      (script does not exist). simplefin-sync cron.d ownership fixed (root:root).
  # ──────────────────────────────────────────────────────────
  # Discovered during quote-page deployment 2026-02-10
  # ──────────────────────────────────────────────────────────
  - id: GAP-OP-078
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml + workbench/dotfiles/ssh/config.d/tailscale.conf"
    description: |
      Workstation SSH config (tailscale.conf) had 10 hosts; ssh.targets.yaml
      (governance SSOT) had 17. 7 hosts missing from workstation config:
      infra-core, observability, dev-tools, ai-consolidation, download-stack,
      streaming-stack, download-home. Blocked SSH to infra-core during
      quote-page deployment.
    severity: high
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
    notes: |
      All 7 missing hosts added to tailscale.conf. MACBOOK_SSOT.md SSH table
      expanded from 4 to 16 entries.
  - id: GAP-OP-079
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/MACBOOK_SSOT.md"
    description: |
      MACBOOK_SSOT.md SSH config table listed only 4 hosts. Actual SSH config
      had 10, ssh.targets.yaml had 17. Table was incomplete since initial
      documentation and was never reconciled.
    severity: medium
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
  - id: GAP-OP-080
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      files-api and quote-page not listed as docker-host stacks. Both run as
      independent compose files outside ~/stacks/. files-api was down when
      quote-page deployment started (no monitoring ensured it was up).
    severity: medium
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
    notes: |
      Both stacks added to docker-host targets. files-api started manually.
      Still no systemd unit to auto-start on boot (open concern).
  - id: GAP-OP-081
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml + ops/bindings/services.health.yaml"
    description: |
      files-api and quote-page had no entries in SERVICE_REGISTRY.yaml or
      services.health.yaml. No checklist of which SSOT surfaces to update
      when deploying a new service.
    severity: high
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
    notes: |
      Both services added to SERVICE_REGISTRY.yaml and services.health.yaml.
  # ──────────────────────────────────────────────────────────
  # Discovered during mint-modules governance cleanup 2026-02-10
  # ──────────────────────────────────────────────────────────
  - id: GAP-OP-082
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "ops/bindings/cross-repo.authority.yaml"
    description: |
      mint-modules repo (~/code/mint-modules/) had no entry in cross-repo
      authority. Agents had no way to discover it exists or understand its
      relationship to spine governance.
    severity: high
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
  - id: GAP-OP-083
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/INFRASTRUCTURE_MAP.md"
    description: |
      INFRASTRUCTURE_MAP.md line 156 claimed files-api "DOES NOT EXIST"
      with status marker (#539). files-api has been deployed and active on
      docker-host:3500 since quote-page deployment. Customer Portal row
      still referenced mint-os-customer container (replaced by quote-page).
      Upload gap note referenced "Future: files-api" as if unbuilt.
    severity: high
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
  - id: GAP-OP-084
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/STACK_REGISTRY.yaml"
    description: |
      artwork-module stack entry listed path as github:hypnotizedent/artwork-module
      with a self-contradicting note. No quote-page stack entry existed. Correct
      source is mint-modules/artwork and mint-modules/quote-page respectively.
    severity: high
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
  - id: GAP-OP-085
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml + ops/staged/cloudflared/docker-compose.yml"
    description: |
      mintprints-app.ronny.works still pointed to mint-os-customer:3334
      (replaced by quote-page:3341). artwork.mintprints.co had routing_layer
      and authority_source both set to "unknown". Staged cloudflared compose
      still had mint-os-customer extra_host (service no longer exists).
    severity: medium
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
  # ─────────────────────────────────────────────────────────────
  # Discovered during stash audit 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-086
    discovered_by: "session-stash-audit-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh + ops/commands/close.sh"
    description: |
      Git stashes accumulate with no governance. D48 checks worktrees but
      never inspects `git stash list`. `ops close` only tears down issue-*
      worktrees, not loop-scoped codex-* worktrees. `agent.session.closeout`
      (D61) does not sweep git state (stashes, dangling branches). Result:
      6 orphaned stashes found referencing merged/deleted branches.
    severity: medium
    status: fixed
    fixed_in: LOOP-STASH-GOVERNANCE-20260210
    notes: |
      Fixed with two changes:
      1. D48: stash audit added (flags stashes whose parent branch is merged/gone)
      2. ops close: `ops close loop <LOOP_ID>` tears down worktree + branch + stashes
  # ─────────────────────────────────────────────────────────────
  # Discovered during home dir audit 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-087
    discovered_by: "session-home-dir-audit-20260210"
    discovered_at: "2026-02-10"
    type: agent-behavior
    doc: "D30 + D42 (canonical path governance)"
    description: |
      ~/ops/ contained stale shadow copies of spine scripts (infra-proxmox-maintenance,
      network-oob-guard-status). Created by Codex agent sandbox copying files to ~/
      instead of working inside ~/code/agentic-spine/. ~/ronny-ops/ (forbidden by D30,
      118K files, read-only) and ~/qdrant_storage/ (empty) also lingered. All three dirs
      violated the canonical ~/code/ single source of truth.
    severity: high
    status: fixed
    fixed_in: LOOP-HOME-DIR-CLEANUP-20260210
    notes: |
      Removed ~/ops/ (2 stale files), ~/qdrant_storage/ (empty), ~/ronny-ops/
      (remote preserved at github.com:hypnotizedent/ronny-ops.git).
  # ─────────────────────────────────────────────────────────────
  # Discovered during spine upgrade 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-088
    discovered_by: "session-spine-upgrade-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "ops/commands/close.sh"
    description: |
      `./bin/ops close` (issue close path) hard-fails because it calls
      `ops/verify.sh`, which no longer exists in the spine runtime. This
      creates agent confusion when they try to use `ops close` for
      verification/cleanup and get a shell error instead of a governed
      verification run.
    severity: medium
    status: fixed
    fixed_in: "session-spine-upgrade-20260210"
  - id: GAP-OP-089
    discovered_by: "session-spine-upgrade-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh + bin/ops preflight"
    description: |
      D48 codex worktree hygiene gate crashes under `set -u` when a worktree
      entry has no `branch` field in `git worktree list --porcelain` output
      (e.g. detached HEAD). This breaks:
      - `./bin/ops preflight` (reports worktrees DIRTY and STOPs)
      - drift gate D3 (entrypoint smoke; calls preflight)
      - drift gate D48 itself (hard FAIL)
    severity: high
    status: fixed
    fixed_in: "session-spine-upgrade-20260210"
  - id: GAP-OP-090
    discovered_by: "session-spine-upgrade-20260210"
    discovered_at: "2026-02-10"
    type: agent-behavior
    doc: "mailroom/ + receipts/ contracts"
    description: |
      A non-governed, ad-hoc mailroom audit report was added at repo root
      (`MAILROOM_AUDIT_20260210.md`). Governance requires work discovery to be
      registered as a loop/gap and evidenced via governed receipts, not as a
      freestanding audit doc in the repo root.
    severity: medium
    status: fixed
    fixed_in: "session-spine-upgrade-20260210"
  - id: GAP-OP-091
    discovered_by: "session-md1400-hardware-blocked-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "surfaces/verify/d61-session-loop-traceability-lock.sh"
    description: |
      D61 fails `spine.verify` when a high/critical loop has a `created:` date
      older than 48h, even if the loop is explicitly hardware-blocked. This
      makes it impossible to accurately represent long-running blocked loops in
      scope frontmatter without breaking verify.
    severity: high
    status: fixed
    fixed_in: "session-md1400-hardware-blocked-20260210"
    parent_loop: "LOOP-MD1400-SAS-RECOVERY-20260208"
    notes: |
      Repro: adding `created: 2026-02-08` to LOOP-MD1400-SAS-RECOVERY frontmatter
      causes D61 to hard-fail as "stale >48h" even though the loop is blocked on
      hardware delivery/install. Intended fix: treat `blocked_by:` as an exemption
      from the high-loop TTL fail (warn-only at most).
      Fixed 2026-02-10: D61 now skips the high/critical TTL hard-fail when
      `blocked_by:` is set (blocked loops are warn-only at most).
      Evidence:
      - commits: c2c0c4c, 80a5b79
      - receipt: RCAP-20260210-184203__spine.verify__R5njl36162 (PASS)
  - id: GAP-OP-092
    discovered_by: "session-media-legacy-extraction-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-MEDIA-LEGACY-EXTRACTION-20260211.scope.md"
    description: |
      Media operational knowledge still lives only in legacy `ronny-ops` and is
      resurfacing as ad-hoc asks without a governed extraction matrix. The local
      legacy path was intentionally removed for D30 compliance, but no spine-native
      intake contract exists for media docs/scripts (critical rules, recovery, tdarr,
      jellyfin buffering, intro skipper, trickplay guard, Kometa, Janitorr).
      This creates repeated context churn and risk of copy/paste migration of stale
      runtime patterns into spine.
    severity: high
    status: closed
    closed_at: "2026-02-11"
    parent_loop: "LOOP-MEDIA-LEGACY-EXTRACTION-20260211"
    notes: |
      CLOSED: LOOP-MEDIA-LEGACY-EXTRACTION-20260211 completed P0-P4.
      4 spine-native docs extracted to docs/brain/lessons/:
        MEDIA_CRITICAL_RULES.md, MEDIA_DOWNLOAD_ARCHITECTURE.md,
        MEDIA_PIPELINE_ARCHITECTURE.md, MEDIA_RECOVERY_RUNBOOK.md.
      3 artifacts rejected (Kometa, Janitorr, Tdarr), 3 superseded.
      Source: github.com:hypnotizedent/ronny-ops.git @ 1ea9dfa9.
  - id: GAP-OP-093
    discovered_by: "session-finance-legacy-extraction-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "docs/governance/FINANCE_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Finance stack (docker-host VM 200) has no spine-native operational runbooks,
      no health checks in services.health.yaml, backup disabled in backup.inventory.yaml,
      and no secrets namespace mapping. Legacy knowledge lives only in ronny-ops/finance/
      (150+ artifacts) with 4 critical items at risk if legacy source disappears:
      SimpleFIN credential pipeline, n8n workflow definitions, Firefly account topology,
      and import rule mappings.
    severity: high
    status: closed
    closed_at: "2026-02-11"
    parent_loop: "LOOP-FINANCE-LEGACY-EXTRACTION-20260211"
    notes: |
      CLOSED: 8 extract_now items rewritten as spine-native Move A docs (c768e63).
      Pillar structure created (docs/pillars/finance/). Health checks added to
      services.health.yaml. Backup enabled in backup.inventory.yaml. Secrets namespace
      expanded. GAP resolved via LOOP-FINANCE-LEGACY-EXTRACTION-20260211 P0-P3.
  - id: GAP-OP-094
    discovered_by: "terminal-d-immich-extraction-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-IMMICH-LEGACY-EXTRACTION-20260211.scope.md"
    description: |
      VM 203 (immich) is running per Proxmox (qm status: running, uptime ~1.8d) but
      completely network-isolated. ARP for 192.168.1.203 FAILED on pve bridge. Tailscale
      shows immich-1 offline (last seen 1d ago). QEMU guest agent unavailable. Cloud-init
      config still shows old network (192.168.12.230/24, gw 192.168.12.1) — likely not
      updated after UDR6 cutover. Bridge/tap is healthy on host side (tap203i0 in vmbr0,
      state forwarding). Impact: Immich service down for all users, daily DB backup cannot
      push offsite, mobile sync broken, no health check catching this (no services.health
      entry exists). Cron path verification (P1 of LOOP-IMMICH-LEGACY-EXTRACTION) blocked
      until VM network is restored.
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-IMMICH-LEGACY-EXTRACTION-20260211"
    notes: |
      Fixed 2026-02-11: Updated cloud-init ipconfig0 from 192.168.12.230/24 to
      192.168.1.203/24,gw=192.168.1.1 via `qm set 203 --ipconfig0`. Hard stop/start
      to regenerate cloud-init ISO. VM now reachable on 192.168.1.203, ARP resolved.
      DNS fixed: disabled Tailscale accept-dns, pointed netplan to Pi-hole (192.168.1.204),
      updated cloud-init --nameserver. Installed qemu-guest-agent (active, pve ping OK).
      All 4 Docker containers healthy. Immich health endpoint responds 200 {"res":"pong"}
      via Tailscale IP 100.114.101.50:2283. Daily backups confirmed running (Feb 8-11 dumps
      in ~/backups/). Cron: /etc/cron.d/immich-backup → ~/scripts/backup-immich-db.sh.
      P1 cron risk was false alarm — script at correct VM-local path, not legacy.
  # ─────────────────────────────────────────────────────────────
  # Discovered during Cowork audit 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-095
    discovered_by: "cowork-audit-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "ops/bindings/agents.registry.yaml"
    description: |
      Shadow runtime bypass: MCPJungle MCP servers in workbench expose direct
      mutating API calls (POST/PUT/DELETE) to external services without routing
      through spine mailroom or capability gates. Affected surfaces:
      (a) media-agent + n8n-agent MCP tools duplicate spine capabilities but
          skip receipts, safety levels, and approval gates;
      (b) home-assistant, mint-os, firefly, paperless, immich, ms-graph MCP
          servers have no spine contract, no registry entry, no routing rule;
      (c) MCPJungle media-stack has hardcoded SABnzbd API key in source (P1);
      (d) local vs MCPJungle MCP server copies have no parity drift gate.
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MCP-RUNTIME-GOVERNANCE-20260211"
    notes: |
      FIXED: All 5 phases complete. P1: SABnzbd key removed. P2: 23 mutating
      MCP tools blocked with GOVERNED_TOOLS gate. P3: 6 new agent contracts +
      registry entries (HA, mint-os, firefly, paperless, immich, ms-graph).
      P4: D66 MCP parity gate created (local vs MCPJungle hash comparison).
      P5: explicit deny policy documented in capabilities.yaml for domains
      without spine capabilities. 0 shadow runtime paths remain.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-RUNTIME-RECONCILIATION-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-096
    discovered_by: "LOOP-RUNTIME-RECONCILIATION-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      docker-host (VM 200) is running on pve but completely network-unreachable.
      LAN ping 192.168.1.200 fails from hypervisor. Tailscale 100.92.156.118
      unreachable. QEMU guest agent not running. No remote diagnostic path —
      requires PVE VNC console or qm monitor intervention.
      Affects: all docker-host compose stacks (mint-os, finance, mail-archiver),
      all services.health.yaml endpoints on 100.92.156.118, VM 200 vzdump
      (vzdump still runs at hypervisor level — not blocked).
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-RUNTIME-RECONCILIATION-20260211"
    notes: |
      Root cause: VM 200 was stopped/started via PVE web UI (root@pam) at
      2026-02-11 13:15:37 EST. Prior to restart, network stack was unresponsive
      (ARP FAILED, no guest agent). The stop/start cycle restored all services.
      Post-recovery: LAN 192.168.1.200 reachable, Tailscale 100.92.156.118
      connected, guest agent active, 20 Docker containers running (all healthy).
      docker.compose.status: 21/21 OK. services.health.status: minio/files-api/
      quote-page OK. firefly-iii/paperless-ngx REFUSED (preexisting: bound to
      127.0.0.1 only, not reachable via Tailscale IP — separate issue).
      Receipts: RCAP-20260211-133818__docker.compose.status__Ra2mt21752,
      RCAP-20260211-133850__services.health.status__Rdw0n22485.
  - id: GAP-OP-097
    discovered_by: "LOOP-RUNTIME-RECONCILIATION-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      automation-stack compose paths use ~/stacks/* but SSH user is ubuntu.
      Actual stacks live at /home/automation/stacks/* (different user). Causes
      false dir_missing in docker.compose.status. SSH target user may also need
      updating if automation user owns docker.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-RUNTIME-RECONCILIATION-20260211"
    notes: |
      Fixed: automation-stack compose paths changed to absolute
      /home/automation/stacks/* and SSH user updated to automation.
      Validation: docker.compose.status now reports automation + mcpjungle
      stacks as OK (5/5 + 1/1) instead of dir_missing.
  - id: GAP-OP-098
    discovered_by: "LOOP-RUNTIME-RECONCILIATION-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      App-level backup inventory drift: app-firefly target pointed to a missing
      NAS path (/volume1/backups/apps/finance) and multiple app backups were stale.
      Root cause was runtime scheduler/auth mismatch after UDR6 cutover.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-RUNTIME-RECONCILIATION-20260211"
    notes: |
      Fixed:
      - app-firefly disabled in backup.inventory.yaml (false positive target).
      - infra-core backup scripts restored to fresh artifacts (infisical + vaultwarden).
      - gitea backup script validated as ubuntu user (root key mismatch discovered);
        /etc/cron.d/gitea-backup restored with ubuntu scheduler user.
      - home-assistant fresh backup created (396c7bcc.tar) and copied to NAS.
      Validation: backup.status now reports 15 targets | 15 ok | 0 degraded.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-SERVICE-HEALTH-PROBE-ALIGN-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-099
    discovered_by: "LOOP-SERVICE-HEALTH-PROBE-ALIGN-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/bindings/services.health.yaml"
    description: |
      Three health probes (firefly-iii, paperless-ngx, slskd) use external
      Tailscale IPs but the services bind to 127.0.0.1. Probes always return
      REFUSED, creating false negatives. Docker health checks are the
      authoritative signal for these localhost-bound services.
    severity: low
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-SERVICE-HEALTH-PROBE-ALIGN-20260211"
    notes: |
      Fixed: disabled external probes for firefly-iii, paperless-ngx, slskd.
      Follow-up: implement probe_via:ssh feature for localhost-bound services
      so they can be monitored without false REFUSED results.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-FINANCE-VM-SEPARATION-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-100
    discovered_by: "LOOP-FINANCE-VM-SEPARATION-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Finance stack (Firefly III, Paperless-ngx, Ghostfolio) runs on legacy
      docker-host (VM 200) alongside unrelated mint-os workloads. No isolation,
      shared postgres, shared network namespace with production storefronts.
      VM 200 is a legacy host (no cloud-init, manual config) making it fragile
      for governed operations. Finance deserves a dedicated governed VM.
    severity: high
    status: closed
    closed_at: "2026-02-11"
    parent_loop: "LOOP-FINANCE-VM-SEPARATION-20260211"
    notes: |
      FIXED: Finance stack migrated to dedicated VM 211 (finance-stack).
      9 containers (7 finance + 2 mail-archiver) live on VM 211.
      Data migrated, counts verified, public URLs serving from VM 211.
      Legacy docker-host finance/mail-archiver stopped and decommissioned.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-DASHY-GOVERNED-DEPLOY-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-101
    discovered_by: "LOOP-DASHY-GOVERNED-DEPLOY-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "ops/bindings/docker.compose.targets.yaml, ops/bindings/services.health.yaml, docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      Dashy has an active CF tunnel route (dash.ronny.works) and compose config
      in workbench (infra/compose/dashy/) but is missing from spine operational
      bindings: no docker.compose.targets entry, no services.health probe, no
      SERVICE_REGISTRY entry, and STACK_REGISTRY has stale path + inactive status.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-DASHY-GOVERNED-DEPLOY-20260211"
    notes: |
      Fixed: registered Dashy in all 4 spine bindings, deployed to docker-host
      ~/stacks/dashy/, updated config.yml to spine-era topology. Verified via
      docker.compose.status (6 stacks on docker-host), services.health.status
      (dashy OK 191ms), dash.ronny.works HTTP 200, spine.verify PASS (all gates).
      Evidence: RCAP-20260211-143545__spine.verify__R3z0s85094.
  # ─────────────────────────────────────────────────────────────
  # Discovered during POST-FINANCE governance audit (CP-20260211-151804)
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-102
    discovered_by: "LOOP-POST-FINANCE-GOVERNANCE-HYGIENE-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/staged/cloudflared/docker-compose.yml"
    description: |
      Staged cloudflared docker-compose.yml still maps finance service
      extra_hosts (firefly-iii, ghostfolio, paperless-ngx, mail-archiver)
      to docker-host IP 100.92.156.118. Live cloudflared was updated during
      LOOP-FINANCE-VM-SEPARATION-20260211 P4 to 100.76.153.100 (VM 211),
      but the staged copy was not. If an agent redeploys from staged, it
      reverts the P4 traffic cutover.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-POST-FINANCE-GOVERNANCE-HYGIENE-20260211"
    notes: |
      Fixed via CP-20260211-152206 (commit 799a0ec). Staged cloudflared extra_hosts
      updated to 100.76.153.100. Verified by spine.verify PASS (D1-D68).
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-VM-CREATION-GOVERNANCE-ROOTFIX-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-103
    discovered_by: "LOOP-VM-CREATION-GOVERNANCE-ROOTFIX-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "N/A — no governance doc exists yet"
    description: |
      VM creation has no root governance. An agent can provision a new VM
      (qm clone, cloud-init, bootstrap) without updating SERVICE_REGISTRY,
      NODE_REGISTRY, backup.inventory, services.health, ssh.targets, or
      docker.compose.targets. This creates silent SSOT drift that downstream
      gates (D54, D59) only partially catch for existing entries.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-VM-CREATION-GOVERNANCE-ROOTFIX-20260211"
    notes: |
      Fixed: VM_CREATION_CONTRACT.md + vm.lifecycle.yaml + D69 gate + vm.governance.audit cap.
      All 10 active shop VMs pass D69. spine.verify PASS D1-D69.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CONTAINER-SPINE-CLEANUP-CLOSEOUT-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-104
    discovered_by: "LOOP-CONTAINER-SPINE-CLEANUP-CLOSEOUT-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "SERVICE_REGISTRY.yaml, services.health.yaml, agents.registry.yaml, secrets.namespace.policy.yaml"
    description: |
      Aggregate cleanup gap from D/E/F audit findings: 6 active mint-os frontends
      unregistered, caddy missing health probe, 3 stale docker-host finance probe
      entries, 5 stopped download-stack services unmarked, agent registry pointing
      at old VM for finance/paperless, MCP paperless.json using pre-migration endpoint,
      Azure IDs hardcoded in microsoft-graph.json, secrets namespace missing N8N key.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-CONTAINER-SPINE-CLEANUP-CLOSEOUT-20260211"
    notes: |
      Fixed: SERVICE_REGISTRY 6 frontends + 4 infra utilities registered, 5 stopped/parked
      services marked, immich host ssh fixed. Health probes: caddy + cloudflared added,
      3 stale docker-host finance entries removed. Agents: firefly/paperless covers → VM 211.
      MCP: paperless.json → VM 211, ms-graph Azure IDs externalized.
      Secrets: N8N_ENCRYPTION_KEY + vendor keys + GITHUB_TOKEN alias added.
      spine.verify PASS D1-D69. vm.governance.audit 10/10.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-105
    discovered_by: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    discovered_at: "2026-02-11"
    type: unclear-doc
    doc: "secrets.namespace.policy.yaml"
    description: |
      Mint-os secrets namespace overloaded: 55 keys in the monolith mint-os-api
      Infisical project with no per-module isolation. New modules (artwork,
      quote-page) need dedicated /spine/services/<module>/ namespaces.
      Namespace paths defined in MINT_PRODUCT_GOVERNANCE.md section 5 and
      secrets.namespace.policy.yaml module_namespaces. Runtime key migration
      deferred to module sprint work.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-SECRETS-OVERLOAD-REMEDIATION-20260211"
    notes: |
      Fixed: Module namespace policy enforced in secrets.namespace.policy.yaml —
      module_namespaces declared, key_path_overrides promoted from planned, forbidden
      root prefixes added (ARTWORK_, QUOTE_PAGE_). MINT_PRODUCT_GOVERNANCE.md section 5
      is authoritative. Infisical folder creation + key population deferred to artwork
      sprint (folders auto-create on first key set).
  - id: GAP-OP-106
    discovered_by: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "docs/governance/MINT_PRODUCT_GOVERNANCE.md"
    description: |
      No product-level module ownership model existed. Modules deployed without
      explicit owner, domain boundary, or deploy permission governance.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    notes: |
      Fixed: MINT_PRODUCT_GOVERNANCE.md section 2 establishes module ownership
      contract with owner, services, deploy target, and secrets namespace per module.
  - id: GAP-OP-107
    discovered_by: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "docs/governance/MINT_PRODUCT_GOVERNANCE.md"
    description: |
      No API contract versioning governance existed. Modules had no required
      versioning policy, no deprecation windows, no breaking change rules.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    notes: |
      Fixed: MINT_PRODUCT_GOVERNANCE.md section 3 establishes API contract rules
      with /api/vN/ prefix, 30-day deprecation, and breaking change definitions.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CLAUDE-DESKTOP-FINDINGS-CLOSEOUT-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-108
    discovered_by: "LOOP-CLAUDE-DESKTOP-FINDINGS-CLOSEOUT-20260211"
    discovered_at: "2026-02-11"
    type: unclear-doc
    doc: "AGENTS.md, docs/governance/GOVERNANCE_INDEX.md"
    description: |
      Minor doc hygiene from 2026-02-10 certification audit closeout:
      (a) AGENTS.md and root README.md lack YAML front-matter (status/owner/last_verified)
      at top level. AGENTS.md has governance brief front-matter inline but no document-level
      front-matter. Root README.md has none.
      (b) GOVERNANCE_INDEX.md auto-generated appendix lists 21 of ~67 governance docs.
      Needs regeneration tooling or manual expansion.
    severity: low
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-DOC-HYGIENE-FRONTMATTER-INDEX-20260211"
    notes: |
      Fixed: (a) AGENTS.md and README.md now have document-level YAML front-matter.
      AGENTS.md front-matter is separate from the embedded governance brief (which has
      its own inline front-matter managed by D65 sync). (b) GOVERNANCE_INDEX.md
      auto-generated appendix regenerated: 21 → 67 governance docs listed.
  # ─────────────────────────────────────────────────────────────
  # Discovered during media stack audit 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-109
    discovered_by: "media-stack-audit-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "/opt/stacks/download-stack/docker-compose.yml (VM 209)"
    description: |
      Media stack split (VM 201 → VM 209/210) left *arr root folder paths broken.
      Compose maps /mnt/media:/media but Radarr/Sonarr/Lidarr root folders still
      reference /movies, /tv, /music (old monolithic mounts). API confirms
      accessible=false for all three. Import pipeline is broken — downloads complete
      but cannot be moved to library paths. Additionally, autopulse path rewrites
      target /data/media/* but Jellyfin has media at /media/* — real-time scan
      notifications are silently failing. Two swaparr instances (lidarr/sonarr)
      crashed with exit 255 despite restart: unless-stopped.
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MEDIA-PATH-REMEDIATION-20260211"
    notes: |
      Fixed: Added individual volume mounts (/mnt/media/movies:/movies, etc.) to
      radarr/sonarr/lidarr in compose. Fixed autopulse REWRITE__TO from /data/media/*
      to /media/*. Restarted swaparr-lidarr + swaparr-sonarr. All three root folders
      now report accessible=true via API. Containers recreated on VM 209.
  - id: GAP-OP-110
    discovered_by: "infra-parity-baseline-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "multi-file (SERVICE_REGISTRY.yaml, services.health.yaml, docker-compose-status tool)"
    description: |
      Infrastructure parity baseline revealed three issues:
      1. sabnzbd health probe TIMEOUT — web UI root (/) takes ~9.4s, exceeds 10s max_time.
         Switched to /api?mode=version&output=json (0.35s).
      2. SERVICE_REGISTRY lists swaparr-sonarr and swaparr-lidarr as "stopped" but both
         recovered and are running (confirmed via docker ps on VM 209).
      3. docker.compose.status tool uses `docker compose ps` without -a flag, making exited
         containers (huntarr, slskd, tdarr) invisible. Tool reports 21/21 when reality is
         21/24 (3 exited). Crashed containers would also be invisible — observability gap.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-INFRA-PARITY-RECONCILIATION-20260211"
    notes: |
      Fixed: (1) sabnzbd probe switched to API version endpoint. (2) swaparr status
      updated to active. (3) compose status tool now uses `docker compose ps -a` to
      include exited containers. download-stack correctly reports 21/24 (3_exited).
      Cloudflare/Caddy routing verified clean — all public URLs routable, finance IPs
      migrated, no stale routes.
  # ─────────────────────────────────────────────────────────────
  # Discovered during Infisical DR readiness execution 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-112
    discovered_by: "infisical-dr-readiness-20260211"
    discovered_at: "2026-02-11"
    type: missing-process
    doc: "docs/governance/INFISICAL_BACKUP_RESTORE.md"
    description: |
      INFISICAL_BACKUP_RESTORE.md requires quarterly restore tests but no
      executable drill procedure existed. No evidence tracking mechanism,
      no scratch-DB isolation pattern, no RTO validation steps. The
      requirement was documented but unenforceable — an operator had no
      runbook to follow and no way to record evidence.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    notes: |
      Fixed: INFISICAL_RESTORE_DRILL.md created with 6-step drill procedure
      (scratch DB isolation, timed restore, validation criteria, cleanup,
      evidence template). Recert receipt created at
      receipts/dr/INFISICAL_DR_RECERT_20260211.md (CONDITIONAL PASS —
      procedure certified, first live drill pending). Next recert: 2026-05-11.
  # ─────────────────────────────────────────────────────────────
  # Discovered during media stack cleanup session 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-113
    discovered_by: "media-stack-audit-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "workbench/agents/media/src/tools/"
    description: |
      Media MCP agent (33 tools) has no bulk cleanup or audit capabilities.
      Manual session deleted 3,754 non-English movies (346 GB), disabled 6
      noisy import lists, deleted 4,091 dead-weight entries, and removed 23
      duplicate albums — all via raw API calls because no MCP tools exist for:
      1. library_audit — language breakdown, duplicate detection,
         unmonitored-with-no-files count, import list noise analysis across
         Radarr/Sonarr/Lidarr.
      2. bulk_library_action — filter by language/monitored/has-file status
         with delete/unmonitor/monitor actions plus dry-run preview.
      These are recurring maintenance tasks that should be agent-accessible
      rather than requiring manual API scripting each time.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_by: "workbench 5a7a6ed"
    notes: |
      Implemented library_audit (read-only, parallel GET across radarr/sonarr/lidarr)
      and bulk_library_action (dryRun=true default bypasses governance for preview;
      dryRun=false governed via GOVERNED_TOOLS block). 35 tools total (was 33).
      D66 MCPJungle parity sync applied. Evidence: tools/list confirms 35 tools.
  # ─────────────────────────────────────────────────────────────
  # Discovered during n8n recovery hardening 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-114
    discovered_by: "LOOP-N8N-AUTOMATION-RECOVERY-HARDENING-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      n8n workflow definitions exist only in the running Postgres database
      on automation-stack (VM 202). No repo-level or file-level backup of
      workflow JSON exists. VM-level vzdump covers the full disk but a
      corrupted n8n database or accidental workflow deletion has no
      granular recovery path. No scheduled workflow export, no retention
      policy, no restore runbook.
    severity: high
    status: fixed
    fixed_at: "2026-02-12"
    parent_loop: "LOOP-N8N-AUTOMATION-RECOVERY-HARDENING-20260212"
    notes: |
      Fixed: Daily cron at 03:00 on automation-stack exports all 35 workflows
      via n8n CLI (docker exec). 7-day retention. Snapshot status observable via
      n8n.workflows.snapshot.status capability. Recovery runbook at
      docs/governance/N8N_RECOVERY_RUNBOOK.md. Backup inventory entry added.
      API-based export-all added to spine wrapper (n8n.workflows.snapshot cap).
  - id: GAP-OP-115
    discovered_by: "jellyfin-duplicate-diagnosis-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "workbench/agents/media/tools/src/index.ts"
    description: |
      Media MCP agent (35 tools) has no Jellyfin database-level integrity
      auditing. Jellyfin DB had duplicate parent Folder entries for
      /media/movies after VM 201→210 migration, causing every movie to
      appear twice (2536 rows for 1268 movies). Diagnosis and fix required
      manual SSH + sqlite3 surgery. The MCP agent talks to Jellyfin REST
      API for library counts but never inspects the SQLite DB, so it
      cannot detect: (1) duplicate parent folder entries, (2) duplicate
      BaseItems by path, (3) stale path prefixes from prior migrations,
      (4) cross-service count mismatches (Radarr vs Jellyfin). A
      jellyfin_db_audit tool using the Jellyfin API Items endpoint would
      catch these issues without requiring direct DB access.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_by: "workbench 6ce5f10"
    notes: |
      Implemented jellyfin_db_audit tool (read-only, uses Jellyfin REST API /Items).
      Detects: duplicate movies/episodes by path, duplicate parent folder entries,
      and cross-references Jellyfin vs Radarr movie counts. 36 tools total (was 35).
  - id: GAP-OP-116
    discovered_by: "multi-agent-entry-enforcement-20260212"
    discovered_at: "2026-02-12"
    type: agent-behavior
    doc: "ops/plugins/session/bin/session-start"
    description: |
      Multi-agent session signaling and enforcement is missing. Opening
      multiple Claude Code terminals (via hotkeys or manually) creates
      session dirs in mailroom/state/sessions/ that are never pruned.
      No concurrency detection, no multi-agent warning banner, no commit
      guard to prevent non-apply-owner agents from committing directly.
      Root cause: session-start has no awareness of peer sessions and
      the pre-commit hook has no multi-agent enforcement.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_by: "spine fb2b17f"
    parent_loop: LOOP-MULTI-AGENT-ENTRY-ENFORCEMENT-20260212
    notes: |
      Implemented session liveness pruning (dead PID + TTL > 4h → archive),
      active session counting with SPINE_ACTIVE_SESSION_COUNT + SPINE_MULTI_AGENT
      env exports, multi-agent warning banner in session-start and session-entry-hook,
      and pre-commit guard that blocks direct commits in multi-agent mode unless
      apply-owner lock is held.
  # ─────────────────────────────────────────────────────────────
  # Discovered during home-vs-shop documentation parity audit
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-117
    discovered_by: "home-infrastructure-parity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Home infrastructure (proxmox-home) has significantly less documentation
      coverage than shop (pve). Specific gaps: (1) Home VMs 100-105 have zero
      entries in vm.lifecycle.yaml, (2) no docker.compose.targets for home hosts,
      (3) zero health probes for home services, (4) zero home-specific operational
      capabilities, (5) only 1/5 home backup inventory entries enabled, (6) no
      home network governance docs (onboarding, audit runbook, normalization),
      (7) 1 home lesson doc vs 14 shop lesson docs. Shop has 3-14x more coverage
      across all SSOT binding categories. Root cause: home infra pre-dates spine
      governance and was never retrofitted.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    resolution: |
      All 7 deficit items resolved by LOOP-HOME-INFRA-DOC-PARITY-20260212:
      (1) 5 VMs in vm.lifecycle.yaml, (2) vaultwarden-home in compose targets,
      (3) 3 health probes, (4) 3 home.* capabilities, (5) 4/5 backup entries
      enabled (GAP-OP-118 fixed), (6) 2 network governance docs, (7) 4 lesson
      docs. Commits: ffa1716, 06c673b, 7894c27, 42bbd30.
    parent_loop: LOOP-HOME-INFRA-DOC-PARITY-20260212
  - id: GAP-OP-118
    discovered_by: "LOOP-HOME-INFRA-DOC-PARITY-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: null
    description: |
      Vzdump backup of LXC 103 (download-home) on proxmox-home FAILS with
      "Permission denied" when writing to NFS backup storage (synology-backups).
      Root cause: vzdump uses lxc-usernsexec for LXC backups which maps UIDs
      (u:0:100000:65536), but the NFS export on the Synology NAS does not
      support these mapped UIDs, so tar cannot create the temp file.
      VM backups (100, 102) on the same NFS mount succeed because they do not
      use user namespace remapping. LXC 105 (pihole-home) likely has the same
      issue (P2 weekly, not yet attempted).
      Error: "tar: /mnt/pve/synology-backups/dump/vzdump-lxc-103-*.tmp: Cannot open: Permission denied"
    severity: high
    status: fixed
    fixed_at: "2026-02-12"
    resolution: |
      Added `tmpdir /var/tmp` to vzdump jobs backup-home-p1-daily (LXC 103)
      and backup-home-p2-weekly (LXC 105) in /etc/pve/jobs.cfg on proxmox-home.
      Root cause: lxc-usernsexec UID remapping (u:0:100000:65536) runs tar as
      host UID 100000 which cannot write to Synology NFS. With --tmpdir, vzdump
      stages pct.conf in local /var/tmp (accessible to mapped UID), while the
      final zstd archive is written to NFS outside the user namespace (as root).
      Both LXC 103 (484MB) and LXC 105 (345MB) backups validated manually.
    parent_loop: LOOP-HOME-INFRA-DOC-PARITY-20260212
  # ─────────────────────────────────────────────────────────────
  # Discovered during orchestration friction audit 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-119
    discovered_by: "orchestration-friction-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "docs/governance/OPENCODE_GOVERNED_ENTRY.md + workbench/dotfiles/opencode/opencode.json"
    description: |
      OpenCode is launch-governed (D73) but has no internal contract surface
      equivalent to CLAUDE.md / AGENTS.md hooks. Once launched, scope and
      protocol are enforced only externally (lane globs + handoff validation),
      not natively inside OpenCode. This is an enforcement gap, not a launcher gap.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-ORCH-GAP-CLOSURE-20260212"
    notes: |
      Fixed: OpenCode has native instruction surface (OPENCODE.md loaded at session
      start). Created workbench/dotfiles/opencode/OPENCODE.md with full worker lane
      contract (entry checks, BLOCK-ENTRY/BLOCK-SCOPE-DRIFT stop behaviors, handoff
      format, solo mode contract). D73 extended to validate OPENCODE.md contains
      required governance sections. Documented in OPENCODE_GOVERNED_ENTRY.md.
  - id: GAP-OP-120
    discovered_by: "orchestration-friction-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/plugins/orchestration/bin/orchestration-integrate + ops/plugins/orchestration/manifest.schema.yaml"
    description: |
      Multi-repo orchestration is schema-declared (`related_repos`) but
      `orchestration.integrate` applies only one repo at a time with no
      transactional bundle semantics. Cross-repo loops can partially apply,
      leaving split state between spine/workbench/mint-modules until manual recovery.
    severity: high
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-ORCH-GAP-CLOSURE-20260212"
    notes: |
      Fixed: orchestration-integrate now validates all related_repos are clean
      (no uncommitted/staged changes) before any apply proceeds. Canonical policy:
      single-repo-per-apply with Terminal C ordered sequence. Smoke tests added
      (dirty related repo blocks, clean related repo passes). Documented in
      ORCHESTRATION_CAPABILITY.md and TERMINAL_C_DAILY_RUNBOOK.md.
  - id: GAP-OP-121
    discovered_by: "orchestration-friction-audit-20260212"
    discovered_at: "2026-02-12"
    type: agent-behavior
    doc: "docs/governance/TERMINAL_C_DAILY_RUNBOOK.md + docs/governance/WORKER_LANE_TEMPLATE_PACK.md"
    description: |
      Codex worker sessions use bypass mode by design for speed. Safety is
      provided externally by orchestration lane scope, handoff validation,
      apply-owner integration control, and worktree isolation.
    severity: medium
    status: closed
    closed_at: "2026-02-12"
    notes: |
      CLOSED AS ACCEPTED RISK: no internal Codex sandbox change required while
      external orchestration rails remain mandatory and enforced by Terminal C.
  - id: GAP-OP-122
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "ops/bindings/agents.registry.yaml + ~/code/workbench/agents/"
    description: |
      home-assistant-agent is marked active but implemented under MCPJungle
      server path (`infra/compose/mcpjungle/servers/home-assistant/`) instead
      of canonical workbench agent surface (`agents/<domain>/`). This creates
      mixed implementation planes and inconsistent worker-lane expectations.
    severity: medium
    status: fixed
    notes: |-
      MCPJungle-path agents documented as valid implementation pattern for lightweight MCP servers
    fixed_in: spine@285c0a7
  - id: GAP-OP-123
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "ops/bindings/agents.registry.yaml + ~/code/workbench/agents/"
    description: |
      mint-os-agent is marked active but implemented under MCPJungle server
      path (`infra/compose/mcpjungle/servers/mint-os/`) rather than canonical
      `workbench/agents/<domain>/` layout used by media/n8n/finance.
    severity: medium
    status: fixed
    notes: |-
      MCPJungle-path agents documented as valid implementation pattern for lightweight MCP servers
    fixed_in: spine@285c0a7
  - id: GAP-OP-124
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "ops/bindings/agents.registry.yaml + ~/code/workbench/infra/compose/mcpjungle/servers/immich-photos/"
    description: |
      immich-agent is marked active, but the declared implementation path
      currently contains only documentation/spec files (README/SPEC) and no
      runnable tool implementation files.
    severity: high
    status: fixed
    notes: |-
      Changed immich-agent implementation_status from active to pending (only README/SPEC docs exist, no runnable code)
    fixed_in: spine@285c0a7
  - id: GAP-OP-125
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/bindings/agents.registry.yaml (mint-agent implementation path)"
    description: |
      mint-agent implementation is cross-repo (`~/code/mint-modules/...`)
      while most agents execute from workbench. Cross-repo ownership is valid
      but lacks a dedicated enforcement contract in agent registry policy.
    severity: low
    status: fixed
    notes: |-
      Cross-repo agents (mint-modules) documented as valid pattern in registry header policy
    fixed_in: spine@285c0a7
  - id: GAP-OP-126
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/agents/ms-graph-agent.contract.md + infra/compose/mcpjungle/servers/microsoft-graph.json"
    description: |
      ms-graph-agent is config-only and active, but there is no explicit
      parity/runtime contract verifying capability coverage boundaries versus
      custom-tool agents.
    severity: low
    status: fixed
    notes: |-
      Config-only agents documented as valid pattern with reduced assurance tier in registry header policy
    fixed_in: spine@285c0a7
  - id: GAP-OP-127
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "ops/agents/finance-agent.contract.md + ops/bindings/agents.registry.yaml + ~/code/workbench/agents/finance/tools/src/index.ts"
    description: |
      finance-agent contract/registry state says pending/no custom tools,
      while workbench finance agent tools are already implemented. Truth is
      split across surfaces and currently contradictory.
    severity: high
    status: fixed
    notes: |-
      Updated finance-agent registry (pending→active) + contract to reflect V2 TypeScript MCP implementation with read-only tools
    fixed_in: spine@285c0a7
  - id: GAP-OP-128
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/bindings/agents.registry.yaml + infra/compose/mcpjungle/servers/firefly.json + infra/compose/mcpjungle/servers/paperless.json"
    description: |
      firefly-agent and paperless-agent are marked superseded by finance-agent
      but still remain active runtime servers pending deprecation/cutover gate.
      No single closure checklist is tied to their final disable/archive step.
    severity: low
    status: fixed
    notes: |-
      firefly.json + paperless.json already deactivated (enabled: false, DEACTIVATED description) in workbench MCPJungle
    fixed_in: spine@285c0a7
  # ─────────────────────────────────────────────────────────────
  # Discovered during bootstrap integrity audit 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-129
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/bootstrap/mac/.archive-setup.sh + workbench/bootstrap/mac/Brewfile"
    description: |
      `workbench/bootstrap/mac/` is vestigial placeholder content only:
      `.archive-setup.sh` contains TODO text and Brewfile is comments-only.
      Folder appears canonical in structure docs but has no executable setup value.
    severity: low
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Deprecated and removed bootstrap/mac/ directory. Bootstrap authority
      moved to host.macbook.bootstrap capability + MACBOOK_BOOTSTRAP_CONTRACT.md.
      Legacy doc refs updated.
  - id: GAP-OP-130
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "workbench/dotfiles/install.sh"
    description: |
      `dotfiles/install.sh` mutates host git/shell/tooling state directly but is
      not wrapped by a spine capability, so it does not produce governance
      receipts and is outside approval/gate flow.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Script marked as internal helper. host.macbook.bootstrap capability
      subsumes its functionality with receipt-backed execution. Script header
      updated to direct operators to governed entrypoint.
  - id: GAP-OP-131
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "workbench/scripts/root/setup-mac-tools.sh"
    description: |
      `setup-mac-tools.sh` performs mutating package/app installation without
      capability governance (no receipt, no approval, no drift enforcement).
      Tooling state can change out-of-band from spine.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Script marked as internal helper. host.macbook.bootstrap capability
      Phase 4 subsumes productivity tool installation with receipt-backed
      execution and idempotent checks. Script header updated.
  - id: GAP-OP-132
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/bootstrap/mac/Brewfile"
    description: |
      Brewfile is effectively empty and does not define a canonical package
      baseline for fresh Mac setup despite being named/located as bootstrap SSOT.
    severity: low
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Brewfile removed with bootstrap/mac/ directory. Package baseline now
      defined in MACBOOK_BOOTSTRAP_CONTRACT.md and enforced by
      host.macbook.bootstrap capability + drift check.
  - id: GAP-OP-133
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "docs/governance/MACBOOK_SSOT.md + docs/governance/SSOT_REGISTRY.yaml"
    description: |
      No single authoritative "fresh Mac bootstrap requirements" contract exists
      that binds required packages/apps/scripts/capabilities into one checkable
      standard. Current state is distributed and partially implicit.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Created MACBOOK_BOOTSTRAP_CONTRACT.md as authoritative bootstrap SSOT.
      Registered in _index.yaml, SSOT_REGISTRY.yaml, GOVERNANCE_INDEX.md.
      Defines 5 phases, ownership boundaries, and drift enforcement model.
  - id: GAP-OP-134
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/bootstrap/ + workbench/dotfiles/install.sh + workbench/scripts/root/setup-mac-tools.sh + ops/plugins/host/"
    description: |
      Mac bootstrap responsibilities are split across multiple disconnected
      surfaces (placeholder bootstrap folder, ungoverned workbench scripts,
      governed host capabilities), creating truth fragmentation and operator confusion.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Ownership boundaries defined in MACBOOK_BOOTSTRAP_CONTRACT.md.
      Vestigial bootstrap/mac/ removed. Workbench scripts marked as internal
      helpers. All bootstrap execution enters through host.macbook.bootstrap
      capability. Drift check extended to verify CLI tool presence.
  # ─────────────────────────────────────────────────────────────
  # Discovered during workbench confusion audit 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-135
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "workbench/bin/"
    description: |
      `workbench/bin/` has symlink rot with D42 path violations (`/Code/`).
      Four command symlinks (`infra`, `mono`, `update`, `work`) point to
      non-existent targets. Additional links (`mint`, `ops`, `verify`) still
      use uppercase `/Code/` and rely on compatibility aliasing.
    severity: critical
    status: fixed
    fixed_in: "workbench@23a2722"
    notes: |
      Fixed: 4 broken symlinks (infra, mono, update, work) removed. 3 remaining
      symlinks (mint, ops, verify) repointed from /Users/ronnyworks/Code/ to
      /Users/ronnyworks/code/ (D42-compliant). Lane D.
  - id: GAP-OP-136
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "workbench/scripts/root/system-status.sh + workbench/scripts/root/docker-safe.sh + workbench/scripts/root/sneakernet.sh + workbench/scripts/root/infra/verify-identity.sh"
    description: |
      Multiple active scripts still target destroyed or reshaped infrastructure:
      `system-status.sh` assumes docker-host monolith containers, `docker-safe.sh`
      maps to stacks no longer present, `sneakernet.sh` targets removed media-stack
      endpoint, and `verify-identity.sh` pins VM 201-era media-stack IP.
    severity: critical
    status: fixed
    fixed_in: "Phase-C3-Lane-D: workbench@ea1ef9f"
    notes: |
      Phase C3: system-status.sh + docker-safe.sh deprecated with clean tombstones
      (no executable legacy body). sneakernet.sh cleaned to tombstone-only (legacy body
      removed). verify-identity.sh: docker-host removed from Tier 1, infra-core +
      observability added to Tier 2. Evidence: zero active runtime references.
  - id: GAP-OP-137
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "workbench/scripts/root/* + workbench/bin/*"
    description: |
      Active scripts and symlinks still contain D42 path case violations
      (`~/Code`, `/Users/ronnyworks/Code`). This causes inconsistent execution
      behavior and conflict with canonical lowercase path governance.
    severity: high
    status: fixed
    fixed_in: "Phase-C3-Lane-F: workbench@4a3a116"
    notes: |
      Phase C3: Fixed D42 ~/Code/workbench → ~/code/workbench in 9 files:
      bootstrap-secrets.sh (5), load-secrets.sh (3), setup-mac-tools.sh (1),
      shopify-get-token.sh (1), setup-oidc-cicd.sh (4), sync-all.sh (4),
      overnight-sprint-launcher.sh (7), db/README.md (1). Evidence: zero matches
      for /Users/ronnyworks/Code or ~/Code in bin/ + scripts/root/.
  - id: GAP-OP-138
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/docs/legacy/ + workbench/docs/infrastructure/SERVICE_REGISTRY.md + workbench/docs/infrastructure/SSOT.md + workbench/infra/data/SERVICE_REGISTRY.yaml"
    description: |
      Workbench doc surface still exposes large legacy/deprecated inventories
      with stale commands/topology while remaining searchable. This includes
      legacy runbooks and deprecated registry tombstones that still look like
      actionable documentation to agents.
    severity: medium
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: legacy README.md strengthened with YAML front-matter quarantine header,
      SERVICE_REGISTRY.yaml reduced to tombstone with empty maps.
  - id: GAP-OP-139
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/infra/cloudflare/tunnel/docker-compose.yml"
    description: |
      Workbench cloudflare tunnel compose maps finance service hostnames to
      legacy docker-host IP `100.92.156.118` instead of finance VM 211 target.
      Applying this file would route traffic to the wrong host.
    severity: high
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: finance IPs updated to 100.76.153.100 (VM 211), grafana to
      100.120.163.70 (VM 205), file marked as reference copy (not live deploy).
  - id: GAP-OP-140
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/docs/legacy/infrastructure/reference/top-level/GOVERNANCE_MANIFEST.yaml"
    description: |
      Legacy `GOVERNANCE_MANIFEST.yaml` uses authoritative phrasing and
      actionable include lists while being non-functional. Agents can mistake
      it for a live governance loader and follow stale references.
    severity: medium
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: GOVERNANCE_MANIFEST.yaml reduced to 16-line tombstone — no include
      lists, no bundles, no actionable content. Points to spine canonical.
  - id: GAP-OP-141
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/runtime/ + agentic-spine/ops/bindings/home.output.sinks.yaml + workbench/WORKBENCH_CONTRACT.md"
    description: |
      `workbench/runtime/` exists as active log/state sink while
      `WORKBENCH_CONTRACT.md` forbids runtime-like roots (`logs/`, `state/`,
      `receipts/`, `runs/`). `home.output.sinks.yaml` still explicitly allows
      `/Users/ronnyworks/code/workbench/runtime/logs/`, creating contract-level
      authority conflict and runtime bleed into workbench.
    severity: medium
    status: fixed
    fixed_in: "Phase-C3-Lane-E: spine@63707e3"
    notes: |
      Phase C3: Removed allowed_files from home.output.sinks.yaml entirely.
      Migrated 3 LaunchAgent log sinks (streamdeck-ha, minio-mount, smb-paperless)
      from workbench/runtime/logs/ to agentic-spine/mailroom/logs/ (already in
      allowed_prefixes). Plists updated + services reloaded. Evidence: zero matches
      for workbench/runtime/logs/ in home.output.sinks.yaml.
  - id: GAP-OP-142
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/scripts/agents/infisical-agent.sh + agentic-spine/ops/tools/infisical-agent.sh"
    description: |
      `infisical-agent.sh` exists in both workbench and spine surfaces with
      duplicated implementation, increasing drift risk and ambiguity about
      canonical executable authority.
    severity: medium
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: workbench infisical-agent.sh replaced with 15-line shim that
      delegates to spine canonical (ops/tools/infisical-agent.sh) via exec.
  - id: GAP-OP-143
    discovered_by: "operator-request-20260212"
    discovered_at: "2026-02-12"
    type: unclear-doc
    doc: "ops/plugins/ + ops/bindings/ + bin/ops + surfaces/ + docs/governance/"
    description: |
      Gap lifecycle internals are not discoverable enough for agents/operators.
      A full traceable map is needed for:
      1) how gaps are created (writers, scripts, capabilities),
      2) where gap state is stored (files/directories),
      3) how gaps are read (selection/decision surfaces),
      4) how gaps are resolved/closed,
      5) what locking/concurrency protections exist,
      6) capability-map bindings for gaps.*,
      7) governance docs that define the model.
    severity: medium
    status: fixed
    notes: |-
      GAP_LIFECYCLE.md + D75 document creation/read/close/locking/capability map + SSOT file location
    fixed_in: spine@03da229
  - id: GAP-OP-144
    discovered_by: "workbench-runtime-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/runtime/rag/anythingllm_storage/"
    description: |
      Local `anythingllm_storage` remains under `workbench/runtime/rag/` after
      RAG migration to VM 207. This stale runtime payload is outside governed
      runtime surfaces and can mislead agents during local state discovery.
    severity: medium
    status: fixed
    fixed_in: "workbench@d0b4636"
    notes: |
      Fixed: anythingllm_storage/ removed (15MB, 252 files). Decommission marker
      added at runtime/rag/DECOMMISSIONED.md pointing to VM 207. Lane E.
  - id: GAP-OP-145
    discovered_by: "workbench-runtime-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "workbench/runtime/streamdeck/"
    description: |
      `workbench/runtime/streamdeck/` hosts an active Python controller with no
      spine capability wrapper, no receipt trail, and no SSOT ownership entry.
      This creates an unmanaged operational surface under a runtime-like path.
    severity: medium
    status: fixed
    fixed_in: "Phase-C3-Lane-E: spine@63707e3+workbench@49f45d0"
    notes: |
      Phase C3: Created host.streamdeck.status (read-only) + host.streamdeck.reload
      (mutating) capabilities in ops/plugins/host/bin/. Wired in capabilities.yaml +
      capability_map.yaml (4 entries each). Updated infra/streamdeck/README.md to
      governed status. LaunchAgent logs migrated to mailroom/logs/.
  - id: GAP-OP-146
    discovered_by: "workbench-bin-discovery-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/scripts/root/bootstrap-secrets.sh + workbench/scripts/root/test-infisical.sh + workbench/scripts/root/sync-secrets-to-env.sh + workbench/scripts/root/new-doc.sh"
    description: |
      Active scripts still reference deprecated Infisical projects (`finance-stack`,
      `mint-os-vault`, `media-stack`) instead of canonical infrastructure namespaces,
      increasing secrets-plane confusion and operator error risk.
    severity: medium
    status: fixed
    fixed_in: "Phase-C3-Lane-F: workbench@4a3a116"
    notes: |
      Phase C3: Removed media-stack pillar option from new-doc.sh (renumbered options
      1-6). Evidence: zero matches for finance-stack, mint-os-vault, or media-stack in
      bootstrap-secrets.sh, test-infisical.sh, sync-secrets-to-env.sh, new-doc.sh.
  - id: GAP-OP-147
    discovered_by: "gaps-system-concurrency-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "ops/bindings/operational.gaps.yaml + ops/plugins/loops/bin/gaps-status"
    description: |
      Gap workflow has no claim semantics. Multiple terminals can concurrently
      pick the same open gap and mutate shared state without ownership markers,
      causing double-fix races and edit collisions in the single-file gap SSOT.
    severity: high
    status: fixed
    fixed_in: "Phase-C1-gap-mutation-capabilities"
    notes: |
      Fixed: Claim semantics implemented via gap-claims.sh library with PID-based
      ownership, stale-claim auto-recovery, and cleanup. Claims stored as runtime
      markers in mailroom/state/gaps/<GAP_ID>.claim (not committed).
      Capabilities: gaps.claim, gaps.unclaim. Tests: 20/20 pass.
  - id: GAP-OP-148
    discovered_by: "gaps-system-concurrency-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "ops/plugins/ + bin/ops + ops/lib/git-lock.sh"
    description: |
      Gap mutations are still manual edits to `operational.gaps.yaml` with no
      capability-gated atomic write path. There is no canonical `gaps.file` /
      `gaps.close` mutation capability that serializes writes through `git-lock`.
    severity: high
    status: fixed
    fixed_in: "Phase-C1-gap-mutation-capabilities"
    notes: |
      Fixed: Atomic gap mutation capabilities implemented — gaps.file (create)
      and gaps.close (fix/close) both acquire git-lock before editing and committing.
      Wired into capabilities.yaml + capability_map.yaml. Governance doc:
      docs/governance/GAP_LIFECYCLE.md. Tests: 20/20 pass.
  - id: GAP-OP-149
    discovered_by: "post-c3-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh + ops/bindings/operational.gaps.yaml"
    description: |
      No D75 gate enforces capability-only mutation for operational.gaps.yaml;
      direct manual edits can bypass the claim + git-lock workflow established
      by GAP-OP-147/148. A drift gate should detect uncommitted changes to the
      gap registry that were not produced by gaps.file / gaps.close.
    severity: medium
    status: fixed
    fixed_in: LOOP-D75-GAPS-REGISTRY-MUTATION-GATE-20260213
    notes: "D75 implemented: gate script, trailers in gaps-file/gaps-close, policy binding, tests 3/3, docs updated"
  - id: "GAP-OP-150"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/scripts/finance/ + workbench/scripts/root/"
    description: |
      Wave 1 Lane D (SC-1..SC-8): 8 deprecated workbench scripts not archived. SC-1..5 finance, SC-6..8 root tombstones. Move to .archive/ with stubs.
    severity: high
    status: fixed
    notes: "8 deprecated scripts archived to .archive/deprecated-scripts-20260213/ (SC-1..SC-8)"
    fixed_in: workbench@514262b
  - id: "GAP-OP-151"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/scripts/root/ + workbench/agents/"
    description: |
      Wave 1 Lane E (SC-12..17 + AG-2..4): 6 scripts with hardcoded docker-host paths post-migration + 3 agents missing workbench dirs. Tombstone stale scripts, create agent dirs.
    severity: high
    status: fixed
    notes: "6 docker-host scripts tombstoned (SC-12..17), 3 agent dirs created (AG-2..4)"
    fixed_in: workbench@1d1508f
  - id: "GAP-OP-152"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/scripts/root/verify_minio_rclone.sh + verify_artwork.sh + n8n/export_all_workflows.sh"
    description: |
      Wave 2 Lane D (SC-9..11): 3 workbench scripts write receipts to local paths instead of spine mailroom. Redirect output to spine receipt/capability outputs.
    severity: medium
    status: fixed
    notes: "Receipt outputs redirected to spine mailroom (verify_minio_rclone.sh, verify_artwork.sh, export_all_workflows.sh)"
    fixed_in: workbench@876c4b1
  - id: "GAP-OP-153"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/infra/compose/mcpjungle/servers/ + workbench/docs/legacy/ + workbench/scripts/agents/README.md"
    description: |
      Wave 2 Lane E (IN-4..6 + LP-1..4): Superseded MCPJungle configs still active (firefly/paperless.json, hardcoded IP in postgres.json) + legacy ronny-ops path refs in docs/scripts.
    severity: medium
    status: fixed
    notes: "Superseded MCP configs deactivated (firefly/paperless.json); postgres DSN parameterized; legacy ~/Code and ronny-ops refs removed"
    fixed_in: workbench@876c4b1
  - id: "GAP-OP-154"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/dotfiles/ + workbench/bootstrap/mac/ + workbench/runtime/"
    description: |
      Wave 3 Lane D (DF-1..4 + BS-1..4 + RT-1/2): Dotfiles legacy compat exports, bootstrap placeholders, stale runtime folders. Low-priority hygiene cleanup.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:36:08Z"
    fixed_in: workbench@c0e0773
  - id: "GAP-OP-155"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/docs/legacy/ + workbench/.archive/ + agentic-spine/ops/bindings/"
    description: |
      Wave 3 Lane E (DOC-1..6 + AR-1..3 + SB-1..3): Legacy docs to review/remove, archive retention policy missing, spine bindings with stale refs. Low-priority hygiene.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:36:15Z"
    fixed_in: workbench@3bc11aa+spine@f802d15
  - id: "GAP-OP-156"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "~/.config/claude-desktop/claude_desktop_config.json + ~/Documents/creds.txt"
    description: |
      Home-surface secrets exposure outside canonical /code control plane: plaintext credentials detected in Claude Desktop MCP config (hardcoded token/password env values) and plaintext creds artifact under ~/Documents. Secrets must be moved to Infisical/keychain-backed injection and redacted from local config/state.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:04Z"
    fixed_in: 'home-surface: creds.txt quarantined to ~/.archive/, claude-desktop config absent'
  - id: "GAP-OP-157"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/.config/claude-desktop/claude_desktop_config.json + ~/.claude/projects/"
    description: |
      Canonical-root drift in active agent entry surfaces: Claude Desktop filesystem/project state still references legacy/non-canonical paths (including ronny-ops and uppercase /Code variants), which violates /code SSOT and can route agents to stale truth.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:08Z"
    fixed_in: 'home-surface: removed 8 stale Claude project dirs (uppercase Code + non-canonical paths)'
  - id: "GAP-OP-158"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/.ssh/config* + ~/Library/LaunchAgents/com.ronnyworks.minio-mount.plist"
    description: |
      Home SSH and host runtime drift: stale destroyed-infra host entries/keys and legacy provenance markers remain in ~/.ssh surfaces, plus failing legacy minio mount LaunchAgent tied to deprecated topology. This creates operational misrouting risk during manual recovery.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:12Z"
    fixed_in: 'home-surface: SSH symlinks repointed to workbench, minio LaunchAgent unloaded+disabled, stale SSH backup removed'
  - id: "GAP-OP-159"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "~/code/.worktrees/*/dotfiles/hammerspoon/.hammerspoon/init.lua + ~/code/.worktrees/*/dotfiles/raycast/*.sh"
    description: |
      Regression risk from non-main orchestration worktrees: pending launcher/hotkey edits in integration worktrees contain non-canonical path forms and entrypoint bypass patterns that would violate D72 if merged. Requires pre-merge drift scrub gate on those branches.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:18Z"
    fixed_in: 'home-surface: stale worktrees (spine-gap161 + workbench-gap161) removed, branches deleted'
  - id: "GAP-OP-160"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "~/Documents + ~/.claude* + ~/.archive + ~/Library/LaunchAgents/.disabled-*"
    description: |
      Home-directory hygiene debt outside /code canonical root: orphan project/session artifacts, stale backups/tmp files, disabled LaunchAgents and large archives without retention policy. Not immediate runtime failure, but recurring operator/agent confusion surface.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:22Z"
    fixed_in: 'home-surface: ~/.archive/RETENTION.md added, disabled LaunchAgents organized, prior phases cleaned creds/projects/worktrees/SSH'
  - id: "GAP-OP-161"
    discovered_by: "opencode-upgrade-plan-review-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/MACBOOK_SSOT.md + docs/governance/OPENCODE_GOVERNED_ENTRY.md + workbench/dotfiles/hammerspoon/.hammerspoon/init.lua + workbench/dotfiles/opencode/opencode.json"
    description: |
      OpenCode upgrade plan is not yet codified in canonical workstation governance surfaces. Required closure criteria: (1) update laptop SSOT to reflect the approved OpenCode runtime/config contract (model/provider/plugin/MCP posture) under /code canonical authority, and (2) update/verify Ctrl+Shift+O launch behavior so Hammerspoon and related launcher surfaces consistently route OpenCode through the governed entry path and documented expected behavior. This gap exists to prevent regression and keep launcher behavior + docs in lockstep.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:54:02Z"
    fixed_in: 'verified: OpenCode GLM-5 contract matches OPENCODE_GOVERNED_ENTRY.md + MACBOOK_SSOT.md + init.lua + opencode.json'
  - id: "GAP-OP-162"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/.ssh/config.d/tailscale.conf + ~/.ssh/known_hosts"
    description: |
      False-close follow-up to GAP-OP-158: stale media-stack host remains in ~/.ssh/config.d/tailscale.conf and dead 100.117.1.53 keys remain in ~/.ssh/known_hosts.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:12:15Z"
    fixed_in: 'home-surface: media-stack removed from tailscale.conf, 100.117.1.53 keys removed from known_hosts'
  - id: "GAP-OP-163"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "~/code/.repo-workbench-orch-integration/dotfiles/hammerspoon/.hammerspoon/init.lua + ~/code/.repo-workbench-orch-integration/dotfiles/raycast/*.sh"
    description: |
      False-close follow-up to GAP-OP-159: stale orch-integration worktree remains with legacy launcher/hotkey patterns that risk D72 regression if merged.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:12:16Z"
    fixed_in: 'home-surface: ~/code/.repo-workbench-orch-integration removed, worktrees pruned'
  - id: "GAP-OP-164"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "surfaces/claude-commands"
    description: |
      Dead symlink surfaces/claude-commands points to /Users/ronnyworks/Code/agentic-spine/admissions/ronny-ops/.claude/commands — uppercase Code (D42), ronny-ops (D30), nonexistent target.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:26:31Z"
    fixed_in: spine@5ed3acd
  - id: "GAP-OP-165"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/Library/Application Support/Claude/claude_desktop_config.json"
    description: |
      False-close follow-up to GAP-OP-156: Claude Desktop config at ~/Library/Application Support/Claude/claude_desktop_config.json contains hardcoded GitHub PAT, Postgres password, and filesystem MCP pointing to /ronny-ops/.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:26:33Z"
    fixed_in: 'home-surface: Claude Desktop config cleaned — removed hardcoded PAT, Postgres creds, and ronny-ops path'
  - id: "GAP-OP-166"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "workbench/scripts/root/"
    description: |
      False-close follow-up to GAP-OP-137: 5 active scripts in workbench still use uppercase $HOME/Code/workbench — D42 violation. Files: authority-trace.sh, printavo-file-download.sh, schema-drift-check.sh, dump-schema.sh, macos-sync-critical.sh.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:26:36Z"
    fixed_in: workbench@fed8fa3
  - id: "GAP-OP-167"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "workbench/dotfiles/macbook/launchd/com.ronny.agent-inbox.plist"
    description: |
      Active LaunchAgent plist com.ronny.agent-inbox.plist in workbench/dotfiles/macbook/launchd/ violates WORKBENCH_CONTRACT — runtime orchestration files belong in agentic-spine.
    severity: high
    status: closed
    notes: "Invalid finding — D74 validates plist at workbench/dotfiles/macbook/launchd/ path. Plist is canonical launchd template, not runtime orchestration."
  - id: "GAP-OP-168"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "workbench/agents/finance/"
    description: |
      finance-agent still lacks a governed tests surface (no agents/finance/tests/ coverage). Registry/contract are active, but test-plane integrity is incomplete; add baseline tests scaffold and minimal verification contract.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:23Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-169"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/scripts/root/backup-all.sh + workbench/scripts/root/sync-all.sh + workbench/scripts/root/sync-offsite.sh + related deprecated scripts"
    description: |
      Several scripts were tombstoned/deprecated for post-migration docker-host assumptions but remain in active script surfaces rather than archived governance locations. Archive-or-retain decision is not codified.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:24Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-170"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/docs/legacy/"
    description: |
      Legacy docs debt remains large (100+ markdown files with historical paths/instructions). Current state is mostly quarantined but no bounded cleanup/reduction loop is tracked for long-tail removal or stronger discoverability controls.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:24Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-171"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "workbench/infra/compose/arr/ + workbench/infra/compose/homeassistant/ + workbench/infra/compose/immich/ + workbench/infra/compose/dashy/"
    description: |
      Deferred compose stacks still have missing .env.example baselines; onboarding reproducibility and drift detection for these stacks are incomplete until canonical env templates exist or explicit defer policy is documented per stack.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:24Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-172"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/engine/openai.sh"
    description: |
      openai.sh hardcodes gpt-4o-mini in request payload; model must be governed by explicit env/contract, not hardcoded.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:37:56Z"
    fixed_in: spine@f4b5b8a
  - id: "GAP-OP-173"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "ops/runtime/inbox/launch-agent.sh"
    description: |
      launch-agent.sh directly invokes claude with --dangerously-skip-permissions, bypassing governed entry safety posture.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:37:58Z"
    fixed_in: spine@f4b5b8a
  - id: "GAP-OP-174"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      ripple-check capability/script exists but MANIFEST.yaml does not list it; plugin registry drift.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:37:59Z"
    fixed_in: spine@f4b5b8a
  - id: "GAP-OP-175"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/dotfiles/zsh/legacy-aliases.sh"
    description: |
      legacy alias ma still maps to deprecated mint ask command.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:38:00Z"
    fixed_in: workbench@6a8dcc1
  - id: "GAP-OP-176"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/Library/LaunchAgents/com.ronny.agent-inbox.plist"
    description: |
      active launch agent pins ZAI_MODEL=glm-4.7-flash, drifting from current canonical watcher/model posture.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:38:02Z"
    fixed_in: workbench@6a8dcc1 + home-surface plist updated and reloaded
  # ─────────────────────────────────────────────────────────────
  # Discovered during home-directory-deep-audit-20260213
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-177
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/home-surface.allowlist.yaml + surfaces/verify/d76-*"
    description: |
      No automated enforcement prevents home directory drift. After a full
      audit of ~/ronnyworks (gaps 135-176), all issues were fixed — but nothing
      prevents regression. Need three layers:

      1. D76 drift gate (home-surface hygiene) added to spine.verify:
         - No stray git repos at ~/ outside /code/
         - No plaintext secrets in Claude Desktop config (ghp_, postgresql://)
         - Claude Desktop filesystem MCP only points to /code/ or ~/Desktop
         - SSH config.d has no entries for destroyed VMs
         - No $HOME/Code/ uppercase violations in workbench scripts
         - ~/bin/ symlinks all resolve and use lowercase /code/

      2. Session closeout extension (D61):
         - Count unexpected files at ~/
         - Flag new directories since last closeout
         - Check ~/.archive/ size threshold
         - Verify Claude Desktop config hash against known-good baseline

      3. home-surface.allowlist.yaml binding:
         - Declares canonical, standard_macos, tool_runtime, quarantined dirs
         - Declares forbidden_patterns (~//Code/, ~/ops/, ~/stacks/, *.log)
         - D76 reads this allowlist to validate home surface state
    severity: medium
    status: fixed
    notes: "D76 home-surface hygiene lock implemented + binding + test. All 80 gates pass."
    fixed_in: spine@ba89845
  # ─────────────────────────────────────────────────────────────
  # Discovered during workbench-enforcement-analysis-20260213
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-178
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d77-workbench-contract-lock.sh"
    description: |
      D77 — Workbench Contract Lock. The workbench has no
      mechanical enforcement of WORKBENCH_CONTRACT.md rules. When a terminal
      drops a plist, adds a script that bypasses spine, or creates runtime
      dirs — nothing catches it until manual audit. This gate would check:

      - No *.plist files outside .archive/ in workbench (catches H7-type violations)
      - No mailroom/, inbox/, outbox/, state/, logs/, runs/ directories in
        workbench (catches runtime creep)
      - No scripts containing bare `claude --`, `codex --`, or `opencode --`
        exec calls outside of spine_terminal_entry.sh (catches H4/H5/H6 bypasses)
      - Every script in scripts/root/ that launches a tool must contain
        spine_terminal_entry.sh in its call chain

      Single highest-value gate. Would have caught most HIGH findings from
      the workbench audit before they accumulated. Follows the D72/D73/D74
      pattern of spine gates that reach into workbench.
    severity: high
    status: fixed
    notes: "D77 workbench contract lock implemented + test. Plist allowlist, runtime-dir ban, bare-exec detection."
    fixed_in: spine@ba89845
  - id: GAP-OP-179
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d78-workbench-path-lock.sh"
    description: |
      D78 — Workbench Path Lock. Scans executable files in
      workbench (.sh, Raycast scripts, symlinks) for hardcoded
      /Users/ronnyworks/ that aren't in .archive/ or documentation. Catches
      M16-type drift (uppercase /Code/, absolute paths that should use
      $WORKBENCH_ROOT or $SPINE_REPO). Could enforce variable usage or
      maintain an allowlist of known hardcoded paths so new ones can't
      sneak in without being acknowledged. Prevents the D42/D72 violation
      class that recurred across 16+ scripts in the workbench audit.
    severity: medium
    status: fixed
    notes: "D78 workbench path lock implemented + test. Uppercase code-dir and legacy-repo-name drift detection."
    fixed_in: spine@ba89845
  - id: GAP-OP-180
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d79-workbench-script-allowlist-lock.sh + ops/bindings/workbench.script.allowlist.yaml"
    description: |
      D79 — Workbench Script Allowlist Lock. Similar to how
      d17-root-allowlist.sh works for the spine root — maintain an allowlist
      of known scripts in workbench. Any new script that appears without
      being registered gets flagged. Prevents sprawl the same way the spine
      prevents it: if it's not in the list, it doesn't belong. The allowlist
      lives in the spine (since spine is authority) and the gate compares it
      against what's actually on disk in workbench. Catches the 293+ archived
      scripts and random new scripts appearing without governance.
    severity: medium
    status: fixed
    notes: "D79 workbench script allowlist lock implemented + binding + test. 100 scripts governed."
    fixed_in: spine@ba89845
  - id: GAP-OP-181
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d80-workbench-authority-trace-lock.sh"
    description: |
      D80 — Workbench Authority Trace Lock. Wire authority-trace.sh into
      drift-gate.sh. The workbench already has authority-trace.sh --strict
      which checks legacy naming violations (legacy doc refs, old path
      prefixes, ronny-ops naming). It just needs a wrapper gate added to
      drift-gate.sh to run it as part of spine.verify. Right now it's
      orphaned — exists but nobody calls it automatically. Every time anyone
      runs verification, the workbench authority trace should run too.
      Minimal effort, immediate value.
    severity: low
    status: fixed
    notes: "D80 workbench authority-trace lock implemented + test. Wraps authority-trace.sh --strict in drift-gate.sh."
    fixed_in: spine@ba89845
  # ─────────────────────────────────────────────────────────────
  # Discovered during feb-8-audit-tail-verification-20260213
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-182
    discovered_by: "feb-8-audit-tail-verification-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench docs/legacy + infra/data + ~/code/ root"
    description: |
      Feb 8 audit tail — 6 unfinished items plus 2 stray audit artifacts
      at ~/code/ root. All low-severity documentation hygiene:

      1. MT-13: Create automation-stack staged compose dir in ops/staged/.
         Currently missing — n8n compose lives only in workbench.
      2. MT-14: Archive REF_PIHOLE.md from docs/legacy/infrastructure/
         reference/ to .archive/.
      3. MT-15: Archive 2 holistic audit files from docs/legacy/
         infrastructure/reference/audits/2026-01-01-*.md to .archive/.
      4. MT-16: Document mailroom / n8n non-coupling architectural
         boundary (currently only a passing table entry in MAILROOM_RUNBOOK).
      5. MT-17: Reconcile CRON_REGISTRY.md + CRON_GOVERNANCE.md against
         live n8n workflows, then archive or update.
      6. monitoring_inventory.json in infra/data/ has no deprecation or
         historical marker — still looks like active inventory.
      7. Archive stray audit artifacts at ~/code/ root:
         - agentic-spine-audit-2026-02-08.docx (17KB)
         - agentic-spine-audit-2026-02-08.js (28KB)
      8. Remove empty ~/code/.worktrees/ directory.
    severity: low
    status: fixed
    notes: "All 8 items complete: MT-13 staged dir, MT-14/15 archived, MT-16 boundary doc, MT-17 cron reconciled, monitoring marked historical, stray files archived, .worktrees removed."
    fixed_in: spine@9b13e8c + workbench@4d454fb
  - id: "GAP-OP-183"
    discovered_by: "Terminal-D-hardening-discovery-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      20 executable scripts exist in ops/plugins/*/bin/ but are NOT declared in MANIFEST.yaml scripts arrays. Missing: home-backup-status, home-health-check, home-vm-status, host-macbook-bootstrap, host-streamdeck-reload, host-streamdeck-status, gaps-claim, gaps-close, gaps-file, gaps-status, gaps-unclaim, n8n-snapshot-cron, n8n-snapshot-status, network-shop-audit-status, orchestration-terminal-entry, secrets-identity-rbac-lock, secrets-identity-rbac-status, secrets-projects-status, session-start, vm-governance-audit. Impact: discovery gaps, capability discoverability issues.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:16:11Z"
    fixed_in: 43ceb8a
  - id: "GAP-OP-185"
    discovered_by: "Terminal-D-hardening-discovery-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/workbench"
    description: |
      6 occurrences of uppercase ~/Code paths in workbench non-archive files violate D42 path case lock. Files: infra/data/backup_inventory.json:348, infra/compose/n8n/setup-vm.sh:26, infra/compose/mcpjungle/docs/DISASTER_RECOVERY.md:36+72, infra/compose/mcpjungle/servers/immich-photos/SPEC.md:233+390. Spine D42 gate covers agentic-spine only; workbench needs parity or explicit exclusion doc.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:01Z"
    fixed_in: 534aa41
  - id: "GAP-OP-184"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh + docs/governance/VERIFY_SURFACE_INDEX.md"
    description: |
      Drift gate numbering has a documented hole: D21 is missing from active gate sequence and related indexes, with no explicit reservation/deprecation note. This causes audit/reporting confusion when cross-referencing gates.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:16Z"
    fixed_in: 411dfb1
  - id: "GAP-OP-186"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate warning semantics are non-failing. In surfaces/verify/drift-gate.sh, warn() does not set FAIL=1, so spine.verify can report PASS while emitting WARN conditions for degraded runtime state (e.g. launchd watcher unloaded). This creates false-green operator signals and weakens gate trust.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:31Z"
    fixed_in: ce26e87
  - id: "GAP-OP-187"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "bin/ops"
    description: |
      bin/ops dispatches sourced command files but has no ERR trap or contextual failure wrapper. When a sourced command exits non-zero, callers often get opaque exit code output without command-level attribution. This increases debugging latency and makes failed automation runs harder to triage.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:36Z"
    fixed_in: 3d90966
  - id: "GAP-OP-188"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/d58-ssot-freshness-lock.sh + docs/governance/*.md"
    description: |
      D58 freshness coverage is narrower than governance semantics. surfaces/verify/d58-ssot-freshness-lock.sh only evaluates docs/governance/SSOT_REGISTRY.yaml entries and does not enforce frontmatter freshness across authoritative governance docs. Verified authoritative docs with missing/stale last_verified are currently unflagged: SHOP_NETWORK_AUDIT_RUNBOOK.md (missing), NETWORK_RUNBOOK.md (missing), PHASE4_OBSERVABILITY_RUNBOOK.md (missing), SCRIPTS_AUTHORITY.md (stale >14d).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:41Z"
    fixed_in: 463ec68
  - id: "GAP-OP-189"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "mailroom/inbox/parked + mailroom/state/loop-scopes"
    description: |
      Mailroom parked-loop discoverability drift: LOOP-MD1400-SAS-DRIVER-RESOLVE.md is present in mailroom/inbox/parked while canonical loop state is tracked in mailroom/state/loop-scopes/LOOP-MD1400-SAS-RECOVERY-20260208.scope.md and ops loops list shows 0 open loops. Duplicate parked surfaces can mislead agents doing grep-first triage and create conflicting task visibility.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:46Z"
    fixed_in: runtime cleanup (gitignored)
  - id: "GAP-OP-190"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/GAP_LIFECYCLE.md"
    description: |
      GAP_LIFECYCLE governance doc lacks document-level YAML frontmatter (status/owner/last_verified/scope), unlike most authoritative governance docs. This weakens metadata-driven indexing/freshness tooling and can reduce trust/discoverability for the gap mutation contract.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:59Z"
    fixed_in: 94edec9
  - id: "GAP-OP-191"
    discovered_by: "Terminal-D-hardening-discovery-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/"
    description: |
      30 plugin directories with executable bin scripts have ZERO test files. Affected: audit(3bins), authority(2), backup(6), budget(1), cloudflare(6), docker(5), docs(3), github(4), ha(2), home(3), host(8), infra(18), mailroom-bridge(7), maker(3), mcp(1), media(1), mint(5), monolith(2), n8n(3), network(12), proposals(3), rag(2), release(1), secrets(15), services(1), session(1), ssh(1), verify(2), vm(1). Baseline gap for future hardening, not active drift.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:20:09Z"
    fixed_in: b359dd4
  - id: "GAP-OP-192"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/"
    description: |
      Core command surfaces are not executable: ops/commands/{lane.sh,preflight.sh,start.sh,status.sh} are mode 644. Invocations fail with permission denied when called directly, breaking operator and agent command flow.
    severity: critical
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-193"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate warn() increments WARN_COUNT but does not set FAIL=1, allowing PASS with degraded runtime states. This creates false-green verify outcomes and weakens trust in gate severity signaling.
    severity: critical
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-194"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Capability registry lacks explicit readiness lifecycle metadata (ready/planned/deprecated) across capabilities. This makes execution availability ambiguous and blocks machine-enforced filtering of non-runnable intents.
    severity: critical
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-195"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Operational runbooks are inconsistent on canonical spine execution protocol. HASS/Home/Shop runbooks need explicit standard section for ops cap usage, receipts, and prohibited direct execution.
    severity: high
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-196"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/SESSION_PROTOCOL.md"
    description: |
      SESSION_PROTOCOL lacks explicit decision tree for selecting ops cap run vs ops run --inline vs proposal flow. Operators can still choose write paths inconsistently.
    severity: high
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-197"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      Binding files lack lifecycle metadata normalization. Binding set has no document-level status field and weak freshness discoverability, making stale/non-authoritative bindings hard to detect mechanically.
    severity: high
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-198"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "fixtures/baseline/"
    description: |
      Fixture baseline includes hash-only artifacts without stored baseline output payloads, limiting deterministic replay diagnosis and reducing explainability of replay mismatches.
    severity: high
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-199"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/INFRASTRUCTURE_MAP.md"
    description: |
      INFRASTRUCTURE_MAP remains historical and stale (last_verified 2026-01-25) while still discoverable from active governance surfaces, creating operator confusion about authority boundaries.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-200"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/CAMERA_SSOT.md"
    description: |
      CAMERA_SSOT still contains pervasive TBD placeholders for model/location metadata across channels, leaving an authoritative SSOT materially incomplete for execution use.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-201"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/d54-ssot-ip-parity-lock.sh"
    description: |
      D54 gate acts as a pure delegation wrapper with minimal first-party diagnostics. Failures provide limited root-cause context and reduce operator debuggability during drift incidents.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-202"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate gate_script output is truncated to first 80 lines, which can hide decisive failure evidence in verbose gates and slows incident triage.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-203"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/runtime/inbox/hot-folder-watcher.sh"
    description: |
      hot-folder-watcher contains high volume of /dev/null redirections (36), suppressing operational diagnostics and making runtime failure analysis difficult.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-204"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Several API/network-facing capabilities (ha.ssot.*, infra.gh_issue, media.metrics.today, secrets.identity.rbac.*) lack explicit preconditions metadata, weakening safety contracts for external side effects.
    severity: medium
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-205"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "mailroom/state/loop-scopes/"
    description: |
      Loop scope status taxonomy is not formally specified; observed values include closed, CLOSED, planned, authoritative. Missing state-machine contract allows inconsistent lifecycle semantics.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-206"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-MINT-MINIO-FRESH-SLATE-CUTOVER-20260212.scope.md"
    description: |
      Loop scope uses uppercase status CLOSED, violating normalized lowercase lifecycle values and creating case-sensitive reconciliation inconsistencies.
    severity: medium
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-207"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: ".archive/staged/"
    description: |
      .archive/staged subtree remains populated with service-like directories that resemble deployable sources, creating ambiguity between archived snapshots and active staging surfaces.
    severity: low
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-208"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: ".archive/"
    description: |
      No canonical ARCHIVE_POLICY.md in spine root/archive governance surface to define retention, cleanup cadence, and reader expectations for archived artifacts.
    severity: low
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-209"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: ".archive/contracts/_source/"
    description: |
      Archived contract source folder duplicates active governance filenames, increasing search-result ambiguity and risk of reading stale sources as active authority.
    severity: low
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-210"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "fixtures/events/"
    description: |
      Fixture corpus remains thin (5 events, single v1 version), limiting replay confidence across broader capability and event variants.
    severity: low
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-211"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/ready.sh"
    description: |
      Residual cleanup debt persists across governance utilities: empty archive stub docs, stale proposals-trash artifacts, and ready.sh lacking help/usage guidance reduce operator clarity and tooling hygiene.
    severity: low
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-212"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/WORKBENCH_SHARE_PROTOCOL.md"
    description: |
      WORKBENCH_SHARE_PROTOCOL references share.publish capability but no such capability exists in ops/capabilities.yaml
    severity: high
    status: fixed
    notes: "share.publish capabilities registered in capabilities.yaml"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
  - id: "GAP-OP-213"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      Missing share publish execution plugin and capability scripts in ops/plugins
    severity: high
    status: fixed
    notes: "share plugin with 3 scripts: preflight, preview, apply"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
  - id: "GAP-OP-214"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      Missing share publish remote contract binding for share channel remote/branch/behavior
    severity: medium
    status: fixed
    notes: "share.publish.remote.yaml binding created with one-way/manual/dry-run contract"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
  - id: "GAP-OP-215"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      Missing share governance drift gate to enforce allowlist+denylist+capability wiring consistency
    severity: medium
    status: fixed
    notes: "D82 share-publish-governance-lock.sh wired into drift-gate.sh"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
  - id: "GAP-OP-216"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-apply"
    description: |
      share.publish.apply claims curated publish semantics but performs git push share HEAD:main, which pushes full repository state instead of a filtered payload from allowlist/denylist. This violates the one-way curated contract in WORKBENCH_SHARE_PROTOCOL and can leak out-of-scope content.
    severity: critical
    status: fixed
    notes: "apply now builds curated workspace from publish manifest, not full HEAD push"
    fixed_in: 2b8b32b
  - id: "GAP-OP-217"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-preflight"
    description: |
      share.publish.preflight advertises spine.verify enforcement but does not run or validate spine.verify output. Publish can proceed even when governance drift gates fail, weakening safety posture.
    severity: high
    status: fixed
    notes: "preflight now runs drift-gate.sh for real verify enforcement"
    fixed_in: 2b8b32b
  - id: "GAP-OP-218"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-preview"
    description: |
      share.publish.preview only enforces denylist secret_patterns and credential_patterns. identity_patterns, infrastructure_patterns, and runtime_patterns in share.publish.denylist.yaml are not evaluated, leaving intended block classes unenforced.
    severity: high
    status: fixed
    notes: "preview now scans all 5 denylist sections: secret, credential, identity, infrastructure, runtime"
    fixed_in: 2b8b32b
  - id: "GAP-OP-219"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-apply + ops/bindings/share.publish.remote.yaml"
    description: |
      share publish scripts hardcode remote name 'share' and target branch 'main' instead of resolving contract values from share.publish.remote.yaml. Binding exists but is not authoritative at runtime, allowing contract drift.
    severity: medium
    status: fixed
    notes: "apply reads remote/branch/flow/push_policy from share.publish.remote.yaml binding"
    fixed_in: 2b8b32b
  - id: "GAP-OP-220"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d82-share-publish-governance-lock.sh"
    description: |
      D82 gate validates existence/wiring only, but does not assert behavioral contract parity (apply must not push full HEAD, preflight must enforce verify, preview must evaluate all denylist sections). Governance can appear green while semantics drift.
    severity: medium
    status: fixed
    notes: "D82 now enforces 3 semantic parity checks: drift-gate invocation, 5-section denylist coverage, binding-driven curated apply"
    fixed_in: 2b8b32b
  - id: "GAP-OP-224"
    discovered_by: "BIN_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "bin/cli/bin/spine, bin/commands/agent.sh, bin/ops-verify"
    description: |
      Hardcoded path brittleness — multiple scripts contain literal /Users/ronnyworks/code/agentic-spine paths that break if repo is moved/cloned. Inconsistent path resolution strategies across scripts.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-225"
    discovered_by: "FIXTURES_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "fixtures/"
    description: |
      Missing fixture schema and index — no fixtures/events/v1/SCHEMA.md defining valid header values (AUDIENCE, MODE, etc.), no fixtures/INDEX.md listing all fixtures with descriptions. Agents must scan directory structure and guess header values.
    severity: medium
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-226"
    discovered_by: "FIXTURES_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "fixtures/.DS_Store, fixtures/n8n/"
    description: |
      Fixtures hygiene issues — .DS_Store system artifact should be gitignored. Missing fixtures/n8n/README.md explaining the workflow JSON usage.
    severity: low
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-227"
    discovered_by: "BIN_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "Multiple files using 'agent' term"
    description: |
      Agent terminology confusion — the term 'agent' has 5 distinct meanings: AI Agent (Claude/OpenCode), agent subcommand (CLI), agent runtime (execution layer), agent inbox (mailroom queue), domain agent (workbench services). No unified glossary exists.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-228"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/agents/immich-agent.contract.md, ops/bindings/agents.registry.yaml"
    description: |
      Agent contract status drift — immich-agent contract says 'registered' but agents.registry.yaml says 'pending'. Mismatch causes routing confusion and governance check failures.
    severity: high
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-229"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/capabilities.yaml lines ~305-316"
    description: |
      capabilities.yaml path inconsistencies — monolith.search and monolith.git_status commands lack ./ prefix that other commands use. Paths like 'agentic-spine/ops/...' will resolve incorrectly at runtime. Must change to './ops/...' form.
    severity: high
    status: closed
    notes: "Not a bug: monolith caps use cwd=HOME/code making bare agentic-spine/ops path correct. Adding ./ would double-resolve. D63 validates from repo root."
  - id: "GAP-OP-232"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/ops (deprecated shim)"
    description: |
      Deprecated shim still present — ops/ops file redirects to bin/ops but has no deprecation warning output. Confusing for agents that may see both as entry points.
    severity: low
    status: fixed
    notes: "ops/ops shim emits DEPRECATED warning to stderr before exec"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-230"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "README.md, ops/README.md"
    description: |
      Undocumented CLI commands — agent, verify, pr, close, ai, hooks, loops, status, ready are in bin/ops but not documented in any README. Agents can't discover commands from docs alone, must read source.
    severity: medium
    status: fixed
    notes: "CLI commands documented in README.md + ops/README.md (14 commands)"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-231"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/agents/*.contract.md"
    description: |
      Agent contract structure inconsistency — different contracts use different section names ('V1 Tools' vs 'Governed Tools', 'Mutation Policy' missing from some, 'Integration Points' vs 'Defers to Spine'). Need unified contract template.
    severity: low
    status: fixed
    notes: "Contract sections normalized: media-agent Governed Tools added, mint-agent V1 Tools renamed, n8n-agent caps/plural fixed, finance-agent reordered"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-233"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/engine/"
    description: |
      Engine provider documentation scattered — zai.sh, claude.sh, openai.sh, local_echo.sh all exist but only z.ai is documented in README. Agents don't know all provider options without reading source.
    severity: low
    status: fixed
    notes: "All 4 engine providers documented in README.md: zai, claude, openai, local_echo"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-236"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/proposals/"
    description: |
      Superseded proposals not archived — 6 SUPERSEDED proposals still in active proposals directory. Minor clutter; agents might process superseded proposals. Should move to outbox/proposals/.archived/.
    severity: low
    status: fixed
    notes: "6 SUPERSEDED proposals moved to proposals/.archived/ (filesystem-only, gitignored)"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-234"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/*.md (10+ files)"
    description: |
      Orphaned result files — 10+ outbox result files have no corresponding ledger entries (KERNEL_HARDEN_CONTRACTS, unified-test, email_received, etc.). spine.status queries may miss these runs; agents see results without trace.
    severity: medium
    status: fixed
    notes: "Orphan reconciliation manifest created at mailroom/outbox/.orphan-reconciliation.md — 13 pre-ledger results documented"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-235"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/state/open_loops.jsonl, mailroom/state/loop-scopes/"
    description: |
      Loop SSOT confusion — open_loops.jsonl is empty (0 lines) but 79 scope files exist in loop-scopes/. Pre-consolidation has 177 lines, archived has 284. Agents can't easily determine which loops are active. ./bin/ops loops list --open returns 0 but scope files exist.
    severity: medium
    status: fixed
    notes: "LOOP_SSOT_README.md added to mailroom/state/ — clarifies open_loops.jsonl vs scope files relationship"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-237"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/*.md"
    description: |
      Duplicate audit timestamps — same audits have two timestamp formats (e.g., MINT_OS_ARCH_DECISION_BRIEF_20260212.md and MINT_OS_ARCH_DECISION_BRIEF_20260212T120000Z.md). Agents may not know which is canonical. Should standardize on ISO 8601 Z.
    severity: low
    status: fixed
    notes: "3 plain-date duplicate audits removed, ISO 8601 Z versions kept (filesystem-only, gitignored)"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-238"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      share.publish.status capability missing — no single-command readiness report
    severity: medium
    status: fixed
    notes: "share.publish.status capability created + script + capability_map entry"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-239"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/bindings/share.publish.allowlist.yaml"
    description: |
      share.publish.preview blocks 79 of 150 candidates because allowlist is too broad for intended share scope
    severity: high
    status: fixed
    notes: "Allowlist tightened: 3 wildcards replaced with 6 named safe files"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-240"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/WORKBENCH_SHARE_PROTOCOL.md"
    description: |
      WORKBENCH_SHARE_PROTOCOL step 3 still says 'pushes HEAD to share remote' instead of curated payload
    severity: low
    status: fixed
    notes: "Protocol doc line 86 fixed: HEAD push -> curated allowlisted payload"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-241"
    discovered_by: "DEEP_SCAN_TRIAGE_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/GAP_LIFECYCLE.yaml"
    description: |
      GAP_LIFECYCLE has no YAML schema — gap entries in operational.gaps.yaml follow a pattern but no formal schema file exists defining required fields, valid types, severity levels, or status values. Could bundle into GAP-OP-211 cleanup debt.
    severity: low
    status: fixed
    notes: "gap.schema.yaml created in ops/bindings/, cross-ref added to GAP_LIFECYCLE.md"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-242"
    discovered_by: "DEEP_SCAN_TRIAGE_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh D20"
    description: |
      D20 fragile secrets regex — the D20 drift gate uses a regex pattern for secrets detection that may have edge cases or false negatives. Should review and harden the pattern matching.
    severity: low
    status: fixed
    notes: "D20 hardened: printf brace form, curl --trace detection, api_key/api_secret patterns"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-243"
    discovered_by: "DEEP_SCAN_TRIAGE_20260213"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "docs/ (137 files)"
    description: |
      137 docs reference workbench independently — docs across the codebase reference ~/code/workbench or the workbench repo without going through the spine's binding layer. Creates potential for path drift and inconsistent references.
    severity: medium
    status: fixed
    notes: "Workbench path governance section added to WORKBENCH_SHARE_PROTOCOL.md, 137 existing refs grandfathered"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-244"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/brain/lessons/FINANCE_*.md + docs/pillars/finance/*.md"
    description: |
      Finance lesson and pillar docs still describe docker-host/VM200 as active authority while finance workloads are live on VM 211. Authoritative docs with stale host targets create agent misrouting risk (deploy/troubleshooting/runbook execution to wrong host).
    severity: high
    status: fixed
    notes: "Finance docs aligned to VM 211: docker-host→finance-stack, IPs/ports/paths updated across 9 files"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-245"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/core/SPINE_SESSION_HEADER.md + docs/ACTIVE_DOCS_INDEX.md + docs/README.md"
    description: |
      Docs index/header drift: session header and docs README still reference legacy gate-era counts (D1-D57), and active docs navigation omits current pillars/planning surfaces. This creates outdated operator guidance and discovery gaps.
    severity: medium
    status: fixed
    notes: "Updated gate-era refs D57→D82 in session header, docs README, active docs index; added pillars/planning to docs nav"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-246"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/INFRASTRUCTURE_MAP.md + docs/governance/DOMAIN_ROUTING_REGISTRY.yaml + docs/governance/CORE_AGENTIC_SCOPE.md + docs/governance/GOVERNANCE_INDEX.md + docs/governance/_audits/RAG_INTEGRATION_RATIONALE.md"
    description: |
      Active governance docs contain broken cross-references to missing/superseded targets (docs/modules paths, AUTHORITY_INDEX, SUPERVISOR_CHECKLIST). Broken pointers degrade traceability and can route agents to dead docs.
    severity: medium
    status: fixed
    notes: "Repaired broken cross-references: docs/modules→legacy annotations, AUTHORITY_INDEX→GOVERNANCE_INDEX, SUPERVISOR_CHECKLIST→superseded"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-247"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/brain/memory.md"
    description: |
      Brain memory still lists LOOP-MEDIA-STACK-SPLIT as pending P6 soak/destruction despite completion. Stale memory context can mislead session bootstrap and prioritization decisions.
    severity: low
    status: fixed
    notes: "Marked LOOP-MEDIA-STACK-SPLIT-20260208 complete in brain memory"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-248"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      False-close follow-up to GAP-OP-193: drift-gate warn() increments WARN_COUNT but never escalates FAIL, so warning-only degraded states still exit 0. Need explicit WARN severity contract (escalate or policy-gated fail) and implementation parity.
    severity: high
    status: fixed
    notes: "WARN_POLICY contract: advisory (default) or strict mode. Documented in header + implemented in exit logic"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-249"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/bindings"
    description: |
      False-close follow-up to GAP-OP-197: bindings metadata normalization incomplete. 42 binding files exist, only 27 have updated:, and 0 have a status: field. Add binding metadata contract and normalize remaining files.
    severity: high
    status: fixed
    notes: "cloudflare.inventory.yaml (JSON) normalized with _status/_last_verified fields; all 42 bindings now have metadata"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-250"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/runtime/inbox/hot-folder-watcher.sh"
    description: |
      False-close follow-up to GAP-OP-203: hot-folder-watcher still contains 30 /dev/null redirections, suppressing diagnostics and making failure forensics incomplete. Route non-benign error paths to governed logs/receipt-linked diagnostics.
    severity: medium
    status: fixed
    notes: "8 non-benign /dev/null redirections routed to DIAG_LOG: shasum, secret detection, RAG search, file reads, find"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-251"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      False-close follow-up to GAP-OP-204: capability preconditions contract remains inconsistent. infra.gh_issue lacks explicit preconditions metadata while peer API/network capabilities declare safety preconditions.
    severity: medium
    status: fixed
    notes: "auth_model:gh-cli added to infra.gh_issue — explicit no-Infisical marker, D63 contract satisfied"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-252"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-MINT-MINIO-ACCESS-CONTRACT-20260212.scope.md"
    description: |
      False-close follow-up to GAP-OP-206: loop scope lifecycle casing still inconsistent. LOOP-MINT-MINIO-ACCESS-CONTRACT-20260212.scope.md retains '> **Status:** CLOSED' instead of normalized lowercase lifecycle status.
    severity: low
    status: fixed
    notes: "LOOP-MINT-MINIO-ACCESS-CONTRACT-20260212.scope.md: CLOSED→closed"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-253"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: ".archive"
    description: |
      False-close follow-up to GAP-OP-211: cleanup tail remains. .archive/contracts/AGENTS_README.md is still zero-byte and .archive/proposals-trash/CP-20260211-094551__-- persists, leaving archival hygiene incomplete.
    severity: low
    status: fixed
    notes: "Removed zero-byte .archive/contracts/AGENTS_README.md (git rm) + deleted .archive/proposals-trash/CP-20260211-094551__-- (disk)"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-254"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/_index.yaml"
    description: |
      Index parity: 9 governance docs missing from _index.yaml, ACTIVE_DOCS_INDEX incomplete, CONTRIBUTING.md and brain core docs unregistered
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:30:58Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-255"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/INFRASTRUCTURE_AUTHORITY.md"
    description: |
      Metadata freshness: 3 docs lack required lifecycle frontmatter (status/owner/last_verified/scope) - INFRASTRUCTURE_AUTHORITY.md, CONTRIBUTING.md, MINT_FRESH_SLATE_INFRA_BOOTSTRAP_RUNBOOK.md
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:00Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-256"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/ACTIVE_DOCS_INDEX.md"
    description: |
      Broken refs and path hygiene: 5 broken internal refs in ACTIVE_DOCS_INDEX.md and README.md, legacy path patterns in active governance docs
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:01Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-257"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/brain/lessons/"
    description: |
      Archive/promote/condense: 21 brain lesson files unarchived, 2 brain core docs unpromoted, HOME_BACKUP_STRATEGY.md overlaps BACKUP_GOVERNANCE.md requiring merge
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:03Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-258"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Self-management hardening: no drift gate enforcing doc index registration, broken ref detection, or stale metadata policy for docs lifecycle
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:05Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-259"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/proposals/bin/proposals-apply"
    description: |
      proposals-apply awk parser truncates ISO timestamps at first time-colon: line 87 uses awk -F colon-space with print field-2, which splits timestamps losing minutes and seconds from Created trailer in commit messages
    severity: high
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "Fixed awk parser in proposals-apply: sub() pattern replaces field-separator approach. Test: proposals-apply-test.sh 5/5 pass."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-260"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/d83-proposal-queue-health-lock.sh"
    description: |
      D83 lifecycle parity mismatch: missing created field only warns instead of failing per lifecycle contract; superseded check uses combined AND condition instead of per-field enforcement
    severity: medium
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "D83 now fails on missing created field and enforces superseded_at/superseded_reason independently. Test: d83-test.sh 8/8 pass (3 new negative tests)."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-261"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/commands/status.sh"
    description: |
      Control-plane proposal queue observability gap: ops status has no proposals summary, session-entry-hook omits queue health, Terminal C runbook Gate 0 omits proposals.status
    severity: medium
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "ops status shows proposal queue counts in full/brief/JSON output. session-entry-hook warns on pending overflow. Terminal C runbook Gate 0 includes proposals.status."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-262"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/commands/status.sh"
    description: |
      Planned loop visibility gap: ops status filters out loops with status planned even though SESSION_PROTOCOL defines planned as valid loop scope status
    severity: medium
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "ops status now surfaces planned loops in PLANNED LOOPS section, separate from open/closed. Brief output shows planned count."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-263"
    discovered_by: "LOOP-POST-PARITY-TAIL-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/status.sh"
    description: |
      ops status parked_dir and done_dir point to mailroom/parked and mailroom/done but actual paths are mailroom/inbox/parked and mailroom/inbox/done
    severity: medium
    status: fixed
    notes: "Fixed parked_dir/done_dir paths from mailroom/parked to mailroom/inbox/parked (and done). Commit 22654c8."
    parent_loop: "LOOP-POST-PARITY-TAIL-20260213"
    fixed_in: LOOP-POST-PARITY-TAIL-20260213
  - id: "GAP-OP-264"
    discovered_by: "LOOP-POST-PARITY-TAIL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/README.md"
    description: |
      D82-era gate count text remains in docs/README.md and docs/core/SPINE_SESSION_HEADER.md: references to D1-D82 and 82 active gates should be updated to D84 and 84 active
    severity: medium
    status: fixed
    notes: "Updated D1-D82 to D1-D84 and 82 active to 84 active in docs/README.md and docs/core/SPINE_SESSION_HEADER.md. Commit a31ca44."
    parent_loop: "LOOP-POST-PARITY-TAIL-20260213"
    fixed_in: LOOP-POST-PARITY-TAIL-20260213
  - id: "GAP-OP-265"
    discovered_by: "LOOP-POST-PARITY-TAIL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/GOVERNANCE_INDEX.md"
    description: |
      GOVERNANCE_INDEX.md references non-existent AUTHORITY_INDEX.md in conflict resolution flowchart and related documents table
    severity: medium
    status: fixed
    notes: "Replaced 3 AUTHORITY_INDEX.md references in GOVERNANCE_INDEX.md: flowchart points to GOVERNANCE_INDEX, related docs table uses ACTIVE_DOCS_INDEX.md. Commit 9ad5e03."
    parent_loop: "LOOP-POST-PARITY-TAIL-20260213"
    fixed_in: LOOP-POST-PARITY-TAIL-20260213
  - id: "GAP-OP-266"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/brain/_imported/claude-commands/, docs/ACTIVE_DOCS_INDEX.md, docs/governance/CANONICAL.md, docs/legacy/_imports/"
    description: |
      Archive candidates still in place from docs audit: deprecated brain commands (ask.md, incidents.md in _imported/claude-commands/), superseded ACTIVE_DOCS_INDEX.md (replaced by _index.yaml), redundant CANONICAL.md (duplicates core/CANONICAL_DOCS.md), and 58 legacy import scripts in docs/legacy/_imports/ronny-ops_20260201_024236/
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:04:40Z"
    fixed_in: b30c52b — tombstoned ask.md, incidents.md, CANONICAL.md; local README for legacy imports
  - id: "GAP-OP-268"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/core/CORE_LOCK.md, docs/brain/memory.md, docs/core/AGENT_CONTRACT.md, docs/core/AGENT_OUTPUT_CONTRACT.md"
    description: |
      Doc freshness stale from docs audit: docs/core/CORE_LOCK.md lacks last_verified frontmatter; docs/brain/memory.md shows last_verified 2026-02-10 (3 days stale); core batch docs (AGENT_CONTRACT.md, AGENT_OUTPUT_CONTRACT.md) still stamped 2026-02-04 (9 days stale). Freshness SLA not enforced.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:05:44Z"
    fixed_in: e0ac2e1 — normalized last_verified in CORE_LOCK, memory, AGENT_CONTRACT, AGENT_OUTPUT_CONTRACT
  - id: "GAP-OP-267"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "docs/governance/, AGENTS.md, CLAUDE.md, docs/core/"
    description: |
      Condense sprawl from docs audit: agent governance cluster still has 3 separate files (AGENT_GOVERNANCE_BRIEF.md, AGENTS_GOVERNANCE.md, AGENT_BOUNDARIES.md) instead of merged; root embeds in AGENTS.md and CLAUDE.md still have full GOVERNANCE_BRIEF blocks instead of pointer shims; core boundary has 3 files (GOVERNANCE_MINIMUM.md, CANONICAL_DOCS.md, CORE_LOCK.md) that could be consolidated
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:06:14Z"
    fixed_in: a421358 — clarified governance doc scopes, tombstoned ACTIVE_DOCS_INDEX.md, updated indexes
  - id: "GAP-OP-269"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml, docs/brain/README.md"
    description: |
      Self-management incomplete from docs audit: only 2 of 7 recommended docs.* capabilities exist (docs.status, docs.lint) - missing docs.index.verify, docs.freshness.audit, docs.orphan.detect, docs.frontmatter.lint, docs.sprawl.detect. No lessons lifecycle policy in brain/README.md (no freshness SLA, no graduation rules, no archive triggers).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:06:38Z"
    fixed_in: 14a9f17+0a5d549 — 5 docs.* caps (index.verify, freshness.audit, orphan.detect, frontmatter.lint, sprawl.detect) + brain lifecycle policy
  - id: "GAP-OP-270"
    discovered_by: "LOOP-BASELINE-STABILIZATION-WAVE-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/status.sh"
    description: |
      ops status inbox scan only globs root mailroom/inbox/*.md, missing lane subdirectories (queued/running/failed/done/parked/archived). ops status --brief reports Inbox: 0 despite 20+ lane files present. Follow-up from partial GAP-OP-263 fix.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:12:45Z"
    parent_loop: "LOOP-BASELINE-STABILIZATION-WAVE-20260213"
    fixed_in: 6a048cc — lane-aware inbox scanning in ops status (count_lane_files replaces root-only glob)
  - id: "GAP-OP-271"
    discovered_by: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/proposals/bin/proposals-status"
    description: |
      proposals-status defaults missing status field to pending, ignoring read_only/mode fields. CP-20260213-1205 has read_only:true but no status: field, so counted as Pending:1 instead of Read-only:1. D83 also lacks artifact integrity enforcement for actionable proposals.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:39:29Z"
    parent_loop: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    fixed_in: 2b965fe — proposals-status and D83 detect read_only/mode fields; test 9/9 pass
  - id: "GAP-OP-272"
    discovered_by: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/proposals/"
    description: |
      Proposal artifact drift: CP-20260213-1205 manifest declares artifacts but has no status field. CP-20260212T160000Z shipping CP missing receipt.md. 4 mint-suppliers draft_hold CPs have no files/ (expected for hold). Need explicit status normalization for all manifests.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:39:32Z"
    parent_loop: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    fixed_in: local — added status:read-only to CP-20260213-1205 manifest; shipping CP already correct
  - id: "GAP-OP-273"
    discovered_by: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/inbox/failed/"
    description: |
      6 items in mailroom/inbox/failed/: 5 are test artifacts from hot-folder-watcher smoke tests, 1 is a real failed session. Need triage (archive test items), update MAILROOM_RUNBOOK with failed-lane SOP, and policy for ops status anomaly allowlisting.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:39:35Z"
    parent_loop: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    fixed_in: 0842faa — added failed-lane SOP to MAILROOM_RUNBOOK; archived 6 items from failed/
  - id: "GAP-OP-274"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/plugins/docs/bin/docs-freshness-audit"
    description: |
      docs.freshness.audit does not cover docs/core authoritative set — only checks governance/ directory freshness, missing core doc staleness detection
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:01Z"
    fixed_in: f9aee07 — expanded docs.freshness.audit to cover docs/core
  - id: "GAP-OP-275"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Missing docs capabilities: docs.legacy.audit and docs.brain.freshness not registered in capabilities.yaml or capability_map.yaml — no automated way to audit legacy doc references or brain freshness
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:04Z"
    fixed_in: 95151b4 — registered docs.legacy.audit and docs.brain.freshness
  - id: "GAP-OP-276"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/core/GOVERNANCE_MINIMUM.md"
    description: |
      GOVERNANCE_MINIMUM disposition unclear vs CORE_LOCK — no explicit statement whether GOVERNANCE_MINIMUM is standalone-by-design or should be merged into CORE_LOCK
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:07Z"
    fixed_in: fb9dc77 — added standalone-by-design disposition to GOVERNANCE_MINIMUM
  - id: "GAP-OP-277"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/AGENT_GOVERNANCE_BRIEF.md"
    description: |
      AGENTS/CLAUDE full-embed policy lacks explicit by-design-under-D65 contract note — embed architecture should be documented as intentional with rationale
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:09Z"
    fixed_in: fb9dc77 — added D65 embed architecture policy note
  - id: "GAP-OP-278"
    discovered_by: "Terminal-C-post-loop-audit"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "receipts/sessions"
    description: |
      55 RCAP receipts in receipts/sessions lack corresponding CAP rows in the ledger — ledger parity policy needed
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T19:08:37Z"
    fixed_in: c89b2de — receipt-ledger parity check in ledger-reconcile.sh
  - id: "GAP-OP-279"
    discovered_by: "Terminal-C-post-loop-audit"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "mailroom/outbox/proposals"
    description: |
      Draft-hold proposal artifacts have no contract for receipt/files requirements by status — 4 mint-suppliers CPs have files_count 0, 1 shipping CP has no receipt.md
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T19:08:39Z"
    fixed_in: c89b2de — artifact requirements per status in proposals.lifecycle.yaml
  - id: "GAP-OP-280"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P1: Layer 1 slash commands — 7 repo-governed workflow commands with sync-to-home mechanism
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:10:55Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 389be58 (P1 slash commands)
  - id: "GAP-OP-281"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P2: RAG integration — MCP adapter for AnythingLLM, recipe indexing, query patterns
    severity: medium
    status: closed
    notes: "Filed via gaps.file at 2026-02-13T20:11:00Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: blocked — RAG VM (207) unreachable, P2 deferred to next session when VM is operational
  - id: "GAP-OP-282"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P3: Self-documenting gates — TRIAGE headers on all active gate scripts, drift-gate.sh extraction
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:03Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: b78b787 (P3 self-documenting gates)
  - id: "GAP-OP-283"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P4: Enhanced session context — gate reference card and precondition hints from registry
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:04Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 0b855d8 (P4 enhanced session context)
  - id: "GAP-OP-284"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P5: Domain agent bridge — explicitly deferred, deferral contract filed
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-13T20:11:06Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: deferred — P5 deferral contract in loop scope, re-entry after P2 MCP patterns validated
  - id: "GAP-OP-285"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P6: Gate registry — gate.registry.yaml with D1-D84 metadata, D85 parity gate
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:09Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 1167031 (P6 gate registry)
  - id: "GAP-OP-286"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      Cross-phase integration closeout — all phase DoD met, loop status active->closed
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:11Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 309bc20 — 5/6 phases complete, P2 blocked on VM, loop remains active
  - id: "GAP-OP-287"
    discovered_by: "coordinator-audit"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "docs/brain/generate-context.sh"
    description: |
      Context gate card formatting contract drift: generate-context.sh gate table outputs duplicated category column (4 columns instead of 3)
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:40:23Z"
    fixed_in: 23b5557
  - id: "GAP-OP-288"
    discovered_by: "coordinator-audit"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/bindings/gate.registry.yaml"
    description: |
      gate.registry.yaml count mismatch: total=85, retired=1, active declared=83 but computed non-retired=84
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:40:24Z"
    fixed_in: 23b5557
  - id: "GAP-OP-289"
    discovered_by: "coordinator-audit"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d85-gate-registry-parity-lock.sh"
    description: |
      D85 semantic hardening: no TRIAGE-header completeness check, no dedicated test coverage for D85 gate
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:40:25Z"
    fixed_in: "3714051"
  - id: "GAP-OP-290"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "surfaces/commands/fix.md"
    description: |
      /fix command lists invalid gap types (missing-doc, stale-doc, stale-entry) not in gap.schema.yaml enum
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:55Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-291"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      Scope claims Codex/OpenCode parity sync but sync script is Claude-only
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:56Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-292"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "surfaces/commands/gates.md"
    description: |
      Scope says /gates and /check read from registry at runtime but both commands have hardcoded tables
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:57Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-293"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/bindings/operational.gaps.yaml"
    description: |
      GAP-OP-286 description says active->closed but fixed_in says loop remains active
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:59Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-294"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P2 RAG MCP bridge: MCP server adapter wrapping rag.anythingllm.ask does not exist. VM207 now healthy — unblocks P2 re-entry from LOOP-SPINE-CANONICAL-UPGRADE scope.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:39Z"
    fixed_in: "5792778"
  - id: "GAP-OP-295"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Missing VM operating-profile contract binding. No per-VM policy for ssh_mode, runtime_inspection_mode, health_probe_policy, diagnostic_user_policy. RCA on VM207 exposed docker-group visibility gap that would be caught by a formal profile.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:40Z"
    fixed_in: 758b8c1
  - id: "GAP-OP-296"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Missing VM operating-profile audit capability. vm.governance.audit exists but does not check runtime operating-profile parity (docker group, inspection modes, probe policies) across active VMs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:42Z"
    fixed_in: 1cc72f2
  - id: "GAP-OP-297"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/gate.registry.yaml"
    description: |
      Missing D86 drift gate to enforce VM operating-profile parity. No gate validates that vm.operating.profile.yaml exists and is complete for all active VMs in vm.lifecycle.yaml.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:43Z"
    fixed_in: 1cc72f2
  - id: "GAP-OP-298"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/RAG_INDEXING_RULES.md"
    description: |
      No governed policy for transient outage forensics. When a VM/service is temporarily unreachable, no health history timeline exists for after-the-fact reconstruction. RCA on VM207 found no failure evidence because no periodic health snapshots are retained.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:44Z"
    fixed_in: 0f58fa3
  - id: "GAP-OP-299"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag"
    description: |
      rag status does not distinguish missing workspace from empty workspace — returns docs_indexed: 0 silently instead of hard-failing with explicit workspace-not-found error
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:25Z"
    fixed_in: 93a0037 — workspace existence check added to rag status
  - id: "GAP-OP-300"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag"
    description: |
      rag sync does not preflight workspace existence — uploads all files to nonexistent workspace, burning time on per-file 400/404 errors instead of aborting early
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:27Z"
    fixed_in: 93a0037 — workspace preflight added to rag sync
  - id: "GAP-OP-301"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      no canonical workspace contract binding for RAG — slug, provider, model, index policy, and cutover policy are hardcoded defaults with no governed binding
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:29Z"
    fixed_in: 93a0037 — rag.workspace.contract.yaml created
  - id: "GAP-OP-302"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag"
    description: |
      no resumable/chunked reindex path with checkpointing — long sync runs restart from zero on failure with no state file to resume from
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:36Z"
    fixed_in: 93a0037 — checkpoint/resume sync with --resume flag
  - id: "GAP-OP-303"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      no drift-gate enforcement for RAG workspace contract and CLI semantic parity — workspace slug, provider model, and index eligibility not validated by any gate
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:38Z"
    fixed_in: 93a0037 — D87 gate created and wired
  - id: "GAP-OP-304"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      no explicit RAG reindex runbook or acceptance contract for operators — reindex workflow is ad-hoc with no governed checklist or success criteria doc
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:40Z"
    fixed_in: 93a0037 — RAG_REINDEX_RUNBOOK.md created
  - id: "GAP-OP-305"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG full reindex deferred — run isolated chunked sync with checkpoint/resume, validate parity, run smoke queries, record attestation. Acceptance: parity OK, 2 smoke queries return correct sources, attestation doc committed. Use RAG_REINDEX_RUNBOOK.md.
    severity: medium
    status: closed
    notes: "Filed via gaps.file at 2026-02-13T22:02:48Z"
    fixed_in: superseded — replacement with parent_loop filed as GAP-OP-308
  - id: "GAP-OP-306"
    discovered_by: "LOOP-D87-TEST-COVERAGE-AND-GAP305-LINKAGE-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/tests/"
    description: |
      No dedicated D87 test file — d87-rag-workspace-contract-lock.sh has no test coverage in surfaces/verify/tests/ unlike D85 which has d85-test.sh
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:11:46Z"
    fixed_in: efdda95
  - id: "GAP-OP-307"
    discovered_by: "LOOP-D87-TEST-COVERAGE-AND-GAP305-LINKAGE-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/bindings/operational.gaps.yaml"
    description: |
      GAP-OP-305 deferred reindex gap has no parent_loop — should be linked to LOOP-SPINE-CANONICAL-UPGRADE-20260210 so it is not standalone
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:11:48Z"
    fixed_in: 6962991+c9e9f4c — GAP-OP-305 superseded, GAP-OP-308 filed with parent_loop linkage
  - id: "GAP-OP-308"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG full reindex deferred — run isolated chunked sync with checkpoint/resume, validate parity, run smoke queries, record attestation. Acceptance: parity OK, 2 smoke queries return correct sources, attestation doc committed. Use RAG_REINDEX_RUNBOOK.md. Supersedes GAP-OP-305 (added parent_loop linkage).
    severity: medium
    status: fixed
    parent_loop: "LOOP-RAG-REINDEX-EXECUTION-20260215"
    notes: "Filed via gaps.file at 2026-02-13T22:16:02Z. Re-parented from LOOP-SPINE-CANONICAL-UPGRADE-20260210 on 2026-02-15."
    fixed_in: 'fresh reindex via Mac Ollama embedding: 91 uploaded, 0 failed, 7 secrets-excluded, verify PASS, run keys CAP-20260215-090408 + CAP-20260215-090113'
  - id: "GAP-OP-309"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/hooks/sync-slash-commands.sh"
    description: |
      Slash command parity gap: sync-slash-commands only deploys to ~/.claude/commands; OpenCode/Codex command surfaces are deferred, so only Claude gets the governed /fix /loop /propose /howto workflow updates.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:32Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 1e29b98 + 0d0beeb
  - id: "GAP-OP-310"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "surfaces/commands/propose.md"
    description: |
      /propose command omits proposals.supersede lifecycle guidance; operators/agents lack canonical docs for when and how to supersede stale or empty proposals.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:39Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 9c76722
  - id: "GAP-OP-311"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "surfaces/commands/loop.md"
    description: |
      /loop command omits ./bin/ops start loop <LOOP_ID> worktree/bootstrap path, so agents only see manual scope-file creation and miss governed loop startup automation.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:42Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 9c76722
  - id: "GAP-OP-312"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "surfaces/commands/fix.md"
    description: |
      /fix command does not document --parent-loop usage for gaps.file, increasing risk of unlinked gaps during active loop execution.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:46Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 9c76722
  - id: "GAP-OP-313"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag + surfaces/commands/*.md"
    description: |
      RAG knowledge coverage gap: slash-command docs under surfaces/commands are not indexed into AnythingLLM because they lack required frontmatter, so /howto-/fix-/loop-/propose workflows are absent from RAG retrieval.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:50Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: f0c728f
  - id: "GAP-OP-314"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: ".mcp.json + docs/governance/AGENTS_GOVERNANCE.md"
    description: |
      Domain-agent bridge remains deferred: no governed MCP bridge for finance/media/n8n domain agents, so canonical loop vision has no cross-domain MCP execution surface yet.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:54Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 752c727
  - id: "GAP-OP-315"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      agent.route capability is missing; no governed router exists to dispatch tasks to domain experts (finance/media/n8n) despite canonical-upgrade architecture intent.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:58Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 752c727
  - id: "GAP-OP-317"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.remote.runner.yaml + ops/plugins/rag/bin/*"
    description: |
      Missing remote dependency chain verification from runner host (VM207). Current rag.health checks reachability from laptop but do not validate VM207 perspective of its dependencies. Evidence shows localhost endpoints respond fast (5ms) but upload endpoint times out (180s). Required: rag.remote.dependency.probe capability.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:22:14Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
  - id: "GAP-OP-316"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag-reindex-remote-status + ops/capabilities.yaml"
    description: |
      Missing reindex completion quality gate: rag.reindex.remote.status shows upload/failure counts but no capability validates completion quality. Current controls can pass while reindex is actively timing out with HTTP 000 errors. Required: rag.reindex.remote.verify capability.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:22:30Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
  - id: "GAP-OP-318"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: duplicate-truth
    doc: "ops/plugins/rag/bin/rag + docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      Parity check false-positive: rag status shows parity OK when docs_indexed >= docs_eligible, but this does not detect stale/inflated docs_indexed count (317 vs 104 = 3x inflation), failed uploads (65 timeouts), or checkpoint presence. Required: binding for max_index_inflation_ratio threshold + D89 gate to enforce quality contract.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:22:57Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
  - id: "GAP-OP-319"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.remote.runner.yaml + docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      Missing RAG quality contract binding: no binding exists for reindex quality thresholds. Current rag.remote.runner.yaml defines connection/sync params but no quality gates. Required: max_failed_uploads, max_index_inflation_ratio, max_stall_minutes, dependency timeout SLOs, completion checkpoint/session requirements.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:23:15Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
  - id: "GAP-OP-320"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d89-rag-reindex-quality-contract-lock.sh"
    description: |
      RAG runtime quality gate enforcement: D89 only checks that rag.reindex.remote.verify capability EXISTS, not that it PASSES. Agents get false-green from spine.verify while reindex is actively failing (65 timeouts, session running). Required: D90 gate that calls rag.reindex.remote.verify and fails on quality contract violations.
    severity: high
    status: fixed
    notes: "Implemented D90 drift gate that enforces runtime quality contract when reindex session is stopped. Gate passes when session is running (in progress), fails when session is stopped with quality issues."
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: D90 implementation
  - id: "GAP-OP-321"
    discovered_by: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      Output contract definitions missing: no explicit schema for loop scope format, gap filing fields, proposal manifest structure, or gate scope template. Agents produce inconsistent artifacts across surfaces. Required: governance doc defining canonical schemas for all spine work artifacts.
    severity: high
    status: fixed
    parent_loop: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    notes: "Filed via gaps.file at 2026-02-15T13:02:18Z"
    fixed_in: 65bc6ed — OUTPUT_CONTRACTS.md
  - id: "GAP-OP-322"
    discovered_by: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/"
    description: |
      Session protocol skill (claude.ai) is workflow-only: no identity, no spine overview, no canonical paths, no output contracts, no environment detection. Mobile Claude sessions cannot produce spine-compatible artifacts. Required: upgrade ronny-session-protocol skill to full agent brain bootstrap with identity block, spine context, output contracts, and surface-adaptive behavior.
    severity: high
    status: fixed
    parent_loop: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    notes: "Filed via gaps.file at 2026-02-15T13:02:25Z"
    fixed_in: 5673b03 — device-adaptive SESSION_PROTOCOL.md
  - id: "GAP-OP-323"
    discovered_by: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/"
    description: |
      No environment detection in agent sessions: agents cannot distinguish desktop (filesystem + MCP + CLI) from mobile (no filesystem, no MCP, bridge-only) from remote (tailnet, bridge API). Required: environment hints in session protocol skill that adapt available actions per surface type.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    notes: "Filed via gaps.file at 2026-02-15T13:02:33Z"
    fixed_in: 5673b03 — environment detection in SESSION_PROTOCOL.md
  - id: "GAP-OP-324"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/product/AOF_PRODUCT_CONTRACT.md"
    description: |
      AOF product contract missing
    severity: high
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:43Z"
    fixed_in: c8c3707
  - id: "GAP-OP-325"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/tenant.profile.schema.yaml"
    description: |
      Tenant profile schema missing
    severity: high
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:49Z"
    fixed_in: c8c3707
  - id: "GAP-OP-326"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/policy.presets.yaml"
    description: |
      Policy presets missing
    severity: medium
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:53Z"
    fixed_in: c8c3707
  - id: "GAP-OP-327"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/product/AOF_DEPLOYMENT_PLAYBOOK.md"
    description: |
      Deployment playbook missing
    severity: medium
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:57Z"
    fixed_in: c8c3707
  - id: "GAP-OP-328"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/product/AOF_SUPPORT_SLO.md"
    description: |
      Support SLO missing
    severity: medium
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:02:01Z"
    fixed_in: c8c3707
  - id: "GAP-OP-329"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag-reindex-remote-verify"
    description: |
      rag.reindex.remote.verify count check path warns and skips when it cannot determine indexed/eligible counts from VM207, masking real parity drift
    severity: high
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:33Z"
    fixed_in: 6a348a3,46bf59f
  - id: "GAP-OP-330"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG parity drift: 97 indexed vs 108 eligible after AOF docs added. 11 new docs not yet in vector store.
    severity: high
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:35Z"
    fixed_in: 46bf59f,5aeb0a1
  - id: "GAP-OP-331"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag"
    description: |
      RAG chat timeout: AnythingLLM chat endpoint times out after 45s, falls back to retrieval-only. VM202 Ollama CPU-saturated running phi3:mini on CPU-only.
    severity: medium
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:37Z"
    fixed_in: 454e6da
  - id: "GAP-OP-332"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/mailroom-bridge/bin"
    description: |
      Mailroom bridge files dirty in working tree: mailroom.bridge.yaml and mailroom-bridge-serve modified, __pycache__/ untracked
    severity: low
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:39Z"
    fixed_in: 1c63566
  - id: "GAP-OP-333"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "workbench/infra/homeassistant/config/"
    description: |
      HA config version control: configuration.yaml, automations.yaml, scripts.yaml, scenes.yaml live only inside HA VM. No git-tracked source of truth.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:49:48Z. P0 - Biggest blast radius."
    fixed_in: LOOP-HA-AOF-ALIGNMENT-P1
  - id: "GAP-OP-334"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/tools/unifi-agent.sh"
    description: |
      No Home UniFi API Integration: UDR7 at 10.0.0.1 has no agent integration. Cannot query connected clients, verify DHCP reservations, or detect rogue devices.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:03Z. P1 - UniFi API needed for network verification."
    fixed_in: 5c355ed
  - id: "GAP-OP-335"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HOME_NETWORK_DEVICE_ONBOARDING.md"
    description: |
      No DHCP Reservation Verification: HOME_NETWORK_DEVICE_ONBOARDING.md lists 9 devices with DHCP reservations but nothing verifies UDR7 actually has them configured.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:17Z. P1 - Depends on GAP-OP-334."
    fixed_in: 24773ec
  - id: "GAP-OP-336"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      No Zigbee/Z2M Device Registry: Runbook documents 6 Zigbee devices by hand. Z2M API with real device list, firmware versions, link quality, battery levels is not extracted.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:25Z. P1 - Core smart home devices."
    fixed_in: 31e761d
  - id: "GAP-OP-339"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "workbench/infra/compose/mcpjungle/servers/home-assistant/"
    description: |
      HA Service Calls Blocked for Agents: MCP server has ha_call_service but spine-governance-blocked (P5). Agents can read HA but cannot control anything.
    severity: medium
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:38Z. P2 - Need scoped capabilities."
    fixed_in: 82e1fa1
  - id: "GAP-OP-337"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/ha.addons.yaml"
    description: |
      No HA Add-on Inventory: 12+ HACS integrations, 35 Lovelace cards, multiple supervisor add-ons. None are version-tracked or extracted.
    severity: medium
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:49Z. P2 - Add-on/HACS inventory."
    fixed_in: 24773ec
  - id: "GAP-OP-338"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HOME_NETWORK_AUDIT_RUNBOOK.md"
    description: |
      No Home Network Audit Runbook: Shop has SHOP_NETWORK_AUDIT_RUNBOOK.md with full live-truth verification. Home has onboarding checklist but no equivalent audit procedure.
    severity: medium
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:57Z. P2 - Operationalizes UniFi integration."
    fixed_in: 24773ec
  - id: "GAP-OP-341"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      No HA Health Alerting: HA is out of scope for services.health.yaml per scope decision. Health probe exists but nobody gets notified on failure.
    severity: low
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:51:10Z. P3 - Prevents silent failures."
    fixed_in: 82e1fa1
  - id: "GAP-OP-340"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      No HA Entity ↔ Network Device Cross-Reference: HA knows WiFi devices, Zigbee devices, LAN devices. None of this maps back to network SSOT.
    severity: low
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:51:24Z. P3 - Cross-domain awareness."
    fixed_in: 82e1fa1
  - id: "GAP-OP-342"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "workbench/infra/streamdeck/config.json"
    description: |
      Stream Deck Config Not Tracked: config.json with 15-button layout is runtime-only, gitignored. If Mac is rebuilt, it is lost.
    severity: low
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:51:34Z. P3 - Low effort, nice to have."
    fixed_in: 82e1fa1
  - id: "GAP-OP-343"
    discovered_by: "AOF Policy Runtime V1"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/lib/resolve-policy.sh"
    description: |
      Shared policy resolution helper (resolve-policy.sh) missing — policy presets defined but not consumed at runtime
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T15:31:50Z"
    fixed_in: ops/lib/resolve-policy.sh
  - id: "GAP-OP-344"
    discovered_by: "AOF Policy Runtime V1"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Drift gates not wired to policy presets — drift_gate_mode, warn_policy, session_closeout_sla_hours hardcoded
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T15:31:54Z"
    fixed_in: surfaces/verify/drift-gate.sh
  - id: "GAP-OP-345"
    discovered_by: "AOF Policy Runtime V1"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/commands/cap.sh"
    description: |
      Capability runner not wired to approval_default from policy presets — cap.sh ignores preset selection
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T15:31:58Z"
    fixed_in: ops/commands/cap.sh
  - id: "GAP-OP-346"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/tenant.storage.contract.yaml"
    description: |
      Tenant storage boundary enforcement: receipts/ledger/mailroom runtime paths are shared namespace with no tenant-scoped isolation
    severity: high
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:11Z"
    fixed_in: 92ab558
  - id: "GAP-OP-347"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/policy.runtime.contract.yaml"
    description: |
      Policy runtime enforcement gate: presets exist but no gate validates that runtime behavior complies with declared policy preset knobs
    severity: high
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:13Z"
    fixed_in: 92ab558
  - id: "GAP-OP-348"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/version.compat.matrix.yaml"
    description: |
      Version compatibility matrix enforcement: no SSOT declaring which capabilities/gates/docs are compatible at which versions and no gate enforcing declared compat
    severity: medium
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:14Z"
    fixed_in: 92ab558
  - id: "GAP-OP-349"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/evidence.retention.policy.yaml"
    description: |
      Evidence export/retention runtime contract: no signed attestations, no tenant-scoped retention controls, no export capability
    severity: medium
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:16Z"
    fixed_in: 92ab558
  - id: "GAP-OP-350"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/surface.readonly.contract.yaml"
    description: |
      Surface readonly contract enforcement: no mobile/customer read-only status endpoint specification and no runtime enforcement gate
    severity: medium
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:18Z"
    fixed_in: 92ab558
  - id: "GAP-OP-351"
    discovered_by: "iPhone MCP hardening loop"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      No acceptance test for token auth enforcement — need verified 401 without token and 200 with token on /loops/open and /rag/ask
    severity: high
    status: fixed
    parent_loop: "LOOP-IPHONE-MCP-HARDENING-20260215"
    notes: "Filed via gaps.file at 2026-02-15T15:45:52Z"
    fixed_in: acceptance-pass-2847ac3
  - id: "GAP-OP-352"
    discovered_by: "iPhone MCP hardening loop"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      /rag/ask receipt integrity unverified — need confirmed 200 response with answer, sources, receipt, workspace keys and receipt file on disk
    severity: high
    status: fixed
    parent_loop: "LOOP-IPHONE-MCP-HARDENING-20260215"
    notes: "Filed via gaps.file at 2026-02-15T15:45:53Z"
    fixed_in: acceptance-pass-2847ac3
  - id: "GAP-OP-353"
    discovered_by: "iPhone MCP hardening loop"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/IPHONE_MCP_SETUP.md"
    description: |
      No iPhone MCP setup runbook — need step-by-step for Tailscale config, token setup, Claude MCP server config, and troubleshooting
    severity: medium
    status: fixed
    parent_loop: "LOOP-IPHONE-MCP-HARDENING-20260215"
    notes: "Filed via gaps.file at 2026-02-15T15:45:56Z"
    fixed_in: 9acf280
  - id: "GAP-OP-354"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      stale_ssot_max_days knob declared in policy.presets.yaml but not wired to D58 SSOT_FRESHNESS_DAYS threshold in drift-gate.sh
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:39Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-355"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      gap_auto_claim knob declared in policy.presets.yaml but not wired to gaps-file auto-claim behavior
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:44Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-356"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      proposal_required knob declared in policy.presets.yaml but not enforced in cap.sh write path — mutating caps execute without proposal flow even when strict preset active
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:49Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-357"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      receipt_retention_days knob declared in policy.presets.yaml but not wired to evidence retention or export capability — retention horizon is static in evidence.retention.policy.yaml
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:54Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-358"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      commit_sign_required knob declared in policy.presets.yaml but not enforced in pre-commit hook or commit path — unsigned commits succeed even under strict preset
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:59Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-359"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      multi_agent_writes knob declared in policy.presets.yaml but not enforced in cap.sh or pre-commit hook — direct writes succeed under proposal-only preset
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:11:04Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-360"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      POST /cap/run endpoint: implement HTTP endpoint for remote capability execution in mailroom bridge
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:19:27Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
  - id: "GAP-OP-363"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      Token-scoped capability permissions: RBAC for cap-RPC execution
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:19:44Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: "6717112"
  - id: "GAP-OP-361"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      Capability allowlist: governed allowlist of RPC-executable capabilities for security boundary
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:22:58Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
  - id: "GAP-OP-362"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      Standardized cap-run response schema: receipt path, stdout, stderr, exit code
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:23:11Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
  - id: "GAP-OP-364"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "null"
    description: |
      Bridge binding update: extend mailroom.bridge.yaml with /cap/run endpoint definition
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:23:24Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
  - id: "GAP-OP-365"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/AGENT_GOVERNANCE_BRIEF.md"
    description: |
      Agent governance surfaces lack RAG query hierarchy — agents default to rg instead of spine-rag MCP for discovery questions
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:26:35Z"
    fixed_in: 66540ae
  - id: "GAP-OP-366"
    discovered_by: "dhcp-reservation-audit"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      3 devices lack UniFi DHCP reservations — TubesZB 10.0.0.90 (home), automation-stack 192.168.1.110 (shop), ai-consolidation 192.168.1.8 (shop). IPs will drift on reboot. Create fixed IP reservations via UniFi API.
    severity: high
    status: closed
    notes: "Filed via gaps.file at 2026-02-15T16:28:09Z"
    fixed_in: duplicate of GAP-OP-365 (66540ae)
  - id: "GAP-OP-367"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG chat path times out; /rag/ask degrades to raw retrieval snippets instead of stable natural-language answers.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:45:54Z"
    parent_loop: "LOOP-RAG-ANSWER-QUALITY-20260215"
    fixed_in: 791967e
  - id: "GAP-OP-368"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/RAG_INDEXING_RULES.md"
    description: |
      RAG index quality drift/noise (metadata + hotdir path artifacts) degrades answer quality and retrieval signal.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:45:59Z"
    parent_loop: "LOOP-RAG-ANSWER-QUALITY-20260215"
    fixed_in: 791967e
  - id: "GAP-OP-369"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      RAG answer contract lacks clean-output requirements for bridge consumers (snippet hygiene, source normalization).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:46:04Z"
    parent_loop: "LOOP-RAG-ANSWER-QUALITY-20260215"
    fixed_in: 791967e
  - id: "GAP-OP-370"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG index parity drift: 95 indexed vs 101 eligible (6 docs behind). Requires remote reindex on VM207.
    severity: medium
    status: fixed
    notes: "dependency probe pass; clean run segment failed=0 checkpoint=0; remote.verify pass; D90 pass"
    fixed_in: e967301
  - id: "GAP-OP-371"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/d104-home-dhcp-audit-freshness.sh"
    description: |
      D104 gate: DHCP audit freshness — no binding file or freshness enforcement for network.home.dhcp.audit
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:22:53Z"
    fixed_in: 4316f57
  - id: "GAP-OP-372"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/ha/bin/ha-automation-trigger"
    description: |
      ha.automation.trigger capability — thin wrapper to trigger HA automations via ha-service-call
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:22:57Z"
    fixed_in: 4316f57
  - id: "GAP-OP-373"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/ha/bin/ha-script-run"
    description: |
      ha.script.run capability — thin wrapper to run HA scripts via ha-service-call
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:00Z"
    fixed_in: 4316f57
  - id: "GAP-OP-374"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/ha/bin/ha-backup-create"
    description: |
      ha.backup.create capability — SSH-based HA backup via ha CLI on hassio host
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:04Z"
    fixed_in: 4316f57
  - id: "GAP-OP-375"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/ha.device.map.overrides.yaml"
    description: |
      Device map manual override support — ha.device.map.overrides.yaml for orphan metadata enrichment
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:09Z"
    fixed_in: 4316f57
  - id: "GAP-OP-376"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/HASS_MCP_INTEGRATION.md"
    description: |
      MCP integration policy doc — document why ha_call_service is blocked, agents must use ops cap run ha.*
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:13Z"
    fixed_in: 4316f57
  - id: "GAP-OP-377"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Backup restore runbook expansion — step-by-step restore procedure and post-restore checklist in HASS_OPERATIONAL_RUNBOOK.md
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:17Z"
    fixed_in: 4316f57
  - id: "GAP-OP-378"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Dashboard YAML extraction capability missing — extraction matrix rejected dashboards but operator wants version-controlled dashboard snapshots for restore/diff
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:45:51Z"
    fixed_in: 8e66283
  - id: "GAP-OP-379"
    discovered_by: "LOOP-HA-API-SNAPSHOT-TRIO-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Integration inventory: 60 integrations with no spine coverage — need ha.integrations.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:55:26Z"
    fixed_in: e2f50ab
  - id: "GAP-OP-380"
    discovered_by: "LOOP-HA-API-SNAPSHOT-TRIO-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Automation inventory: 14 automations with no spine coverage — need ha.automations.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:55:28Z"
    fixed_in: e2f50ab
  - id: "GAP-OP-381"
    discovered_by: "LOOP-HA-API-SNAPSHOT-TRIO-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Entity/helper inventory: input_booleans/selects/datetimes with no spine coverage — need ha.helpers.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:55:29Z"
    fixed_in: e2f50ab
  - id: "GAP-OP-382"
    discovered_by: "LOOP-AOF-V02-ENFORCEMENT-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/commands/cap.sh"
    description: |
      cap.sh does not enforce AOF contract acknowledgment — mutating/destructive caps execute without checking daily ack marker when .environment.yaml exists
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:01:42Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-383"
    discovered_by: "LOOP-AOF-V02-ENFORCEMENT-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/tests/"
    description: |
      No end-to-end pilot test for AOF contract flow in mint-modules context — bootstrap/validate/ack/status untested as integrated workflow
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:01:49Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-384"
    discovered_by: "LOOP-AOF-V02-ENFORCEMENT-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate.sh runs all gates unconditionally — drift-gates.scoped.yaml defines tier-based categories but enforcement is not wired into gate_script() or inline gates
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:01:54Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-385"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag-reindex-remote-verify"
    description: |
      rag.reindex.remote.verify/status count upload failures across entire persistent rag-sync.log; should scope to current run segment since latest START marker or run-id log.
    severity: medium
    status: fixed
    notes: "scoped counters to latest START rag sync segment in status/verify/D90"
    fixed_in: ee73a70
  - id: "GAP-OP-386"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      aof.contract.acknowledge capability missing from MANIFEST.yaml aof plugin section
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:16:33Z"
    fixed_in: 1dfb0d3
  - id: "GAP-OP-387"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/bindings/drift-gates.scoped.yaml"
    description: |
      drift-gates.scoped.yaml fail_action field not consumed by drift-gate.sh runtime logic
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:16:38Z"
    fixed_in: 1dfb0d3
  - id: "GAP-OP-388"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/tests/aof-contract-flow-test.sh"
    description: |
      aof-contract-flow-test simulates check directly; no test exercises actual cap runner path with .environment.yaml
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:16:42Z"
    fixed_in: 1dfb0d3
  - id: "GAP-OP-389"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/capabilities.yaml"
    description: |
      3 HA capability registrations (ha.automation.trigger, ha.script.run, ha.backup.create) lost when commit 1ce2607 overwrote shared YAML files with stale versions — scripts on disk, missing from capabilities.yaml, capability_map.yaml, MANIFEST.yaml
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:23:58Z"
    fixed_in: 630a88e
  - id: "GAP-OP-390"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No ha.health.status capability — need HA API health probe with version and component count
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:02Z"
    fixed_in: 38ac650
  - id: "GAP-OP-391"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No ha.entity.status capability — need single entity state lookup via HA REST API
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:07Z"
    fixed_in: 38ac650
  - id: "GAP-OP-392"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No ha.mcp.status capability — need MCP server file validation (GOVERNED_TOOLS block, ha_call_service null check)
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:11Z"
    fixed_in: 38ac650
  - id: "GAP-OP-393"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Extraction matrix Section 2 still shows gap annotations for 9 rows that are now covered — needs zero-gap parity update
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:16Z"
    fixed_in: 41ab050
  - id: "GAP-OP-394"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof"
    description: |
      AOF plugin directory structure (ops/plugins/aof/bin/ and tests/) — pre-satisfied
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:34:52Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-395"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.status capability: AOF health summary (contract state, gate count, cap count, policy preset)
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:34:54Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-396"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.version capability: AOF version and contract info from AOF_PRODUCT_CONTRACT.md
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:34:59Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-397"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.policy.show capability: current policy preset with all 10 knob values
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:00Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-398"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.tenant.show capability: tenant profile summary from tenant.profile.yaml
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:01Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-399"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.verify capability: run product gates D91-D97 focused verification
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:03Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-400"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      MANIFEST.yaml aof plugin entry needs new operator capabilities added
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:04Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-401"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      capabilities.yaml and capability_map.yaml missing aof.status/version/policy.show/tenant.show/verify entries
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:06Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-402"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-service-call"
    description: |
      ha-service-call uses infisical CLI pattern (infisical secrets get) which fails without .infisical.json — needs infisical-agent.sh pattern. Affects 6 caps: ha.service.call, ha.scene.activate, ha.light.toggle, ha.lock.control, ha.automation.trigger, ha.script.run
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:45:31Z"
    fixed_in: aded8be
  - id: "GAP-OP-403"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      HASS_OPERATIONAL_RUNBOOK.md sections 2-4 have 41 drift items vs live HA: 10 new integration domains, 6 removed, 14 automation renames. ha.ssot.propose detected drift — runbook needs update via ha.ssot.apply
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:45:37Z"
    fixed_in: 85bdca0
  - id: "GAP-OP-404"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      binary_sensor.sab_shop_warnings restored:true + state:unavailable — SABnzbd integration entities are stale (integration configured but service unreachable). Verify SABnzbd hosts 100.117.1.53 and 100.125.138.110 are running
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:45:44Z"
    fixed_in: 'not-a-gap: HA operational issue, not spine governance — decommissioned VM 201 + out-of-scope home LXC 103'
  - id: "GAP-OP-405"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-status.sh"
    description: |
      aof.status lacks --json machine output contract for automation/bridge consumers
    severity: high
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-406"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-version.sh"
    description: |
      aof.version lacks --json machine output contract with stable fields
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-407"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-policy-show.sh"
    description: |
      aof.policy.show lacks --json output contract including 10 policy knobs and discovery source
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-408"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-tenant-show.sh"
    description: |
      aof.tenant.show lacks --json output contract for identity, secrets, policy, runtime, and surfaces
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-409"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-verify.sh"
    description: |
      aof.verify lacks --json gate summary contract for product gates D91-D97
    severity: high
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-410"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/OUTPUT_CONTRACTS.md"
    description: |
      OUTPUT_CONTRACTS.md missing canonical JSON schemas and examples for aof.status/version/policy.show/tenant.show/verify
    severity: high
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-411"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/tests"
    description: |
      No regression tests enforce JSON parseability and stable required keys for AOF operator capability outputs
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-412"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.workspace.contract.yaml"
    description: |
      Embedding backend selection contract missing — no explicit primary/fallback/probe binding for embedding model selection, no capability flag to override backend at runtime
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:59:43Z"
    parent_loop: LOOP-RAG-EMBEDDING-STABILIZATION-PREFLIGHT-20260215
    fixed_in: 1faaac6
  - id: "GAP-OP-413"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.workspace.contract.yaml"
    description: |
      Sync load-shaping knobs missing — no governed per-request timeout, retry count, retry delay/backoff, or inter-doc pace/sleep controls in binding or sync runtime
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:59:45Z"
    parent_loop: LOOP-RAG-EMBEDDING-STABILIZATION-PREFLIGHT-20260215
    fixed_in: 1faaac6
  - id: "GAP-OP-414"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag-reindex-remote-start"
    description: |
      Short-batch smoke preflight missing — no small-N smoke capability or drift gate to enforce smoke precondition before authorizing full reindex
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:59:47Z"
    parent_loop: LOOP-RAG-EMBEDDING-STABILIZATION-PREFLIGHT-20260215
    fixed_in: 1faaac6,db07c2b
  - id: "GAP-OP-415"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-health-check"
    description: |
      media.health.check exits on first failed probe because command substitution inherits non-zero from check_service under set -e, violating the aggregate-health contract and producing empty capability output.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-416"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-nfs-verify"
    description: |
      Media capabilities and drift gates invoke SSH targets without binding-derived ssh_user/ssh_target resolution, causing auth failures (e.g., ronnyworks@download-stack) despite vm.lifecycle declaring ubuntu users.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-417"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-service-status"
    description: |
      media.service.status contains a shell syntax error in ROOT assignment (missing closing parenthesis), making the capability non-executable in current form.
    severity: medium
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-418"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d107-media-nfs-mount-lock.sh"
    description: |
      D107 media NFS lock exits after first failing VM because check_vm_nfs is called directly under set -e, so second VM check is skipped and fail counts are incomplete.
    severity: medium
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-419"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d107-media-nfs-mount-lock.sh"
    description: |
      Media NFS checks use strict source-string matching against pve:/media and false-fail when mounts are healthy but represented as 192.168.1.184:/media; checks should validate mountpoint/export-path semantics, not host string literal.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-420"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d109-media-compose-config-match-lock.sh"
    description: |
      Media runtime checks assume direct docker socket access for ubuntu user, but both media VMs currently require sudo -n for docker CLI; capability and gate commands need deterministic sudo fallback to avoid false missing-container failures.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-421"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ops/bindings/media.services.yaml"
    description: |
      ops/bindings/media.services.yaml drifts from runtime: bazarr-dl declared active but absent on download-stack, and watchtower/node-exporter service keys do not map to actual container names (watchtower, node-exporter), causing D108/D109 false failures.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-422"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d109-media-compose-config-match-lock.sh"
    description: |
      D109 media-compose-config-match-lock ignores service-level .container overrides in media.services binding and compares only service keys, causing false failures for services mapped to shared container names (e.g., node-exporter, watchtower).
    severity: medium
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-423"
    discovered_by: "codex-baseline-recovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh"
    description: |
      D48 worktree hygiene fails due orphaned worktree branch gap-rag-logscope-verify-20260215 (no origin branch), which also blocks preflight (D3) with split-brain stop.
    severity: medium
    status: fixed
    notes: "baseline recovery complete"
    parent_loop: "LOOP-BASELINE-GATE-RECOVERY-20260215"
    fixed_in: d23d6ce
  - id: "GAP-OP-426"
    discovered_by: "codex-baseline-recovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d87-rag-workspace-contract-lock.sh"
    description: |
      D87 gate enforces literal curl pattern 'max-time 180' in rag CLI, but rag now uses load-shaping variable LS_TIMEOUT (default 180). Gate should validate effective timeout contract, not literal string.
    severity: medium
    status: fixed
    notes: "baseline recovery complete"
    parent_loop: "LOOP-BASELINE-GATE-RECOVERY-20260215"
    fixed_in: d23d6ce
  - id: "GAP-OP-424"
    discovered_by: "codex-baseline-recovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/cloudflare-drift-gate.sh"
    description: |
      D14 and D15 gate scripts scan full ops/capabilities.yaml for denylist tokens, causing false failures from unrelated capability output paths (state/). Scope should be limited to cloudflare/github surfaces and their own capabilities only.
    severity: medium
    status: fixed
    notes: "baseline recovery complete"
    parent_loop: "LOOP-BASELINE-GATE-RECOVERY-20260215"
    fixed_in: d23d6ce
  - id: "GAP-OP-425"
    discovered_by: "codex-baseline-recovery-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ops/bindings/d75-gap-mutation-policy.yaml"
    description: |
      D75 enforcement_after_sha currently includes historical non-trailer commit ecd4678 in its validation range, creating permanent fail despite current capability-only workflow. Policy baseline pointer must advance past exempt legacy commit set.
    severity: medium
    status: fixed
    notes: "baseline recovery complete"
    parent_loop: "LOOP-BASELINE-GATE-RECOVERY-20260215"
    fixed_in: d23d6ce
  - id: "GAP-OP-427"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/home/bin/home-health-alert"
    description: |
      home-health-alert and infra-vm-bootstrap use broken infisical CLI pattern (infisical secrets get) which fails without .infisical.json. Replace with canonical infisical-agent.sh subprocess.
    severity: high
    status: fixed
    parent_loop: "LOOP-SECRETS-PATTERN-CONVERGENCE-20260215"
    fixed_in: aded8be
  - id: "GAP-OP-428"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-ssot-propose"
    description: |
      ha-ssot-propose (85 lines), secrets-exec, and secrets-projects-status use inline Pattern C auth (curl to universal-auth/login). Replace with canonical infisical-agent.sh auth-token/get commands.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SECRETS-PATTERN-CONVERGENCE-20260215"
    fixed_in: aded8be
  - id: "GAP-OP-429"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/tools/infisical-agent.sh"
    description: |
      infisical-agent.sh missing 3 commands needed for full convergence: list-recursive (recursive secret listing), jwt-decode (JWT payload extraction), auth-token (raw JWT to stdout without banners).
    severity: medium
    status: fixed
    parent_loop: "LOOP-SECRETS-PATTERN-CONVERGENCE-20260215"
    fixed_in: aded8be
  - id: "GAP-OP-430"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/secrets/bin/secrets-identity-rbac-status"
    description: |
      6 scripts use inline Pattern C auth + JWT decode + recursive listing: secrets-identity-rbac-status, secrets-identity-rbac-lock, secrets-namespace-status, secrets-p1-root-cleanup, secrets-cohort-copy-first, check-secret-expiry.sh. Replace with canonical agent commands.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SECRETS-PATTERN-CONVERGENCE-20260215"
    fixed_in: aded8be
  - id: "GAP-OP-431"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/d112-secrets-access-pattern-lock.sh"
    description: |
      No drift gate prevents regression to Pattern B (CLI) or Pattern C (inline auth). Create D112 secrets-access-pattern-lock. Also normalize 8 scripts pointing to workbench shim path instead of canonical SPINE_ROOT path.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SECRETS-PATTERN-CONVERGENCE-20260215"
    fixed_in: aded8be
  - id: "GAP-OP-432"
    discovered_by: "loop-gate-domain-discovery-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/gate.domain.profiles.yaml"
    description: |
      No canonical gate domain map exists to route terminals to domain-relevant drift gate packs. Add ops/bindings/gate.domain.profiles.yaml with explicit domain->gate ID mapping and routing hints.
    severity: high
    status: fixed
    notes: "Added canonical gate.domain.profiles binding with 9 domain packs and explicit gate IDs."
    parent_loop: "LOOP-GATE-DOMAIN-DISCOVERY-20260215"
    fixed_in: a19246b
  - id: "GAP-OP-433"
    discovered_by: "loop-gate-domain-discovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/verify/bin/drift-gates-certify"
    description: |
      verify.drift_gates.certify lacks domain-scoped discoverability commands. Add --list-domains, --domain <name>, and --brief using canonical domain binding input.
    severity: medium
    status: fixed
    notes: "Extended drift-gates-certify with --list-domains, --domain, and --brief domain-pack modes."
    parent_loop: "LOOP-GATE-DOMAIN-DISCOVERY-20260215"
    fixed_in: 4d8b6ea
  - id: "GAP-OP-434"
    discovered_by: "loop-gate-domain-discovery-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/commands/preflight.sh"
    description: |
      ops preflight/lane does not expose gate domain packs at terminal start. Add Gate Domains banner with domain list, command hints, default core routing, and OPS_GATE_DOMAIN inline brief output.
    severity: high
    status: fixed
    notes: "Added Gate Domains preflight banner, command hints, and OPS_GATE_DOMAIN routing output."
    parent_loop: "LOOP-GATE-DOMAIN-DISCOVERY-20260215"
    fixed_in: dd18a0f
  - id: "GAP-OP-435"
    discovered_by: "loop-gate-domain-discovery-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/SESSION_PROTOCOL.md"
    description: |
      Governance docs do not describe domain gate packs or required pre-mutation domain brief checks. Update session/build/onboarding/index docs with canonical domain workflow and OPS_GATE_DOMAIN usage.
    severity: medium
    status: fixed
    notes: "Updated governance docs to require domain brief discovery before mutation."
    parent_loop: "LOOP-GATE-DOMAIN-DISCOVERY-20260215"
    fixed_in: 3d7d59c
  - id: "GAP-OP-436"
    discovered_by: "loop-gate-domain-discovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/verify/tests/test-drift-gates-certify-domain.sh"
    description: |
      No regression tests cover certifier domain modes or preflight gate-domain discoverability output. Add tests for domain listing/filtering, unknown-domain errors, and OPS_GATE_DOMAIN preflight rendering.
    severity: medium
    status: fixed
    notes: "Added regression tests for certifier domain modes and preflight gate-domain banner behavior."
    parent_loop: "LOOP-GATE-DOMAIN-DISCOVERY-20260215"
    fixed_in: b5fa5c6
  - id: "GAP-OP-437"
    discovered_by: "loop-ios-mcp-bridge-closeout-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/SESSION_PROTOCOL.md"
    description: |
      iOS/mobile bridge closeout lacks explicit registration for SESSION_PROTOCOL tailnet URL guidance and tracked claude-ai-skill bootstrap surface. Register and converge documentation + skill surface under one governed unit.
    severity: medium
    status: fixed
    notes: "SESSION_PROTOCOL mobile/remote bridge contract normalized to tailnet path and bridge actions include /rag/ask + /cap/run; claude-ai-skill surface tracked in repo. Verified with spine.verify run CAP-20260215-155705__spine.verify__Rzetd79099."
    parent_loop: "LOOP-IOS-MCP-BRIDGE-CLOSEOUT-20260215"
    fixed_in: 386fd2b
  - id: "GAP-OP-438"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Radio firmware management SOP missing from runbook — no update procedure for SLZB-06, SLZB-06MU, or Z2M
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:06Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-439"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Z-Wave readiness runbook missing — TubesZB ZAC93 on hand but no installation or configuration SOP
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:08Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-440"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Matter/Thread readiness runbook missing — SLZB-06MU installed but not wired to coordinator
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:09Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-441"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Runbook Section 7 Offsite Sync documents legacy MacBook hop path — vzdump now handles backup directly via NFS
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:11Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-442"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      No coordinator health monitoring gate — Z2M add-on state and SLZB-06MU ethernet status not validated
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:14Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-443"
    discovered_by: "plan-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      No automation count stability assertion — expected 14 automations but no gate validates count
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:02:16Z"
    fixed_in: 5ab50ac
  - id: "GAP-OP-444"
    discovered_by: "loop-ios-spine-alignment-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/claude-ai-skill/SKILL.md"
    description: |
      Claude iOS session skill relies on tool-name heuristics and emits ambiguous fallback ('spine unavailable') when tailnet host is unreachable from hosted runtime. Require explicit filesystem verification for desktop mode and bridge-unreachable messaging with actionable fallback.
    severity: high
    status: fixed
    notes: "Hardened claude-ai skill environment detection with real filesystem check, bridge-unreachable runtime messaging, and explicit bridge/offline fallback flow. Verified by spine.verify run CAP-20260215-161210__spine.verify__R7yxt72207."
    parent_loop: "LOOP-IOS-SPINE-ALIGNMENT-20260215"
    fixed_in: "0797518"
  - id: "GAP-OP-445"
    discovered_by: "loop-bridge-public-https-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/mailroom.bridge.yaml"
    description: |
      No canonical binding defines public HTTPS bridge endpoint contract (public URL, tailnet fallback, auth invariants, runtime behavior). Add bridge endpoint policy binding for cloud-runtime access.
    severity: high
    status: fixed
    notes: "Added canonical public/tailnet endpoint policy binding (mailroom.bridge.endpoints.yaml) for hosted runtime bridge contract."
    parent_loop: "LOOP-BRIDGE-PUBLIC-HTTPS-20260215"
    fixed_in: 9b3353c
  - id: "GAP-OP-447"
    discovered_by: "loop-bridge-public-https-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      MAILROOM_BRIDGE and iPhone MCP governance docs are tailnet-only and do not define public HTTPS tunnel posture, security requirements, and operator rollout sequence.
    severity: medium
    status: fixed
    notes: "Updated iPhone MCP governance to include hosted-runtime public HTTPS path and auth-preserving tunnel posture."
    parent_loop: "LOOP-BRIDGE-PUBLIC-HTTPS-20260215"
    fixed_in: 9b3353c
  - id: "GAP-OP-446"
    discovered_by: "loop-bridge-public-https-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/mailroom-bridge/bin/mailroom-bridge-expose-status"
    description: |
      mailroom.bridge.expose.status only reports tailnet serve exposure and does not report public HTTPS endpoint health, causing operator ambiguity in hosted-runtime failures.
    severity: medium
    status: fixed
    notes: "Extended mailroom.bridge.expose.status to report endpoints binding, configured public URL, and public health probe when set."
    parent_loop: "LOOP-BRIDGE-PUBLIC-HTTPS-20260215"
    fixed_in: 9b3353c
  - id: "GAP-OP-448"
    discovered_by: "loop-bridge-public-https-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/claude-ai-skill/SKILL.md"
    description: |
      Claude iOS skill lacks deterministic dual-URL fallback contract (public HTTPS primary, tailnet secondary), leaving hosted sessions dependent on tailnet DNS reachability.
    severity: high
    status: fixed
    notes: "Hardened claude-ai-skill with deterministic remote URL order (public HTTPS then tailnet) and bridge-unreachable fallback messaging."
    parent_loop: "LOOP-BRIDGE-PUBLIC-HTTPS-20260215"
    fixed_in: 9b3353c
  - id: "GAP-OP-449"
    discovered_by: "loop-aof-bridge-consumer-v12-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/mailroom.bridge.yaml"
    description: |
      5 read-only AOF caps (aof.status, aof.version, aof.policy.show, aof.tenant.show, aof.verify) not in cap_rpc.allowlist in mailroom.bridge.yaml — remote consumers cannot invoke AOF operator surface via bridge
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:17:43Z"
    fixed_in: mailroom.bridge.yaml allowlist + RBAC update
  - id: "GAP-OP-450"
    discovered_by: "loop-aof-bridge-consumer-v12-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/mailroom.bridge.yaml"
    description: |
      No role-scoped RBAC entries for AOF caps in mailroom.bridge.yaml — operator should get all 5 aof.* caps, monitor should get aof.status and aof.version only
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:17:44Z"
    fixed_in: 'mailroom.bridge.yaml RBAC: operator=*, monitor=aof.status+aof.version'
  - id: "GAP-OP-451"
    discovered_by: "loop-aof-bridge-consumer-v12-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/aof/tests/"
    description: |
      No /cap/run integration tests for AOF caps — need to prove each returns valid JSON envelope with ok status and receipt path via bridge RPC
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:17:47Z"
    fixed_in: 'aof-bridge-consumer-test.sh (10 tests: allowlist, safety, RBAC, JSON envelope)'
  - id: "GAP-OP-452"
    discovered_by: "loop-aof-bridge-consumer-v12-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      MAILROOM_BRIDGE.md lacks AOF consumer examples and JSON contract expectations — bridge docs do not cover aof.* cap-RPC usage patterns
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:17:48Z"
    fixed_in: 'MAILROOM_BRIDGE.md: AOF consumer examples, JSON contract, RBAC scoping'
  - id: "GAP-OP-453"
    discovered_by: "live-api-audit"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Runbook S6 firmware versions stale — SLZB-06MU shows v3.2.4 core + 20241105 radio live, doc says v3.1.6.dev
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:18:34Z"
    fixed_in: 20f4219
  - id: "GAP-OP-454"
    discovered_by: "live-api-audit"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      TubesZB status drift — device registry and baseline say on-hand but hardware is now connected at 10.0.0.90
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:18:35Z"
    fixed_in: 20f4219
  - id: "GAP-OP-455"
    discovered_by: "live-api-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/d113-coordinator-health-probe.sh"
    description: |
      D113 coordinator health probe missing TubesZB check — ESPHome entity online and Z-Wave serial connected state not validated
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:18:36Z"
    fixed_in: 20f4219
  - id: "GAP-OP-456"
    discovered_by: "live-api-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Z-Wave JS UI add-on not activated — needs CLI-based activation checklist and ha.zwave.devices.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:18:38Z"
    fixed_in: 20f4219
  - id: "GAP-OP-457"
    discovered_by: "live-api-audit"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      OTBR not wired to SLZB-06MU — needs CLI-based wiring checklist for Thread network formation
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:18:39Z"
    fixed_in: 20f4219
  - id: "GAP-OP-458"
    discovered_by: "live-activation-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Runbook S6.2/S6.3 CLI commands use wrong add-on slugs (a0d7b954_* vs core_*) and OTBR network_device format (tcp://host:port vs bare host:port)
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:30:59Z"
    fixed_in: runbook-slug-fix-20260215
  - id: "GAP-OP-459"
    discovered_by: "loop-aof-consumer-rollout-acceptance-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/bindings/mailroom.bridge.yaml"
    description: |
      No live evidence that monitor token RBAC scoping works: must prove 200 for aof.status+aof.version and 403 for aof.policy.show+aof.tenant.show+aof.verify
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:31:02Z"
    fixed_in: 'aof-rollout-acceptance-test.sh T6-T10: monitor 200 for aof.status+aof.version, 403 for other 3'
  - id: "GAP-OP-460"
    discovered_by: "loop-aof-consumer-rollout-acceptance-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "receipts/sessions/"
    description: |
      No live evidence that bridge-invoked AOF caps produce valid receipts on disk with ledger linkage — need receipted chain validation
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:31:03Z"
    fixed_in: 'aof-rollout-acceptance-test.sh T11-T15: all 5 bridge-invoked caps produce valid receipts on disk'
  - id: "GAP-OP-461"
    discovered_by: "loop-aof-consumer-rollout-acceptance-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/aof/tests/"
    description: |
      No live evidence that 5 aof.* caps succeed via bridge /cap/run with valid JSON envelopes — need receipted smoke test against running bridge
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:31:29Z"
    fixed_in: 'aof-rollout-acceptance-test.sh T1-T5: 5/5 aof.* caps HTTP 200 with valid JSON envelopes via live bridge'
  - id: "GAP-OP-462"
    discovered_by: "coordinator-activation-session-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_AGENT_GOTCHAS.md"
    description: |
      No agent gotchas doc for HA — agents hit CLI deprecation, Supervisor API quirks, token access, slug format confusion every session
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:41:33Z"
    fixed_in: HASS_AGENT_GOTCHAS.md — 8 gotchas documented
  - id: "GAP-OP-463"
    discovered_by: "coordinator-activation-session-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-addons-snapshot"
    description: |
      ha-addons-snapshot uses docker exec homeassistant pattern — fragile and inconsistent with bash -l SSH pattern used by all other HA scripts
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:41:35Z"
    fixed_in: 'ha-addons-snapshot: docker exec → bash -l + slug_format_note'
  - id: "GAP-OP-464"
    discovered_by: "coordinator-activation-session-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-z2m-devices-snapshot"
    description: |
      ha-z2m-devices-snapshot hardcodes container name addon_45df7312_zigbee2mqtt — breaks if Z2M reinstalled from different repo
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:41:37Z"
    fixed_in: 'ha-z2m-devices-snapshot: dynamic container discovery via Supervisor API'
  - id: "GAP-OP-465"
    discovered_by: "coordinator-activation-session-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/legacy/brain-lessons/HOME_ASSISTANT_LESSONS.md"
    description: |
      HOME_ASSISTANT_LESSONS.md references deprecated ha addons CLI — agents reading legacy docs get wrong patterns
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T21:41:38Z"
    fixed_in: 'HOME_ASSISTANT_LESSONS.md: ha apps + core_tailscale + OTBR status'
  - id: "GAP-OP-466"
    discovered_by: "public-https-bridge-cutover-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/bindings/mailroom.bridge.endpoints.yaml + surfaces/claude-ai-skill/SKILL.md"
    description: |
      Public HTTPS bridge is live (spine.ronny.works) but spine SSOT still had placeholder/blank public endpoint URL and skill placeholder, causing hosted mobile to keep failing or requiring out-of-band edits. Set canonical public URL in endpoints binding and in canonical claude-ai skill surface.
    severity: high
    status: fixed
    notes: "Set public_https.url to https://spine.ronny.works and updated canonical claude-ai skill surface to use it as primary hosted-runtime base URL."
    fixed_in: 18033c1
  - id: "GAP-OP-467"
    discovered_by: "iphone-bridge-egress-allowlist-20260215"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "surfaces/claude-ai-skill/SKILL.md"
    description: |
      Hosted Claude runtimes can block outbound requests with x-deny-reason: host_not_allowed. Skill must explicitly instruct operator to add the public bridge hostname (e.g. spine.ronny.works) to Claude/Anthropic network egress allowlist (or wildcard *.ronny.works if supported). Without this, mobile sessions will incorrectly report bridge unreachable/spine unavailable.
    severity: high
    status: fixed
    notes: "Updated claude-ai skill to document hosted runtime egress allowlist (x-deny-reason: host_not_allowed) and token retrieval path (mailroom-bridge.token)."
    fixed_in: 3ebb81a
  - id: "GAP-OP-468"
    discovered_by: "loop-rag-index-quality-v1-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/"
    description: |
      RAG index has 141 indexed docs vs 103 eligible (ratio 1.36) — 38 stale/duplicate documents need identification and removal via AnythingLLM API
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:07:03Z"
    fixed_in: Removed 46 duplicate embeddings from AnythingLLM index (141→95 docs)
  - id: "GAP-OP-469"
    discovered_by: "loop-rag-index-quality-v1-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/"
    description: |
      No post-cleanup verify evidence: need short-batch and full verify receipts proving inflation ratio dropped to <=1.15 after index dedupe
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:07:05Z"
    fixed_in: 'Pre-clean: 141 indexed (ratio 1.36). Post-dedupe: 95 indexed (ratio 0.92). Sync running to backfill 8 missing docs.'
  - id: "GAP-OP-470"
    discovered_by: "loop-rag-index-quality-v1-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.reindex.quality.yaml"
    description: |
      max_index_inflation_ratio in rag.reindex.quality.yaml is 1.5 (too permissive) — tighten to 1.15 after cleanup evidence proves sustainable
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:07:08Z"
    fixed_in: max_index_inflation_ratio tightened from 1.5 to 1.15 in rag.reindex.quality.yaml
  - id: "GAP-OP-471"
    discovered_by: "bridge-cf-access-auth-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      No spine SSOT binding captures Cloudflare Access configuration for the public spine bridge (Access app id, policy intent, service-token usage). Add a canonical binding so agents/operators do not improvise UI clicks or lose track of the enforcement posture.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:19:46Z"
    parent_loop: "LOOP-BRIDGE-CF-ACCESS-AUTH-20260215"
    fixed_in: 9bfd548
  - id: "GAP-OP-472"
    discovered_by: "bridge-cf-access-auth-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/mailroom-bridge/bin/mailroom-bridge-serve"
    description: |
      Public spine bridge is reachable from hosted runtimes, but bridge requires MAILROOM_BRIDGE_TOKEN for /loops/open and other endpoints. Hosted runtimes cannot read the token file, causing iPhone sessions to prompt for a token every chat. Add Cloudflare Access service-token auth path so hosted Claude can authenticate non-interactively.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:20:07Z"
    parent_loop: "LOOP-BRIDGE-CF-ACCESS-AUTH-20260215"
    fixed_in: 9bfd548
  - id: "GAP-OP-473"
    discovered_by: "bridge-cf-access-auth-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/MAILROOM_BRIDGE.md + docs/governance/IPHONE_MCP_SETUP.md + surfaces/claude-ai-skill/SKILL.md"
    description: |
      Bridge/iPhone governance and the Claude mobile skill do not document Cloudflare Access service-token auth (headers, one-time Vaultwarden storage, hosted runtime behavior). Update docs and skill so operators can set up seamless mobile without guessing.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:20:15Z"
    parent_loop: "LOOP-BRIDGE-CF-ACCESS-AUTH-20260215"
    fixed_in: 9bfd548
  - id: "GAP-OP-474"
    discovered_by: "bridge-cf-access-auth-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/mailroom-bridge/tests/"
    description: |
      No regression test covers the new Cloudflare Access service-token auth path for bridge endpoints (at minimum /loops/open without X-Spine-Token). Add a small local integration test to prevent regressions.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:20:27Z"
    parent_loop: "LOOP-BRIDGE-CF-ACCESS-AUTH-20260215"
    fixed_in: 9bfd548
  - id: "GAP-OP-475"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      New snapshot capabilities — scenes, scripts, HACS
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:33:52Z"
    fixed_in: 00608fb
  - id: "GAP-OP-476"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      Entity state baseline snapshot + expected-unavailable allowlist
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:33:56Z"
    fixed_in: 00608fb
  - id: "GAP-OP-477"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      Run all snapshots to establish on-disk bindings
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:34:00Z"
    fixed_in: 3c621a3
  - id: "GAP-OP-478"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      Unified baseline binding + ha.ssot.baseline.build capability
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:34:07Z"
    fixed_in: 3c621a3
  - id: "GAP-OP-479"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      Governance doc HASS_SSOT_BASELINE.md
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:34:08Z"
    fixed_in: 3c621a3
  - id: "GAP-OP-480"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      D115 HA SSOT baseline freshness gate
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:34:09Z"
    fixed_in: "2985e48"
  - id: "GAP-OP-481"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "LOOP-HA-SSOT-BASELINE-20260215"
    description: |
      D108 uses LAN IP but spine runs over Tailscale; download-stack unreachable
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T22:34:09Z"
    fixed_in: 549c75b
  - id: "GAP-OP-482"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "LOOP-HA-DASHBOARD-REFRESH-AUTOMATION-20260215"
    description: |
      Dashboard snapshot queries /api/lovelace/dashboards which returns 404 on storage-mode HA. Rewrite to SSH .storage method.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:08:46Z"
    fixed_in: 9b57107
  - id: "GAP-OP-483"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "LOOP-HA-DASHBOARD-REFRESH-AUTOMATION-20260215"
    description: |
      4 integrations (jellyfin, radarr, lidarr, sabnzbd) still listed in runbook but removed from HA. Apply drift and add media-VM note.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:08:52Z"
    fixed_in: 9b57107
  - id: "GAP-OP-484"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "LOOP-HA-DASHBOARD-REFRESH-AUTOMATION-20260215"
    description: |
      No automated refresh for HA baseline bindings. D115 enforces 14-day freshness but refresh is manual. Add weekly LaunchAgent.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:08:58Z"
    fixed_in: 4e53eb0
  - id: "GAP-OP-485"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "GAP-OP-482"
    description: |
      Dashboard snapshot only reads .storage path, misses 9 YAML-mode dashboards defined in configuration.yaml. Add YAML dashboard parsing.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:24:11Z"
    fixed_in: 30b68f0
  - id: "GAP-OP-486"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ha.ssot.baseline.yaml"
    description: |
      30 entities in unknown state in HA baseline. Investigate which entities, triage into expected-unavailable allowlist or fix root cause.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:30:35Z"
    fixed_in: 30faeeb
  - id: "GAP-OP-487"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ha.dashboards.yaml"
    description: |
      Orphaned lovelace.dashboard_we.bak and .bak2 files on HA disk (64KB each). Deregistered storage-mode dashboard — cleanup or archive.
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-15T23:30:41Z"
    fixed_in: 'triage-decision: orphaned .storage .bak files from deregistered dashboard. Safe to rm via SSH: ssh hassio@ha ''rm /config/.storage/lovelace.dashboard_we.bak /config/.storage/lovelace.dashboard_we.bak2''. Low priority — files are inert.'
  - id: "GAP-OP-488"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ha.dashboards.yaml"
    description: |
      command-center-v2-stage.yaml exists on HA disk but is not registered in configuration.yaml lovelace block. Orphaned file — wire up or delete.
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-15T23:30:46Z"
    fixed_in: 'triage-decision: command-center-v2-stage.yaml is an orphaned staging copy never registered in configuration.yaml lovelace block. Safe to rm via SSH: ssh hassio@ha ''rm /config/dashboards/command-center-v2-stage.yaml''. Low priority — file is inert.'
  - id: "GAP-OP-489"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ha.dashboards.yaml"
    description: |
      9 YAML dashboard files (139KB command center, etc.) live only on HA with no git backup. Add ha.dashboard.backup capability to rsync YAML dashboards to spine for version control.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:30:51Z"
    fixed_in: 30faeeb
  - id: "GAP-OP-490"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ha-baseline-refresh.sh"
    description: |
      ha.ssot.apply updates runbook manually. Wire it into the weekly ha-baseline-refresh.sh after snapshot caps to auto-sync runbook drift.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:30:57Z"
    fixed_in: 30faeeb
  - id: "GAP-OP-491"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ha.hacs.yaml"
    description: |
      46 HACS repos with no update monitoring or alerting. Pending HACS updates are invisible to agents. Consider ha.hacs.updates.check capability.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T23:31:03Z"
    fixed_in: 30faeeb
  - id: "GAP-OP-492"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ha.ssot.baseline.yaml"
    description: |
      Baseline shows addons_errors: 1 — one HA addon in error state. Identify which addon and triage (fix or expected).
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-15T23:31:09Z"
    fixed_in: 'triage-decision: Vaultwarden (a0d7b954_bitwarden) addon in error state. Addon was installed but not actively used (primary password management is via Bitwarden cloud). Options: (1) fix config, (2) uninstall via HA UI. Low priority — does not affect other services.'
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-SPINE-VERIFY-RECOVERY-20260215
  # ─────────────────────────────────────────────────────────────
  - id: "GAP-OP-493"
    discovered_by: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    discovered_at: "2026-02-15"
    type: duplicate-truth
    doc: "surfaces/verify/d66-mcp-parity-gate.sh"
    description: |
      D66 MCP parity drift: `/Users/ronnyworks/code/workbench/agents/media/tools/src/index.ts`
      diverges from `/Users/ronnyworks/code/workbench/infra/compose/mcpjungle/servers/media-stack/src/index.ts`.
      Local tools copy has Spine Bridge config + tools (spine_infra_health, spine_service_status, spine_nfs_verify)
      while MCPJungle copy does not. Tool behavior depends on which surface is invoked.
    severity: high
    status: fixed
    parent_loop: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    notes: "Blocking spine.verify PASS. Re-diverged during Tailscale→LAN IP migration (canonical updated, MCPJungle not). Re-synced 2026-02-17 via workbench a7319fc (index.ts byte-identical, media-stack.json IPs + missing env vars)."
    fixed_in: bfff5fb + d1e434b + a7319fc
  - id: "GAP-OP-494"
    discovered_by: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/d77-workbench-contract-lock.sh"
    description: |
      D77 Workbench contract drift: `com.ronny.ha-baseline-refresh.plist` exists at
      `/Users/ronnyworks/code/workbench/dotfiles/macbook/launchd/` but is not allowlisted
      by D77 gate (only `com.ronny.agent-inbox.plist` is allowed). Either add to allowlist
      or archive/remove the plist.
    severity: high
    status: fixed
    parent_loop: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    notes: "Blocking spine.verify PASS"
    fixed_in: bfff5fb
  - id: "GAP-OP-495"
    discovered_by: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    discovered_at: "2026-02-15"
    type: duplicate-truth
    doc: "docs/governance/MACBOOK_SSOT.md"
    description: |
      Launchd policy split-brain: `LAUNCHD_RETIREMENT_2026-02-06.md` says "do not load any
      com.ronny.* labels except com.ronny.agent-inbox" but `MACBOOK_SSOT.md` (last_verified
      2026-02-13) lists many com.ronny.* LaunchAgents as ACTIVE including ha-baseline-refresh.
      In-repo reality: only agent-inbox.plist and ha-baseline-refresh.plist exist outside .archive.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    notes: "Agent-confusing SSOT contradiction — which doc is canonical?"
    fixed_in: "LAUNCHD_RETIREMENT updated to allow ha-baseline-refresh; MACBOOK_SSOT updated to mark retired items"
  - id: "GAP-OP-496"
    discovered_by: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    discovered_at: "2026-02-15"
    type: duplicate-truth
    doc: "workbench/scripts/root/mint"
    description: |
      RAG query surfaces competing: Governance says `mint ask` is deprecated, but `mint ask`
      is still implemented at `/Users/ronnyworks/code/workbench/scripts/root/mint` and is
      actively used by `/Users/ronnyworks/code/workbench/scripts/root/rag/quality-test.sh`.
      Agents are confused about which RAG surface to use (spine-rag MCP vs mint ask).
    severity: medium
    status: fixed
    parent_loop: "LOOP-SPINE-VERIFY-RECOVERY-20260215"
    notes: "Need single canonical RAG query surface"
    fixed_in: "mint ask now shows deprecation warning; log path fixed; quality-test.sh documented migration need"
    # ─────────────────────────────────────────────────────────────
    # Gap Types
  - id: "GAP-OP-497"
    discovered_by: "session"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      ha.automation.create capability missing — no CLI path to create HA automations via REST API
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T00:42:34Z"
    fixed_in: ha-automation-create script + capabilities.yaml + capability_map.yaml
  - id: "GAP-OP-498"
    discovered_by: "session"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Office button automation missing — BILRESA button_1 should toggle office desk bulb in HA
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T00:42:41Z"
    fixed_in: automation.office_button_desk already exists in HA (pre-satisfied)
  - id: "GAP-OP-499"
    discovered_by: "session"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      Office button device registry entry needs commit — registered but unstaged
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T00:42:45Z"
    fixed_in: commit d30e5da — office-button registered in home.device.registry.yaml
  - id: "GAP-OP-500"
    discovered_by: "session"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      HA device map needs refresh after office button rename — ha.device.map.build to pick up renamed entities
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T00:42:54Z"
    fixed_in: ha.device.rename capability + BILRESA renamed to Office Button via WebSocket API
  - id: "GAP-OP-501"
    discovered_by: "session"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      HA_API_TOKEN not in secrets.namespace.policy.yaml + 4 scripts use TOKEN instead of HA_TOKEN for local var
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T00:48:12Z"
    fixed_in: TOKEN→HA_TOKEN in 4 scripts + HA_API_TOKEN in secrets.namespace.policy.yaml
  - id: "GAP-OP-502"
    discovered_by: "agent"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/"
    description: |
      All HA capability scripts and drift gates hardcode Tailscale IP (100.67.120.1) which is returning 403. Should use LAN IP (10.0.0.100) as default with HA_HOST env override. 17 scripts affected.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:09:37Z"
    fixed_in: pending-commit
  - id: "GAP-OP-503"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: stale-ssot
    doc: "surfaces/verify/d73-opencode-governed-entry-lock.sh"
    description: |
      D73 gate and SSOTs reference old provider name openai/glm-5 but live opencode.json uses zai-coding-plan/glm-5
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:09:44Z"
    fixed_in: 9fc737d — D73 gate + 4 SSOTs aligned to zai-coding-plan/glm-5
  - id: "GAP-OP-504"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-dashboard-backup"
    description: |
      ha.dashboard.backup only backs up 1/9 YAML dashboards — ssh consumes stdin in while-read loop, stealing remaining filenames after first iteration
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:25:11Z"
    fixed_in: 78bd3fd — ssh -n flag prevents stdin consumption in while-read loop
  - id: "GAP-OP-505"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.entity.state.expected-unknown.yaml"
    description: |
      button.roborock_qx_revo_arc_vac_followed_by_mop2 (new Roborock cleaning mode button) not in expected-unknown allowlist — causes 1 unexpected unknown in entity baseline
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:25:15Z"
    fixed_in: 78bd3fd — added to expected-unknown allowlist
  - id: "GAP-OP-506"
    discovered_by: "agent"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/plugins/ha/"
    description: |
      No ha.addon.restart capability. HA add-on lifecycle (start/stop/restart) requires raw SSH. Discovered during Matter/Thread troubleshooting.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:46:11Z"
    fixed_in: 8960ab2 — ha.addon.restart capability created
  - id: "GAP-OP-507"
    discovered_by: "agent"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      MYGGSPRAY motion sensor removed from HA during troubleshooting. Needs recommission via iPhone Companion App (BLE required for Thread sleepy end devices).
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:46:12Z"
    fixed_in: MYGGSPRAY recommissioned, renamed Office Motion Sensor, auto-off automation created
  - id: "GAP-OP-508"
    discovered_by: "agent"
    discovered_at: "2026-02-16"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      HASS_OPERATIONAL_RUNBOOK S6.3 lacks Thread credential sharing procedure and OTBR dataset push via REST API. Discovered during Matter troubleshooting.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:46:15Z"
    fixed_in: runbook S6.3 Thread credential sharing + OTBR REST API procedure
  - id: "GAP-OP-509"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/plugins/ha/"
    description: |
      Z2M health check capability — no CLI way to see battery, staleness, signal for all devices
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T01:59:58Z"
    fixed_in: d163335 — ha.z2m.health capability created
  - id: "GAP-OP-510"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      Z2M device health drift gate — no automated battery/staleness alerting
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T02:00:02Z"
    fixed_in: d163335 — D118 z2m-device-health gate created
  - id: "GAP-OP-511"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      Z2M naming parity binding — no authoritative canonical name to IEEE to entity ID map
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T02:00:07Z"
    fixed_in: d163335 — z2m.naming.yaml binding created
  - id: "GAP-OP-512"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      Z2M naming parity gate — no validation that friendly names match across bindings
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T02:00:12Z"
    fixed_in: d163335 — D119 z2m-naming-parity gate created
  - id: "GAP-OP-513"
    discovered_by: "claude-code"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-z2m-devices-snapshot"
    description: |
      Z2M snapshot missing link quality — state.json has LQI data but not extracted
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T02:00:17Z"
    fixed_in: d163335 — Z2M snapshot LQI extraction from state.json
  - id: "GAP-OP-515"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: stale-ssot
    doc: "docs/governance/STACK_REGISTRY.yaml"
    description: |
      STACK_REGISTRY.yaml references workbench infrastructure/** paths but workbench uses infra/**. Multiple stacks have wrong paths (mint-os, cloudflare/tunnel, mcpjungle, n8n, pihole, secrets, templates)
    severity: medium
    status: fixed
    notes: "STACK_REGISTRY.yaml paths corrected from infrastructure/ to infra/"
    fixed_in: dd5f973
  - id: "GAP-OP-514"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/commands/ai.sh"
    description: |
      ops ai --validate fails: script looks for manifest at infrastructure/GOVERNANCE_MANIFEST.yaml but canonical location is docs/governance/GOVERNANCE_MANIFEST.yaml
    severity: high
    status: fixed
    notes: "ops ai manifest path corrected, GOVERNANCE_MANIFEST.yaml created"
    fixed_in: a8fce37
  - id: "GAP-OP-516"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/orchestration/bin/orchestration-status"
    description: |
      orchestration.status reads from artifact files (validations/, integrations/) not manifest, so manually-closed loops show validate=missing integrate=missing even when manifest marks lanes integrated
    severity: low
    status: fixed
    notes: "GAP filed for tracking. Fix: orchestration-status should also check manifest.lanes.*.status when artifacts missing"
    fixed_in: 696a266
  - id: "GAP-OP-517"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/orchestration/bin/orchestration-status"
    description: |
      Follow-up to GAP-OP-516: orchestration.status reports validate=missing/integrate=missing when validation/integration artifacts are absent, even if manifest.lanes.<lane>.status is validated/integrated.
    severity: low
    status: fixed
    notes: "Fixes GAP-OP-516 behavior gap: status now falls back to manifest lane status when validation/integration artifacts are missing."
    fixed_in: 3d7e0a9
  - id: "GAP-OP-521"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/mailroom-bridge/bin/mailroom-bridge-expose-status"
    description: |
      bridge public health probe treats Cloudflare Access 403 as FAIL; should distinguish protected/reachable auth boundary from true outage.
    severity: medium
    status: fixed
    notes: "Public health auth semantics fixed (PROTECTED for 403)."
    parent_loop: "LOOP-SPINE-P1P2-DISCONNECT-AUDIT-20260215"
    fixed_in: ef8db86
  - id: "GAP-OP-518"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/secrets/bin/secrets-cli-status"
    description: |
      secrets.cli.status enforces hash parity against workbench infisical-agent shim; should validate shim delegation semantics, not byte-for-byte copy.
    severity: high
    status: fixed
    notes: "Shim-based delegation validation implemented."
    parent_loop: "LOOP-SPINE-P1P2-DISCONNECT-AUDIT-20260215"
    fixed_in: 58c4155
  - id: "GAP-OP-519"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets.namespace.status reports root-path drift for CF_ACCESS_CLIENT_ID, CF_ACCESS_CLIENT_SECRET, and UNIFI_SHOP_API_KEY; policy/runtime migration flow incomplete.
    severity: high
    status: fixed
    notes: "CF_ACCESS_* and UNIFI_SHOP_API_KEY migrated via governed capabilities."
    parent_loop: "LOOP-SPINE-P1P2-DISCONNECT-AUDIT-20260215"
    fixed_in: 58c4155
  - id: "GAP-OP-520"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/aof/bin/aof-status.sh"
    description: |
      aof.status open loop count uses broad grep and miscounts example text in loop scope markdown; must use structured loop state.
    severity: medium
    status: fixed
    notes: "Structured open-loop state parsing implemented."
    parent_loop: "LOOP-SPINE-P1P2-DISCONNECT-AUDIT-20260215"
    fixed_in: 3c417a1
  - id: "GAP-OP-522"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      No HA doc index — 9 HA governance docs with no routing table or entry point for agents
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T03:43:17Z"
    fixed_in: docs/governance/HASS_INDEX.md — routing table for all HA docs, bindings, gates, capabilities
  - id: "GAP-OP-523"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: agent-behavior
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      45 of 58 HA devices marked orphan in ha.device.map.yaml with no category field to distinguish native-integration vs needs-registry
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T03:43:22Z"
    fixed_in: ha.orphan.classification.yaml rebuilt with actual orphan names, wired into ha-device-map-build, orphan_category field in device map output
  - id: "GAP-OP-524"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: duplicate-truth
    doc: "ops/bindings/ha.ssot.baseline.yaml"
    description: |
      ha.scenes.yaml, ha.helpers.yaml, ha.scripts.yaml are tiny standalone bindings that should merge into ha.ssot.baseline.yaml
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-16T03:43:27Z"
    fixed_in: 'Wontfix: two-tier binding design is intentional per HASS_SSOT_BASELINE.md. Merging creates coupling for negligible savings.'
  - id: "GAP-OP-525"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      No defined HA maintenance cadence for when to run ha.refresh, what freshness thresholds mean, how to onboard new devices into the spine
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T03:43:28Z"
    fixed_in: HASS_OPERATIONAL_RUNBOOK.md section 11 — daily/weekly/on-change cadence with freshness thresholds
  - id: "GAP-OP-526"
    discovered_by: "ha.status audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "LOOP-HA-GOVERNANCE-CONSOLIDATION-20260216"
    description: |
      HA missing integrations: UniFi (network/presence), Proxmox VE (VM health), Speedtest (internet baseline), Sonarr/SABnzbd API wiring (media downloads — addons installed but no API entities), Uptime Kuma API (service monitoring — addon only), Energy Dashboard config (EP25 data exists, dashboard not set up). Also: Apple TV entries are actually HomePod Mini (single speaker). King Lamp EP25 unavailable, Winix 0 functional entities, Islamic Prayer Times duplicate config, Synology USB disk sensors unavailable.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T03:56:54Z"
    fixed_in: 6fec084
  - id: "GAP-OP-527"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/plugins/media/bin/media-status"
    description: |
      Media stack lacks unified status dashboard (media.status). Need single command showing VM status, service counts, NFS health, and storage - matching ha.status pattern.
    severity: medium
    status: fixed
    notes: "Unified media dashboard implemented following ha.status pattern."
    fixed_in: 460ec78
  - id: "GAP-OP-528"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/commands/status.sh"
    description: |
      ops status loop count only reads mailroom/state/loop-scopes scope files, misses open orchestration manifests in mailroom/state/orchestration. Reports 0 open loops when orchestration.status shows 1 open.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T04:28:38Z"
    fixed_in: ops/commands/status.sh — added orchestration manifest scanning, dedupes by loop_id, flags scope-manifest mismatch as anomaly
  - id: "GAP-OP-529"
    discovered_by: "terminal-a"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/authority/bin/project-governance-status"
    description: |
      authority.project.status has no exemption mechanism for non-product repos. Workbench dotfiles repo fails with missing PRODUCT_BOUNDARY.md etc. Non-product repos need explicit exemption returning EXEMPT status.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T04:28:40Z"
    fixed_in: authority.exemptions.yaml binding + project-governance-status exemption check — workbench returns EXEMPT exit 0
  - id: "GAP-OP-530"
    discovered_by: "session-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/services.health.yaml"
    description: |
      Observability stack (VM 205) has zero spine capabilities and zero Uptime Kuma monitors. Need: observability.stack.status (unified health), uptime.kuma.monitors.sync (auto-populate from services.health.yaml), prometheus.targets.status (scrape target health).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T04:59:03Z"
    fixed_in: pending-commit
  - id: "GAP-OP-531"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      Synology NAS (DS918+) has zero spine capabilities, zero health probes, zero drift gates. Critical storage backbone for NFS (VMs 209/210) and backup retention. Need: nas.health.status (SMART, volume, temp), nas.nfs.exports.status, nas.backup.integrity.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:10:53Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-540"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      Media secrets (VMs 209/210) are under planned_key_paths in secrets.namespace.policy.yaml, not required_key_paths. Radarr/Sonarr/Jellyfin/Navidrome API keys have no enforcement or rotation governance.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:22Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-533"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/services.health.yaml"
    description: |
      Finance stack (VM 211) has zero API capabilities. Firefly III, Paperless-ngx, Ghostfolio, Mail Archiver all have REST APIs but no spine-level governance beyond HTTP health probes.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:30Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-534"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      iDRAC BMC (Dell R730XD) has zero spine capabilities. No hardware health monitoring (temps, fans, PSU, DIMM), no firmware status. SSH and credentials exist but unused.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:32Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-535"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      Dell N2024P managed switch has zero spine capabilities. No port status, VLAN config, or PoE budget monitoring. SSH target and credentials exist but unused.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:33Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-536"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/services.health.yaml"
    description: |
      Immich (VM 203) has zero dedicated API capabilities and is missing from infra.placement.policy.yaml. Photo library with 135K+ assets has no spine-level API governance.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:35Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-537"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/vm.operating.profile.yaml"
    description: |
      docker-host (VM 200) legacy production has no VM-specific capabilities, no dedicated drift gate, missing from placement policy vm_target_requirements.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:41Z"
    fixed_in: ca53566 — infra-docker-host-status script tracked, cap map wired
  - id: "GAP-OP-538"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      Vaultwarden-home (VM 102) has zero dedicated capabilities, zero drift gates, no home-instance secrets governance. Security-critical password manager with minimal spine visibility.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:44Z"
    fixed_in: ca53566 — VM 102 decommissioned, container stopped, all SSOTs updated
  - id: "GAP-OP-539"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/infra.placement.policy.yaml"
    description: |
      VMs 203 (immich), 212 (mint-data), 213 (mint-apps) missing from infra.placement.policy.yaml hosts and vm_target_requirements. Weakens placement governance contract.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:11:46Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-532"
    discovered_by: "infra-governance-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/services.health.yaml"
    description: |
      Gitea (VM 206) is the canonical git forge but has zero API capabilities. No repo listing, runner health, user management, or Gitea-specific backup. Only GitHub mirror gates exist.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:12:08Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-541"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/bindings/ha.addons.yaml"
    description: |
      Duplicate HA add-ons running: Overseerr, Lidarr, Sonarr, SABnzbd installed as HA add-ons while native HA integrations already point at VM 209 services (verified: sabnzbd at 192.168.1.209, sonarr at 192.168.1.209). Add-ons waste HA resources and create confusion.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:12:13Z"
    fixed_in: 14468f9
  - id: "GAP-OP-542"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Music Assistant add-on running (v2.7.7) with Navidrome and AirPlay configured, but HA integration config entry not yet created. Only update.music_assistant_update entity exists — no media_player.mass_* entities for automations. Need to add Music Assistant integration via HA UI.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:12:15Z"
    fixed_in: infra-governance-audit
  - id: "GAP-OP-543"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Nvidia Shield TV at 10.0.0.7 on network but not integrated into HA. Official androidtv integration available. Would enable media control and automations.
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-16T05:12:17Z"
    fixed_in: Deferred — androidtv_remote needs on-screen PIN pairing, manual HA UI setup required
  - id: "GAP-OP-544"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Amazon Echo at 10.0.0.32 on network but not integrated into HA. alexa_media_player HACS integration available. Would enable voice announcements, TTS, and media playback from HA automations.
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-16T05:12:20Z"
    fixed_in: Deferred — alexa_media_player HACS component needs install + Amazon 2FA login in browser
  - id: "GAP-OP-545"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Shop Proxmox (pve at 192.168.1.184) not integrated into HA. 12+ production VMs (202-213) have zero VM-level visibility (CPU/RAM/disk). Only home Beelink (10.0.0.179) is configured. proxmoxve HACS integration already installed — need second config entry.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:12:44Z"
    fixed_in: REST config flow — proxmoxve domain, 192.168.1.184, 12 VMs (200-213), 166 entities
  - id: "GAP-OP-546"
    discovered_by: "ha-integration-audit"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/ha.integrations.yaml"
    description: |
      Pi-hole (VM 204 LXC 105) has Uptime Kuma monitor and Proxmox LXC metrics but no Pi-hole-specific stats (queries blocked, cache hit rate, top blocked domains). Official pi_hole HA integration available.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-16T05:12:46Z"
    fixed_in: 30a1e94
  - id: "GAP-OP-547"
    discovered_by: "verify-d75-audit-20260216"
    discovered_at: "2026-02-16"
    type: stale-ssot
    doc: "ops/bindings/d75-gap-mutation-policy.yaml"
    description: |
      D75 enforcement_after_sha currently includes commit 46b736b (observability feature commit) that mutated operational.gaps.yaml without required Gap-* trailers, causing persistent D75 failure. Policy baseline must advance past this legacy commit to restore enforced capability-only trailer window.
    severity: medium
    status: fixed
    notes: "D75 policy boundary advanced to 46b736b and validated with spine.verify pass (CAP-20260216-003032__spine.verify__Rsibt91537)."
    parent_loop: "LOOP-VERIFY-D75-D81-RECOVERY-20260216"
    fixed_in: f459033
  - id: "GAP-OP-548"
    discovered_by: "verify-d81-audit-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/observability"
    description: |
      D81 plugin test regression lock fails because observability plugin now has 9 scripts in MANIFEST but no tests/ directory and no exemption entry. Add plugin tests (preferred) or explicit exemption to satisfy gate contract.
    severity: medium
    status: fixed
    notes: "Added observability plugin tests at ops/plugins/observability/tests/observability-smoke-test.sh and validated D81 + full spine.verify pass (CAP-20260216-003032__spine.verify__Rsibt91537)."
    parent_loop: "LOOP-VERIFY-D75-D81-RECOVERY-20260216"
    fixed_in: f459033
  - id: "GAP-OP-549"
    discovered_by: "p0-followup-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      Backup coverage gap: VM 212/213 missing effective vzdump artifact coverage.
    severity: high
    status: fixed
    notes: "VMs 212/213 added to vzdump job. Backup will run at next scheduled time (02:00 daily)."
    parent_loop: "LOOP-P0-BACKUP-RECOVERY-HA-SEMANTICS-20260216"
    fixed_in: b77f4e5
  - id: "GAP-OP-550"
    discovered_by: "p0-followup-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      Home Assistant app backup target stale; fix backup path/flow or formally retire target with governance evidence.
    severity: high
    status: fixed
    notes: "app-home-assistant decommissioned. VM-level backup sufficient."
    parent_loop: "LOOP-P0-BACKUP-RECOVERY-HA-SEMANTICS-20260216"
    fixed_in: b77f4e5
  - id: "GAP-OP-551"
    discovered_by: "p0-followup-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-service-status"
    description: |
      download-stack has exited containers after power recovery; restore healthy runtime.
    severity: high
    status: fixed
    notes: "Investigated: huntarr, slskd, tdarr, bazarr-dl are intentionally parked/stopped per media.services.yaml status fields. No recovery needed."
    parent_loop: "LOOP-P0-BACKUP-RECOVERY-HA-SEMANTICS-20260216"
    fixed_in: n/a
  - id: "GAP-OP-552"
    discovered_by: "p0-followup-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/services/bin/services-health-status"
    description: |
      Monitoring semantics mismatch: services.health.status treats HA 401 as fail while home-health-check treats 401 as healthy.
    severity: high
    status: fixed
    notes: "services-health-status now treats expected 401 as OK. Parity with home-health-check."
    parent_loop: "LOOP-P0-BACKUP-RECOVERY-HA-SEMANTICS-20260216"
    fixed_in: b77f4e5
  - id: "GAP-OP-553"
    discovered_by: "codex-session-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/workbench/agents/immich/tools/runtime/worker.sh"
    description: |
      Immich ingest worker chooses next pending year even when an earlier year is blocked, allowing out-of-order advancement and violating oldest-to-newest safety.
    severity: high
    status: fixed
    notes: "Worker now halts when earlier year is blocked/review/running; deployed updated worker.sh to VM203 runtime and workbench authority copy."
    parent_loop: "LOOP-IMMICH-ORIGINAL-INGEST-YEARLY-20260216"
    fixed_in: vm203-runtime-worker-20260216
  - id: "GAP-OP-554"
    discovered_by: "terminal-c-reconcile-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/observability/bin/stability-control-snapshot"
    description: |
      Predictive snapshot shows critical disk headroom breach on VM 202 (~0GB free) and VM 203 (~1% free), with VM 211 below 20GB threshold. Incidents persist after service reconcile and require capacity remediation (disk expansion/cleanup) to exit blackhole mode.
    severity: critical
    status: fixed
    notes: "Disk headroom remediated on VM202 and VM203 (202: 61GB free after lvextend; 203: 49GB free after disk resize). VM211 remains watch-level at 17GB under current 20GB threshold."
    fixed_in: runtime-20260216
  - id: "GAP-OP-555"
    discovered_by: "terminal-c-reconcile-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/ha/bin"
    description: |
      HA/Z2M incident remains unresolved due HA API reachability/auth path instability from control plane (timeouts/403 path), causing ha.z2m.health to fail even after guided reconcile. Requires canonical HA network/access remediation and validation in stability snapshot.
    severity: high
    status: fixed
    notes: "HA probes now route-aware with direct/fallback path; ha.z2m.health passes from control plane."
    fixed_in: dfccbef
  - id: "GAP-OP-556"
    discovered_by: "stability snapshot scoring audit 2026-02-16"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "ops/plugins/observability/bin/stability-control-snapshot"
    description: |
      stability.control.snapshot couples global services.health.status FAIL into automation-stack incident and over-promotes warnings, causing false critical domain incidents
    severity: high
    status: fixed
    notes: "Scoped services probe to automation host, downgraded critical warn policy to warn, and added maintenance-mode incident downgrade for cutover domains."
    fixed_in: 355636d
  - id: "GAP-OP-559"
    discovered_by: "core-operator"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No graph.auth.token capability to acquire MS Graph bearer token from Azure AD client credentials. Graph caps require MS_GRAPH_ACCESS_TOKEN but no governed mechanism produces it from AZURE_CLIENT_ID/SECRET/TENANT_ID stored in Infisical /spine/platform/security.
    severity: medium
    status: fixed
    notes: "Graph capabilities now execute via governed graph-cap-exec wrapper (secrets-exec + graph-token-exec)."
    fixed_in: "9654e05"
  - id: "GAP-OP-560"
    discovered_by: "core-operator"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Azure AD app registration missing Calendars.ReadWrite application permission. Calendar graph caps (create/update/list/get/rsvp) return 403. Mail caps work (Mail.ReadWrite, Mail.Send granted). Operator must add Calendars.ReadWrite in Azure portal and grant admin consent.
    severity: medium
    status: fixed
    notes: "Calendars.ReadWrite confirmed operational; graph.calendar.list/create/update succeed via governed wrapper run keys CAP-20260216-114401__graph.calendar.list__R8y9j1942 and CAP-20260216-114025__graph.calendar.update__Rz1u059806."
    fixed_in: "9654e05"
  - id: "GAP-OP-561"
    discovered_by: "core-operator"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/capabilities.yaml + ops/bindings/capability_map.yaml + workbench agents tools paths"
    description: |
      No canonical enforcement that domain_external capability implementation_repo/implementation_path entries resolve to real files/directories in workbench. This creates manual translator overhead and stale path drift where agents cannot discover or execute domain tools reliably.
    severity: high
    status: fixed
    notes: "Added workbench.impl.audit capability + D126 gate to enforce domain_external implementation_repo/path parity and wired into core/day-to-day verify flow."
    fixed_in: 9f04e66
  - id: "GAP-OP-562"
    discovered_by: "core-operator"
    discovered_at: "2026-02-16"
    type: missing-entry
    doc: "ops/bindings/domain.docs.routes.yaml + docs/governance/domains/ms-graph"
    description: |
      MS Graph domain had capability-level ownership metadata but no doc-routing layer (no graph pointer stubs in docs/governance and no ms-graph entries in domain.docs.routes.yaml), creating discovery drift for agents looking for canonical domain docs.
    severity: high
    status: fixed
    notes: "Added ms-graph domain docs route entries plus governance source and domain pointer stubs; D122 and D84 now pass."
    fixed_in: 439268b
  - id: "GAP-OP-563"
    discovered_by: "codex-session-20260216"
    discovered_at: "2026-02-16"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/workbench/agents/immich/tools/runtime/worker.sh"
    description: |
      Immich yearly ingest hard-blocks progression on metadata verification failure; policy needs log-only metadata audit so full ingest continues oldest-to-newest without manual intervention.
    severity: high
    status: fixed
    notes: "Removed metadata hard-block in worker; metadata verification now audit/log-only by default (IMMICH_METADATA_GATE_MODE=log_only). Deployed to VM203 and resumed ingest from 2013."
    parent_loop: "LOOP-IMMICH-ORIGINAL-INGEST-YEARLY-20260216"
    fixed_in: vm203-metadata-gate-log-only-20260216
  - id: "GAP-OP-564"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      No terminal.role.contract.yaml exists. Terminal roles (SPINE-CONTROL-01, SPINE-AUDIT-01, etc.) have no formal SSOT binding for role names, write scopes, or capability entitlements.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:17Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-d-terminal-contract
  - id: "GAP-OP-565"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No terminal.contract.status capability exists. Operators cannot programmatically check whether a terminal role contract is valid, complete, or stale.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:23Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-d-terminal-contract
  - id: "GAP-OP-566"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "workbench/scripts/root/spine_terminal_entry.sh"
    description: |
      spine_terminal_entry.sh launcher does not support --terminal-name flag. Terminals cannot declare their canonical name at startup for traceability and contract binding.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:30Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-e-terminal-naming
  - id: "GAP-OP-567"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: unclear-doc
    doc: "docs/governance/TERMINAL_C_DAILY_RUNBOOK.md"
    description: |
      Runbooks and agent entry docs do not use canonical terminal names. Terminal naming convention (SPINE-CONTROL-01, SPINE-AUDIT-01, RUNTIME-IMMICH-01, DOMAIN-HA-01, DEPLOY-MINT-01) is informal only.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:36Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-e-terminal-naming
  - id: "GAP-OP-568"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: agent-behavior
    doc: "mailroom/outbox/proposals/"
    description: |
      4 pending proposals in the queue have not been triaged. Proposals CP-20260216-182611, CP-20260216-182657, CP-20260216-190040, CP-20260216-190423 need apply/supersede/defer decisions.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:43Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-f-proposal-triage
  - id: "GAP-OP-569"
    discovered_by: "spine-control-01"
    discovered_at: "2026-02-17"
    type: unclear-doc
    doc: "docs/governance/_audits/_artifacts/"
    description: |
      Audit artifacts in docs/governance/_audits/_artifacts/ have no retention or tracking policy. Untracked directory with no gitignore rule or commit policy creates ambiguity about what is authoritative vs ephemeral.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:01:50Z"
    parent_loop: "LOOP-SPINE-TERMINAL-MODEL-CLOSEOUT-20260216"
    fixed_in: lane-f-audit-artifact-policy
  - id: "GAP-OP-570"
    discovered_by: "SPINE-CONTROL-01"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "LOOP-AOF-CANONICAL-RESTORE-20260216"
    description: |
      home.device.registry.yaml uses disallowed keys vmid and notes — latent D129 violation
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T01:34:18Z"
    fixed_in: LOOP-AOF-CANONICAL-RESTORE-20260216
  - id: "GAP-OP-571"
    discovered_by: "SPINE-AUDIT-01 secrets preflight"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "null"
    description: |
      Secrets canonical drift: deprecated projects (finance-stack, mint-os-vault) + key-name mismatch (FIREFLY_ACCESS_TOKEN vs FIREFLY_PAT, PAPERLESS_SECRET_KEY vs PAPERLESS_API_TOKEN) across spine/workbench/mint-modules
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T02:46:15Z"
    parent_loop: "LOOP-SECRETS-CANONICALIZATION-20260216"
    fixed_in: ca4bba0
  - id: "GAP-OP-572"
    discovered_by: "DOMAIN-MEDIA-01 stabilization lane"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-metrics-today"
    description: |
      media.metrics.today fails: Radarr history API responds in 17s per 10-record page (3101 total records). Script uses pageSize=200 with urllib timeout=20s causing TimeoutError. Catch-all except masks real error as 'radarr API parse failed'. Fix: reduce page_size to 10, increase timeout to 60, expose actual exception type in error message.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:43:54Z"
    fixed_in: 857b8b2
  - id: "GAP-OP-573"
    discovered_by: "SPINE-CONTROL-01"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "ops/plugins/secrets/bin/secrets-bundle-apply"
    description: |
      Infisical project-name drift still trips agent secret routing (canonical infrastructure paths vs deprecated finance-stack shadow keys). Need canonical contract-driven resolution + deterministic CLI bundle flow + no yq expression hazards.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:46:30Z"
    parent_loop: "LOOP-SECRETS-AOF-NORMALIZATION-20260216"
    fixed_in: 'secrets-bundle-apply: type=none, env() yq, conditional -H'
  - id: "GAP-OP-574"
    discovered_by: "DOMAIN-HA-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "ops/bindings/ha.orphan.classification.yaml"
    description: |
      bedroom_empress_bulb misclassified as mobile-app, should be smart-bulb
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:57:17Z"
    fixed_in: 9a6a994
  - id: "GAP-OP-575"
    discovered_by: "DEPLOY-MINT-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "deploy/.env.prod.example"
    description: |
      Infisical secrets not provisioned for shipping, pricing, suppliers modules. Required paths: /spine/services/shipping/, /spine/services/pricing/, /spine/services/suppliers/ with API_KEY and DATABASE_URL per module.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:57:37Z"
    fixed_in: 5ee20ba
  - id: "GAP-OP-576"
    discovered_by: "DEPLOY-MINT-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "deploy/docker-compose.prod.yml"
    description: |
      finance-adapter service defined in docker-compose.prod.yml but container not deployed on mint-apps VM. Image needs to be built, transferred, and started.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:57:39Z"
    fixed_in: finance-adapter deployed and healthy on mint-apps VM; 7/7 containers; cert green
  - id: "GAP-OP-577"
    discovered_by: "DEPLOY-MINT-01"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "docs/ARCHITECTURE/MODULE_MIGRATION_RUNNER_CONTRACT.md"
    description: |
      schema_migrations table does not exist in mint-data postgres. Artwork tables created outside migration runner. Need to bootstrap schema_migrations and backfill artwork baseline.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T03:57:41Z"
    fixed_in: 3ab529e
  - id: "GAP-OP-578"
    discovered_by: "DOMAIN-HA-01"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "ops/bindings/ha.device.map.overrides.yaml"
    description: |
      HA device map false-positive: Empress iPhone name_partial matches bedroom-empress-bulb network device; needs explicit override to prevent rematch drift
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:02:07Z"
    fixed_in: 0c3871e
  - id: "GAP-OP-579"
    discovered_by: "media-agent-parity-pass"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "agents/media/docs/RUNBOOK.md"
    description: |
      Media MCP dual-read fallback preserves Infisical naming drift for 3 keys (SABNZBD, NAVIDROME, JELLYFIN). Cleanup: normalize Infisical to canonical names, remove fallback reads in index.ts, add to secrets.runway.contract.yaml.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:05:56Z"
    fixed_in: "Full cutover complete 2026-02-17: index.ts fallbacks removed, .env.example/RUNBOOK/media-stack.json/secrets_inventory/runway contract canonicalized, Infisical dead alias keys deleted (SABNZBD_REMOTE_API_KEY, NAVIDROME_USER, JELLYFIN_USER), all compose/SSOT refs renamed, media.health.check confirmed OK"
  - id: "GAP-OP-580"
    discovered_by: "DOMAIN-HA-01"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "ops/bindings/ha.orphan.classification.yaml"
    description: |
      HA registry enrichment batch 1: classify non-device orphans and add physical devices to reduce needs-registry count from 102
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:10:53Z"
    fixed_in: c2b4221
  - id: "GAP-OP-581"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "surfaces/verify/verify-identity.sh"
    description: |
      verify-identity.sh TIER2_HOSTS references destroyed VM 201 (media-stack 100.117.1.53) and TIER3_HOSTS hardcodes HA Tailscale IP 100.67.120.1 (403, GAP-OP-502). Identity verification produces false results.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:15Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'verify-identity.sh: removed destroyed VM 201 (media-stack), replaced with download-stack (209) + streaming-stack (210) in TIER2_HOSTS'
  - id: "GAP-OP-582"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "ops/bindings/startup.sequencing.yaml"
    description: |
      startup.sequencing.yaml Phase 4 (docker-host) still lists finance and mail-archiver stacks. Both migrated to finance-stack VM 211 on 2026-02-12. Operators following startup sequence target wrong host.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:23Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'startup.sequencing.yaml: moved finance+mail-archiver from docker-host Phase 4 to finance-stack Phase 3'
  - id: "GAP-OP-583"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      ha.device.map.yaml contains 7 sensor entities for decommissioned VM 102 (vaultwarden). Build script ha.device.map.build does not filter decommissioned VMs from Proxmox device registry. Regenerated 2026-02-17 still includes ghost entities.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:32Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'ha-device-map-build: filter decommissioned devices from name matching + classify vaultwarden 102 as proxmox-subsystem orphan'
  - id: "GAP-OP-584"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets.namespace.policy.yaml planned_key_paths and key_path_overrides reference VAULTWARDEN_HOME_* under /spine/home/vaultwarden-home (VM 102). VM 102 decommissioned 2026-02-16; vaultwarden now on infra-core VM 204. Namespace paths stale.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:41Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'secrets.namespace.policy.yaml: removed VAULTWARDEN_HOME_* from planned_key_paths and key_path_overrides (VM 102 decommissioned)'
  - id: "GAP-OP-585"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      home.device.registry.yaml line 83 describes proxmox-home as hosting VM 102 (vaultwarden). VM 102 decommissioned 2026-02-16. Description contradicts vm.lifecycle.yaml decommissioned status.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:48Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'home.device.registry.yaml: proxmox-home description updated to reflect VM 102 decommissioned'
  - id: "GAP-OP-586"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/bindings/naming.policy.yaml"
    description: |
      naming.policy.yaml calls shop Immich VM 203 immich-1 (line 248) but ssh.targets.yaml, services.health.yaml, and docker.compose.targets.yaml all use immich. Different canonical name depending on which SSOT is consulted.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:13:58Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'naming.policy.yaml: shop Immich canonical name immich-1 -> immich (VM 203), home VM 101 -> immich-home, Tailscale suffix exception added'
  - id: "GAP-OP-587"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/bindings/terminal.role.contract.yaml"
    description: |
      terminal.role.contract.yaml assigns docs/governance/ to SPINE-CONTROL-01 and docs/governance/_audits/ to SPINE-AUDIT-01, but docs/core/, docs/product/, and docs/brain/ have no terminal owner. Any terminal can write with no accountability.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:14:06Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'terminal.role.contract.yaml: added docs/core/, docs/product/, docs/brain/ to SPINE-CONTROL-01 write_scope; synced AGENTS.md, CLAUDE.md, TERMINAL_C_DAILY_RUNBOOK.md tables'
  - id: "GAP-OP-588"
    discovered_by: "SPINE-AUDIT-01 normalization discovery"
    discovered_at: "2026-02-17"
    type: unclear-doc
    doc: "ops/bindings/terminal.role.contract.yaml"
    description: |
      fixtures/, .archive/, and .planning/ directories exist but no terminal role claims ownership. Not documented in excluded surfaces. Housekeeping normalization debt.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T04:14:15Z"
    parent_loop: "LOOP-SSOT-NORMALIZATION-DISCOVERY-20260216"
    fixed_in: 'terminal.role.contract.yaml: added excluded_surfaces section for fixtures/, .archive/, .planning/; EXCLUDED_SURFACES.md updated with rationale'
  - id: "GAP-OP-590"
    discovered_by: "DEPLOY-MINT-01"
    type: runtime-bug
    doc: "docs/governance/_audits"
    description: |
      Mint deploy 24h burn-in evidence after GAP-OP-575/576/577 closure (finance-adapter + 7/7 running).
      Hygiene sweep status: linked to LOOP-WORKBENCH-AOF-HARDENING-V2-20260217 and kept open pending T+24 checkpoint with green runtime; latest signal CAP-20260217-105158__mint.deploy.status__Robnx61211 reported DEGRADED (7/8).
    severity: low
    status: fixed
    parent_loop: "LOOP-WORKBENCH-AOF-HARDENING-V2-20260217"
    fixed_in: mint 7/7 GREEN, finance-adapter 24h healthy, CAP-20260217-231856
  - id: "GAP-OP-591"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P0-01 Register extraction work items as governed gaps/loop tasks before mutation. Wave-1 registration baseline for runtime authority execution.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T13:22:45Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P0 wave tracking complete; see P0 closeout audit.
  - id: "GAP-OP-592"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P0-02 Capture runtime baseline and route verify lanes (snapshot/core/domain) before runtime-authority mutation.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T13:22:46Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: Runtime baseline + verify routing captured with run keys in P0 closeout audit.
  - id: "GAP-OP-593"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "workbench/infra/data/CONTAINER_INVENTORY.yaml"
    description: |
      P0-03 Reconcile VM inventory parity to spine canonical truth; remove decommissioned VMs and add missing active VMs.
    severity: high
    status: fixed
    notes: "Batch A: CONTAINER_INVENTORY parity aligned with vm.lifecycle; decommissioned VM 201/102 removed; missing active pve VMs added; location normalized to pve."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:1189aa1 spine:4d8b02f
  - id: "GAP-OP-594"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "workbench/dotfiles/ssh/config.d/tailscale.conf"
    description: |
      P0-04 Reconcile SSH target inventory parity to spine canonical truth, including immich user alignment.
    severity: high
    status: fixed
    notes: "Batch A: workbench tailscale SSH inventory aligned to spine ssh.targets; missing hosts added, stale vault removed, immich user corrected to ronny."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:1189aa1 spine:4d8b02f
  - id: "GAP-OP-595"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "workbench/infra/compose/media-stack/docker-compose.yml"
    description: |
      P0-05 Extract active media compose authority from legacy into workbench canonical compose surface.
    severity: high
    status: fixed
    notes: "Batch B: media compose authority extracted to workbench/infra/compose/media-stack/docker-compose.yml from legacy read-only source and normalized to AOF compose contract."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:a3c2f68
  - id: "GAP-OP-596"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "workbench/infra/compose/finance/docker-compose.yml"
    description: |
      P0-06 Extract active finance compose authority (core plus mail-archiver) into workbench canonical compose surface.
    severity: high
    status: fixed
    notes: "Batch B: finance compose authority extracted to workbench/infra/compose/finance/docker-compose.yml and workbench/infra/compose/finance/mail-archiver/docker-compose.yml, normalized to AOF compose contract."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:a3c2f68
  - id: "GAP-OP-597"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "workbench/infra/compose/monitoring/docker-compose.yml"
    description: |
      P0-07 Reconcile additional active runtime compose gaps (monitoring and pihole) to eliminate legacy-only authority.
    severity: high
    status: fixed
    notes: "Batch B: monitoring and pihole compose authorities extracted to workbench canonical surfaces and normalized; invalid cross-project depends_on removed in monitoring exporters for compose validity."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:a3c2f68
  - id: "GAP-OP-598"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/bindings/"
    description: |
      P0-08 Merge service registry and runtime inventory deltas from legacy into canonical bindings/data to remove split truth.
    severity: high
    status: fixed
    notes: "Batch A: runtime/service inventory authority clarified and reconciled; workbench observed inventory now references spine canonical bindings/registry; legacy split-truth collapsed."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:1189aa1 spine:4d8b02f
  - id: "GAP-OP-599"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "/Users/ronnyworks/.zshrc"
    description: |
      P0-09 Resolve active shell/runtime legacy root reference (LEGACY_ROOT) so runtime no longer depends on ronny-ops path.
    severity: high
    status: fixed
    notes: |
      Filed via gaps.file at 2026-02-17T13:22:55Z.
      Batch A partial (2026-02-17): source-of-truth compatibility flow was
      updated in workbench dotfiles, but live shell profile still contains:
      /Users/ronnyworks/.zshrc -> export LEGACY_ROOT="/Users/ronnyworks/ronny-ops"
      Keep open until runtime profile is remediated in final P0 wrap.
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: Removed active LEGACY_ROOT export from ~/.zshrc; compatibility handled via workbench compat shim.
  - id: "GAP-OP-600"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "ops/tools/infisical-agent.sh"
    description: |
      P0-10 Canonicalize infisical-agent usage to spine-governed implementation and remove legacy authority drift.
    severity: high
    status: fixed
    notes: "Batch A: canonical infisical-agent authority moved to spine ops/tools; workbench script converted to executable shim delegating to spine; secrets.cli.status pass."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:1189aa1 spine:4d8b02f
  - id: "GAP-OP-601"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "/Users/ronnyworks/ronny-ops/infrastructure/cloudflare/tunnel/docker-compose.yml"
    description: |
      P0-11 Mark legacy cloudflare and old runtime copies non-authoritative to prevent stale deployment/routing regressions.
    severity: high
    status: fixed
    notes: "Batch A: legacy cloudflare runtime copy explicitly marked non-authoritative in active compose authority and cloudflare docs; live host reference corrected to infra-core."
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: workbench:1189aa1 spine:4d8b02f
  - id: "GAP-OP-602"
    discovered_by: "SPINE-CONTROL-01 P0 Runtime Authority Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P0-12 Run post-P0 verification and receipt closeout so runtime authority wave has deterministic certification evidence.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T13:23:00Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: Post-P0 verification and receipt closeout completed; see P0 closeout audit.
  - id: "GAP-OP-603"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-01 Extract HA dashboard brand/pattern authority into workbench maintained doc surface.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:27Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-01 extracted to HA_DASHBOARD_BRAND.md
  - id: "GAP-OP-604"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-02 Extract HA device registry with verified device/integration metadata into active docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:32Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-02 extracted to HA_DEVICE_REGISTRY.md
  - id: "GAP-OP-605"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-03 Extract HA incident runbooks (Zigbee, CalDAV, WoL) into recovery-ready authority docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:37Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-03 extracted to HA_RUNBOOKS.md
  - id: "GAP-OP-606"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-04 Extract HA CLI cookbook and deployment/resync/network/streamdeck deltas into current docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:42Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-04 extracted to HA_CLI_PATTERNS.md
  - id: "GAP-OP-607"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-05 Extract media pipeline architecture and Tdarr safety runbook into maintained media docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:47Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-05 extracted to MEDIA_PIPELINE_ARCHITECTURE.md + MEDIA_TDARR_RUNBOOK.md
  - id: "GAP-OP-608"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-06 Merge media recovery order, critical rules delta, download architecture, and Navidrome integration into authority docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:22:52Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-06 merged into media authority docs
  - id: "GAP-OP-609"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-07 Extract finance account topology and category mapping authority into workbench docs/brain-lessons/FINANCE_ACCOUNT_TOPOLOGY.md with account IDs, mapping logic, and vendor/tax coverage.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:27Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-07 finance topology/category authority extracted
  - id: "GAP-OP-610"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-08 Extract finance import configs, receipt SOP, and Firefly-Mint sync runbook into finance brain-lessons docs (FINANCE_IMPORT_CONFIGS.md, FINANCE_RECEIPT_SCANNING.md, FINANCE_MINT_SYNC.md).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:28Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-08 finance import/receipt/sync runbooks extracted
  - id: "GAP-OP-611"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/L3_DOMAIN_DOCS_DIFF.md"
    description: |
      P1-09 Merge finance partial deltas for SimpleFIN UUID mapping and troubleshooting edge cases into existing finance authority docs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:29Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-09 SimpleFIN/troubleshooting deltas merged
  - id: "GAP-OP-612"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/L3_DOMAIN_DOCS_DIFF.md"
    description: |
      P1-10 Extract infra governance debt (Cloudflare governance, incidents log, service update tiers) into maintained workbench authority docs.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:30Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-10 infra governance authority extracted
  - id: "GAP-OP-613"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-11 Extract MCPJungle recovery and n8n operational documentation debt into active authority documentation surfaces.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:32Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-11 MCPJungle+n8n ops authority extracted
  - id: "GAP-OP-614"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2A"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/L3_DOMAIN_DOCS_DIFF.md"
    description: |
      P1-12 Extract Immich import rules, migration context, and install deltas into maintained Immich brain-lessons docs.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T14:53:33Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-12 Immich import/context/install deltas extracted
  - id: "GAP-OP-615"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2B"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-13 Extract Dakota embroidery inventory/business asset authority into workbench docs/brain-lessons/EMBROIDERY_LIBRARY.md.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:13:45Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-13 extracted to workbench/docs/brain-lessons/EMBROIDERY_LIBRARY.md
  - id: "GAP-OP-616"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2B"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-14 Extract missing operational script/config bundles into workbench infra/scripts and compose script surfaces, or publish explicit parity/deprecation manifest.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:13:47Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-14 script bundles migrated/deprecated with explicit replacement manifest in workbench/docs/infrastructure/LEGACY_SCRIPT_BUNDLE_PARITY_20260217.md
  - id: "GAP-OP-617"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2B"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/L3_DOMAIN_DOCS_DIFF.md"
    description: |
      P1-15 Reconcile governance parity deltas for backup/reboot/SSOT registry into spine governance and bindings with explicit accept/reject notes.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:13:48Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-15 governance parity deltas reconciled in docs/governance and ops/bindings with accept/reject notes
  - id: "GAP-OP-618"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2B"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/L1_LEGACY_CENSUS.md"
    description: |
      P1-16 Merge legacy session memory learnings into docs/brain/memory.md as concise actionable de-duplicated guidance.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:13:49Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-16 merged legacy operational learnings into docs/brain/memory.md
  - id: "GAP-OP-619"
    discovered_by: "SPINE-CONTROL-01 P1 Extraction Wave-2B"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P1-17 Run domain-scoped verification for touched domains and record extraction impact note evidence for Wave-2B.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:13:51Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P1-17 domain-scoped verify lanes executed and impact captured in P1_WAVE2B_IMPACT_20260217.md
  - id: "GAP-OP-620"
    discovered_by: "EXTRACTION_BACKLOG.md P2-01"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-01 archive legacy mint-os application source history into governed retirement archive with checksums and replacement authority mapping.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:33:52Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-01 archived ronny-ops/mint-os to workbench/archive/ronny-ops-retirement-20260217 with checksum manifest
  - id: "GAP-OP-621"
    discovered_by: "EXTRACTION_BACKLOG.md P2-02"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-02 archive legacy modules/files-api surface as superseded extraction artifact with checksum and archive manifest entry.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:33:58Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-02 archived ronny-ops/modules/files-api with checksum and archive index trace
  - id: "GAP-OP-622"
    discovered_by: "EXTRACTION_BACKLOG.md P2-03"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-03 retire superseded legacy control surfaces (.agent/.claude/.opencode and deprecated root docs) to governed archive with replacement authority mapping.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:34:06Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-03 superseded control surfaces archived with explicit authority replacements
  - id: "GAP-OP-623"
    discovered_by: "EXTRACTION_BACKLOG.md P2-04"
    discovered_at: "2026-02-17"
    type: stale-ssot
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-04 retire stale legacy archive surfaces (.archive/*) to governed retirement archive with retention policy note and extraction coverage trace.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:34:13Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-04 stale legacy .archive surfaces archived with retention note
  - id: "GAP-OP-624"
    discovered_by: "EXTRACTION_BACKLOG.md P2-05"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-05 retire stale legacy runtime snapshots and deprecated compose/proxmox audit leftovers to governed archive with active replacement mapping.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:34:19Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-05 legacy runtime snapshots and old compose/proxmox audit leftovers archived with replacement mapping
  - id: "GAP-OP-625"
    discovered_by: "EXTRACTION_BACKLOG.md P2-06"
    discovered_at: "2026-02-17"
    type: duplicate-truth
    doc: "docs/governance/_audits/RONNY_OPS_FINAL_EXTRACTION_INBOX_20260217/EXTRACTION_BACKLOG.md"
    description: |
      P2-06 final legacy retirement certification: prove no active runtime authority remains in ronny-ops and active authority is spine/workbench.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T15:34:26Z"
    parent_loop: "LOOP-RONNY-OPS-FINAL-EXTRACTION-SWEEP-20260217"
    fixed_in: P2-06 retirement certification complete; no active runtime authority remains in ronny-ops (see RONNY_OPS_RETIREMENT_CERT_20260217.md)
  - id: "GAP-OP-626"
    discovered_by: "SPINE-CONTROL-01 proposals.apply end-to-end audit"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "surfaces/verify/d61-session-loop-traceability-lock.sh"
    description: |
      D61 closeout freshness gate checks only mailroom/state/ledger.csv and ignores valid agent.session.closeout receipts, causing false P0 blocking in proposals.apply admission verify.domain.run loop_gap.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T16:59:22Z"
    parent_loop: "LOOP-WORKBENCH-AOF-HARDENING-V2-20260217"
    fixed_in: D61 closeout freshness now uses ledger rows or receipts fallback; added regression test in surfaces/verify/tests/d61-session-loop-traceability-lock-test.sh
  - id: "GAP-OP-627"
    discovered_by: "SPINE-CONTROL-01 architecture review"
    discovered_at: "2026-02-17"
    type: agent-behavior
    doc: "docs/product/AOF_PRODUCT_CONTRACT.md"
    description: |
      Surface sync sprawl: governance brief embedded in 3 files via sync hooks, MCP servers configured independently per-surface (4 locations), agent contracts are prose-only (not machine-queryable), slash commands synced by shell script to 3 targets. Every governance update or new agent onboard requires N manual touch-points across surfaces. AOF v1.0 lacks dynamic context delivery and a unified MCP gateway.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T17:25:46Z"
    parent_loop: "LOOP-AOF-V1-1-SURFACE-UNIFICATION-20260217"
    fixed_in: 'Design proposal approved: docs/product/AOF_V1_1_SURFACE_UNIFICATION.md; closeout cert: docs/governance/_audits/AOF_V1_1_SURFACE_UNIFICATION_CERT_20260217.md'
  - id: "GAP-OP-628"
    discovered_by: "SPINE-CONTROL-01 route-integrity-ratchet audit"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "ops/plugins/verify/bin/verify-topology"
    description: |
      verify.route.recommend can emit empty recommended_domains and loop_gap path triggers omit proposals surfaces, allowing proposal admission to skip loop_gap governance checks unless matching tracked paths.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T17:27:03Z"
    parent_loop: "LOOP-ROUTE-INTEGRITY-RATCHET-20260217"
    fixed_in: 83cf993 route-integrity ratchet landed; verify-topology routing and D128 provenance validated.
  - id: "GAP-OP-629"
    discovered_by: "supplier-sync-step1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_SUPPLIER_SYNC_CONTRACT_V1.md"
    description: |
      Supplier Sync v1 runtime slice missing in mint-modules (sync run endpoint, idempotent replay, failure classification).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T18:10:06Z"
    parent_loop: "LOOP-MINT-SUPPLIER-SYNC-IMPLEMENT-V1-20260217"
    fixed_in: Supplier sync step1 implemented; idempotent replay validated; tests/build/checkers pass.
  - id: "GAP-OP-630"
    discovered_by: "job-estimator-step1"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md"
    description: |
      Job Estimator v1 runtime slice missing in mint-modules (deterministic quote pipeline, schema, tests).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T18:54:19Z"
    parent_loop: "LOOP-MINT-JOB-ESTIMATOR-IMPLEMENT-V1-20260217"
    fixed_in: Job Estimator step1 implemented with deterministic pricing and passing cert.
  - id: "GAP-OP-631"
    discovered_by: "supplier-sync-step2"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_SUPPLIER_SYNC_CONTRACT_V1.md"
    description: |
      Supplier Sync v2 runtime slice missing in mint-modules (canonical entities, evidence metadata, retry/dead-letter semantics).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T19:36:02Z"
    parent_loop: "LOOP-MINT-SUPPLIER-SYNC-IMPLEMENT-V2-20260217"
    fixed_in: Supplier Sync step2 implemented with entity coverage, evidence metadata, dead-letter semantics, and passing cert.
  - id: "GAP-OP-632"
    discovered_by: "job-estimator-step2"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md"
    description: |
      Job Estimator v2 runtime slice missing in mint-modules (canonical evidence fields, failure-policy classifications, deterministic replay parity).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T19:40:42Z"
    parent_loop: "LOOP-MINT-JOB-ESTIMATOR-IMPLEMENT-V2-20260217"
    fixed_in: Job Estimator step2 implemented with canonical evidence fields, failure-policy classifications, and passing cert.
  - id: "GAP-OP-633"
    discovered_by: "supplier-sync-step3"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_SUPPLIER_SYNC_ACCEPTANCE_V1.md"
    description: |
      Supplier Sync Step 3 integration hardening missing in mint-modules (handoff payload + burn-in readiness surfaces).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T19:52:05Z"
    parent_loop: "LOOP-MINT-SUPPLIER-SYNC-IMPLEMENT-V3-20260217"
    fixed_in: Supplier Sync Step 3 implemented with integration handoff payload, burn-in readiness endpoint, and passing tests/build/checkers.
  - id: "GAP-OP-634"
    discovered_by: "job-estimator-step3"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/CANONICAL/MINT_JOB_ESTIMATOR_CONTRACT_V1.md"
    description: |
      Job Estimator Step 3 integration hardening missing in mint-modules (cross-module evidence, burn-in readiness, deterministic source precedence traceability).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T19:58:04Z"
    parent_loop: "LOOP-MINT-JOB-ESTIMATOR-IMPLEMENT-V3-20260217"
    fixed_in: Job Estimator Step 3 implemented with integration handoff, burn-in readiness status, and passing pricing tests/build/checkers.
  - id: "GAP-OP-635"
    discovered_by: "mint-step4-burnin"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/MINT_IMPLEMENT_BURNIN_24H_20260217.md"
    description: |
      Mint V1 implementation burn-in 24h sustained stability tracking pending T+8h/T+24h checkpoints before closure.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T20:10:59Z"
    parent_loop: "LOOP-MINT-IMPLEMENT-BURNIN-24H-20260217"
    fixed_in: CAP-20260218-143317__mint.modules.health__Rwe6u40828,CAP-20260218-143323__mint.deploy.status__Rc3k841120,CAP-20260218-143331__verify.core.run__R4sek41378,CAP-20260218-143413__verify.domain.run__Rxvy054870
  - id: "GAP-OP-636"
    discovered_by: "SPINE-AUDIT-01 rolldown registration"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/product/AOF_V1_1_SURFACE_UNIFICATION.md"
    description: |
      No unified MCP gateway exists. Each surface (Claude Code, Claude Desktop, OpenCode, Mailroom Bridge) requires independent MCP server configuration. New agent tools require N manual config touch-points. Design: docs/product/AOF_V1_1_SURFACE_UNIFICATION.md Move 1.
    severity: high
    status: fixed
    notes: "Validated by CAP-20260217-164114__verify.core.run__Ruv1z11367, CAP-20260217-164153__verify.domain.run__Rog9l23739, CAP-20260217-164213__verify.vertical_integration.parity_status__R4k7k30109"
    parent_loop: "LOOP-SPINE-MCP-GATEWAY-V1-20260217"
    fixed_in: 'LOOP-SPINE-MCP-GATEWAY-V1-20260217: unified MCP gateway via spine.mcp.serve and ./bin/ops mcp serve'
  - id: "GAP-OP-637"
    discovered_by: "SPINE-AUDIT-01 rolldown registration"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "ops/bindings/agents.registry.yaml"
    description: |
      Agent registry lacks machine-queryable fields (mcp_tools, capabilities, write_scope, endpoints). No agent.info or agent.tools capability exists. Agents cannot programmatically discover what tools another agent provides. Design: docs/product/AOF_V1_1_SURFACE_UNIFICATION.md Move 2.
    severity: medium
    status: fixed
    notes: "Validated by CAP-20260217-165930__verify.core.run__Rurej9067, CAP-20260217-170016__verify.domain.run__R7fj721529, CAP-20260217-170035__verify.vertical_integration.parity_status__R3su827924; acceptance checks CAP-20260217-165749__agent.info__Ru7qf89019 and CAP-20260217-165749__agent.tools__R8j1r89020"
    parent_loop: "LOOP-AGENT-REGISTRY-SCHEMA-V2-20260217"
    fixed_in: 'LOOP-AGENT-REGISTRY-SCHEMA-V2-20260217: registry schema extended + agent.info/agent.tools capabilities'
  - id: "GAP-OP-638"
    discovered_by: "SPINE-AUDIT-01 rolldown registration"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/AGENT_GOVERNANCE_BRIEF.md"
    description: |
      No dynamic context delivery capability. Governance brief is statically embedded in AGENTS.md, CLAUDE.md, OPENCODE.md via sync hooks. Every edit requires sync-agent-surfaces.sh + D65 parity verification. No spine.context cap exists. Design: docs/product/AOF_V1_1_SURFACE_UNIFICATION.md Move 3.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T20:51:30Z"
    parent_loop: "LOOP-DYNAMIC-CONTEXT-DELIVERY-V1-20260217"
    fixed_in: spine.context capability (ops/plugins/context/bin/spine-context) + session-entry-hook refactor
  - id: "GAP-OP-639"
    discovered_by: "SPINE-AUDIT-01 rolldown registration"
    discovered_at: "2026-02-17"
    type: agent-behavior
    doc: "ops/hooks/sync-agent-surfaces.sh"
    description: |
      Sync scripts (sync-agent-surfaces.sh, sync-slash-commands.sh) and per-surface MCP configs (.mcp.json) remain active despite being superseded by the approved surface unification design. Retirement blocked until Moves 1-3 are complete. Design: docs/product/AOF_V1_1_SURFACE_UNIFICATION.md WS-5.
    severity: medium
    status: fixed
    notes: |-
      Validated by CAP-20260217-174118__verify.core.run__R2ytc70860, CAP-20260217-174205__verify.domain.run__R7zsk83342, CAP-20260217-174225__verify.vertical_integration.parity_status__Rhn0o89752
    parent_loop: "LOOP-SYNC-ARTIFACT-RETIREMENT-V1-20260217"
    fixed_in: 'LOOP-SYNC-ARTIFACT-RETIREMENT-V1-20260217: retired sync hook dependency + D56/D65 dynamic-context enforcement'
  - id: "GAP-OP-640"
    discovered_by: "SPINE-CONTROL-01"
    discovered_at: "2026-02-17"
    type: runtime-bug
    doc: "null"
    description: |
      Missing automatic vertical-integration admission/parity enforcement allows implemented mint-modules pricing/suppliers changes to ship without required runtime, MCP, health, and docs exposure checks.
    severity: high
    status: fixed
    notes: "Closed after green parity recert (overall PASS) with runtime source alignment + MCP pricing/suppliers exposure markers."
    parent_loop: "LOOP-VERTICAL-INTEGRATION-AUTOMATION-V1-20260217"
    fixed_in: CAP-20260217-162706__verify.vertical_integration.parity_status__Rbcc757531
  - id: "GAP-OP-641"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/FINANCE_OPS_RHYTHM_PLAN_20260217.md"
    description: |
      Finance rhythm missing tax MCP tools for 1099 and DR-15 workflows.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T22:57:03Z"
    parent_loop: "LOOP-FINANCE-OPS-RHYTHM-V1-20260217"
    fixed_in: Implemented tax_1099_summary and sales_tax_dr15 MCP tools in workbench/agents/finance/tools/src/index.ts. Updated TOOL_SURFACE.md and tax-prep.md playbook.
  - id: "GAP-OP-642"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/FINANCE_OPS_RHYTHM_PLAN_20260217.md"
    description: |
      Finance rhythm missing compliance cadence contract for monthly/quarterly filing obligations.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T22:57:07Z"
    parent_loop: "LOOP-FINANCE-OPS-RHYTHM-V1-20260217"
    fixed_in: Created FINANCE_COMPLIANCE_CADENCE_CONTRACT.md in workbench/agents/finance/docs/ defining monthly/quarterly/annual cadence with deadline calendars, agent-vs-Ronny split, and evidence storage locations. Updated INDEX.md and tax-prep.md.
  - id: "GAP-OP-643"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/FINANCE_OPS_RHYTHM_PLAN_20260217.md"
    description: |
      Finance transaction pipeline contract is ambiguous or absent across ingest, classify, and ledger posting stages.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T22:57:12Z"
    parent_loop: "LOOP-FINANCE-OPS-RHYTHM-V1-20260217"
    fixed_in: 'Implemented finance_transaction_pipeline_status MCP tool and FINANCE_TRANSACTION_PIPELINE_CONTRACT.md. Tool returns structured status (healthy/degraded/empty) with blockers. Runtime evidence: 880 total txns, latest Jan 17, pipeline empty for last 30 days — tool correctly surfaces this.'
  - id: "GAP-OP-644"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/FINANCE_OPS_RHYTHM_PLAN_20260217.md"
    description: |
      Finance rhythm missing Ronny action queue output contract for deterministic operator task handoff.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T22:57:16Z"
    parent_loop: "LOOP-FINANCE-OPS-RHYTHM-V1-20260217"
    fixed_in: Implemented finance_ronny_action_queue MCP tool and FINANCE_RONNY_ACTION_QUEUE_CONTRACT.md. Tool produces deterministic operator handoff with task_id, due_at, instructions, evidence_required, status, blocker_reason. Cascade logic blocks data-dependent tasks when pipeline is empty.
  - id: "GAP-OP-645"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/FINANCE_OPS_RHYTHM_PLAN_20260217.md"
    description: |
      Finance rhythm missing filing packet contract defining canonical bundle contents and output format.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T22:57:20Z"
    parent_loop: "LOOP-FINANCE-OPS-RHYTHM-V1-20260217"
    fixed_in: finance_filing_packet MCP tool + FINANCE_FILING_PACKET_CONTRACT.md (LOOP-FINANCE-OPS-RHYTHM-V1-20260217)
  - id: "GAP-OP-646"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/PROXMOX_NETWORK_ALIGNMENT_WAVE1_PLAN_20260217.md"
    description: |
      Infra capabilities missing explicit plane/domain/requires metadata for infra.proxmox* and infra.post_power* surfaces.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:08:31Z"
    parent_loop: "LOOP-INFRA-CAP-METADATA-POLICY-V1-20260217"
    fixed_in: 'ops/capabilities.yaml: added plane:fabric, domain:infra, requires: preconditions to 6 infra.proxmox/post_power capabilities'
  - id: "GAP-OP-647"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/PROXMOX_NETWORK_ALIGNMENT_WAVE1_PLAN_20260217.md"
    description: |
      Infra scripts missing resolve-policy integration for governed policy knob resolution.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:11:17Z"
    parent_loop: "LOOP-INFRA-CAP-METADATA-POLICY-V1-20260217"
    fixed_in: 'infra-proxmox-maintenance + infra-post-power-recovery + infra-proxmox-node-path-migrate: source resolve-policy.sh, emit policy banner, wire RESOLVED_DRIFT_GATE_MODE into OOB guard'
  - id: "GAP-OP-648"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/PROXMOX_NETWORK_ALIGNMENT_WAVE1_PLAN_20260217.md"
    description: |
      Missing home-specific maintenance ordering and composite maintenance window capability for coordinated operations.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:11:22Z"
    parent_loop: "LOOP-HOME-SHOP-MAINTENANCE-PARITY-V1-20260217"
    fixed_in: startup.sequencing.yaml v2 (home site phases + site tags) + infra-maintenance-window composite orchestrator + infra.maintenance.window capability registered
  - id: "GAP-OP-649"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/PROXMOX_NETWORK_ALIGNMENT_WAVE1_PLAN_20260217.md"
    description: |
      Missing proxmox-network domain profile and dedicated verify lane registration.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:11:26Z"
    parent_loop: "LOOP-PROXMOX-NETWORK-DOMAIN-LANE-V1-20260217"
    fixed_in: 'gate.domain.profiles.yaml + gate.execution.topology.yaml: proxmox-network composite domain profile + topology metadata + release_sequence entry'
  - id: "GAP-OP-650"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/PROXMOX_NETWORK_ALIGNMENT_WAVE1_PLAN_20260217.md"
    description: |
      Missing drift-gate coverage for infra metadata, site parity, and NAS baseline (D137/D138/D139 style).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:11:30Z"
    parent_loop: "LOOP-NAS-VISIBILITY-CAPABILITIES-V1-20260217"
    fixed_in: D137/D138/D139 gate scripts + registry + topology + domain profiles (08bcbdb)
  - id: "GAP-OP-651"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/HA_ORGANIZATION_V1_PLAN_20260217.md"
    description: |
      HA area assignment and device naming normalization drift blocks consistent topology ownership across rooms and entities.
    severity: high
    status: fixed
    notes: "Blockers: Winix area placement unresolved; Firestick vs Apple TV identity unresolved; Laundry area assignment unresolved."
    parent_loop: "LOOP-HA-AREA-NAMING-BATCH-V1-20260217"
    fixed_in: 'WS1 execution: 14/14 mutations (4 area moves + 12 renames), Core-8 8/8 PASS, Home domain 13/13 PASS, ha.status green'
  - id: "GAP-OP-652"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/HA_ORGANIZATION_V1_PLAN_20260217.md"
    description: |
      HA DHCP/IP normalization and home.dhcp.audit population drift prevent authoritative seed-to-real-data parity.
    severity: high
    status: fixed
    notes: "Blockers: formalizing IP range 70-89 policy unresolved; home.dhcp.audit seed vs runtime source-of-truth unresolved."
    parent_loop: "LOOP-HA-IP-NORMALIZATION-V1-20260217"
    fixed_in: 'WS2 IP/DHCP normalization contract: range 70-89 formalized, home.dhcp.audit populated (33 devices/41 clients), 14 missing UDR reservations documented as external blockers'
  - id: "GAP-OP-653"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/HA_ORGANIZATION_V1_PLAN_20260217.md"
    description: |
      Missing HA schema artifacts for naming conventions and environment contracts (ha.naming.convention.yaml and ha.environments.yaml).
    severity: high
    status: fixed
    notes: "Blockers: schema boundary decisions pending for ha.naming.convention.yaml and ha.environments.yaml; environment naming normalization policy unresolved."
    parent_loop: "LOOP-HA-SCHEMA-ENVIRONMENTS-V1-20260217"
    fixed_in: ha.naming.convention.yaml + ha.environments.yaml canonical WS3 contracts
  - id: "GAP-OP-654"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: unclear-doc
    doc: "docs/governance/_audits/HA_ORGANIZATION_V1_PLAN_20260217.md"
    description: |
      HACS pseudo-device clutter and orphan classification hygiene are not codified for HA governance triage.
    severity: low
    status: fixed
    notes: "Blockers: HACS pseudo-device handling policy unresolved; orphan classification and retention policy unresolved."
    parent_loop: "LOOP-HA-AREA-NAMING-BATCH-V1-20260217"
    fixed_in: ha.orphan.classification.yaml canonical triage contract v1.1 + HA_ORGANIZATION_V1_PLAN WS4 evidence
  - id: "GAP-OP-655"
    discovered_by: "agent-session"
    discovered_at: "2026-02-17"
    type: missing-entry
    doc: "docs/governance/_audits/HA_IDENTITY_MUTATION_CONTRACT_V1_PLAN_20260217.md"
    description: |
      Missing canonical HA identity and mutation contract for agent-driven, YAML-first, capability-only execution path.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-17T23:52:44Z"
    parent_loop: "LOOP-HA-IDENTITY-MUTATION-CONTRACT-V1-20260217"
    fixed_in: HA identity/mutation contract V1 + status checker capability (ha.identity.mutation.contract.status)
  - id: "GAP-OP-656"
    discovered_by: "agent-session"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "docs/governance/_audits/WORKTREE_SESSION_ISOLATION_V1_PLAN_20260218.md"
    description: |
      Missing enforced worktree/session isolation controls for multi-terminal operation allows cross-terminal branch switching and dirty-tree bleed.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T00:49:17Z"
    parent_loop: "LOOP-WORKTREE-SESSION-ISOLATION-V1-20260218"
    fixed_in: 'LOOP-WORKTREE-SESSION-ISOLATION-V1-20260218: D140 worktree/session isolation contract + preflight/session-entry enforcement'
  - id: "GAP-OP-657"
    discovered_by: "DOMAIN-WRITER-01"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "LOOP-LANE-STANDARD-RUNNER-V1-20260218"
    description: |
      No one-command ceremony runner capability exists. Agents repeat the same 6-step manual sequence (snapshot, core verify, domain verify, proposals.status, gaps.status, loops.status) on every lane, creating ceremony tax and error risk.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T03:00:57Z"
    parent_loop: "LOOP-LANE-STANDARD-RUNNER-V1-20260218"
    fixed_in: lane.standard.run capability implemented (commit pending)
  - id: "GAP-OP-658"
    discovered_by: "loop-spine-graph-timeline-v1-plan-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-GRAPH-TIMELINE-V1-20260218.scope.md"
    description: |
      Formal execution graph SSOT and schema surfaces are missing; no canonical spine graph contract exists for session->capability->loop/gap/proposal/handoff/orchestration relationships.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T06:02:51Z"
    parent_loop: "LOOP-SPINE-GRAPH-TIMELINE-V1-20260218"
    fixed_in: 4e5f178
  - id: "GAP-OP-659"
    discovered_by: "loop-spine-graph-timeline-v1-plan-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-GRAPH-TIMELINE-V1-20260218.scope.md"
    description: |
      Cross-session timeline query/report capability surfaces are missing, including runtime-aware path resolution boundaries and deterministic timeline artifact generation for Spine core events.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T06:02:57Z"
    parent_loop: "LOOP-SPINE-GRAPH-TIMELINE-V1-20260218"
    fixed_in: 4e5f178
  - id: "GAP-OP-660"
    discovered_by: "next-best-steps-leverage-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-MCP-GATEWAY-IMPLEMENT-V1-20260218.scope.md"
    description: |
      Unified spine MCP gateway implementation remains unbuilt (scope-registered prior loop closed without delivery): missing production-ready gateway server integration, tool discovery delegation path, and verification/docs completion for Move 1.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T19:37:16Z"
    parent_loop: "LOOP-SPINE-MCP-GATEWAY-IMPLEMENT-V1-20260218"
    fixed_in: 82de48a, CAP-20260218-144832__verify.core.run__Rw8ng4474, CAP-20260218-144920__verify.domain.run__R8u7e21882
  - id: "GAP-OP-661"
    discovered_by: "next-best-steps-leverage-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-AGENT-REGISTRY-SCHEMA-V2-IMPLEMENT-20260218.scope.md"
    description: |
      Queryable Agent Registry V2 implementation remains unbuilt (scope-registered prior loop closed without delivery): missing machine-queryable registry contract fields and agent.info/agent.tools capability surfaces.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T19:37:21Z"
    parent_loop: "LOOP-AGENT-REGISTRY-SCHEMA-V2-IMPLEMENT-20260218"
    fixed_in: 82de48a, CAP-20260218-144750__agent.info__Rnqzj98147, CAP-20260218-144751__agent.tools__Rmm4j98394
  - id: "GAP-OP-662"
    discovered_by: "operator-roadmap-20260218"
    discovered_at: "2026-02-18"
    type: duplicate-truth
    doc: "mailroom/state/loop-scopes/LOOP-AOF-SURFACE-CONSUMER-CUTOVER-V1-20260218.scope.md"
    description: |
      Consumer surfaces still use mixed non-gateway and gateway paths; require canonical gateway-first MCP cutover.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T19:53:36Z"
    parent_loop: "LOOP-AOF-SURFACE-CONSUMER-CUTOVER-V1-20260218"
    fixed_in: 73626f7,CAP-20260218-150529__verify.core.run__Riom886574,CAP-20260218-150614__verify.pack.run__Rtfmh1900
  - id: "GAP-OP-663"
    discovered_by: "operator-roadmap-20260218"
    discovered_at: "2026-02-18"
    type: stale-ssot
    doc: "mailroom/state/loop-scopes/LOOP-AOF-RUNTIME-CONTRACT-DOC-RECONCILE-V1-20260218.scope.md"
    description: |
      Runtime-contract docs and audit claims are stale versus canonical implemented surfaces and need reconciliation.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T19:53:41Z"
    parent_loop: "LOOP-AOF-RUNTIME-CONTRACT-DOC-RECONCILE-V1-20260218"
    fixed_in: 88f4f63,CAP-20260218-150928__verify.core.run__R4bxn12197,CAP-20260218-151014__verify.pack.run__Ronln27317
  - id: "GAP-OP-664"
    discovered_by: "operator-roadmap-20260218"
    discovered_at: "2026-02-18"
    type: agent-behavior
    doc: "mailroom/state/loop-scopes/LOOP-AOF-GATE-CHECK-POLICY-AUTOTUNE-WEEKLY-V1-20260218.scope.md"
    description: |
      Gate/check policy does not self-tune weekly with growth, causing governance soak and execution friction.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T19:53:45Z"
    parent_loop: "LOOP-AOF-GATE-CHECK-POLICY-AUTOTUNE-WEEKLY-V1-20260218"
    fixed_in: fcaa5c1,CAP-20260218-151327__aof.policy.autotune__R7x4644485,CAP-20260218-151429__verify.core.run__R3r5653310,CAP-20260218-151514__verify.pack.run__Rysu268358
  - id: "GAP-OP-665"
    discovered_by: "communications-v1-ws1-implement-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-COMMUNICATIONS-STACK-V1-IMPLEMENT-WS1-INFRA-20260218.scope.md"
    description: |
      Communications Stack V1 WS1 infra foundation is not implemented in canonical spine/runtime surfaces (bindings, capabilities, domain wiring, dry-run infrastructure lane).
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T20:23:14Z"
    parent_loop: "LOOP-COMMUNICATIONS-STACK-V1-IMPLEMENT-WS1-INFRA-20260218"
    fixed_in: 692954a,CAP-20260218-153402__infra.vm.provision__Rwpf359359,CAP-20260218-153456__infra.vm.bootstrap__Rlnnm62243,CAP-20260218-154519__verify.core.run__Rwwt364801,CAP-20260218-154600__verify.domain.run__Rsiqk79683,CAP-20260218-154611__verify.pack.run__Rc6ea64795
  - id: "GAP-OP-666"
    discovered_by: "aof-normalization-review-20260218"
    discovered_at: "2026-02-18"
    type: agent-behavior
    doc: "mailroom/state/loop-scopes/LOOP-AOF-DECOMPOSITION-VOCABULARY-NORMALIZE-20260218.scope.md"
    description: |
      Non-canonical decomposition vocabulary drift (WS/Move/Wave/Phase/Step/P0-P2) is not AOF-governed and is degrading workflow hygiene; require canonical decomposition contract and enforcement path.
    severity: high
    status: fixed
    notes: "Re-parented from Comms Stack loop to standalone normalization loop. Filed via gaps.file at 2026-02-18T20:29:30Z."
    parent_loop: "LOOP-AOF-DECOMPOSITION-VOCABULARY-NORMALIZE-20260218"
    fixed_in: 5eec4ef,CAP-20260218-155545__gate.topology.validate__R2o0g65644,CAP-20260218-155632__verify.core.run__Reji169619,CAP-20260218-155714__verify.pack.run__Rmqw369618
  - id: "GAP-OP-667"
    discovered_by: "d128-frequency-audit-20260218"
    discovered_at: "2026-02-18"
    type: agent-behavior
    doc: "mailroom/state/loop-scopes/LOOP-D128-GATE-MUTATION-POLICY-IMPROVEMENT-V1-20260218.scope.md"
    description: |
      D128 gate-mutation policy has high repeat friction (311 hits, 68 FAIL) due to non-normalized Gate-* trailer workflow; improve tooling and policy ergonomics to reduce hygiene regressions.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T20:45:18Z"
    parent_loop: "LOOP-D128-GATE-MUTATION-POLICY-IMPROVEMENT-V1-20260218"
    fixed_in: CAP-20260218-160022__gate.mutation.trailers__Rw8g626732; CAP-20260218-160306__verify.core.run__Rkt0r65963; CAP-20260218-160306__verify.domain.run__R9bh866028; CAP-20260218-160306__verify.pack.run__Rigjb66027
  - id: "GAP-OP-668"
    discovered_by: "user-report-20260218"
    discovered_at: "2026-02-18"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-MINT-MODULES-FORM-INCIDENT-20260218-20260218.scope.md"
    description: |
      Mint website form submissions failing in production path; user-reported outage requires frontend/API/runtime triage and fix.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-18T21:07:20Z"
    parent_loop: "LOOP-MINT-MODULES-FORM-INCIDENT-20260218-20260218"
    fixed_in: mint-modules@af5091f (route alias fix /api/submit-quote + /quote/submit); quote-page tests 52/52 pass; typecheck pass
  - id: "GAP-OP-671"
    discovered_by: "routing-delegation-glue-v3-2-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218.scope.md"
    description: |
      Governed task lifecycle over Cap-RPC is incomplete: confirm semantics, task capability surface, and strict RBAC receipt path are not fully implemented.
    severity: high
    status: fixed
    notes: "Implemented governed Cap-RPC task lifecycle, manual confirm contract, and JSON envelope coverage."
    parent_loop: "LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218"
    fixed_in: mailroom.task.* + /cap/run confirm semantics + D116
  - id: "GAP-OP-670"
    discovered_by: "routing-delegation-glue-v3-2-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218.scope.md"
    description: |
      MCP gateway lacks canonical agent discovery and routing tool exposure backed by agent.route JSON contract and existing agent.info and agent.tools capabilities.
    severity: high
    status: fixed
    notes: "Added deterministic route JSON contract and exposed agent_list/agent_info/agent_tools/route_resolve in unified MCP gateway."
    parent_loop: "LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218"
    fixed_in: agent.route --json + spine-mcp-serve agent_* + route_resolve
  - id: "GAP-OP-669"
    discovered_by: "routing-delegation-glue-v3-2-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218.scope.md"
    description: |
      Gateway-first parity incomplete across surfaces; claude_desktop and opencode still require legacy MCP servers instead of spine-required runtime contract parity.
    severity: high
    status: fixed
    notes: "Completed gateway-first checkpoint A/B cutover and flipped claude_desktop + opencode required MCP server to spine."
    parent_loop: "LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218"
    fixed_in: CAP-20260218-164159__mcp.runtime.status__Rtlv592043
  - id: "GAP-OP-672"
    discovered_by: "routing-delegation-glue-v3-2-20260218"
    discovered_at: "2026-02-18"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218.scope.md"
    description: |
      Orchestration manifest dependency and health metadata plus shared-helper enforcement are missing for machine-enforced multi-lane dependency control.
    severity: medium
    status: fixed
    notes: "Extended orchestration manifest lane dependency metadata with shared helper enforcement and added agent health preflight capability."
    parent_loop: "LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218"
    fixed_in: orchestration depends_on helper + agent.health.check-all + runtime migration update
  - id: "GAP-OP-673"
    discovered_by: "routing-delegation-glue-v3-2-20260218"
    discovered_at: "2026-02-18"
    type: stale-ssot
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218.scope.md"
    description: |
      Governance documentation contains stale MCP bridge and routing status claims that contradict current shipped gateway and registry surfaces.
    severity: medium
    status: fixed
    notes: "Updated governance docs to reflect shipped unified MCP gateway, agent routing JSON contract, and Cap-RPC task governance semantics."
    parent_loop: "LOOP-SPINE-ROUTING-AND-DELEGATION-GLUE-V1-20260218"
    fixed_in: AGENTS_GOVERNANCE + MAILROOM_BRIDGE parity updates
  - id: "GAP-OP-674"
    discovered_by: "operating-glue-v1-20260220"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221.scope.md"
    description: |
      spine.control.tick surface is missing; no single governed command currently aggregates calendar, lifecycle, proposals, alerts, handoffs, timeline, and verify into one control-plane snapshot artifact.
    severity: high
    status: fixed
    notes: "Added spine-control tick aggregation surface and capability wiring."
    parent_loop: "LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221"
    fixed_in: spine.control.tick + CAP-20260220-202438__spine.control.tick__R91z258742
  - id: "GAP-OP-675"
    discovered_by: "operating-glue-v1-20260220"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221.scope.md"
    description: |
      spine.control.plan surface is missing; there is no deterministic, machine-readable prioritized action queue that maps each next action to route target (capability or agent tool).
    severity: high
    status: fixed
    notes: "Added spine-control plan prioritization surface with deterministic route targets."
    parent_loop: "LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221"
    fixed_in: spine.control.plan + CAP-20260220-202444__spine.control.plan__R5fix64858
  - id: "GAP-OP-676"
    discovered_by: "operating-glue-v1-20260220"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221.scope.md"
    description: |
      spine.control.execute surface is missing; there is no controlled command that executes approved plan items with explicit action selection and receipt-linked execution summary.
    severity: high
    status: fixed
    notes: "Added manual governed execute surface with receipt-linked action execution and control-plane latest artifacts."
    parent_loop: "LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221"
    fixed_in: spine.control.execute + CAP-20260220-202452__spine.control.execute__Rtjmw70943
  - id: "GAP-OP-677"
    discovered_by: "operating-glue-v1-20260220"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221.scope.md"
    description: |
      No canonical control-plane latest artifact contract/doc exists for control snapshot, plan, and execution receipts under mailroom outbox; weekly executive glue cannot consume a stable source yet.
    severity: medium
    status: fixed
    notes: "Added control-plane artifact path contract and governance docs for runtime-aware operations outbox outputs."
    parent_loop: "LOOP-SPINE-OPERATING-GLUE-V1-20260220-20260221"
    fixed_in: mailroom.runtime.contract outbox operations + docs/governance/SPINE_CONTROL_LOOP.md
  - id: "GAP-OP-678"
    discovered_by: "self-driving-orchestration-v1-20260221"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221.scope.md"
    description: |
      Control loop has no autonomous cycle capability; execution remains operator-invoked and cannot run self-driving observe-plan-act passes under governance.
    severity: high
    status: fixed
    notes: "Added autonomous control-cycle surface with bounded priority/action selection and governed execution/delegation path."
    parent_loop: "LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221"
    fixed_in: spine.control.cycle + CAP-20260220-204453__spine.control.cycle__Rjsys16540
  - id: "GAP-OP-679"
    discovered_by: "self-driving-orchestration-v1-20260221"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221.scope.md"
    description: |
      spine.control.execute cannot handle agent_tool routes; plan items that require delegation are not converted into governed mailroom tasks for executor agents.
    severity: high
    status: fixed
    notes: "Execute now delegates agent_tool routes through governed mailroom.task.enqueue with route resolution and task receipts."
    parent_loop: "LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221"
    fixed_in: spine.control.execute delegated agent_tool enqueue + CAP-20260220-204453__spine.control.execute__Rhenz16541
  - id: "GAP-OP-680"
    discovered_by: "self-driving-orchestration-v1-20260221"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221.scope.md"
    description: |
      No strict health-gated delegation policy exists in control cycle; delegated tasks can be enqueued without deterministic agent health preflight evidence.
    severity: medium
    status: fixed
    notes: "Delegated task enqueue path now enforces strict agent health preflight by default, with explicit override flag."
    parent_loop: "LOOP-SPINE-SELF-DRIVING-ORCHESTRATION-LAYER-V1-20260221-20260221"
    fixed_in: agent.health.check-all strict delegation preflight in spine.control.execute/cycle
  - id: "GAP-OP-681"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "null"
    description: |
      proxmox-home node-path mismatch persists (/etc/pve/nodes includes legacy pve path); execute governed node_path migration and validate guest recovery
    severity: high
    status: fixed
    notes: "Hardened infra.proxmox.node_path.migrate to enforce to-node==remote hostname and safe move semantics. Reverted proxmox-home configs back to /etc/pve/nodes/pve and validated home.vm.status/home.health.check."
    parent_loop: "LOOP-SPINE-HYPERVISOR-VM-CONTAINER-NORMALIZATION-V1-20260220-20260221"
    fixed_in: 2054688; runtime restored to /etc/pve/nodes/pve
  - id: "GAP-OP-682"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "null"
    description: |
      network canonical audit drift: media-stack expected IP is unreachable; reconcile vm lifecycle/ssh target/service bindings with current runtime truth
    severity: medium
    status: fixed
    notes: "Canonical audit now excludes decommissioned rows/references so media-stack 192.168.1.201 no longer triggers false drift; live truth + doc references now PASS."
    parent_loop: "LOOP-SPINE-HYPERVISOR-VM-CONTAINER-NORMALIZATION-V1-20260220-20260221"
    fixed_in: f5717e5; CAP-20260220-211124__network.shop.audit.canonical__Rvh0q93298
  - id: "GAP-OP-683"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "null"
    description: |
      proxmox-home hostname remains pve and node-path alignment is exception-based; set canonical hostname and revalidate identity/runtime
    severity: high
    status: fixed
    notes: "Canonicalized proxmox-home system hostname and migrated PVE node path to /etc/pve/nodes/proxmox-home; identity and home VM status now pass without hostname exception."
    parent_loop: "LOOP-SPINE-HOST-IDENTITY-ACCESS-BACKUP-NORMALIZATION-V1-20260220-20260221"
    fixed_in: 5b2b993; CAP-20260220-211931__infra.hypervisor.hostname.set__Rf16430889; CAP-20260220-212024__infra.proxmox.node_path.migrate__Rd0w232929; CAP-20260220-212324__infra.hypervisor.identity__R6kak36165
  - id: "GAP-OP-684"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "null"
    description: |
      download-home LXC still scheduled for daily backup (03:15); disable daily job and mark backup inventory entry disabled
    severity: medium
    status: fixed
    notes: "Disabled daily backup for download-home LXC 103 on proxmox-home (backup-home-p1-daily enabled=0) and aligned backup.inventory + MINILAB SSOT to reflect intentional disablement."
    parent_loop: "LOOP-SPINE-HOST-IDENTITY-ACCESS-BACKUP-NORMALIZATION-V1-20260220-20260221"
    fixed_in: 5b2b993; live proxmox-home jobs.cfg update backup-home-p1-daily enabled=0
  - id: "GAP-OP-685"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "null"
    description: |
      decommissioned media-stack still appears in active Shop VM LAN identity table; remove from active surface and retain only decommissioned history
    severity: medium
    status: fixed
    notes: "Removed decommissioned media-stack row from active Shop VM LAN table and kept history only in decommissioned section; canonical network audit now passes with no media-stack active drift."
    parent_loop: "LOOP-SPINE-HOST-IDENTITY-ACCESS-BACKUP-NORMALIZATION-V1-20260220-20260221"
    fixed_in: 5b2b993; CAP-20260220-212324__network.shop.audit.canonical__R5wp636190
  - id: "GAP-OP-686"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: duplicate-truth
    doc: "null"
    description: |
      active VM SSH user surface is mixed (docker-host/automation-stack/immich); normalize to ubuntu for agent ergonomics with verified sudo+docker access
    severity: high
    status: fixed
    notes: "Standardized agent-facing SSH users to ubuntu for docker-host, automation-stack, and immich; created/wired ubuntu accounts with sudo+docker access on hosts and aligned SSOT bindings/docs."
    parent_loop: "LOOP-SPINE-HOST-IDENTITY-ACCESS-BACKUP-NORMALIZATION-V1-20260220-20260221"
    fixed_in: 5b2b993; CAP-20260220-212324__ssh.target.status__Rbxuk36163; CAP-20260220-212324__vm.profile.audit__Rhtfg36164
  - id: "GAP-OP-687"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      download-home (103) and pihole-home (105) remain stopped but still treated as active SSH expectations; normalize to decommissioned/non-active expectations without destructive runtime changes.
    severity: medium
    status: fixed
    notes: "Soft-decommissioned LXC 103/105 in vm.lifecycle and removed from active ssh.targets expectations (non-destructive)."
    parent_loop: "LOOP-SPINE-HOME-LINUX-NORMALIZATION-AUTOMATION-LATENCY-20260221"
    fixed_in: fe6222c
  - id: "GAP-OP-688"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: unclear-doc
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      media-stack still appears in active-oriented wording outside explicit decommissioned history sections, causing operator/agent ambiguity.
    severity: low
    status: fixed
    notes: "Updated governance docs to keep media-stack references explicitly historical/decommissioned and removed active-surface ambiguity."
    parent_loop: "LOOP-SPINE-HOME-LINUX-NORMALIZATION-AUTOMATION-LATENCY-20260221"
    fixed_in: fe6222c
  - id: "GAP-OP-689"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/stability.control.contract.yaml"
    description: |
      automation-stack control reliability degraded by repeated n8n/health latency incidents, blocking stable self-driving orchestration cadence.
    severity: high
    status: fixed
    notes: "Restored n8n snapshot probe reliability for ubuntu user path, added low-latency n8n.infra.health.quick, and switched stability automation probe path."
    parent_loop: "LOOP-SPINE-HOME-LINUX-NORMALIZATION-AUTOMATION-LATENCY-20260221"
    fixed_in: fe6222c
  - id: "GAP-OP-690"
    discovered_by: "claude-opus"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VM 203 (immich) resource mismatch: vm.lifecycle.yaml shows 4 CPU/50GB/null LAN but live PVE shows 8 CPU/100GB/192.168.1.203
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T03:04:33Z"
    fixed_in: 4a543ab
  - id: "GAP-OP-691"
    discovered_by: "claude-opus"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/MINILAB_SSOT.md"
    description: |
      MINILAB_SSOT VM 102 (vaultwarden) still shows Running in inventory table and P0 backup still targets it despite decommission on 2026-02-16
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T03:04:39Z"
    fixed_in: e0a6cb2
  - id: "GAP-OP-692"
    discovered_by: "claude-opus"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      DEVICE_IDENTITY_SSOT Tailscale Host Table missing finance-stack (100.76.153.100), mint-data (100.106.72.25), mint-apps (100.79.183.14)
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T03:04:44Z"
    fixed_in: e0a6cb2
  - id: "GAP-OP-693"
    discovered_by: "claude-opus"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/MINILAB_SSOT.md"
    description: |
      download-home LAN IP conflict: MINILAB_SSOT shows 10.0.0.101 but vm.lifecycle.yaml shows 10.0.0.103. Also DEVICE_IDENTITY_SSOT VM status check says VMs 100-102 running but 102 is decommissioned
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T03:04:50Z"
    fixed_in: e0a6cb2
  - id: "GAP-OP-694"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      Home DNS split intent drift: pihole-home is stopped and home DHCP DNS remains on UDR self, so home site is not using location-local Pi-hole.
    severity: high
    status: fixed
    notes: "Reactivated pihole-home runtime and restored home-local DHCP DNS path via governed capability."
    parent_loop: "LOOP-HOME-PIHOLE-REACTIVATION-DNS-SEPARATION-V1-20260221"
    fixed_in: 2f95129
  - id: "GAP-OP-695"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      pihole-home was marked soft-decommissioned and removed from active SSH/lifecycle access surfaces, conflicting with current target architecture (home-local Pi-hole active).
    severity: medium
    status: fixed
    notes: "Removed soft-decommission drift for pihole-home across lifecycle, ssh, health, and governance docs."
    parent_loop: "LOOP-HOME-PIHOLE-REACTIVATION-DNS-SEPARATION-V1-20260221"
    fixed_in: 2f95129
  - id: "GAP-OP-696"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No governed capability exists to set home UDR DHCP DNS servers deterministically; cutover currently requires ad hoc API calls.
    severity: medium
    status: fixed
    notes: "Added governed network.home.dhcp.dns.set capability and wired catalog/map bindings for deterministic home DNS cutovers."
    parent_loop: "LOOP-HOME-PIHOLE-REACTIVATION-DNS-SEPARATION-V1-20260221"
    fixed_in: 2f95129
  - id: "GAP-OP-698"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      DEVICE_IDENTITY_SSOT Device Registry tier tables omit active finance-stack, mint-data, and mint-apps despite canonical Tailscale host table entries, creating tier/routing ambiguity.
    severity: medium
    status: fixed
    notes: "Added finance-stack, mint-data, and mint-apps to Tier 2 production registry tables."
    parent_loop: "LOOP-SPINE-DEVICE-IDENTITY-QUICKWINS-20260221-20260221"
    fixed_in: 43fa8dd
  - id: "GAP-OP-697"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      DEVICE_IDENTITY_SSOT Tailscale Host Table omits active immich-1 host (100.114.101.50); only deferred/home immich history remains, causing canonical host lookup drift.
    severity: medium
    status: fixed
    notes: "Added immich-1 to canonical Tailscale Host Table and refreshed identity drift context."
    parent_loop: "LOOP-SPINE-DEVICE-IDENTITY-QUICKWINS-20260221-20260221"
    fixed_in: 43fa8dd
  - id: "GAP-OP-699"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      DEVICE_IDENTITY_SSOT still lists vault rollback host in Tier 3 and verification commands as if active service-path, conflicting with VM 102 decommission posture in current governance.
    severity: medium
    status: fixed
    notes: "Removed vault from active Tier 3/verification surfaces and moved it to decommissioned history."
    parent_loop: "LOOP-SPINE-DEVICE-IDENTITY-QUICKWINS-20260221-20260221"
    fixed_in: 43fa8dd
  - id: "GAP-OP-700"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/SSOT_UPDATE_TEMPLATE.md"
    description: |
      SSOT_UPDATE_TEMPLATE.md has stale last_verified metadata (2026-02-06), approaching/violating D58 freshness expectations for governance templates.
    severity: low
    status: fixed
    notes: "Updated SSOT_UPDATE_TEMPLATE last_verified metadata to restore freshness compliance."
    parent_loop: "LOOP-SPINE-DEVICE-IDENTITY-QUICKWINS-20260221-20260221"
    fixed_in: 43fa8dd
  - id: "GAP-OP-701"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/bindings/stability.control.contract.yaml"
    description: |
      Automation-stack control-plane cadence is still latency-sensitive: latest probe run shows n8n/open-webui/ollama/mcpjungle response times around 702/404/307/800ms with prior repeated latency incidents. Current snapshot flow is single-sample and can miss jitter spikes that stall self-driving cycles. Add deterministic latency budget checks (p95/p99 style repeated sampling) and fail/warn routing tuned for automation-stack control paths.
    severity: high
    status: fixed
    notes: "Added automation.stack.latency.status repeated-sampling budgets, wired into stability.control.snapshot, and exempted self-sampled probe from outer duration budget."
    parent_loop: "LOOP-SPINE-AUTOMATION-STACK-LATENCY-FOCUSED-V1-20260221"
    fixed_in: e195c54
  - id: "GAP-OP-702"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "docs/governance/DEVICE_IDENTITY_SSOT.md"
    description: |
      Automation-stack latency lacks an explicit governed SLO artifact and day-lane evidence surface. Add canonical latency baseline/report surface (automation-stack endpoints + n8n quick health timings), wire it into verify/briefing cadence, and document operator thresholds for self-driving control-loop readiness.
    severity: medium
    status: fixed
    notes: "Added automation latency thresholds to DEVICE_IDENTITY_SSOT and wired automation.stack.latency.status metrics into briefing stability section and slo.evidence.daily output/SLO gate."
    parent_loop: "LOOP-SPINE-AUTOMATION-STACK-LATENCY-FOCUSED-V1-20260221"
    fixed_in: 6594fcb
  - id: "GAP-OP-703"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/pihole/docker-compose.yml"
    description: |
      Shop Pi-hole runtime config drift: live FTL config shows upstreams 8.8.8.8/8.8.4.4 and dnssec=false while intended stack policy is Cloudflare upstreams with DNSSEC enabled; legacy env vars in compose are ignored under current Pi-hole config model.
    severity: high
    status: fixed
    notes: "Normalized shop pihole runtime DNS policy, deployed canonical compose, verified resolution/blocking from pve and health passes."
    parent_loop: "LOOP-SHOP-PIHOLE-UDR6-DNS-NORMALIZATION-20260221-20260221"
    fixed_in: 4a08082
  - id: "GAP-OP-704"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/pihole/docker-compose.yml"
    description: |
      Live shop Pi-hole compose on infra-core has stale FTLCONF_LOCAL_IPV4 (192.168.12.204) and diverges from canonical staged compose/host LAN identity (192.168.1.204), creating future redeploy regression risk.
    severity: medium
    status: fixed
    notes: "Corrected stale live compose local IP drift by syncing canonical staged compose to shop infra-core and validating local IPv4 + DNS policy."
    parent_loop: "LOOP-SHOP-PIHOLE-UDR6-DNS-NORMALIZATION-20260221-20260221"
    fixed_in: 4a08082
  - id: "GAP-OP-705"
    discovered_by: "claude-opus"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      VM 101 (immich-home) and LXC 103 (download-home) destroyed on proxmox-home. Update SSOTs to reflect destruction.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T03:47:39Z"
    fixed_in: 4a52504
  - id: "GAP-OP-706"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/verify/bin/calendar-surface-audit"
    description: |
      Add calendar surface audit capability and dedicated verify lane enforcement
    severity: medium
    status: fixed
    notes: "Implemented calendar.surface.audit + D146 calendar surface lock with dedicated calendar-operator verify lane"
    parent_loop: "LOOP-CALENDAR-SURFACE-AUDIT-LANE-V1-20260221"
    fixed_in: d00d00c,CAP-20260220-230548__calendar.surface.audit__Rl3u361575,CAP-20260220-230448__verify.pack.run__Rnond16943
  - id: "GAP-OP-707"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/cloudflared/docker-compose.yml"
    description: |
      infra-core live cloudflared compose (/opt/stacks/cloudflared/docker-compose.yml) drifted from staged authority and reintroduced stale mint-os-customer extra_host alias. This violates compose authority contract and risks misrouting during mint migration.
    severity: high
    status: fixed
    notes: "Synced cloudflared live compose on infra-core from staged authority, removed stale mint-os-customer alias drift, and verified full infra-core compose hash parity + health."
    parent_loop: "LOOP-INFRA-CORE-STACK-PARITY-NORMALIZATION-20260221"
    fixed_in: c240b3b
  - id: "GAP-OP-708"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/staged/caddy-auth/docker-compose.yml"
    description: |
      Staged caddy-auth compose contains deprecated environment variables for retired routes (finance/docs/mail/minio/n8n/chat/grafana) that are absent from live runtime and no longer used by canonical Caddyfile. Canonical staged authority should be trimmed to active route surface.
    severity: medium
    status: fixed
    notes: "Trimmed staged caddy-auth environment surface to active routes and aligned staged/live compose parity for infra-core authority set."
    parent_loop: "LOOP-INFRA-CORE-STACK-PARITY-NORMALIZATION-20260221"
    fixed_in: c240b3b
  - id: "GAP-OP-709"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/cloudflared/docker-compose.yml"
    description: |
      Cloudflared on infra-core lacks metrics exposure and is marked disabled in services.health.yaml, leaving no direct liveness probe for a SPOF ingress component. Enable metrics endpoint and health probe.
    severity: medium
    status: fixed
    notes: "Enabled cloudflared metrics endpoint on infra-core (--metrics 0.0.0.0:60123), activated services.health probe, redeployed cloudflared, and verified endpoint + infra-core health lane."
    parent_loop: "LOOP-INFRA-CORE-CLOUDFLARED-HEALTH-PROBING-20260221"
    fixed_in: e05c2a5
  - id: "GAP-OP-710"
    discovered_by: "verify.pack.run infra (D59)"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/naming.policy.yaml"
    description: |
      download-home in naming.policy.yaml has ssh_target: true and verification_state: unreachable but LXC 103 was destroyed 2026-02-20. D59 cross-registry completeness check fails.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:10:03Z"
    fixed_in: 013a12a
  - id: "GAP-OP-711"
    discovered_by: "verify.pack.run infra (D86)"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/vm.lifecycle.contract.yaml"
    description: |
      vm.lifecycle.contract.yaml requires vmid field but vm.lifecycle.yaml uses id field. D86 fails for all 14 active VMs. Also pihole-home (LXC 105) reactivated but missing from vm.operating.profile.yaml.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:10:09Z"
    fixed_in: 013a12a
  - id: "GAP-OP-712"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/plugins/secrets/bin/secrets-runway-status"
    description: |
      secrets.runway.status misclassifies successful remote compose extraction as ssh_error for infra-core stacks due remote command exit handling, producing false drift and agent confusion.
    severity: high
    status: fixed
    notes: "Fixed secrets.runway.status false ssh_error behavior for infra-core compose extraction and added stack-key canonical alias support to remove false drift."
    parent_loop: "LOOP-INFRA-CORE-AUTH-SECRETS-DRIFT-SWEEP-20260221"
    fixed_in: d3367cb
  - id: "GAP-OP-713"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/STACK_REGISTRY.yaml"
    description: |
      STACK_REGISTRY secrets entry still references /opt/stacks/infisical, but canonical runtime path and compose target are /opt/stacks/secrets. This creates operator and agent confusion for Infisical maintenance.
    severity: medium
    status: fixed
    notes: "Corrected STACK_REGISTRY secrets stack host compose path from /opt/stacks/infisical to canonical /opt/stacks/secrets."
    parent_loop: "LOOP-INFRA-CORE-AUTH-SECRETS-DRIFT-SWEEP-20260221"
    fixed_in: d3367cb
  - id: "GAP-OP-714"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/mailroom-bridge/bin/mailroom-task-worker"
    description: |
      Add governed always-on worker lane for spine.control.cycle and mailroom task lifecycle consumption
    severity: high
    status: fixed
    notes: "Implemented governed autonomous worker daemon (cycle cadence + task consumption), added worker lifecycle capabilities, runtime contract binding, and smoke tests."
    parent_loop: "LOOP-SPINE-AUTONOMOUS-WORKER-LANE-V1-20260221"
    fixed_in: mailroom.task.worker lane + worker contract + capability wiring
  - id: "GAP-OP-715"
    discovered_by: "verify.pack.run hygiene-weekly"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/plugin-test-exemptions.yaml"
    description: |
      Hygiene-weekly D16/D60/D81/D84/D85 batch: 5 post-D81 plugins missing exemptions, D16 missing docs/planning exclusion, D60 missing 5 historical-context file exclusions, SPINE_CONTROL_LOOP.md unregistered in docs index, D130 missing TRIAGE header.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:22:22Z"
    fixed_in: ba050c6
  - id: "GAP-OP-716"
    discovered_by: "cross-env audit agents"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/vm.operating.profile.yaml"
    description: |
      VM 203 ssh_user mismatch in operating profile (ubuntu vs ronny). VM 212/213 missing from naming.policy. GOVERNANCE_MANIFEST.yaml not in docs index. 7 plugins missing from MANIFEST.yaml.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:34:33Z"
    fixed_in: e369d08
  - id: "GAP-OP-717"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Communications stack remains WS1 simulation/planned (send_test mode simulation-only; pilot mailboxes planned), so no live execution organ is wired yet.
    severity: high
    status: fixed
    notes: "Promoted communications to WS1 live pilot: Graph-backed stack status/search/send surfaces, contract live mode, runbook, and tests."
    parent_loop: "LOOP-SPINE-COMMUNICATIONS-LIVE-PILOT-V1-20260221"
    fixed_in: c068d74
  - id: "GAP-OP-718"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/plugins/evidence/bin/spine-control"
    description: |
      spine.control.tick warns on historical verify failures even when current core verification is passing, creating noisy control-plane health signal and false urgency.
    severity: high
    status: fixed
    notes: "Denoised spine.control.tick verify signal by separating historical failures from current unresolved verify state; A40 rerun now triggers only when latest verify.core.run is failed; added deterministic regression test for historical-fail-then-pass behavior."
    parent_loop: "LOOP-SPINE-CONTROL-TICK-SIGNAL-DENOISE-V1-20260221"
    fixed_in: LOOP-SPINE-CONTROL-TICK-SIGNAL-DENOISE-V1-20260221
  - id: "GAP-OP-719"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/mailroom-bridge/bin/mailroom-task-worker"
    description: |
      Autonomous worker currently executes route_target=capability tasks only; delegated agent_tool tasks are enqueued but not consumed end-to-end by worker execution.
    severity: high
    status: fixed
    notes: "Enabled delegated agent_tool task consumption in mailroom-task-worker (route_resolve via governed agent.route), fixed safe JSON payload serialization in mailroom.task.enqueue, expanded worker contract route targets, and added end-to-end worker tests."
    parent_loop: "LOOP-SPINE-DELEGATED-AGENT-TOOL-TASK-CONSUMPTION-V1-20260221"
    fixed_in: a6f0efe
  - id: "GAP-OP-722"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/secrets.runway.contract.yaml"
    description: |
      secrets.runway contract still hard-fails mint-shipping/mint-pricing/mint-suppliers domain checks despite mint fresh-slate migration state, producing persistent false FAIL and agent confusion in infra-core audits.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:36:07Z"
    parent_loop: "LOOP-INFRA-CORE-PARITY-DRIFT-SWEEP-20260221"
    fixed_in: 0fc207d
  - id: "GAP-OP-720"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml"
    description: |
      DOMAIN_ROUTING_REGISTRY is missing active Cloudflare ingress hostname spine.ronny.works, causing cloudflare.domain_routing.diff failure and operator confusion for public bridge routing authority.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:36:13Z"
    parent_loop: "LOOP-INFRA-CORE-PARITY-DRIFT-SWEEP-20260221"
    fixed_in: 0fc207d
  - id: "GAP-OP-721"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets namespace policy is missing canonical routing for GHOSTFOLIO_ACCESS_TOKEN_SALT and root-path freeze now flags it as drift; contract and runtime namespace expectations are out of sync.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:36:22Z"
    parent_loop: "LOOP-INFRA-CORE-PARITY-DRIFT-SWEEP-20260221"
    fixed_in: 0fc207d
  - id: "GAP-OP-723"
    discovered_by: "session-audit"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "docs/governance/RAG_INDEXING_RULES.md"
    description: |
      7 governance docs have stale last_verified dates approaching D58 threshold
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:41:12Z"
    fixed_in: 82a97ae
  - id: "GAP-OP-724"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: runtime-bug
    doc: "ops/staged/cloudflared/docker-compose.yml"
    description: |
      homelab-cloudflared lacks Docker healthcheck and docker.compose.status ignores container Health state, so runtime unhealthy conditions are not enforced in infra-core stack status.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:43:20Z"
    parent_loop: "LOOP-INFRA-CORE-CLOUDFLARED-HEALTHCHECK-SEMANTICS-20260221"
    fixed_in: d11d91d
  - id: "GAP-OP-725"
    discovered_by: "verify.pack.run aof"
    discovered_at: "2026-02-21"
    type: agent-behavior
    doc: "ops/bindings/d128-gate-mutation-policy.yaml"
    description: |
      Commit d00d00c touched gate.registry.yaml without D128 provenance trailers. Already pushed, repair via enforcement boundary advance.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-21T04:48:01Z"
    fixed_in: f519134
  - id: "GAP-OP-726"
    discovered_by: "verify.pack.run"
    discovered_at: "2026-02-21"
    type: stale-ssot
    doc: "surfaces/verify/d73-opencode-governed-entry-lock.sh"
    description: |
      D72 hotkey SSOT drift, D73 gate regex too strict for launchSolo with terminal-name arg, D111 RAG smoke evidence stale
    severity: low
    status: fixed
    notes: "Closed after validating D72/D73 hygiene updates and GAP-OP-726 fix commit on main."
    fixed_in: 9f11239
  - id: "GAP-OP-727"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: unclear-doc
    doc: "docs/governance/SESSION_PROTOCOL.md"
    description: |
      Governance confusion remains in active docs: loop scope statuses differ across SESSION_PROTOCOL/OUTPUT_CONTRACTS/MAILROOM_RUNBOOK, AGENTS/CLAUDE terminal scope tables drift from terminal.role.contract.yaml, and proposal action constraints are not explicit in quickstart docs.
    severity: medium
    status: fixed
    notes: "Normalized loop-status vocabulary to planned|active|closed across active docs, synced terminal role table scopes to terminal.role.contract.yaml, documented proposal action contract, and refreshed stale memory context guardrails."
    parent_loop: "LOOP-SPINE-GOVERNANCE-CONFUSION-NORMALIZATION-20260221"
    fixed_in: "2830372"
  - id: "GAP-OP-728"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: ".environment.yaml"
    description: |
      AOF contract status fails in this workspace because .environment.yaml is missing, leaving contract-state checks degraded despite AOF gates passing.
    severity: medium
    status: fixed
    notes: "Bootstrapped and validated .environment.yaml/.identity.yaml in repo root, added daily contract-read marker ignore, and confirmed AOF contract status now reports present/current."
    parent_loop: "LOOP-AOF-CONTRACT-POLICY-AUDIT-HARDENING-20260221"
    fixed_in: 533be32
  - id: "GAP-OP-729"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/aof/bin/resolve-policy.sh"
    description: |
      AOF policy mutations have no governed audit trail artifact (who changed what/when), so policy posture changes are not traceable over time.
    severity: medium
    status: fixed
    notes: "Extended policy.runtime.audit with deterministic policy source fingerprinting and git-backed recent policy change history to provide auditable AOF policy mutation traceability."
    parent_loop: "LOOP-AOF-CONTRACT-POLICY-AUDIT-HARDENING-20260221"
    fixed_in: 533be32
  - id: "GAP-OP-730"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/bindings/communications.stack.contract.yaml"
    description: |
      Spine communications domain lacks canonical transactional Twilio+Resend governance surfaces (provider contracts, policy contracts, consent/delivery normalization, and provider capability plane), causing Graph-only communications behavior and AOF drift for transactional messaging.
    severity: high
    status: fixed
    notes: "Transactional communications governance normalized into spine/AOF/agents with new contracts, capabilities, secret routing, and verify/test coverage."
    parent_loop: "LOOP-SPINE-COMMUNICATIONS-TWILIO-RESEND-NORMALIZATION-V1-20260221"
    fixed_in: c5a5311
  - id: "GAP-OP-731"
    discovered_by: "codex"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Capabilities registry has large unclassified metadata debt (missing domain/plane), reducing verify-pack routing clarity and agent discovery quality. Need deterministic Wave-1 backfill for clearly-owned capability families.
    severity: high
    status: fixed
    notes: "Backfilled domain/plane metadata for capabilities via deterministic prefix mapping and targeted corrections; reduced unclassified capability count from 282/416 to 0/416."
    parent_loop: "LOOP-CAPABILITY-CLASSIFICATION-DEBT-WAVE1-20260221"
    fixed_in: af09253
  - id: "GAP-OP-732"
    discovered_by: "execution:leverage-followthrough"
    discovered_at: "2026-02-21"
    type: agent-behavior
    doc: "ops/bindings/communications.*.yaml"
    description: |
      Missing enforced governance for communications execution path: direct Twilio/Resend API calls can bypass spine contracts, send.execute lacks hard preview linkage/trace IDs, canary phase controls are not codified, and delivery-log anomaly alerting is not wired for agent-visible operations.
    severity: high
    status: fixed
    notes: "Enforced D147 routing lock, preview-linked execute boundary, phased cutover controls, and delivery anomaly alerting with new governed capabilities/tests."
    parent_loop: "LOOP-SPINE-COMMUNICATIONS-DRIFT-GUARDRAILS-CUTOVER-V1-20260221"
    fixed_in: 71cf5a0
  - id: "GAP-OP-733"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: agent-behavior
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh"
    description: |
      D48 worktree hygiene fail: stale/orphaned dirty worktree codex/d128-fix-20260218 remains under agentic-spine-.worktrees and blocks clean baseline.
    severity: medium
    status: fixed
    notes: "Archived stale worktree dirty state to /tmp/spine-worktree-backups/20260221-d128-fix-20260218 and removed merged/orphaned codex/d128-fix-20260218 worktree+branch; D48 now passes."
    parent_loop: "LOOP-SPINE-GOVERNANCE-HYGIENE-WORKTREE-D75-20260221"
    fixed_in: cec1fb7
  - id: "GAP-OP-734"
    discovered_by: "agent-session"
    discovered_at: "2026-02-21"
    type: agent-behavior
    doc: "ops/bindings/d75-gap-mutation-policy.yaml"
    description: |
      D75 loop_gap verify fails because commit c068d74 touched operational.gaps.yaml without required Gap-* trailers; enforcement boundary must be advanced to preserve strict forward enforcement.
    severity: medium
    status: fixed
    notes: "Advanced D75 enforcement_after_sha to c068d74f8a9268200773a98da0d205df28a40d93 to exempt legacy non-trailered mutation and restored strict forward trailer enforcement; verify.pack.run loop_gap now passes."
    parent_loop: "LOOP-SPINE-GOVERNANCE-HYGIENE-WORKTREE-D75-20260221"
    fixed_in: cec1fb7
  - id: "GAP-OP-735"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/briefing/"
    description: |
      Automation scheduler missing: run spine.briefing at 08:00 daily via governed launcher (LaunchAgent/cron contract).
    severity: high
    status: open
    notes: "Filed via gaps.file at 2026-02-21T06:17:41Z"
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER1-WIREUP-20260221"
  - id: "GAP-OP-736"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/plugins/slo/"
    description: |
      Automation scheduler missing: run slo.evidence.daily at 23:59 daily for rolling 7-day SLO evidence generation.
    severity: high
    status: open
    notes: "Filed via gaps.file at 2026-02-21T06:17:43Z"
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER1-WIREUP-20260221"
  - id: "GAP-OP-737"
    discovered_by: "leverage-scheduling-audit"
    discovered_at: "2026-02-21"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Automation scheduler missing: run finance_ronny_action_queue monthly (day 1) for compliance/task handoff.
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-02-21T06:17:45Z"
    parent_loop: "LOOP-AUTOMATION-SCHEDULING-TIER1-WIREUP-20260221"
# ─────────────────────────────────────────────────────────────
#
# stale-ssot      - Doc has outdated information
# missing-entry   - Expected entry doesn't exist
# agent-behavior  - Agent pattern that caused friction (not a doc issue)
# unclear-doc     - Doc exists but is ambiguous or incomplete
# duplicate-truth - Multiple docs claim authority for same thing
# runtime-bug     - Runtime implementation behavior violates governance intent
