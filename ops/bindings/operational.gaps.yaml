# Operational Gaps - Runtime SSOT Discoveries
#
# These are NOT extraction gaps (see docs/core/AGENTIC_GAP_MAP.md)
# These are issues agents discover DURING work that are out of scope to fix immediately
#
# Review periodically, create cleanup loops for open gaps
#
# Status: authoritative
# Last verified: 2026-02-07

version: 1
updated: "2026-02-15T19:44:34Z"
gaps:
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-INFRA-VM-RESTRUCTURE-20260206
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-001
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: stale-ssot
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Still lists cloudflared, pihole, infisical (secrets) under docker-host
      after Phase 1 migration to infra-core. Services are now on VM 204.
    severity: low
    status: fixed
    fixed_in: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    notes: "Moved cloudflared/pihole/secrets to infra-core target, added vaultwarden"
  - id: GAP-OP-002
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      No infisical entry existed before migration. Agent had to discover
      the stack by inspecting Docker containers on docker-host.
    severity: medium
    status: fixed
    fixed_in: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    notes: "Entry added during migration work"
  - id: GAP-OP-003
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: agent-behavior
    doc: null
    description: |
      Agent guessed path ~/stacks/infisical/ instead of consulting
      docker.compose.targets.yaml binding first. SSOT had the correct
      path (~/stacks/secrets). This is a pattern issue, not a data issue.
    severity: low
    status: fixed
    fixed_in: "gap-sweep-20260208"
    notes: "Documented 'consult bindings first' in SESSION_PROTOCOL.md (Trace truth) and docs/brain/rules.md (Entry Points table)"
  - id: GAP-OP-004
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: duplicate-truth
    doc: "ops/bindings/infra.placement.policy.yaml"
    description: |
      Canonical infra-core/observability services were intended for shop Proxmox
      (pve) but relocation commands relied on manifest values without a
      canonical site/hypervisor placement lock. This allowed wrong-instance
      execution risk when target metadata drifted.
    severity: high
    status: fixed
    fixed_in: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    notes: "Added infra placement policy SSOT + D37 lock + command-time enforcement in relocation/provision scripts"
  - id: GAP-OP-005
    discovered_by: "LOOP-INFRA-VM-RESTRUCTURE-20260206"
    discovered_at: "2026-02-07"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      Hypervisor SSH target IDs are distinct (`pve`, `proxmox-home`) but runtime
      host identity is ambiguous: `proxmox-home` currently reports hostname `pve`.
      This creates decision-risk during relocation/provisioning because agents and
      operators can confuse shop/home hypervisors.
    severity: high
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Guardrail added: infra.hypervisor.identity capability + mutating infra
      preconditions now fail on hostname/machine-id ambiguity. Host-level fix
      applied: proxmox-home canonical hostname updated from `pve` to
      `proxmox-home` via capability `infra.hypervisor.hostname.set`
      (receipt: RCAP-20260207-113039__infra.hypervisor.hostname.set__Rxrbe80548).
  - id: GAP-OP-006
    discovered_by: "LOOP-GOV-SPINE-SEAL-20260207"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "ops/plugins/infra/bin/infra-relocation-preflight"
    description: |
      Preflight host scan silently skipped service source hosts because it used
      an invalid yq expression (`.services[].from_host // empty`) and suppressed
      parser errors. The command also reported missing SSH targets/unreachable
      hosts as informational output instead of a failing gate, allowing
      decision flow to continue without required host evidence.
    severity: high
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Fixed by correcting host extraction, deriving required hosts from active
      VM/service states, and enforcing hard failure on required host/SSOT
      mismatches.
  - id: GAP-OP-007
    discovered_by: "LOOP-GOV-SPINE-SEAL-20260207"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "ops/plugins/infra/bin/infra-relocation-service-transition"
    description: |
      Service and relocation state transitions allowed out-of-order decision
      updates (cutover/migrated) with warning-only behavior. This permitted
      metadata progression even when relocation state had not reached cutover.
    severity: medium
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Transition scripts now hard-fail when relocation state and service/vm
      status are misaligned, and cutover state transition includes an execute-time
      vm readiness gate.
  - id: GAP-OP-008
    discovered_by: "LOOP-GOV-SPINE-SEAL-20260207"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Top-level `spine.verify` can pass while `infra.hypervisor.identity` fails.
      During active relocation this produces a green global health signal even
      when hypervisor identity ambiguity remains unresolved.
    severity: high
    status: fixed
    fixed_in: "LOOP-GOV-SPINE-SEAL-20260207"
    notes: |
      Added D39 gate (`surfaces/verify/d39-infra-hypervisor-identity-lock.sh`)
      and wired it into `drift-gate.sh`. During active relocation states,
      `spine.verify` now fails if hypervisor identity invariants are violated.
  # ─────────────────────────────────────────────────────────────
  # Discovered during soak-window parallel execution 2026-02-07
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-009
    discovered_by: "soak-window-parallel-execution-20260207"
    discovered_at: "2026-02-07"
    type: stale-ssot
    doc: "surfaces/verify/contracts-gate.sh"
    description: |
      contracts-gate.sh (T5) referenced contracts at docs/ (e.g. docs/RECEIPTS_CONTRACT.md)
      but canonical files live at docs/core/ (e.g. docs/core/RECEIPTS_CONTRACT.md).
      Path mismatch caused ops verify to fail at foundation gate. The files exist;
      the gate paths were stale.
    severity: high
    status: fixed
    fixed_in: "soak-window-parallel-execution-20260207"
    notes: "Fixed contracts-gate.sh paths: docs/ → docs/core/ for all three contracts"
  - id: GAP-OP-010
    discovered_by: "soak-window-parallel-execution-20260207"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      media-stack host has docker.compose.targets.yaml binding (ssh_target: media-stack)
      but no corresponding entry in ssh.targets.yaml. Prevents governed SSH access
      for media stack RCA work.
    severity: medium
    status: fixed
    fixed_in: "soak-window-parallel-execution-20260207"
    notes: "Added media-stack target (100.117.1.53, root, shop/pve) to ssh.targets.yaml"
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-HOST-CANONICALIZATION-20260207
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-011
    discovered_by: "LOOP-HOST-CANONICALIZATION-20260207"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Hidden-root coverage missing from active drift gates. host.drift.audit
      passes while unmanaged hidden roots and a secret-bearing legacy file
      (~/.config/ronny-ops/env.sh) exist at home root. No gate enforces
      hidden-root inventory or forbidden pattern scanning.
    severity: high
    status: fixed
    fixed_in: "LOOP-HOST-CANONICALIZATION-20260207"
    notes: "D41 hidden-root governance lock + D42 code path case lock + env.sh deleted + backups quarantined"
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-INFRA-CADDY-AUTH-20260207 pre-work
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-012
    discovered_by: "LOOP-INFRA-CADDY-AUTH-20260207"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "Infisical project: infrastructure (prod)"
    description: |
      Required Authentik bootstrap secrets are not present in Infisical
      infrastructure/prod: AUTHENTIK_SECRET_KEY and AUTHENTIK_DB_PASSWORD.
      This blocks safe execute of staged caddy-auth stack deployment.
    severity: high
    status: fixed
    fixed_in: "LOOP-INFRA-CADDY-AUTH-20260207"
    notes: "Created in infrastructure/prod at /spine/vm-infra/caddy-auth (no root-path duplicates)."
  - id: GAP-OP-013
    discovered_by: "LOOP-INFRA-CADDY-AUTH-20260207"
    discovered_at: "2026-02-07"
    type: duplicate-truth
    doc: "Infisical project: infrastructure (prod)"
    description: |
      Infrastructure project still stores legacy keys at root path `/` (flat
      namespace). This risks future collisions with new VM-infra secrets unless
      all new infra keys are constrained under `/spine/*` namespaces.
    severity: medium
    status: fixed
    fixed_in: "secrets-namespace-migration-20260207"
    notes: |
      Enforcement added: secrets.namespace.status + secrets.namespace.policy freeze.
      Migration map staged at ops/staged/SECRETS_NAMESPACE_MIGRATION_MAP.md.
      P1 complete for /spine/platform/security (9 root duplicates removed) and
      P2 complete for /spine/network/edge (10 root duplicates removed) and
      P3 complete for /spine/storage/nas (6 root duplicates removed) and
      P4 complete for /spine/integrations/commerce-mail (9 root duplicates removed) and
      P5 complete for /spine/services/* (11 root duplicates removed) and
      P6 complete for /spine/ai/providers (4 root duplicates removed).
      Root key count reduced from baseline 49 -> 0 (49 removed).
      Evidence: ops/staged/SECRETS_NAMESPACE_P1_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P2_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P3_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P4_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P5_EXECUTION_20260207.md,
      ops/staged/SECRETS_NAMESPACE_P6_EXECUTION_20260207.md,
      RCAP-20260207-171547__secrets.p2.root_cleanup.execute__Rchmg11028,
      RCAP-20260207-180752__secrets.namespace.status__R4k6j64294.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-GOV-CLI-TOOL-DISCOVERY-20260207
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-014
    discovered_by: "LOOP-GOV-CLI-TOOL-DISCOVERY-20260207"
    discovered_at: "2026-02-07"
    type: agent-behavior
    doc: null
    description: |
      Agent could not discover qrencode despite it being registered in
      maker.tools.inventory.yaml. The tool is domain-scoped (maker plugin)
      with no cross-domain discovery path. Session protocol, brain context,
      and rules all lack tool discovery guidance. Agent searched workbench
      repo, MCP catalogs, and file contents but never found the binding.
    severity: medium
    status: fixed
    fixed_in: "LOOP-GOV-CLI-TOOL-DISCOVERY-20260207"
    notes: |
      Fixed by: cli.tools.inventory.yaml (cross-domain catalog),
      generate-context.sh (tool injection into agent context),
      D44 drift gate (discovery chain validation),
      SESSION_PROTOCOL.md + rules.md updates (agent guidance).
  # ─────────────────────────────────────────────────────────────
  # Discovered during OL_HOME_BASELINE_FINISH audit 2026-02-07
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-015
    discovered_by: "OL_HOME_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: runtime-bug
    doc: "docs/governance/MINILAB_SSOT.md"
    description: |
      PVE node-name mismatch on proxmox-home: hostname changed from `pve` to
      `proxmox-home` (GAP-OP-005 fix) but PVE node was not migrated. All VM/LXC
      configs live under /etc/pve/nodes/pve/ while PVE tools look under
      /etc/pve/nodes/proxmox-home/. Breaks qm list, pct list, pct exec, vzdump
      jobs. VMs running pre-rename continue but are unmanageable. VM 101 (immich)
      is stopped and cannot be restarted.
    severity: critical
    status: fixed
    fixed_in: "gap-sweep-20260208"
    notes: "Fixed: hostname reverted to pve (matching PVE node name). qm list, pct list, vzdump all functional. Tailscale hostname remains proxmox-home (independent). Exception recorded in naming.policy.yaml."
  - id: GAP-OP-017
    discovered_by: "LOOP-GOV-CLAUDE-ENTRYPOINT-LOCK-20260208"
    discovered_at: "2026-02-08"
    type: duplicate-truth
    doc: "~/.claude/CLAUDE.md"
    description: |
      Claude home config (CLAUDE.md, commands/ctx.md, settings.json, settings.local.json)
      contains standalone governance sections (Authority Order, Immutable Invariants, etc.)
      and uppercase ~/Code/ path references. No Claude-equivalent of D32 (Codex instruction
      source lock) exists. Runtime scripts reference .brain/ paths but no .brain/ directory
      exists — actual files live at docs/brain/. SESSION_PROTOCOL.md also references .brain/.
    severity: medium
    status: fixed
    fixed_in: "LOOP-GOV-CLAUDE-ENTRYPOINT-LOCK-20260208"
    notes: |
      Fixed by: CLAUDE.md rewritten to redirect shim, path case canonicalized across
      all governed Claude files, .brain/ references replaced with docs/brain/ in runtime
      scripts and SESSION_PROTOCOL.md, D46 + D47 drift gates added, agent.entrypoint.lock.yaml
      binding created, host-claude-entrypoint-lock plugin with status/enforce/execute modes.
  # ─────────────────────────────────────────────────────────────
  # Discovered during PVE baseline SSH audit 2026-02-07
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-018
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "/etc/pve/jobs.cfg"
    description: |
      VM 204 (infra-core) is not included in the vzdump backup job on pve.
      The job covers VMs 200-203 but was created before VM 204 existed.
      infra-core runs cloudflared, pihole, infisical, vaultwarden, caddy,
      and authentik — all critical services with no hypervisor-level backup.
    severity: high
    status: fixed
    fixed_in: "LOOP-INFRA-SSOT-ALIGNMENT-20260208"
    notes: |
      Fixed: added vmid 204 to vzdump job in /etc/pve/jobs.cfg via SSH.
      Job now covers 200,201,202,203,204. Add VM 205 when provisioned.
  - id: GAP-OP-019
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: "pve crontab"
    description: |
      No ZFS scrub scheduled for the media pool on pve. Only the tank pool
      has a weekly scrub (`0 3 * * 0 zpool scrub tank`). The media pool's
      last scrub was CANCELED on 2026-01-11. Media pool is RAIDZ1 with 4x
      Seagate ST8000AS0002 (SMR archive drives) — higher risk profile than
      tank (RAIDZ2 enterprise SAS).
    severity: medium
    status: fixed
    fixed_in: "LOOP-INFRA-SSOT-ALIGNMENT-20260208"
    notes: |
      Fixed: added `0 4 * * 0 zpool scrub media` to pve crontab via SSH.
      Runs Sundays at 4am, offset from tank scrub (3am).
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-MEDIA-STACK-RCA-20260205 / ARCH-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-021
    discovered_by: "LOOP-MEDIA-STACK-RCA-20260205"
    discovered_at: "2026-02-07"
    type: agent-behavior
    doc: "ops/staged/MEDIA_RCA_DECISION_NOTE.md"
    description: |
      RCA decision note stated /opt/appdata/*.db files were "stale copies, not
      actively used." In reality these were active symlink targets created Dec 23,
      serving all 5 main databases. An agent following the decision note would have
      assumed the entire database layer was on NFS and may have attempted redundant
      or harmful migrations. The inaccuracy persisted for 2 days before correction.
    severity: medium
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      Root cause: initial RCA SSH session saw files at /opt/appdata/ and assumed
      copies without checking symlink state (ls -la vs ls -l). Fixed: decision note
      corrected. Lesson: always use `ls -la` or `file` command to distinguish
      symlinks from regular files during NFS topology discovery.
  - id: GAP-OP-022
    discovered_by: "LOOP-MEDIA-STACK-ARCH-20260208"
    discovered_at: "2026-02-08"
    type: agent-behavior
    doc: null
    description: |
      Phase A symlink migration broke trailarr and posterizarr because their
      compose services lacked the /opt/appdata:/opt/appdata bind mount that
      radarr/sonarr/lidarr/prowlarr/jellyfin already had (Dec 23 setup).
      The playbook did not include a pre-check for container mount visibility.
      Failure mode: sqlite3.OperationalError with no mention of symlinks,
      making diagnosis non-obvious.
    severity: medium
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      Fixed: added /opt/appdata:/opt/appdata volume to trailarr and posterizarr
      in docker-compose.yml on media-stack, containers recreated via compose up -d.
      Lesson codified in docs/brain/lessons/MEDIA_STACK_LESSONS.md.
      Future mitigation: any symlink migration playbook MUST include a
      pre-flight step: `docker inspect <service> --format '{{range .Mounts}}...'`
      to verify the symlink target path is visible inside the container.
  - id: GAP-OP-023
    discovered_by: "LOOP-MEDIA-STACK-ARCH-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/staged/MEDIA_STACK_ARCH_PHASE_A_PLAYBOOK_20260207.md"
    description: |
      Phase A playbook listed 5 target services but missed sonarr logs.db (2.2MB,
      constant writes) which was also on NFS. The playbook was written from the
      ARCH scope doc which only listed "databases STILL on NFS" but omitted logs.db
      files for services whose main .db was already symlinked. Discovery chain:
      scope doc partial → playbook incomplete → extra target found during execution.
    severity: low
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      sonarr logs.db migrated during Phase A execution. Lesson: when scoping
      NFS-to-local migrations, enumerate ALL .db files per service (not just the
      main database). Use: find /mnt/docker/volumes/<service> -name '*.db' -type f
  - id: GAP-OP-024
    discovered_by: "LOOP-MEDIA-STACK-ARCH-20260208"
    discovered_at: "2026-02-08"
    type: agent-behavior
    doc: "ops/staged/MEDIA_STACK_ARCH_PHASE_A_PLAYBOOK_20260207.md"
    description: |
      Phase A playbook listed introskipper.db path as
      /mnt/docker/volumes/jellyfin/config/data/introskipper.db but actual path was
      /mnt/docker/volumes/jellyfin/config/data/introskipper/introskipper.db (extra
      directory level). Path was assumed from scope doc without SSH verification.
      Similarly, trailarr had a logs/logs.db not mentioned in the playbook.
    severity: low
    status: fixed
    fixed_in: "LOOP-MEDIA-STACK-ARCH-20260208"
    notes: |
      Correct paths discovered via `find` during execution. Lesson: playbooks for
      remote file operations MUST include a preflight `find` or `ls -la` step to
      confirm actual paths before mutation. Never trust doc-assumed paths for
      file-level operations.
  # ─────────────────────────────────────────────────────────────
  # Discovered during pre-vm-creation reliability hardening 2026-02-08
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-025
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      media-stack SSH target had the wrong user (root vs actual), causing
      ssh.target.status to fail with auth denied and misleading downstream
      tooling that relies on governed SSH.
    severity: medium
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: media-stack entry updated to user=media. ssh.target.status confirms
      OK (192ms). Docker compose status resolves correctly via binding.
  - id: GAP-OP-026
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/plugins/docker/bin/docker-compose-status"
    description: |
      docker.compose.status assumed `ssh <id>` works via ~/.ssh/config aliases
      and did not resolve ssh_target via ops/bindings/ssh.targets.yaml. This
      produced false UNREACHABLE signals even when the governed SSH binding was
      correct (infra-core, observability).
    severity: high
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: docker-compose-status now resolves host/user/port from ssh.targets.yaml
      (lines 170-178), uses binding defaults for StrictHostKeyChecking=no and
      UserKnownHostsFile=/dev/null. SSH error classification added. Verified working
      for infra-core (13 stacks), observability (5 stacks), dev-tools (1 stack).
  - id: GAP-OP-027
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/plugins/backup/bin/backup-status"
    description: |
      backup.status validated host IDs exist in ssh.targets.yaml but then used
      `ssh \"$HOST\"` (alias) and StrictHostKeyChecking=accept-new (known_hosts
      writes), violating HOME drift constraints and breaking when aliases are not
      present.
    severity: high
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: backup-status now resolves host/user/port from ssh.targets.yaml
      (lines 107-118), uses binding defaults for StrictHostKeyChecking and
      UserKnownHostsFile=/dev/null. SSH error classification added. Verified
      working for pve and nas targets.
  - id: GAP-OP-028
    discovered_by: "pre-vm-creation-reliability-hardening-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/bindings/secrets.binding.yaml + ops/plugins/secrets/bin/*"
    description: |
      Secrets capabilities failed when Infisical API URL was behind forward-auth
      (HTTP 302/HTML), causing jq parse errors and broken automation. A binding-
      supported internal API endpoint is required, and scripts must prefer it and
      fail with actionable errors on redirects/non-JSON responses.
    severity: high
    status: fixed
    fixed_in: "pre-vm-creation-reliability-hardening-20260208"
    notes: |
      Fixed: secrets.binding.yaml has internal_api_url (http://100.92.91.128:8088,
      direct Infisical bypassing Authentik). All secrets plugins prefer
      internal_api_url over api_url via yq fallthrough (.internal_api_url // .api_url).
      Verified in secrets-namespace-status, secrets-exec, secrets-projects-status,
      secrets-binding.
  - id: GAP-OP-016
    discovered_by: "OL_HOME_BASELINE_FINISH"
    discovered_at: "2026-02-07"
    type: missing-entry
    doc: null
    description: |
      No naming governance policy exists. Hostname, PVE node name, Tailscale
      hostname, ssh.targets.yaml ID, and DEVICE_IDENTITY_SSOT entries are all
      managed independently with no canonical mapping or rename procedure.
      This caused GAP-OP-015 (hostname changed without PVE node migration)
      and has caused repeated confusion (media-stack site attribution, hypervisor
      identity ambiguity).
    severity: high
    status: fixed
    fixed_in: "LOOP-NAMING-GOVERNANCE-20260207"
    notes: |
      Fixed by: naming.policy.yaml (canonical names + surface authority + rename
      procedure + allowed exceptions) + D45 naming consistency lock gate
      (cross-file verification wired into drift-gate.sh). Also fixed vault kind
      misclassification (lxc→vm) in placement policy and DEVICE_IDENTITY_SSOT.
  # ─────────────────────────────────────────────────────────────
  # Discovered during gap sweep 2026-02-08
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-020
    discovered_by: "gap-sweep-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/commands/loops.sh"
    description: |
      ops loops list --open crashes with jq error at open_loops.jsonl:121.
      Close records use "id" key but the parser expects "loop_id", producing
      "Cannot index object with null". Additionally, open_loops.jsonl has
      54 open entries with massive duplication and 3 close records that never
      filter out closed loops. The loops subsystem is the spine's work-tracking
      surface and currently fails on every invocation.
    severity: high
    status: fixed
    fixed_in: "gap-sweep-20260208"
    notes: |
      Fixed: loops.sh jq filter now normalizes close records, deduplicates by loop_id,
      and applies close status. open_loops.jsonl compacted from 121 to 61 lines.
      6 completed loops closed. 9 open loops remain.
  # Discovered during CODE_AUDIT_20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-029
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets.namespace.status failed because the required Gitea secrets were
      missing from Infisical at /spine/vm-infra/gitea. This blocks governed
      automation and leaves the dev-tools deployment partially undocumented.
    severity: high
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Fixed by writing the required keys to Infisical under /spine/vm-infra/gitea:
      GITEA_ADMIN_PASSWORD, GITEA_API_TOKEN, GITEA_RUNNER_TOKEN,
      GITEA_OAUTH_CLIENT_ID, GITEA_OAUTH_CLIENT_SECRET. Verified via
      secrets.namespace.status (receipt RCAP-20260208-105831__secrets.namespace.status__Rwaub7817).
  - id: GAP-OP-030
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/plugins/cloudflare/bin/cloudflare-tunnel-ingress-status"
    description: |
      There was no spine-native way to export Cloudflare tunnel ingress rules.
      This forced manual dashboard checks and allowed docs-vs-dashboard drift.
    severity: medium
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Added cloudflare.tunnel.ingress.status (API export) and
      cloudflare.domain_routing.diff (diff vs DOMAIN_ROUTING_REGISTRY.yaml).
  - id: GAP-OP-031
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml"
    description: |
      DOMAIN_ROUTING_REGISTRY.yaml drifted from the Cloudflare tunnel ingress
      configuration, creating extra/missing hostname entries and agent confusion
      (docs indicated services/paths that did not exist).
    severity: medium
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Registry updated and verified against live ingress export:
      cloudflare.domain_routing.diff status OK (receipt RCAP-20260208-110109__cloudflare.domain_routing.diff__Rwa0y18221).
  - id: GAP-OP-032
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      docker.compose.targets.yaml referenced a docker-host storage stack path
      that does not exist, producing false negatives in docker.compose.status
      and confusing agents about the MinIO deployment source.
    severity: medium
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Removed the invalid compose target and aligned compose authority docs to the
      current SSOT model (VM-infra under ops/staged/**; live stack locations via
      docker.compose.targets.yaml).
  - id: GAP-OP-033
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/commands/cap.sh + surfaces/verify/drift-gate.sh"
    description: |
      ops capability execution was not worktree-safe: receipts and drift gates
      assumed the canonical repo CWD and scanned worktree-only paths, causing
      incorrect failures when operating from isolated worktrees.
    severity: high
    status: fixed
    fixed_in: "CODE_AUDIT_20260208"
    notes: |
      Introduced SPINE_CODE (current code root) distinct from SPINE_REPO
      (canonical receipts/runtime root). Updated capability CWDs to SPINE_CODE and
      hardened drift-gate scripts to ignore .worktrees and to compare canonical
      instruction sources.
  - id: GAP-OP-034
    discovered_by: "CODE_AUDIT_20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "docs/governance/BACKUP_GOVERNANCE.md"
    description: |
      Backup governance defines a requirement for app-level dumps per stack, but
      there is no documented, tested app-level backup/restore procedure for
      Authentik or Gitea (even if VM-level vzdump exists).
    severity: medium
    status: fixed
    fixed_in: "2026-02-08_app_backup_runbooks"
    notes: |
      Follow-up: add stack READMEs or runbooks covering export, restore, and a
      periodic restore test for both Authentik and Gitea.
      Evidence:
      - docs/governance/AUTHENTIK_BACKUP_RESTORE.md
      - docs/governance/GITEA_BACKUP_RESTORE.md
  # ─────────────────────────────────────────────────────────────
  # Discovered during OL_SHOP_BASELINE_FINISH remote audit 2026-02-08
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-037
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "docs/governance/SHOP_SERVER_SSOT.md"
    description: |
      Dell MD1400 DAS shelf is physically cabled to R730XD (pve) via SAS cable
      (Dell 0GYK61) but zero drives are visible to the OS. Two root causes:
      (1) PM8072 SAS controller PCI vendor ID is 0x11f8 (Microchip, post-acquisition)
      but the Linux pm80xx driver only recognizes 0x117C (PMC-Sierra, pre-acquisition) —
      driver does not auto-bind. (2) Hot-loading the driver via new_id fails because
      the PM8072 firmware requires cold-boot initialization — MPI handshake times out
      with "FW is not ready" (chip_init failed, ret=-16/EBUSY).
      Result: entire MD1400 shelf storage is inaccessible. Unknown drive count and
      capacity sitting completely dark.
    severity: critical
    status: accepted
    fixed_in: null
    parent_loop: null
    notes: |
      Phase 1 (module config) complete; on-site full shutdown + cold boot with AC drain was performed 2026-02-09 and still failed
      (`FW is not ready`, `chip_init failed [ret: -16]`) with no new block devices appearing.
      Implication: treat PM8072 as hardware/firmware defective; proceed with controller replace/reflash path.
      2026-02-10 update: external SAS HBA ordered; this gap is now hardware-blocked pending install + validation (Phase 2b in loop scope).
      Upstream: PCI ID gap in Linux pm80xx driver (kernel 6.14.8-2-pve).
      2026-02-12 update: Accepted-standalone by operator to unblock MCP/RAG execution work.
      Hardware remediation is intentionally paused and can be resumed in a new dedicated loop.
  - id: GAP-OP-038
    discovered_by: "OL_SHOP_BASELINE_FINISH"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "/etc/pve/jobs.cfg"
    description: |
      vzdump backup job on pve covers VMs 200-204 only. VMs 205 (observability),
      206 (dev-tools), 207 (ai-consolidation), 209 (download-stack), and
      210 (streaming-stack) are running with no hypervisor-level backup.
      5 VMs provisioned since the backup job was last updated.
    severity: high
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      P1 fix: vzdump vmid list updated to 204,205,206,201,202,203,200 (reordered
      so critical infra-core runs first, heaviest VM 200 last). VMs 207/209/210
      deferred to P2 (enable as each stabilizes). Orphaned 34GB partial backup
      from power-outage crash cleaned up.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CAMERA-BASELINE-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-039
    discovered_by: "LOOP-CAMERA-BASELINE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "docs/governance/CAMERA_SSOT.md"
    description: |
      NVR channels 2, 3, 4 report chanDetectResult=notExist via ISAPI. Cameras
      are powered off or disconnected from the Netgear PoE switch that feeds the
      NVR's internal 192.168.254.0/24 network. Requires physical visit to the
      upstairs 9U rack to inspect PoE switch ports and camera cabling.
    severity: medium
    status: fixed
    fixed_in: "LOOP-CAMERA-BASELINE-20260208"
    notes: |
      Subsumed by LOOP-CAMERA-BASELINE-20260208 Phase P2 + OL_SHOP_BASELINE_FINISH.
      Physical visit required — cameras are still offline but gap tracking is redundant
      with loop ownership. Fix will occur during on-site audit.
  - id: GAP-OP-040
    discovered_by: "LOOP-CAMERA-BASELINE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "docs/governance/CAMERA_SSOT.md"
    description: |
      NVR channel 5 has IP address 192.168.254.7 which conflicts with channel 4
      (same IP). ISAPI reports chanDetectResult=ipAddrConflict for ch5. This is
      a configuration error in the NVR channel assignment, not a physical issue.
    severity: low
    status: fixed
    fixed_in: "LOOP-CAMERA-BASELINE-20260208"
    notes: |
      Fixed: ch5 IP reassigned from 192.168.254.7 to 192.168.254.5 via ISAPI PUT
      (2026-02-08). NVR accepted change (statusCode=1/OK). Ch5 now shows
      netUnreachable (camera physically disconnected, not IP conflict).
      Previous name "SCREEN PRINT" auto-reset to "IPCamera 05" by NVR.
  - id: GAP-OP-041
    discovered_by: "LOOP-CAMERA-BASELINE-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "Infisical project: infrastructure (prod)"
    description: |
      Shop infrastructure credentials (NVR, iDRAC, Dell switch) were referenced
      in SHOP_SERVER_SSOT.md and CAMERA_SSOT.md at Infisical paths
      /spine/shop/nvr/*, /spine/shop/idrac/*, /spine/shop/switch/* but all three
      paths were empty. Agent could not diagnose camera IP conflict without
      asking the user for credentials interactively. SSOT docs implied secrets
      existed when they did not.
    severity: medium
    status: fixed
    fixed_in: "LOOP-SHOP-EDGE-CREDS-AND-INVENTORY-20260210"
    parent_loop: "LOOP-SHOP-EDGE-CREDS-AND-INVENTORY-20260210"
    notes: |
      Historical: fixed during LOOP-CAMERA-BASELINE-20260208 by seeding NVR/iDRAC/switch creds.
      Regression (2026-02-10): Infisical currently contains only /spine/shop/wifi; /spine/shop/{nvr,idrac,switch,unifi} folders are missing.
      Fixed (2026-02-11): /spine/shop/{nvr,idrac,switch,unifi,wifi} now present with expected key sets.
      Evidence:
      - RCAP-20260211-091704__secrets.namespace.status__Rtu2v36568 (path distribution + key checks)
      - docs/governance/CAMERA_SSOT.md credentials line updated to remove stale blocker text
      - docs/governance/SHOP_SERVER_SSOT.md updated with switch service tag (1TQR0Z1)
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-BACKUP-STABILIZATION-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-042
    discovered_by: "LOOP-BACKUP-STABILIZATION-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      No SSH key authentication existed from pve or infra-core to the NAS
      (Synology 918+ at house, Tailscale). Blocked all offsite backup sync.
      The backup binding had an enabled offsite target (vm-200-docker-host-offsite)
      and NAS directories existed, but no sync mechanism or SSH trust was ever
      established. backup.status reported no_matches — a false signal that
      appeared like a path problem when the real issue was no connectivity.
    severity: high
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      Fixed: pve RSA key and infra-core ed25519 key added to
      ronadmin@nas authorized_keys. Verified bidirectional SSH from both hosts.
      Offsite rsync script and app backup scripts both use this trust path.
  - id: GAP-OP-043
    discovered_by: "LOOP-BACKUP-STABILIZATION-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      Vaultwarden backup stopped when the service migrated from proxmox-home
      (LXC 102) to infra-core (VM 204) on 2026-02-05. No backup cron was
      re-established on the new host. Last NAS backup was 2026-02-05 02:45,
      creating a 3-day gap (Feb 5-8) where vaultwarden had zero backups.
      The migration playbook had no post-migration backup verification step.
      Additionally, the old host had no backup cron — the mechanism was unknown.
    severity: high
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      Fixed: /usr/local/bin/vaultwarden-backup.sh on infra-core creates daily
      tar.gz of vw-data dir, rsyncs to NAS. Cron at 02:45 daily. First backup
      verified (1.5MB, synced to NAS successfully). Lesson: service migration
      playbooks MUST include a backup continuity step — verify backup mechanism
      is re-established on the new host before closing the migration.
  - id: GAP-OP-044
    discovered_by: "LOOP-BACKUP-STABILIZATION-20260208"
    discovered_at: "2026-02-08"
    type: duplicate-truth
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      The backup binding had vm-200-docker-host-offsite enabled=true with a NAS
      path that existed but was always empty. backup.status reported this as
      no_matches, which appeared to be a path misconfiguration. In reality, no
      sync mechanism (rsync, scp, Hyper Backup pull) was ever wired between pve
      and NAS. The enabled=true flag + existing NAS directory created a false
      impression that offsite backup was configured but broken, when it had never
      been set up at all.
    severity: medium
    status: fixed
    fixed_in: "LOOP-BACKUP-STABILIZATION-20260208"
    notes: |
      Fixed: vm-200-docker-host-offsite disabled (186GB exceeds shop upload
      bandwidth). New vm-offsite-critical target covers VMs 204-210 via
      /usr/local/bin/vzdump-offsite-sync.sh on pve (cron 09:00, rsync with
      1500 KB/s bwlimit over Tailscale). Lesson: never enable a backup target
      in the binding without a corresponding sync mechanism. enabled=true must
      mean "this is actively running and verifiable."
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-MEDIA-AGENT-WORKBENCH-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-045
    discovered_by: "LOOP-MEDIA-AGENT-WORKBENCH-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/agents/ (expected directory) + generate-context.sh"
    description: |
      No agent discovery mechanism exists. ops/agents/ directory is absent.
      generate-context.sh injects CLI tools but not domain-specific agents.
      agents_verify.sh exists but is not wired into spine.verify. No routing
      rules map problem domains (media, infra, finance, etc.) to specialized
      agents. A fresh Claude Code session asking about a media issue has no
      path to discover the media agent in workbench/agents/media/.
    severity: high
    status: fixed
    fixed_in: "LOOP-AGENT-DISCOVERY-GOVERNANCE-20260208"
    notes: |
      Fixed: (1) ops/bindings/agents.registry.yaml created with routing rules,
      (2) generate-context.sh injects "Available Agents" section,
      (3) D49 agent discovery lock wired into drift-gate.sh,
      (4) agents_verify.sh rewritten for contract model,
      (5) AGENTS_GOVERNANCE.md updated. media-agent registered as first entry.
  - id: GAP-OP-046
    discovered_by: "LOOP-MEDIA-AGENT-WORKBENCH-20260208"
    discovered_at: "2026-02-08"
    type: duplicate-truth
    doc: "AGENTS_LOCATION.md, CORE_AGENTIC_SCOPE.md, WORKBENCH_CONTRACT.md, REPO_STRUCTURE_AUTHORITY.md"
    description: |
      Agent implementation path governance is contradictory across 4 docs.
      AGENTS_LOCATION.md says "agentic-spine/agents/" (directory doesn't exist).
      CORE_AGENTIC_SCOPE.md references agents/active/ and agents/contracts/
      (neither exists; actual contracts are in ops/agents/). Workbench .gitignore
      blocks agents/ as "Runtime (spine owns these)". REPO_STRUCTURE_AUTHORITY.md
      doesn't list agents/ as an allowed workbench root. WORKBENCH_CONTRACT.md
      is silent on agents. All docs predate D49 agent discovery architecture
      (2026-02-08). Result: P1 media-agent artifacts in workbench/agents/media/
      are untrackable by git.
    severity: high
    status: fixed
    fixed_in: "LOOP-MEDIA-AGENT-WORKBENCH-20260208"
    notes: |
      Fixed: (1) AGENTS_LOCATION.md updated to reflect ops/agents/ for contracts,
      workbench/agents/<domain>/ for implementations. (2) CORE_AGENTIC_SCOPE.md
      updated: agents/active/ → ops/agents/ (contracts), implementation in workbench.
      (3) Workbench .gitignore: added !agents/ exception. (4) REPO_STRUCTURE_AUTHORITY.md:
      added agents/ to allowed root entries. (5) WORKBENCH_CONTRACT.md: added agent
      placement rule.
  # ─────────────────────────────────────────────────────────────
  # Discovered during macbook alignment hardening 2026-02-09
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-047
    discovered_by: "macbook-alignment-20260209"
    discovered_at: "2026-02-09"
    type: unclear-doc
    doc: "docs/governance/CLAUDE_ENTRYPOINT_SHIM.md + host.claude.entrypoint.*"
    description: |
      Claude Code home state (~/.claude) contains a mix of governed entrypoint
      surfaces (CLAUDE.md, commands/ctx.md, settings.json, settings.local.json)
      and volatile user-local runtime state (history, cache, transcripts, etc.).
      Without a single "apply + verify" command, agents and operators can drift
      these entrypoint surfaces over time, causing inconsistent governance
      injection across sessions.
    severity: high
    status: fixed
    fixed_in: "macbook-alignment-20260209"
    notes: |
      Fixed by adding:
      - host.macbook.managed_configs.apply (enforces managed symlinks and runs
        host-claude-entrypoint-lock --execute)
      - host.macbook.drift.check (enforced read-only drift check)
      Receipts:
      - RCAP-20260208-202527__host.macbook.managed_configs.apply__R2d9081898
      - RCAP-20260208-202527__host.macbook.drift.check__R4yty81893
  - id: GAP-OP-048
    discovered_by: "macbook-alignment-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/plugins/host/"
    description: |
      No read-only macbook drift gate existed to enforce host invariants beyond
      the start routine. Drift could accumulate silently (managed symlinks,
      CLAUDE entrypoint shim) until an agent session failed.
    severity: medium
    status: fixed
    fixed_in: "macbook-alignment-20260209"
    notes: |
      Fixed: host.macbook.drift.check capability added (receipt:
      RCAP-20260208-202527__host.macbook.drift.check__R4yty81893).
  - id: GAP-OP-049
    discovered_by: "macbook-alignment-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "workbench/dotfiles/macbook/README.md"
    description: |
      Managed tool configs existed in home (~/.codex/config.toml,
      ~/.config/opencode/opencode.json) but were not governed as reproducible
      dotfiles, so new machines (or drifted machines) would revert to ad-hoc
      defaults and surprise other agents.
    severity: low
    status: fixed
    fixed_in: "macbook-alignment-20260209"
    notes: |
      Fixed by storing these configs in workbench dotfiles and enforcing
      symlinks via host.macbook.managed_configs.apply. Verified by:
      - workbench verifier scripts/root/verify_laptop_hotkeys.sh
      - host.macbook.drift.check capability
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-050
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/staged/dev-tools/"
    description: |
      No automated backup cron exists for Gitea app-level dumps (gitea dump +
      pg_dump). Only VM-level vzdump protects data. A Gitea-specific corruption
      or misconfiguration would require full VM restore instead of targeted
      app-level recovery. Vaultwarden and Infisical both have automated
      app-level backups; Gitea does not.
    severity: high
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: gitea-backup.sh deployed to /usr/local/bin on dev-tools (VM 206).
      Cron installed: 55 2 * * * (daily). SSH key for NAS access generated and
      authorized. Manual test verified: gitea dump (3.8M) + pg_dump (80K) ->
      NAS /volume1/backups/apps/gitea/. Retention: 7 daily.
  - id: GAP-OP-051
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      No app-gitea entry existed in backup.inventory.yaml. backup.status
      has no visibility into Gitea app-level backup freshness. Other app
      backups (app-infisical, app-vaultwarden) are tracked; Gitea is not.
    severity: high
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: app-gitea entry added to backup.inventory.yaml with
      stale_after_hours=26, classification=critical, NAS path
      /volume1/backups/apps/gitea. Will show STALE until P5 deploys cron.
  - id: GAP-OP-052
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: runtime-bug
    doc: "Gitea push mirror configuration"
    description: |
      Push mirror from Gitea to GitHub uses an OAuth token (gho_*) that
      has an expiration date. When it expires, mirror sync will silently
      fail. No monitoring or alerting exists for mirror sync failures.
      A classic PAT (non-expiring or long-lived) is more durable.
    severity: medium
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: GitHub classic PAT stored in Infisical at
      /spine/vm-infra/gitea/GITHUB_PUSH_MIRROR_TOKEN. Push mirrors for
      both agentic-spine and workbench deleted+recreated with durable PAT.
      Sync verified (last_error empty, fresh timestamps). Namespace policy
      updated with GITHUB_PUSH_MIRROR_TOKEN in required_key_paths.
  - id: GAP-OP-053
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: ".gitea/workflows/"
    description: |
      Gitea Actions runner is deployed on VM 206 but no CI workflow
      exists. Runner is idle. No push-triggered verification of spine
      drift gates. GitHub Actions still runs but will become secondary
      once Gitea is canonical origin.
    severity: medium
    status: fixed
    fixed_in: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    notes: |
      Fixed: .gitea/workflows/verify.yml created. Triggers on push to
      main and pull_request. Runs surfaces/verify/drift-gate.sh on
      ubuntu-latest runner. D50 drift gate validates workflow exists.
  - id: GAP-OP-054
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: null
    description: |
      No documented browser test exists for the Authentik SSO flow
      protecting Gitea (git.ronny.works). The SSO integration was
      configured during LOOP-DEV-TOOLS-DEPLOY-20260208 but the login
      flow has not been manually verified end-to-end via browser.
    severity: low
    status: accepted
    fixed_in: null
    parent_loop: null
    notes: |
      Accepted-standalone: manual browser test of git.ronny.works -> Authentik
      login -> Gitea. Low severity, non-blocking. Will be verified during next
      Gitea maintenance window. Re-parented from closed LOOP-MAILROOM-GAP-LINKAGE-20260211.
  - id: GAP-OP-055
    discovered_by: "LOOP-DEV-TOOLS-GITEA-STANDARDIZATION-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      Gitea monitoring is limited to HTTP health probe (services.health.yaml).
      No Prometheus metrics endpoint, no Grafana dashboard, no alerts for
      runner offline, mirror sync stale, disk usage, or API latency.
      Other critical services (Prometheus itself, Loki) have deeper
      observability. Gitea will become the canonical code forge.
    severity: low
    status: fixed
    fixed_in: "LOOP-GITEA-OBSERVABILITY-IMPLEMENT-20260212"
    parent_loop: "LOOP-GITEA-OBSERVABILITY-IMPLEMENT-20260212"
    notes: |
      Fixed: GITEA__metrics__ENABLED=true in docker-compose env, Prometheus
      scrape job 'gitea' targeting 100.90.167.39:3000 (UP), Grafana dashboard
      'gitea-overview' with 10 panels (version/repos/users/mirrors/issues/hooks/
      memory/goroutines/cpu/scrape-health). Alerting rules deferred (non-goal).
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-OBSERVABILITY-HYGIENE-20260208
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-056
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/staged/observability/prometheus/prometheus.yml"
    description: |
      Prometheus scrape targets for loki (localhost:3100) and node-observability
      (localhost:9100) resolve to [::1] (IPv6 loopback) inside the Prometheus
      Docker container. Both services bind to the host network only. Result:
      2 of 7 scrape targets permanently DOWN. Prometheus API shows
      "dial tcp [::1]:3100: connection refused" for both.
    severity: high
    status: fixed
    fixed_in: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    notes: |
      Fixed: replaced localhost with 100.120.163.70 (observability Tailscale IP)
      for both targets in prometheus.yml (staged + live). All targets now UP.
  - id: GAP-OP-057
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: stale-ssot
    doc: "ops/staged/observability/prometheus/prometheus.yml"
    description: |
      Prometheus scrape config includes infra-core-cadvisor (100.92.91.128:8080)
      and docker-host-cadvisor (100.92.156.118:8080) targets. cAdvisor is not
      deployed on either host. Both targets permanently DOWN with "connection
      refused". These were aspirational targets from the initial config, never
      backed by actual deployments.
    severity: medium
    status: fixed
    fixed_in: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    notes: |
      Fixed: removed both cAdvisor job entries from prometheus.yml (staged + live).
      Can be re-added when/if cAdvisor is deployed in a future loop.
  - id: GAP-OP-058
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: runtime-bug
    doc: "ops/staged/observability/loki/docker-compose.yml"
    description: |
      Loki Docker health check reports container as unhealthy despite the service
      responding 200 on /ready from the host. Two compounding root causes:
      (1) grafana/loki:latest is a distroless image with no shell, wget, or nc —
      the wget-based health check can never succeed regardless of timing.
      (2) Loki's compactor waits 10 minutes for ring stability before /ready
      returns 200, so even a working health check would need >10min start_period.
    severity: low
    status: fixed
    fixed_in: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    notes: |
      Fixed: disabled in-container health check (test: ["NONE"]) since distroless
      image has no health check tools. Health monitored externally via
      services.health.yaml (GET /ready on 100.120.163.70:3100).
  - id: GAP-OP-059
    discovered_by: "LOOP-OBSERVABILITY-HYGIENE-20260208"
    discovered_at: "2026-02-08"
    type: missing-entry
    doc: "ops/bindings/secrets.binding.yaml"
    description: |
      Grafana admin password secret path is undocumented. Other infra services
      (caddy-auth, gitea, vaultwarden) have documented Infisical paths under
      /spine/vm-infra/<service>/. Grafana follows the same pattern but is not
      explicitly documented in any binding or runbook.
    severity: low
    status: fixed
    fixed_in: "LOOP-GRAFANA-SECRET-PATH-ALIGN-20260212"
    parent_loop: "LOOP-GRAFANA-SECRET-PATH-ALIGN-20260212"
    notes: |
      Fixed: Infisical folder /spine/vm-infra/grafana created, GRAFANA_ADMIN_PASSWORD
      secret stored. secrets.namespace.policy.yaml updated (required_key_paths +
      key_path_overrides). Agent tooling resolves path correctly.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-VAULTWARDEN-GOVERNANCE-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-060
    discovered_by: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      Vaultwarden ADMIN_TOKEN is not stored in Infisical. It exists only in
      the host-local .env on infra-core. Every other infra-core service
      (Gitea, Caddy-Auth, Infisical itself) has secrets at
      /spine/vm-infra/<service>/. Vaultwarden is the sole exception.
    severity: high
    status: fixed
    fixed_in: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    notes: |
      Fixed: VAULTWARDEN_ADMIN_TOKEN stored at /spine/vm-infra/vaultwarden/
      in Infisical. Folder created via API. Verified: key, path, value length.
      Non-secret config (DOMAIN, LOG_LEVEL, TZ, etc.) stays in .env.
  - id: GAP-OP-061
    discovered_by: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "ops/bindings/secrets.namespace.policy.yaml"
    description: |
      secrets.namespace.policy.yaml has no vaultwarden entries in
      required_key_paths, planned_key_paths, or forbidden_root_prefixes.
      D43 cannot enforce vaultwarden secret placement.
    severity: medium
    status: fixed
    fixed_in: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    notes: |
      Fixed: VAULTWARDEN_ADMIN_TOKEN added to required_key_paths at
      /spine/vm-infra/vaultwarden/. VAULTWARDEN_ added to
      forbidden_root_prefixes. D43 PASS confirmed.
  - id: GAP-OP-062
    discovered_by: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    discovered_at: "2026-02-09"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      No restore runbook exists for Vaultwarden. GITEA_BACKUP_RESTORE.md,
      INFISICAL_BACKUP_RESTORE.md, and AUTHENTIK_BACKUP_RESTORE.md all exist.
      Vaultwarden is Tier 1 Critical Infrastructure with no documented
      restore procedure.
    severity: medium
    status: fixed
    fixed_in: "LOOP-VAULTWARDEN-GOVERNANCE-20260209"
    notes: |
      Fixed: created docs/governance/VAULTWARDEN_BACKUP_RESTORE.md following
      the Infisical pattern. Covers: backup (tar.gz + NAS rsync), restore
      (stop, replace vw-data, start), secrets recovery (from Infisical),
      break-glass access, quarterly restore test requirement.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CADDY-PROTO-FIX-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-063
    discovered_by: "LOOP-CADDY-PROTO-FIX-20260209"
    discovered_at: "2026-02-09"
    type: missing-process
    doc: "ops/bindings/deploy.dependencies.yaml"
    description: |
      No governance artifact tracks deployment dependencies between services.
      When Caddy config changed (X-Forwarded-Proto fix), Authentik OIDC
      discovery URLs switched from http:// to https://, but Gitea cached
      the old http:// issuer. SSO failed with JWT issuer mismatch until
      Gitea was restarted. No gate or checklist existed to enforce the
      downstream restart.
    severity: high
    status: fixed
    fixed_in: "LOOP-CADDY-PROTO-FIX-20260209"
    notes: |
      Fixed: created deploy.dependencies.yaml (dependency chain map),
      D51 caddy-proto-lock (validates X-Forwarded-Proto https on all
      Authentik proxy blocks in staged Caddyfile). Gate prevents the
      proto header from being removed; binding documents restart chain.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-UDR6-SHOP-CUTOVER-20260209
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-064
    discovered_by: "LOOP-UDR6-SHOP-CUTOVER-20260209"
    discovered_at: "2026-02-09"
    type: missing-process
    doc: "docs/governance/SHOP_SERVER_SSOT.md"
    description: |
      Shop LAN has no dedicated gateway/router. T-Mobile 5G Home Internet
      gateway is fully locked (no DHCP/DNS control, no bridge mode). DHCP
      and DNS are unmanaged by the homelab operator. Pi-hole exists but
      DHCP clients don't use it. VLANs impossible without a VLAN-capable
      router. All SSOT docs reference 192.168.12.0/24 (T-Mobile subnet).
    severity: high
    status: fixed
    fixed_in: "LOOP-UDR6-SHOP-CUTOVER-20260209"
    notes: |
      Fixed 2026-02-09: UDR6 deployed as shop gateway (192.168.1.1).
      All VMs re-IPed to VMID-based 192.168.1.0/24. Pi-hole DNS active.
      CF tunnel, NFS, all Docker stacks verified live.
      Device re-IP (iDRAC, NVR, switch) deferred — BMC initializing.
      Receipt: ADHOC_20260209_160037_UDR6_CUTOVER_P2.
  # ─────────────────────────────────────────────────────────────
  # Discovered during change pack governance post-mortem 2026-02-09
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-065
    discovered_by: "LOOP-UDR6-SHOP-CUTOVER-20260209"
    discovered_at: "2026-02-09"
    type: missing-process
    doc: "docs/governance/CHANGE_PACK_TEMPLATE.md"
    description: |
      UDR6 cutover executed without a governed preflight process, no filled
      change pack, no LAN-only device bindings in ssh.targets.yaml, and no
      cutover sequencing rules. Mid-cutover discoveries (docker-host re-IP,
      infra-core DNS, grafana tunnel routing) required improvisation.
    severity: high
    status: fixed
    fixed_in: "change-pack-governance-20260209"
    notes: |
      Fixed by: CHANGE_PACK_TEMPLATE.md (enhanced with rollback map, cutover
      sequence, deferred items, doc sweep, sign-off), cutover.sequencing.yaml
      (5-phase mandatory ordering), LAN-only device entries in ssh.targets.yaml
      (switch-shop, idrac-shop, nvr-shop), network.lan.device.status capability
      (ping via probe_via), network.cutover.preflight capability (composite GO/NO-GO),
      D53 change-pack-integrity-lock drift gate, retrospective UDR6 change pack,
      NETWORK_RUNBOOK.md Section 9 (change pack process).
  # ─────────────────────────────────────────────────────────────
  # Discovered during drift gates consolidation proposal 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-066
    discovered_by: "LOOP-DRIFT-GATES-CONSOLIDATION-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Drift-gate suite has grown to 50+ checks without an explicit taxonomy or
      consolidation strategy. Agents see this as sprawl: multiple STOPs for the
      same remediation path (notably secrets readiness) and unclear separation
      between irreversible safety locks vs operator guidance checks.
    severity: medium
    status: fixed
    fixed_in: "LOOP-DRIFT-GATES-CONSOLIDATION-20260210"
    parent_loop: "LOOP-DRIFT-GATES-CONSOLIDATION-20260210"
    notes: |
      Resolved: composite locks D55-D57 implemented, DRIFT_VERBOSE mode added.
      Proposal: docs/governance/_audits/2026-02-10-drift-gates-consolidation-proposal.md
  # ─────────────────────────────────────────────────────────────
  # Discovered during mailroom audit 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-067
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "mailroom/outbox/CLAUDE__RESULT.md"
    description: |
      Certification audit produced 31 findings (5 critical, 12 moderate, 14 minor)
      to CLAUDE__RESULT.md but no triage pipeline exists to convert findings into
      gaps or loops. Audit results sit in outbox with no follow-up workflow.
      21 findings went untracked until manual mailroom audit discovered them.
    severity: high
    status: fixed
    fixed_in: "fix/gap-067-audit-triage"
    notes: |
      Fixed: spine.audit.triage capability reads *RESULT.md files from outbox,
      extracts findings by severity, cross-references against operational.gaps.yaml
      and open_loops.jsonl, and produces a TRACKED/UNTRACKED/STALE triage report.
  - id: GAP-OP-068
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "docs/governance/SSOT_REGISTRY.yaml"
    description: |
      SSOT documents have last_reviewed fields but no drift gate checks temporal
      freshness. A file can be structurally valid but weeks stale. 11 of 25
      SSOT_REGISTRY entries had last_reviewed dates 2-3 weeks old. No automated
      signal for staleness.
    severity: medium
    status: fixed
    fixed_in: "fix/gap-068-ssot-freshness"
    notes: |
      Fixed: D58 drift gate added. Checks all SSOT last_reviewed dates against
      SSOT_FRESHNESS_DAYS threshold (default 21). Gate script at
      surfaces/verify/d58-ssot-freshness-lock.sh.
  - id: GAP-OP-069
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      D45 naming consistency checks that hosts in naming.policy.yaml appear in
      their declared bindings. But no reverse check exists — a host can exist in
      ssh.targets.yaml and be absent from SERVICE_REGISTRY.yaml or
      DEVICE_IDENTITY_SSOT.md. Each registry is validated in isolation.
      Missing automation-stack host in SERVICE_REGISTRY (C5) was one result.
    severity: medium
    status: fixed
    fixed_in: "fix/gap-069-registry-completeness"
    notes: |
      Fixed: D59 cross-registry completeness lock added. Bidirectional checks:
      (1) naming.policy ssh_target=true hosts must appear in ssh.targets.yaml,
      (2) shop-site SSH targets (non-lan-only, non-proxmox, non-decommissioned)
      must appear in SERVICE_REGISTRY.yaml hosts section.
  - id: GAP-OP-070
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: null
    description: |
      When entities are deprecated (tools, docs, paths, services), no enforcement
      ensures stale references are cleaned up. Examples: context.md referenced
      deprecated `mint ask`, AGENT_BOUNDARIES.md referenced superseded
      INFRASTRUCTURE_AUTHORITY.md. Nothing greps governance docs for known-
      deprecated strings.
    severity: low
    status: fixed
    fixed_in: "fix/gap-070-deprecation-sweeper"
    notes: |
      Proposed fix: create ops/bindings/deprecated.terms.yaml listing deprecated
      strings + their replacements. Add a drift gate that greps governance docs
      for any listed deprecated term.
  - id: GAP-OP-071
    discovered_by: "mailroom-audit-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: "ops/bindings/naming.policy.yaml"
    description: |
      naming.policy.yaml documents a 9-step rename_procedure but it is
      documentation only — not enforced. When hosts are added, removed, or
      renamed, operators must manually remember every file to update. The VM 201
      decommission required updating 6 files; no automated check ensured all
      were hit until spine.verify caught D45 failure.
    severity: medium
    status: fixed
    fixed_in: "fix/gap-071-ripple-check"
    notes: |
      Proposed fix: add a spine.ripple.check capability that, given a host
      change, lists every file needing updates based on the naming.policy
      surfaces configuration.
  - id: GAP-OP-072
    discovered_by: "session-closeout-design-20260210"
    discovered_at: "2026-02-10"
    type: missing-process
    doc: null
    description: |
      Work done in sessions (AP setup, credential changes, physical audits) is
      not traced back to the loops they resolve. The next agent starts from zero
      with no receipt, no loop update, no Infisical sync. Loops stay open despite
      being resolved and agents repeat already-completed work.
    severity: medium
    status: fixed
    fixed_in: "D61 session-loop traceability gate + agent.session.closeout capability"
    notes: |
      Fix: agent.session.closeout capability cross-refs recent session receipts
      against open loops. D61 drift gate enforces closeout freshness (48h default).
  # ── MinIO volume path divergence (LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210) ──
  - id: GAP-OP-073
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: duplicate-truth
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Live compose on docker-host maps MinIO volume to /mnt/data/mint-os/minio
      (local disk, empty). Workbench compose at infra/compose/storage/docker-compose.yml
      maps to /mnt/docker/storage/minio (NFS via symlink, 86k+ objects). The Jan 23
      extraction updated workbench but never deployed to docker-host. No receipt exists.
    severity: high
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: live compose volume updated to /mnt/docker/mint-os-data/minio,
      storage-network added. All 8 buckets restored. Backup at docker-compose.yml.bak.20260210-pre-p0.
  - id: GAP-OP-074
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/STACK_REGISTRY.yaml"
    description: |
      STACK_REGISTRY.yaml references paths that do not exist in workbench:
      - infrastructure/docker-host/mint-os/docker-compose.minio.yml (phantom)
      - infrastructure/storage/docker-compose.yml (phantom)
      Actual file: infra/compose/storage/docker-compose.yml
    severity: medium
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: mint-os compose_files → docker-host:~/stacks/mint-os/docker-compose.yml.
      Storage stack path → infra/compose/storage/, status → reference-only.
  - id: GAP-OP-075
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "docs/infrastructure/storage/MINIO_STANDALONE_SSOT.md"
    description: |
      MINIO_STANDALONE_SSOT.md listed as "authoritative" in the Feb 5
      canonicalization commit (6e0fbf3) but the file does not exist.
    severity: medium
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: authority.json updated to point to SERVICE_REGISTRY.yaml (minio entry)
      as the canonical MinIO SSOT instead of the phantom file.
  - id: GAP-OP-076
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: null
    description: |
      docker-host ~/stacks/mint-os/ has no .git directory. Compose file mutations
      are unversioned and untraceable. The Jan 30 compose rewrite (container rename,
      password hardening) left no audit trail.
    severity: high
    status: accepted
    parent_loop: null
    notes: |
      Accepted-standalone: docker-host ~/stacks/mint-os/ has no .git directory.
      High severity but docker-host (VM 200) is legacy and deferred from spine
      governance. Will be addressed if/when mint-os stack is migrated.
      Re-parented from closed LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210.
  - id: GAP-OP-077
    discovered_by: "live-incident-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: null
    description: |
      Watchdog script (~/scripts/mint-os-watchdog.sh) references
      docker-compose.frontends.yml which does not exist. Produces failed
      recovery loops every 2 minutes. health-check.sh cron also missing.
    severity: low
    status: fixed
    fixed_in: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    loop: "LOOP-MINIO-VOLUME-PATH-DIVERGENCE-20260210"
    notes: |
      Fixed: watchdog updated to docker-compose.yml. health-check.sh cron disabled
      (script does not exist). simplefin-sync cron.d ownership fixed (root:root).
  # ──────────────────────────────────────────────────────────
  # Discovered during quote-page deployment 2026-02-10
  # ──────────────────────────────────────────────────────────
  - id: GAP-OP-078
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "ops/bindings/ssh.targets.yaml + workbench/dotfiles/ssh/config.d/tailscale.conf"
    description: |
      Workstation SSH config (tailscale.conf) had 10 hosts; ssh.targets.yaml
      (governance SSOT) had 17. 7 hosts missing from workstation config:
      infra-core, observability, dev-tools, ai-consolidation, download-stack,
      streaming-stack, download-home. Blocked SSH to infra-core during
      quote-page deployment.
    severity: high
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
    notes: |
      All 7 missing hosts added to tailscale.conf. MACBOOK_SSOT.md SSH table
      expanded from 4 to 16 entries.
  - id: GAP-OP-079
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/MACBOOK_SSOT.md"
    description: |
      MACBOOK_SSOT.md SSH config table listed only 4 hosts. Actual SSH config
      had 10, ssh.targets.yaml had 17. Table was incomplete since initial
      documentation and was never reconciled.
    severity: medium
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
  - id: GAP-OP-080
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      files-api and quote-page not listed as docker-host stacks. Both run as
      independent compose files outside ~/stacks/. files-api was down when
      quote-page deployment started (no monitoring ensured it was up).
    severity: medium
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
    notes: |
      Both stacks added to docker-host targets. files-api started manually.
      Still no systemd unit to auto-start on boot (open concern).
  - id: GAP-OP-081
    discovered_by: quote-page-deployment-20260210
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml + ops/bindings/services.health.yaml"
    description: |
      files-api and quote-page had no entries in SERVICE_REGISTRY.yaml or
      services.health.yaml. No checklist of which SSOT surfaces to update
      when deploying a new service.
    severity: high
    status: fixed
    fixed_in: LOOP-QUOTE-PAGE-DEPLOY-20260210
    notes: |
      Both services added to SERVICE_REGISTRY.yaml and services.health.yaml.
  # ──────────────────────────────────────────────────────────
  # Discovered during mint-modules governance cleanup 2026-02-10
  # ──────────────────────────────────────────────────────────
  - id: GAP-OP-082
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: missing-entry
    doc: "ops/bindings/cross-repo.authority.yaml"
    description: |
      mint-modules repo (~/code/mint-modules/) had no entry in cross-repo
      authority. Agents had no way to discover it exists or understand its
      relationship to spine governance.
    severity: high
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
  - id: GAP-OP-083
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/INFRASTRUCTURE_MAP.md"
    description: |
      INFRASTRUCTURE_MAP.md line 156 claimed files-api "DOES NOT EXIST"
      with status marker (#539). files-api has been deployed and active on
      docker-host:3500 since quote-page deployment. Customer Portal row
      still referenced mint-os-customer container (replaced by quote-page).
      Upload gap note referenced "Future: files-api" as if unbuilt.
    severity: high
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
  - id: GAP-OP-084
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/STACK_REGISTRY.yaml"
    description: |
      artwork-module stack entry listed path as github:hypnotizedent/artwork-module
      with a self-contradicting note. No quote-page stack entry existed. Correct
      source is mint-modules/artwork and mint-modules/quote-page respectively.
    severity: high
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
  - id: GAP-OP-085
    discovered_by: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
    discovered_at: "2026-02-10"
    type: stale-ssot
    doc: "docs/governance/DOMAIN_ROUTING_REGISTRY.yaml + ops/staged/cloudflared/docker-compose.yml"
    description: |
      mintprints-app.ronny.works still pointed to mint-os-customer:3334
      (replaced by quote-page:3341). artwork.mintprints.co had routing_layer
      and authority_source both set to "unknown". Staged cloudflared compose
      still had mint-os-customer extra_host (service no longer exists).
    severity: medium
    status: fixed
    fixed_in: LOOP-MINT-MODULES-GOVERNANCE-CLEANUP-20260210
  # ─────────────────────────────────────────────────────────────
  # Discovered during stash audit 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-086
    discovered_by: "session-stash-audit-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh + ops/commands/close.sh"
    description: |
      Git stashes accumulate with no governance. D48 checks worktrees but
      never inspects `git stash list`. `ops close` only tears down issue-*
      worktrees, not loop-scoped codex-* worktrees. `agent.session.closeout`
      (D61) does not sweep git state (stashes, dangling branches). Result:
      6 orphaned stashes found referencing merged/deleted branches.
    severity: medium
    status: fixed
    fixed_in: LOOP-STASH-GOVERNANCE-20260210
    notes: |
      Fixed with two changes:
      1. D48: stash audit added (flags stashes whose parent branch is merged/gone)
      2. ops close: `ops close loop <LOOP_ID>` tears down worktree + branch + stashes
  # ─────────────────────────────────────────────────────────────
  # Discovered during home dir audit 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-087
    discovered_by: "session-home-dir-audit-20260210"
    discovered_at: "2026-02-10"
    type: agent-behavior
    doc: "D30 + D42 (canonical path governance)"
    description: |
      ~/ops/ contained stale shadow copies of spine scripts (infra-proxmox-maintenance,
      network-oob-guard-status). Created by Codex agent sandbox copying files to ~/
      instead of working inside ~/code/agentic-spine/. ~/ronny-ops/ (forbidden by D30,
      118K files, read-only) and ~/qdrant_storage/ (empty) also lingered. All three dirs
      violated the canonical ~/code/ single source of truth.
    severity: high
    status: fixed
    fixed_in: LOOP-HOME-DIR-CLEANUP-20260210
    notes: |
      Removed ~/ops/ (2 stale files), ~/qdrant_storage/ (empty), ~/ronny-ops/
      (remote preserved at github.com:hypnotizedent/ronny-ops.git).
  # ─────────────────────────────────────────────────────────────
  # Discovered during spine upgrade 2026-02-10
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-088
    discovered_by: "session-spine-upgrade-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "ops/commands/close.sh"
    description: |
      `./bin/ops close` (issue close path) hard-fails because it calls
      `ops/verify.sh`, which no longer exists in the spine runtime. This
      creates agent confusion when they try to use `ops close` for
      verification/cleanup and get a shell error instead of a governed
      verification run.
    severity: medium
    status: fixed
    fixed_in: "session-spine-upgrade-20260210"
  - id: GAP-OP-089
    discovered_by: "session-spine-upgrade-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh + bin/ops preflight"
    description: |
      D48 codex worktree hygiene gate crashes under `set -u` when a worktree
      entry has no `branch` field in `git worktree list --porcelain` output
      (e.g. detached HEAD). This breaks:
      - `./bin/ops preflight` (reports worktrees DIRTY and STOPs)
      - drift gate D3 (entrypoint smoke; calls preflight)
      - drift gate D48 itself (hard FAIL)
    severity: high
    status: fixed
    fixed_in: "session-spine-upgrade-20260210"
  - id: GAP-OP-090
    discovered_by: "session-spine-upgrade-20260210"
    discovered_at: "2026-02-10"
    type: agent-behavior
    doc: "mailroom/ + receipts/ contracts"
    description: |
      A non-governed, ad-hoc mailroom audit report was added at repo root
      (`MAILROOM_AUDIT_20260210.md`). Governance requires work discovery to be
      registered as a loop/gap and evidenced via governed receipts, not as a
      freestanding audit doc in the repo root.
    severity: medium
    status: fixed
    fixed_in: "session-spine-upgrade-20260210"
  - id: GAP-OP-091
    discovered_by: "session-md1400-hardware-blocked-20260210"
    discovered_at: "2026-02-10"
    type: runtime-bug
    doc: "surfaces/verify/d61-session-loop-traceability-lock.sh"
    description: |
      D61 fails `spine.verify` when a high/critical loop has a `created:` date
      older than 48h, even if the loop is explicitly hardware-blocked. This
      makes it impossible to accurately represent long-running blocked loops in
      scope frontmatter without breaking verify.
    severity: high
    status: fixed
    fixed_in: "session-md1400-hardware-blocked-20260210"
    parent_loop: "LOOP-MD1400-SAS-RECOVERY-20260208"
    notes: |
      Repro: adding `created: 2026-02-08` to LOOP-MD1400-SAS-RECOVERY frontmatter
      causes D61 to hard-fail as "stale >48h" even though the loop is blocked on
      hardware delivery/install. Intended fix: treat `blocked_by:` as an exemption
      from the high-loop TTL fail (warn-only at most).
      Fixed 2026-02-10: D61 now skips the high/critical TTL hard-fail when
      `blocked_by:` is set (blocked loops are warn-only at most).
      Evidence:
      - commits: c2c0c4c, 80a5b79
      - receipt: RCAP-20260210-184203__spine.verify__R5njl36162 (PASS)
  - id: GAP-OP-092
    discovered_by: "session-media-legacy-extraction-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-MEDIA-LEGACY-EXTRACTION-20260211.scope.md"
    description: |
      Media operational knowledge still lives only in legacy `ronny-ops` and is
      resurfacing as ad-hoc asks without a governed extraction matrix. The local
      legacy path was intentionally removed for D30 compliance, but no spine-native
      intake contract exists for media docs/scripts (critical rules, recovery, tdarr,
      jellyfin buffering, intro skipper, trickplay guard, Kometa, Janitorr).
      This creates repeated context churn and risk of copy/paste migration of stale
      runtime patterns into spine.
    severity: high
    status: closed
    closed_at: "2026-02-11"
    parent_loop: "LOOP-MEDIA-LEGACY-EXTRACTION-20260211"
    notes: |
      CLOSED: LOOP-MEDIA-LEGACY-EXTRACTION-20260211 completed P0-P4.
      4 spine-native docs extracted to docs/brain/lessons/:
        MEDIA_CRITICAL_RULES.md, MEDIA_DOWNLOAD_ARCHITECTURE.md,
        MEDIA_PIPELINE_ARCHITECTURE.md, MEDIA_RECOVERY_RUNBOOK.md.
      3 artifacts rejected (Kometa, Janitorr, Tdarr), 3 superseded.
      Source: github.com:hypnotizedent/ronny-ops.git @ 1ea9dfa9.
  - id: GAP-OP-093
    discovered_by: "session-finance-legacy-extraction-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "docs/governance/FINANCE_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Finance stack (docker-host VM 200) has no spine-native operational runbooks,
      no health checks in services.health.yaml, backup disabled in backup.inventory.yaml,
      and no secrets namespace mapping. Legacy knowledge lives only in ronny-ops/finance/
      (150+ artifacts) with 4 critical items at risk if legacy source disappears:
      SimpleFIN credential pipeline, n8n workflow definitions, Firefly account topology,
      and import rule mappings.
    severity: high
    status: closed
    closed_at: "2026-02-11"
    parent_loop: "LOOP-FINANCE-LEGACY-EXTRACTION-20260211"
    notes: |
      CLOSED: 8 extract_now items rewritten as spine-native Move A docs (c768e63).
      Pillar structure created (docs/pillars/finance/). Health checks added to
      services.health.yaml. Backup enabled in backup.inventory.yaml. Secrets namespace
      expanded. GAP resolved via LOOP-FINANCE-LEGACY-EXTRACTION-20260211 P0-P3.
  - id: GAP-OP-094
    discovered_by: "terminal-d-immich-extraction-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-IMMICH-LEGACY-EXTRACTION-20260211.scope.md"
    description: |
      VM 203 (immich) is running per Proxmox (qm status: running, uptime ~1.8d) but
      completely network-isolated. ARP for 192.168.1.203 FAILED on pve bridge. Tailscale
      shows immich-1 offline (last seen 1d ago). QEMU guest agent unavailable. Cloud-init
      config still shows old network (192.168.12.230/24, gw 192.168.12.1) — likely not
      updated after UDR6 cutover. Bridge/tap is healthy on host side (tap203i0 in vmbr0,
      state forwarding). Impact: Immich service down for all users, daily DB backup cannot
      push offsite, mobile sync broken, no health check catching this (no services.health
      entry exists). Cron path verification (P1 of LOOP-IMMICH-LEGACY-EXTRACTION) blocked
      until VM network is restored.
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-IMMICH-LEGACY-EXTRACTION-20260211"
    notes: |
      Fixed 2026-02-11: Updated cloud-init ipconfig0 from 192.168.12.230/24 to
      192.168.1.203/24,gw=192.168.1.1 via `qm set 203 --ipconfig0`. Hard stop/start
      to regenerate cloud-init ISO. VM now reachable on 192.168.1.203, ARP resolved.
      DNS fixed: disabled Tailscale accept-dns, pointed netplan to Pi-hole (192.168.1.204),
      updated cloud-init --nameserver. Installed qemu-guest-agent (active, pve ping OK).
      All 4 Docker containers healthy. Immich health endpoint responds 200 {"res":"pong"}
      via Tailscale IP 100.114.101.50:2283. Daily backups confirmed running (Feb 8-11 dumps
      in ~/backups/). Cron: /etc/cron.d/immich-backup → ~/scripts/backup-immich-db.sh.
      P1 cron risk was false alarm — script at correct VM-local path, not legacy.
  # ─────────────────────────────────────────────────────────────
  # Discovered during Cowork audit 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-095
    discovered_by: "cowork-audit-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "ops/bindings/agents.registry.yaml"
    description: |
      Shadow runtime bypass: MCPJungle MCP servers in workbench expose direct
      mutating API calls (POST/PUT/DELETE) to external services without routing
      through spine mailroom or capability gates. Affected surfaces:
      (a) media-agent + n8n-agent MCP tools duplicate spine capabilities but
          skip receipts, safety levels, and approval gates;
      (b) home-assistant, mint-os, firefly, paperless, immich, ms-graph MCP
          servers have no spine contract, no registry entry, no routing rule;
      (c) MCPJungle media-stack has hardcoded SABnzbd API key in source (P1);
      (d) local vs MCPJungle MCP server copies have no parity drift gate.
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MCP-RUNTIME-GOVERNANCE-20260211"
    notes: |
      FIXED: All 5 phases complete. P1: SABnzbd key removed. P2: 23 mutating
      MCP tools blocked with GOVERNED_TOOLS gate. P3: 6 new agent contracts +
      registry entries (HA, mint-os, firefly, paperless, immich, ms-graph).
      P4: D66 MCP parity gate created (local vs MCPJungle hash comparison).
      P5: explicit deny policy documented in capabilities.yaml for domains
      without spine capabilities. 0 shadow runtime paths remain.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-RUNTIME-RECONCILIATION-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-096
    discovered_by: "LOOP-RUNTIME-RECONCILIATION-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "ops/bindings/ssh.targets.yaml"
    description: |
      docker-host (VM 200) is running on pve but completely network-unreachable.
      LAN ping 192.168.1.200 fails from hypervisor. Tailscale 100.92.156.118
      unreachable. QEMU guest agent not running. No remote diagnostic path —
      requires PVE VNC console or qm monitor intervention.
      Affects: all docker-host compose stacks (mint-os, finance, mail-archiver),
      all services.health.yaml endpoints on 100.92.156.118, VM 200 vzdump
      (vzdump still runs at hypervisor level — not blocked).
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-RUNTIME-RECONCILIATION-20260211"
    notes: |
      Root cause: VM 200 was stopped/started via PVE web UI (root@pam) at
      2026-02-11 13:15:37 EST. Prior to restart, network stack was unresponsive
      (ARP FAILED, no guest agent). The stop/start cycle restored all services.
      Post-recovery: LAN 192.168.1.200 reachable, Tailscale 100.92.156.118
      connected, guest agent active, 20 Docker containers running (all healthy).
      docker.compose.status: 21/21 OK. services.health.status: minio/files-api/
      quote-page OK. firefly-iii/paperless-ngx REFUSED (preexisting: bound to
      127.0.0.1 only, not reachable via Tailscale IP — separate issue).
      Receipts: RCAP-20260211-133818__docker.compose.status__Ra2mt21752,
      RCAP-20260211-133850__services.health.status__Rdw0n22485.
  - id: GAP-OP-097
    discovered_by: "LOOP-RUNTIME-RECONCILIATION-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      automation-stack compose paths use ~/stacks/* but SSH user is ubuntu.
      Actual stacks live at /home/automation/stacks/* (different user). Causes
      false dir_missing in docker.compose.status. SSH target user may also need
      updating if automation user owns docker.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-RUNTIME-RECONCILIATION-20260211"
    notes: |
      Fixed: automation-stack compose paths changed to absolute
      /home/automation/stacks/* and SSH user updated to automation.
      Validation: docker.compose.status now reports automation + mcpjungle
      stacks as OK (5/5 + 1/1) instead of dir_missing.
  - id: GAP-OP-098
    discovered_by: "LOOP-RUNTIME-RECONCILIATION-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      App-level backup inventory drift: app-firefly target pointed to a missing
      NAS path (/volume1/backups/apps/finance) and multiple app backups were stale.
      Root cause was runtime scheduler/auth mismatch after UDR6 cutover.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-RUNTIME-RECONCILIATION-20260211"
    notes: |
      Fixed:
      - app-firefly disabled in backup.inventory.yaml (false positive target).
      - infra-core backup scripts restored to fresh artifacts (infisical + vaultwarden).
      - gitea backup script validated as ubuntu user (root key mismatch discovered);
        /etc/cron.d/gitea-backup restored with ubuntu scheduler user.
      - home-assistant fresh backup created (396c7bcc.tar) and copied to NAS.
      Validation: backup.status now reports 15 targets | 15 ok | 0 degraded.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-SERVICE-HEALTH-PROBE-ALIGN-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-099
    discovered_by: "LOOP-SERVICE-HEALTH-PROBE-ALIGN-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/bindings/services.health.yaml"
    description: |
      Three health probes (firefly-iii, paperless-ngx, slskd) use external
      Tailscale IPs but the services bind to 127.0.0.1. Probes always return
      REFUSED, creating false negatives. Docker health checks are the
      authoritative signal for these localhost-bound services.
    severity: low
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-SERVICE-HEALTH-PROBE-ALIGN-20260211"
    notes: |
      Fixed: disabled external probes for firefly-iii, paperless-ngx, slskd.
      Follow-up: implement probe_via:ssh feature for localhost-bound services
      so they can be monitored without false REFUSED results.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-FINANCE-VM-SEPARATION-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-100
    discovered_by: "LOOP-FINANCE-VM-SEPARATION-20260211"
    discovered_at: "2026-02-11"
    type: runtime-bug
    doc: "ops/bindings/docker.compose.targets.yaml"
    description: |
      Finance stack (Firefly III, Paperless-ngx, Ghostfolio) runs on legacy
      docker-host (VM 200) alongside unrelated mint-os workloads. No isolation,
      shared postgres, shared network namespace with production storefronts.
      VM 200 is a legacy host (no cloud-init, manual config) making it fragile
      for governed operations. Finance deserves a dedicated governed VM.
    severity: high
    status: closed
    closed_at: "2026-02-11"
    parent_loop: "LOOP-FINANCE-VM-SEPARATION-20260211"
    notes: |
      FIXED: Finance stack migrated to dedicated VM 211 (finance-stack).
      9 containers (7 finance + 2 mail-archiver) live on VM 211.
      Data migrated, counts verified, public URLs serving from VM 211.
      Legacy docker-host finance/mail-archiver stopped and decommissioned.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-DASHY-GOVERNED-DEPLOY-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-101
    discovered_by: "LOOP-DASHY-GOVERNED-DEPLOY-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "ops/bindings/docker.compose.targets.yaml, ops/bindings/services.health.yaml, docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      Dashy has an active CF tunnel route (dash.ronny.works) and compose config
      in workbench (infra/compose/dashy/) but is missing from spine operational
      bindings: no docker.compose.targets entry, no services.health probe, no
      SERVICE_REGISTRY entry, and STACK_REGISTRY has stale path + inactive status.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-DASHY-GOVERNED-DEPLOY-20260211"
    notes: |
      Fixed: registered Dashy in all 4 spine bindings, deployed to docker-host
      ~/stacks/dashy/, updated config.yml to spine-era topology. Verified via
      docker.compose.status (6 stacks on docker-host), services.health.status
      (dashy OK 191ms), dash.ronny.works HTTP 200, spine.verify PASS (all gates).
      Evidence: RCAP-20260211-143545__spine.verify__R3z0s85094.
  # ─────────────────────────────────────────────────────────────
  # Discovered during POST-FINANCE governance audit (CP-20260211-151804)
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-102
    discovered_by: "LOOP-POST-FINANCE-GOVERNANCE-HYGIENE-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "ops/staged/cloudflared/docker-compose.yml"
    description: |
      Staged cloudflared docker-compose.yml still maps finance service
      extra_hosts (firefly-iii, ghostfolio, paperless-ngx, mail-archiver)
      to docker-host IP 100.92.156.118. Live cloudflared was updated during
      LOOP-FINANCE-VM-SEPARATION-20260211 P4 to 100.76.153.100 (VM 211),
      but the staged copy was not. If an agent redeploys from staged, it
      reverts the P4 traffic cutover.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-POST-FINANCE-GOVERNANCE-HYGIENE-20260211"
    notes: |
      Fixed via CP-20260211-152206 (commit 799a0ec). Staged cloudflared extra_hosts
      updated to 100.76.153.100. Verified by spine.verify PASS (D1-D68).
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-VM-CREATION-GOVERNANCE-ROOTFIX-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-103
    discovered_by: "LOOP-VM-CREATION-GOVERNANCE-ROOTFIX-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "N/A — no governance doc exists yet"
    description: |
      VM creation has no root governance. An agent can provision a new VM
      (qm clone, cloud-init, bootstrap) without updating SERVICE_REGISTRY,
      NODE_REGISTRY, backup.inventory, services.health, ssh.targets, or
      docker.compose.targets. This creates silent SSOT drift that downstream
      gates (D54, D59) only partially catch for existing entries.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-VM-CREATION-GOVERNANCE-ROOTFIX-20260211"
    notes: |
      Fixed: VM_CREATION_CONTRACT.md + vm.lifecycle.yaml + D69 gate + vm.governance.audit cap.
      All 10 active shop VMs pass D69. spine.verify PASS D1-D69.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CONTAINER-SPINE-CLEANUP-CLOSEOUT-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-104
    discovered_by: "LOOP-CONTAINER-SPINE-CLEANUP-CLOSEOUT-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "SERVICE_REGISTRY.yaml, services.health.yaml, agents.registry.yaml, secrets.namespace.policy.yaml"
    description: |
      Aggregate cleanup gap from D/E/F audit findings: 6 active mint-os frontends
      unregistered, caddy missing health probe, 3 stale docker-host finance probe
      entries, 5 stopped download-stack services unmarked, agent registry pointing
      at old VM for finance/paperless, MCP paperless.json using pre-migration endpoint,
      Azure IDs hardcoded in microsoft-graph.json, secrets namespace missing N8N key.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-CONTAINER-SPINE-CLEANUP-CLOSEOUT-20260211"
    notes: |
      Fixed: SERVICE_REGISTRY 6 frontends + 4 infra utilities registered, 5 stopped/parked
      services marked, immich host ssh fixed. Health probes: caddy + cloudflared added,
      3 stale docker-host finance entries removed. Agents: firefly/paperless covers → VM 211.
      MCP: paperless.json → VM 211, ms-graph Azure IDs externalized.
      Secrets: N8N_ENCRYPTION_KEY + vendor keys + GITHUB_TOKEN alias added.
      spine.verify PASS D1-D69. vm.governance.audit 10/10.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-105
    discovered_by: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    discovered_at: "2026-02-11"
    type: unclear-doc
    doc: "secrets.namespace.policy.yaml"
    description: |
      Mint-os secrets namespace overloaded: 55 keys in the monolith mint-os-api
      Infisical project with no per-module isolation. New modules (artwork,
      quote-page) need dedicated /spine/services/<module>/ namespaces.
      Namespace paths defined in MINT_PRODUCT_GOVERNANCE.md section 5 and
      secrets.namespace.policy.yaml module_namespaces. Runtime key migration
      deferred to module sprint work.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-SECRETS-OVERLOAD-REMEDIATION-20260211"
    notes: |
      Fixed: Module namespace policy enforced in secrets.namespace.policy.yaml —
      module_namespaces declared, key_path_overrides promoted from planned, forbidden
      root prefixes added (ARTWORK_, QUOTE_PAGE_). MINT_PRODUCT_GOVERNANCE.md section 5
      is authoritative. Infisical folder creation + key population deferred to artwork
      sprint (folders auto-create on first key set).
  - id: GAP-OP-106
    discovered_by: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "docs/governance/MINT_PRODUCT_GOVERNANCE.md"
    description: |
      No product-level module ownership model existed. Modules deployed without
      explicit owner, domain boundary, or deploy permission governance.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    notes: |
      Fixed: MINT_PRODUCT_GOVERNANCE.md section 2 establishes module ownership
      contract with owner, services, deploy target, and secrets namespace per module.
  - id: GAP-OP-107
    discovered_by: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "docs/governance/MINT_PRODUCT_GOVERNANCE.md"
    description: |
      No API contract versioning governance existed. Modules had no required
      versioning policy, no deprecation windows, no breaking change rules.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MINT-PRODUCT-GOVERNANCE-BOOTSTRAP-20260211"
    notes: |
      Fixed: MINT_PRODUCT_GOVERNANCE.md section 3 establishes API contract rules
      with /api/vN/ prefix, 30-day deprecation, and breaking change definitions.
  # ─────────────────────────────────────────────────────────────
  # Discovered during LOOP-CLAUDE-DESKTOP-FINDINGS-CLOSEOUT-20260211
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-108
    discovered_by: "LOOP-CLAUDE-DESKTOP-FINDINGS-CLOSEOUT-20260211"
    discovered_at: "2026-02-11"
    type: unclear-doc
    doc: "AGENTS.md, docs/governance/GOVERNANCE_INDEX.md"
    description: |
      Minor doc hygiene from 2026-02-10 certification audit closeout:
      (a) AGENTS.md and root README.md lack YAML front-matter (status/owner/last_verified)
      at top level. AGENTS.md has governance brief front-matter inline but no document-level
      front-matter. Root README.md has none.
      (b) GOVERNANCE_INDEX.md auto-generated appendix lists 21 of ~67 governance docs.
      Needs regeneration tooling or manual expansion.
    severity: low
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-DOC-HYGIENE-FRONTMATTER-INDEX-20260211"
    notes: |
      Fixed: (a) AGENTS.md and README.md now have document-level YAML front-matter.
      AGENTS.md front-matter is separate from the embedded governance brief (which has
      its own inline front-matter managed by D65 sync). (b) GOVERNANCE_INDEX.md
      auto-generated appendix regenerated: 21 → 67 governance docs listed.
  # ─────────────────────────────────────────────────────────────
  # Discovered during media stack audit 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-109
    discovered_by: "media-stack-audit-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "/opt/stacks/download-stack/docker-compose.yml (VM 209)"
    description: |
      Media stack split (VM 201 → VM 209/210) left *arr root folder paths broken.
      Compose maps /mnt/media:/media but Radarr/Sonarr/Lidarr root folders still
      reference /movies, /tv, /music (old monolithic mounts). API confirms
      accessible=false for all three. Import pipeline is broken — downloads complete
      but cannot be moved to library paths. Additionally, autopulse path rewrites
      target /data/media/* but Jellyfin has media at /media/* — real-time scan
      notifications are silently failing. Two swaparr instances (lidarr/sonarr)
      crashed with exit 255 despite restart: unless-stopped.
    severity: critical
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-MEDIA-PATH-REMEDIATION-20260211"
    notes: |
      Fixed: Added individual volume mounts (/mnt/media/movies:/movies, etc.) to
      radarr/sonarr/lidarr in compose. Fixed autopulse REWRITE__TO from /data/media/*
      to /media/*. Restarted swaparr-lidarr + swaparr-sonarr. All three root folders
      now report accessible=true via API. Containers recreated on VM 209.
  - id: GAP-OP-110
    discovered_by: "infra-parity-baseline-20260211"
    discovered_at: "2026-02-11"
    type: stale-ssot
    doc: "multi-file (SERVICE_REGISTRY.yaml, services.health.yaml, docker-compose-status tool)"
    description: |
      Infrastructure parity baseline revealed three issues:
      1. sabnzbd health probe TIMEOUT — web UI root (/) takes ~9.4s, exceeds 10s max_time.
         Switched to /api?mode=version&output=json (0.35s).
      2. SERVICE_REGISTRY lists swaparr-sonarr and swaparr-lidarr as "stopped" but both
         recovered and are running (confirmed via docker ps on VM 209).
      3. docker.compose.status tool uses `docker compose ps` without -a flag, making exited
         containers (huntarr, slskd, tdarr) invisible. Tool reports 21/21 when reality is
         21/24 (3 exited). Crashed containers would also be invisible — observability gap.
    severity: medium
    status: fixed
    fixed_at: "2026-02-11"
    parent_loop: "LOOP-INFRA-PARITY-RECONCILIATION-20260211"
    notes: |
      Fixed: (1) sabnzbd probe switched to API version endpoint. (2) swaparr status
      updated to active. (3) compose status tool now uses `docker compose ps -a` to
      include exited containers. download-stack correctly reports 21/24 (3_exited).
      Cloudflare/Caddy routing verified clean — all public URLs routable, finance IPs
      migrated, no stale routes.
  # ─────────────────────────────────────────────────────────────
  # Discovered during Infisical DR readiness execution 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-112
    discovered_by: "infisical-dr-readiness-20260211"
    discovered_at: "2026-02-11"
    type: missing-process
    doc: "docs/governance/INFISICAL_BACKUP_RESTORE.md"
    description: |
      INFISICAL_BACKUP_RESTORE.md requires quarterly restore tests but no
      executable drill procedure existed. No evidence tracking mechanism,
      no scratch-DB isolation pattern, no RTO validation steps. The
      requirement was documented but unenforceable — an operator had no
      runbook to follow and no way to record evidence.
    severity: high
    status: fixed
    fixed_at: "2026-02-11"
    notes: |
      Fixed: INFISICAL_RESTORE_DRILL.md created with 6-step drill procedure
      (scratch DB isolation, timed restore, validation criteria, cleanup,
      evidence template). Recert receipt created at
      receipts/dr/INFISICAL_DR_RECERT_20260211.md (CONDITIONAL PASS —
      procedure certified, first live drill pending). Next recert: 2026-05-11.
  # ─────────────────────────────────────────────────────────────
  # Discovered during media stack cleanup session 2026-02-11
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-113
    discovered_by: "media-stack-audit-20260211"
    discovered_at: "2026-02-11"
    type: missing-entry
    doc: "workbench/agents/media/src/tools/"
    description: |
      Media MCP agent (33 tools) has no bulk cleanup or audit capabilities.
      Manual session deleted 3,754 non-English movies (346 GB), disabled 6
      noisy import lists, deleted 4,091 dead-weight entries, and removed 23
      duplicate albums — all via raw API calls because no MCP tools exist for:
      1. library_audit — language breakdown, duplicate detection,
         unmonitored-with-no-files count, import list noise analysis across
         Radarr/Sonarr/Lidarr.
      2. bulk_library_action — filter by language/monitored/has-file status
         with delete/unmonitor/monitor actions plus dry-run preview.
      These are recurring maintenance tasks that should be agent-accessible
      rather than requiring manual API scripting each time.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_by: "workbench 5a7a6ed"
    notes: |
      Implemented library_audit (read-only, parallel GET across radarr/sonarr/lidarr)
      and bulk_library_action (dryRun=true default bypasses governance for preview;
      dryRun=false governed via GOVERNED_TOOLS block). 35 tools total (was 33).
      D66 MCPJungle parity sync applied. Evidence: tools/list confirms 35 tools.
  # ─────────────────────────────────────────────────────────────
  # Discovered during n8n recovery hardening 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-114
    discovered_by: "LOOP-N8N-AUTOMATION-RECOVERY-HARDENING-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/bindings/backup.inventory.yaml"
    description: |
      n8n workflow definitions exist only in the running Postgres database
      on automation-stack (VM 202). No repo-level or file-level backup of
      workflow JSON exists. VM-level vzdump covers the full disk but a
      corrupted n8n database or accidental workflow deletion has no
      granular recovery path. No scheduled workflow export, no retention
      policy, no restore runbook.
    severity: high
    status: fixed
    fixed_at: "2026-02-12"
    parent_loop: "LOOP-N8N-AUTOMATION-RECOVERY-HARDENING-20260212"
    notes: |
      Fixed: Daily cron at 03:00 on automation-stack exports all 35 workflows
      via n8n CLI (docker exec). 7-day retention. Snapshot status observable via
      n8n.workflows.snapshot.status capability. Recovery runbook at
      docs/governance/N8N_RECOVERY_RUNBOOK.md. Backup inventory entry added.
      API-based export-all added to spine wrapper (n8n.workflows.snapshot cap).
  - id: GAP-OP-115
    discovered_by: "jellyfin-duplicate-diagnosis-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "workbench/agents/media/tools/src/index.ts"
    description: |
      Media MCP agent (35 tools) has no Jellyfin database-level integrity
      auditing. Jellyfin DB had duplicate parent Folder entries for
      /media/movies after VM 201→210 migration, causing every movie to
      appear twice (2536 rows for 1268 movies). Diagnosis and fix required
      manual SSH + sqlite3 surgery. The MCP agent talks to Jellyfin REST
      API for library counts but never inspects the SQLite DB, so it
      cannot detect: (1) duplicate parent folder entries, (2) duplicate
      BaseItems by path, (3) stale path prefixes from prior migrations,
      (4) cross-service count mismatches (Radarr vs Jellyfin). A
      jellyfin_db_audit tool using the Jellyfin API Items endpoint would
      catch these issues without requiring direct DB access.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_by: "workbench 6ce5f10"
    notes: |
      Implemented jellyfin_db_audit tool (read-only, uses Jellyfin REST API /Items).
      Detects: duplicate movies/episodes by path, duplicate parent folder entries,
      and cross-references Jellyfin vs Radarr movie counts. 36 tools total (was 35).
  - id: GAP-OP-116
    discovered_by: "multi-agent-entry-enforcement-20260212"
    discovered_at: "2026-02-12"
    type: agent-behavior
    doc: "ops/plugins/session/bin/session-start"
    description: |
      Multi-agent session signaling and enforcement is missing. Opening
      multiple Claude Code terminals (via hotkeys or manually) creates
      session dirs in mailroom/state/sessions/ that are never pruned.
      No concurrency detection, no multi-agent warning banner, no commit
      guard to prevent non-apply-owner agents from committing directly.
      Root cause: session-start has no awareness of peer sessions and
      the pre-commit hook has no multi-agent enforcement.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_by: "spine fb2b17f"
    parent_loop: LOOP-MULTI-AGENT-ENTRY-ENFORCEMENT-20260212
    notes: |
      Implemented session liveness pruning (dead PID + TTL > 4h → archive),
      active session counting with SPINE_ACTIVE_SESSION_COUNT + SPINE_MULTI_AGENT
      env exports, multi-agent warning banner in session-start and session-entry-hook,
      and pre-commit guard that blocks direct commits in multi-agent mode unless
      apply-owner lock is held.
  # ─────────────────────────────────────────────────────────────
  # Discovered during home-vs-shop documentation parity audit
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-117
    discovered_by: "home-infrastructure-parity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Home infrastructure (proxmox-home) has significantly less documentation
      coverage than shop (pve). Specific gaps: (1) Home VMs 100-105 have zero
      entries in vm.lifecycle.yaml, (2) no docker.compose.targets for home hosts,
      (3) zero health probes for home services, (4) zero home-specific operational
      capabilities, (5) only 1/5 home backup inventory entries enabled, (6) no
      home network governance docs (onboarding, audit runbook, normalization),
      (7) 1 home lesson doc vs 14 shop lesson docs. Shop has 3-14x more coverage
      across all SSOT binding categories. Root cause: home infra pre-dates spine
      governance and was never retrofitted.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    resolution: |
      All 7 deficit items resolved by LOOP-HOME-INFRA-DOC-PARITY-20260212:
      (1) 5 VMs in vm.lifecycle.yaml, (2) vaultwarden-home in compose targets,
      (3) 3 health probes, (4) 3 home.* capabilities, (5) 4/5 backup entries
      enabled (GAP-OP-118 fixed), (6) 2 network governance docs, (7) 4 lesson
      docs. Commits: ffa1716, 06c673b, 7894c27, 42bbd30.
    parent_loop: LOOP-HOME-INFRA-DOC-PARITY-20260212
  - id: GAP-OP-118
    discovered_by: "LOOP-HOME-INFRA-DOC-PARITY-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: null
    description: |
      Vzdump backup of LXC 103 (download-home) on proxmox-home FAILS with
      "Permission denied" when writing to NFS backup storage (synology-backups).
      Root cause: vzdump uses lxc-usernsexec for LXC backups which maps UIDs
      (u:0:100000:65536), but the NFS export on the Synology NAS does not
      support these mapped UIDs, so tar cannot create the temp file.
      VM backups (100, 102) on the same NFS mount succeed because they do not
      use user namespace remapping. LXC 105 (pihole-home) likely has the same
      issue (P2 weekly, not yet attempted).
      Error: "tar: /mnt/pve/synology-backups/dump/vzdump-lxc-103-*.tmp: Cannot open: Permission denied"
    severity: high
    status: fixed
    fixed_at: "2026-02-12"
    resolution: |
      Added `tmpdir /var/tmp` to vzdump jobs backup-home-p1-daily (LXC 103)
      and backup-home-p2-weekly (LXC 105) in /etc/pve/jobs.cfg on proxmox-home.
      Root cause: lxc-usernsexec UID remapping (u:0:100000:65536) runs tar as
      host UID 100000 which cannot write to Synology NFS. With --tmpdir, vzdump
      stages pct.conf in local /var/tmp (accessible to mapped UID), while the
      final zstd archive is written to NFS outside the user namespace (as root).
      Both LXC 103 (484MB) and LXC 105 (345MB) backups validated manually.
    parent_loop: LOOP-HOME-INFRA-DOC-PARITY-20260212
  # ─────────────────────────────────────────────────────────────
  # Discovered during orchestration friction audit 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-119
    discovered_by: "orchestration-friction-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "docs/governance/OPENCODE_GOVERNED_ENTRY.md + workbench/dotfiles/opencode/opencode.json"
    description: |
      OpenCode is launch-governed (D73) but has no internal contract surface
      equivalent to CLAUDE.md / AGENTS.md hooks. Once launched, scope and
      protocol are enforced only externally (lane globs + handoff validation),
      not natively inside OpenCode. This is an enforcement gap, not a launcher gap.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-ORCH-GAP-CLOSURE-20260212"
    notes: |
      Fixed: OpenCode has native instruction surface (OPENCODE.md loaded at session
      start). Created workbench/dotfiles/opencode/OPENCODE.md with full worker lane
      contract (entry checks, BLOCK-ENTRY/BLOCK-SCOPE-DRIFT stop behaviors, handoff
      format, solo mode contract). D73 extended to validate OPENCODE.md contains
      required governance sections. Documented in OPENCODE_GOVERNED_ENTRY.md.
  - id: GAP-OP-120
    discovered_by: "orchestration-friction-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/plugins/orchestration/bin/orchestration-integrate + ops/plugins/orchestration/manifest.schema.yaml"
    description: |
      Multi-repo orchestration is schema-declared (`related_repos`) but
      `orchestration.integrate` applies only one repo at a time with no
      transactional bundle semantics. Cross-repo loops can partially apply,
      leaving split state between spine/workbench/mint-modules until manual recovery.
    severity: high
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-ORCH-GAP-CLOSURE-20260212"
    notes: |
      Fixed: orchestration-integrate now validates all related_repos are clean
      (no uncommitted/staged changes) before any apply proceeds. Canonical policy:
      single-repo-per-apply with Terminal C ordered sequence. Smoke tests added
      (dirty related repo blocks, clean related repo passes). Documented in
      ORCHESTRATION_CAPABILITY.md and TERMINAL_C_DAILY_RUNBOOK.md.
  - id: GAP-OP-121
    discovered_by: "orchestration-friction-audit-20260212"
    discovered_at: "2026-02-12"
    type: agent-behavior
    doc: "docs/governance/TERMINAL_C_DAILY_RUNBOOK.md + docs/governance/WORKER_LANE_TEMPLATE_PACK.md"
    description: |
      Codex worker sessions use bypass mode by design for speed. Safety is
      provided externally by orchestration lane scope, handoff validation,
      apply-owner integration control, and worktree isolation.
    severity: medium
    status: closed
    closed_at: "2026-02-12"
    notes: |
      CLOSED AS ACCEPTED RISK: no internal Codex sandbox change required while
      external orchestration rails remain mandatory and enforced by Terminal C.
  - id: GAP-OP-122
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "ops/bindings/agents.registry.yaml + ~/code/workbench/agents/"
    description: |
      home-assistant-agent is marked active but implemented under MCPJungle
      server path (`infra/compose/mcpjungle/servers/home-assistant/`) instead
      of canonical workbench agent surface (`agents/<domain>/`). This creates
      mixed implementation planes and inconsistent worker-lane expectations.
    severity: medium
    status: fixed
    notes: |-
      MCPJungle-path agents documented as valid implementation pattern for lightweight MCP servers
    fixed_in: spine@285c0a7
  - id: GAP-OP-123
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "ops/bindings/agents.registry.yaml + ~/code/workbench/agents/"
    description: |
      mint-os-agent is marked active but implemented under MCPJungle server
      path (`infra/compose/mcpjungle/servers/mint-os/`) rather than canonical
      `workbench/agents/<domain>/` layout used by media/n8n/finance.
    severity: medium
    status: fixed
    notes: |-
      MCPJungle-path agents documented as valid implementation pattern for lightweight MCP servers
    fixed_in: spine@285c0a7
  - id: GAP-OP-124
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "ops/bindings/agents.registry.yaml + ~/code/workbench/infra/compose/mcpjungle/servers/immich-photos/"
    description: |
      immich-agent is marked active, but the declared implementation path
      currently contains only documentation/spec files (README/SPEC) and no
      runnable tool implementation files.
    severity: high
    status: fixed
    notes: |-
      Changed immich-agent implementation_status from active to pending (only README/SPEC docs exist, no runnable code)
    fixed_in: spine@285c0a7
  - id: GAP-OP-125
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/bindings/agents.registry.yaml (mint-agent implementation path)"
    description: |
      mint-agent implementation is cross-repo (`~/code/mint-modules/...`)
      while most agents execute from workbench. Cross-repo ownership is valid
      but lacks a dedicated enforcement contract in agent registry policy.
    severity: low
    status: fixed
    notes: |-
      Cross-repo agents (mint-modules) documented as valid pattern in registry header policy
    fixed_in: spine@285c0a7
  - id: GAP-OP-126
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/agents/ms-graph-agent.contract.md + infra/compose/mcpjungle/servers/microsoft-graph.json"
    description: |
      ms-graph-agent is config-only and active, but there is no explicit
      parity/runtime contract verifying capability coverage boundaries versus
      custom-tool agents.
    severity: low
    status: fixed
    notes: |-
      Config-only agents documented as valid pattern with reduced assurance tier in registry header policy
    fixed_in: spine@285c0a7
  - id: GAP-OP-127
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "ops/agents/finance-agent.contract.md + ops/bindings/agents.registry.yaml + ~/code/workbench/agents/finance/tools/src/index.ts"
    description: |
      finance-agent contract/registry state says pending/no custom tools,
      while workbench finance agent tools are already implemented. Truth is
      split across surfaces and currently contradictory.
    severity: high
    status: fixed
    notes: |-
      Updated finance-agent registry (pending→active) + contract to reflect V2 TypeScript MCP implementation with read-only tools
    fixed_in: spine@285c0a7
  - id: GAP-OP-128
    discovered_by: "agent-surface-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "ops/bindings/agents.registry.yaml + infra/compose/mcpjungle/servers/firefly.json + infra/compose/mcpjungle/servers/paperless.json"
    description: |
      firefly-agent and paperless-agent are marked superseded by finance-agent
      but still remain active runtime servers pending deprecation/cutover gate.
      No single closure checklist is tied to their final disable/archive step.
    severity: low
    status: fixed
    notes: |-
      firefly.json + paperless.json already deactivated (enabled: false, DEACTIVATED description) in workbench MCPJungle
    fixed_in: spine@285c0a7
  # ─────────────────────────────────────────────────────────────
  # Discovered during bootstrap integrity audit 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-129
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/bootstrap/mac/.archive-setup.sh + workbench/bootstrap/mac/Brewfile"
    description: |
      `workbench/bootstrap/mac/` is vestigial placeholder content only:
      `.archive-setup.sh` contains TODO text and Brewfile is comments-only.
      Folder appears canonical in structure docs but has no executable setup value.
    severity: low
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Deprecated and removed bootstrap/mac/ directory. Bootstrap authority
      moved to host.macbook.bootstrap capability + MACBOOK_BOOTSTRAP_CONTRACT.md.
      Legacy doc refs updated.
  - id: GAP-OP-130
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "workbench/dotfiles/install.sh"
    description: |
      `dotfiles/install.sh` mutates host git/shell/tooling state directly but is
      not wrapped by a spine capability, so it does not produce governance
      receipts and is outside approval/gate flow.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Script marked as internal helper. host.macbook.bootstrap capability
      subsumes its functionality with receipt-backed execution. Script header
      updated to direct operators to governed entrypoint.
  - id: GAP-OP-131
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-process
    doc: "workbench/scripts/root/setup-mac-tools.sh"
    description: |
      `setup-mac-tools.sh` performs mutating package/app installation without
      capability governance (no receipt, no approval, no drift enforcement).
      Tooling state can change out-of-band from spine.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Script marked as internal helper. host.macbook.bootstrap capability
      Phase 4 subsumes productivity tool installation with receipt-backed
      execution and idempotent checks. Script header updated.
  - id: GAP-OP-132
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/bootstrap/mac/Brewfile"
    description: |
      Brewfile is effectively empty and does not define a canonical package
      baseline for fresh Mac setup despite being named/located as bootstrap SSOT.
    severity: low
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Brewfile removed with bootstrap/mac/ directory. Package baseline now
      defined in MACBOOK_BOOTSTRAP_CONTRACT.md and enforced by
      host.macbook.bootstrap capability + drift check.
  - id: GAP-OP-133
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "docs/governance/MACBOOK_SSOT.md + docs/governance/SSOT_REGISTRY.yaml"
    description: |
      No single authoritative "fresh Mac bootstrap requirements" contract exists
      that binds required packages/apps/scripts/capabilities into one checkable
      standard. Current state is distributed and partially implicit.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Created MACBOOK_BOOTSTRAP_CONTRACT.md as authoritative bootstrap SSOT.
      Registered in _index.yaml, SSOT_REGISTRY.yaml, GOVERNANCE_INDEX.md.
      Defines 5 phases, ownership boundaries, and drift enforcement model.
  - id: GAP-OP-134
    discovered_by: "bootstrap-integrity-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/bootstrap/ + workbench/dotfiles/install.sh + workbench/scripts/root/setup-mac-tools.sh + ops/plugins/host/"
    description: |
      Mac bootstrap responsibilities are split across multiple disconnected
      surfaces (placeholder bootstrap folder, ungoverned workbench scripts,
      governed host capabilities), creating truth fragmentation and operator confusion.
    severity: medium
    status: fixed
    fixed_at: "2026-02-12"
    fixed_in: "LOOP-MACBOOK-BOOTSTRAP-INTEGRITY-CLOSURE-20260212"
    notes: |
      Ownership boundaries defined in MACBOOK_BOOTSTRAP_CONTRACT.md.
      Vestigial bootstrap/mac/ removed. Workbench scripts marked as internal
      helpers. All bootstrap execution enters through host.macbook.bootstrap
      capability. Drift check extended to verify CLI tool presence.
  # ─────────────────────────────────────────────────────────────
  # Discovered during workbench confusion audit 2026-02-12
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-135
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "workbench/bin/"
    description: |
      `workbench/bin/` has symlink rot with D42 path violations (`/Code/`).
      Four command symlinks (`infra`, `mono`, `update`, `work`) point to
      non-existent targets. Additional links (`mint`, `ops`, `verify`) still
      use uppercase `/Code/` and rely on compatibility aliasing.
    severity: critical
    status: fixed
    fixed_in: "workbench@23a2722"
    notes: |
      Fixed: 4 broken symlinks (infra, mono, update, work) removed. 3 remaining
      symlinks (mint, ops, verify) repointed from /Users/ronnyworks/Code/ to
      /Users/ronnyworks/code/ (D42-compliant). Lane D.
  - id: GAP-OP-136
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "workbench/scripts/root/system-status.sh + workbench/scripts/root/docker-safe.sh + workbench/scripts/root/sneakernet.sh + workbench/scripts/root/infra/verify-identity.sh"
    description: |
      Multiple active scripts still target destroyed or reshaped infrastructure:
      `system-status.sh` assumes docker-host monolith containers, `docker-safe.sh`
      maps to stacks no longer present, `sneakernet.sh` targets removed media-stack
      endpoint, and `verify-identity.sh` pins VM 201-era media-stack IP.
    severity: critical
    status: fixed
    fixed_in: "Phase-C3-Lane-D: workbench@ea1ef9f"
    notes: |
      Phase C3: system-status.sh + docker-safe.sh deprecated with clean tombstones
      (no executable legacy body). sneakernet.sh cleaned to tombstone-only (legacy body
      removed). verify-identity.sh: docker-host removed from Tier 1, infra-core +
      observability added to Tier 2. Evidence: zero active runtime references.
  - id: GAP-OP-137
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "workbench/scripts/root/* + workbench/bin/*"
    description: |
      Active scripts and symlinks still contain D42 path case violations
      (`~/Code`, `/Users/ronnyworks/Code`). This causes inconsistent execution
      behavior and conflict with canonical lowercase path governance.
    severity: high
    status: fixed
    fixed_in: "Phase-C3-Lane-F: workbench@4a3a116"
    notes: |
      Phase C3: Fixed D42 ~/Code/workbench → ~/code/workbench in 9 files:
      bootstrap-secrets.sh (5), load-secrets.sh (3), setup-mac-tools.sh (1),
      shopify-get-token.sh (1), setup-oidc-cicd.sh (4), sync-all.sh (4),
      overnight-sprint-launcher.sh (7), db/README.md (1). Evidence: zero matches
      for /Users/ronnyworks/Code or ~/Code in bin/ + scripts/root/.
  - id: GAP-OP-138
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/docs/legacy/ + workbench/docs/infrastructure/SERVICE_REGISTRY.md + workbench/docs/infrastructure/SSOT.md + workbench/infra/data/SERVICE_REGISTRY.yaml"
    description: |
      Workbench doc surface still exposes large legacy/deprecated inventories
      with stale commands/topology while remaining searchable. This includes
      legacy runbooks and deprecated registry tombstones that still look like
      actionable documentation to agents.
    severity: medium
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: legacy README.md strengthened with YAML front-matter quarantine header,
      SERVICE_REGISTRY.yaml reduced to tombstone with empty maps.
  - id: GAP-OP-139
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/infra/cloudflare/tunnel/docker-compose.yml"
    description: |
      Workbench cloudflare tunnel compose maps finance service hostnames to
      legacy docker-host IP `100.92.156.118` instead of finance VM 211 target.
      Applying this file would route traffic to the wrong host.
    severity: high
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: finance IPs updated to 100.76.153.100 (VM 211), grafana to
      100.120.163.70 (VM 205), file marked as reference copy (not live deploy).
  - id: GAP-OP-140
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/docs/legacy/infrastructure/reference/top-level/GOVERNANCE_MANIFEST.yaml"
    description: |
      Legacy `GOVERNANCE_MANIFEST.yaml` uses authoritative phrasing and
      actionable include lists while being non-functional. Agents can mistake
      it for a live governance loader and follow stale references.
    severity: medium
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: GOVERNANCE_MANIFEST.yaml reduced to 16-line tombstone — no include
      lists, no bundles, no actionable content. Points to spine canonical.
  - id: GAP-OP-141
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/runtime/ + agentic-spine/ops/bindings/home.output.sinks.yaml + workbench/WORKBENCH_CONTRACT.md"
    description: |
      `workbench/runtime/` exists as active log/state sink while
      `WORKBENCH_CONTRACT.md` forbids runtime-like roots (`logs/`, `state/`,
      `receipts/`, `runs/`). `home.output.sinks.yaml` still explicitly allows
      `/Users/ronnyworks/code/workbench/runtime/logs/`, creating contract-level
      authority conflict and runtime bleed into workbench.
    severity: medium
    status: fixed
    fixed_in: "Phase-C3-Lane-E: spine@63707e3"
    notes: |
      Phase C3: Removed allowed_files from home.output.sinks.yaml entirely.
      Migrated 3 LaunchAgent log sinks (streamdeck-ha, minio-mount, smb-paperless)
      from workbench/runtime/logs/ to agentic-spine/mailroom/logs/ (already in
      allowed_prefixes). Plists updated + services reloaded. Evidence: zero matches
      for workbench/runtime/logs/ in home.output.sinks.yaml.
  - id: GAP-OP-142
    discovered_by: "workbench-confusion-audit-20260212"
    discovered_at: "2026-02-12"
    type: duplicate-truth
    doc: "workbench/scripts/agents/infisical-agent.sh + agentic-spine/ops/tools/infisical-agent.sh"
    description: |
      `infisical-agent.sh` exists in both workbench and spine surfaces with
      duplicated implementation, increasing drift risk and ambiguity about
      canonical executable authority.
    severity: medium
    status: fixed
    fixed_in: "workbench@a814ec4"
    notes: |
      Fixed: workbench infisical-agent.sh replaced with 15-line shim that
      delegates to spine canonical (ops/tools/infisical-agent.sh) via exec.
  - id: GAP-OP-143
    discovered_by: "operator-request-20260212"
    discovered_at: "2026-02-12"
    type: unclear-doc
    doc: "ops/plugins/ + ops/bindings/ + bin/ops + surfaces/ + docs/governance/"
    description: |
      Gap lifecycle internals are not discoverable enough for agents/operators.
      A full traceable map is needed for:
      1) how gaps are created (writers, scripts, capabilities),
      2) where gap state is stored (files/directories),
      3) how gaps are read (selection/decision surfaces),
      4) how gaps are resolved/closed,
      5) what locking/concurrency protections exist,
      6) capability-map bindings for gaps.*,
      7) governance docs that define the model.
    severity: medium
    status: fixed
    notes: |-
      GAP_LIFECYCLE.md + D75 document creation/read/close/locking/capability map + SSOT file location
    fixed_in: spine@03da229
  - id: GAP-OP-144
    discovered_by: "workbench-runtime-audit-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/runtime/rag/anythingllm_storage/"
    description: |
      Local `anythingllm_storage` remains under `workbench/runtime/rag/` after
      RAG migration to VM 207. This stale runtime payload is outside governed
      runtime surfaces and can mislead agents during local state discovery.
    severity: medium
    status: fixed
    fixed_in: "workbench@d0b4636"
    notes: |
      Fixed: anythingllm_storage/ removed (15MB, 252 files). Decommission marker
      added at runtime/rag/DECOMMISSIONED.md pointing to VM 207. Lane E.
  - id: GAP-OP-145
    discovered_by: "workbench-runtime-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "workbench/runtime/streamdeck/"
    description: |
      `workbench/runtime/streamdeck/` hosts an active Python controller with no
      spine capability wrapper, no receipt trail, and no SSOT ownership entry.
      This creates an unmanaged operational surface under a runtime-like path.
    severity: medium
    status: fixed
    fixed_in: "Phase-C3-Lane-E: spine@63707e3+workbench@49f45d0"
    notes: |
      Phase C3: Created host.streamdeck.status (read-only) + host.streamdeck.reload
      (mutating) capabilities in ops/plugins/host/bin/. Wired in capabilities.yaml +
      capability_map.yaml (4 entries each). Updated infra/streamdeck/README.md to
      governed status. LaunchAgent logs migrated to mailroom/logs/.
  - id: GAP-OP-146
    discovered_by: "workbench-bin-discovery-20260212"
    discovered_at: "2026-02-12"
    type: stale-ssot
    doc: "workbench/scripts/root/bootstrap-secrets.sh + workbench/scripts/root/test-infisical.sh + workbench/scripts/root/sync-secrets-to-env.sh + workbench/scripts/root/new-doc.sh"
    description: |
      Active scripts still reference deprecated Infisical projects (`finance-stack`,
      `mint-os-vault`, `media-stack`) instead of canonical infrastructure namespaces,
      increasing secrets-plane confusion and operator error risk.
    severity: medium
    status: fixed
    fixed_in: "Phase-C3-Lane-F: workbench@4a3a116"
    notes: |
      Phase C3: Removed media-stack pillar option from new-doc.sh (renumbered options
      1-6). Evidence: zero matches for finance-stack, mint-os-vault, or media-stack in
      bootstrap-secrets.sh, test-infisical.sh, sync-secrets-to-env.sh, new-doc.sh.
  - id: GAP-OP-147
    discovered_by: "gaps-system-concurrency-audit-20260212"
    discovered_at: "2026-02-12"
    type: runtime-bug
    doc: "ops/bindings/operational.gaps.yaml + ops/plugins/loops/bin/gaps-status"
    description: |
      Gap workflow has no claim semantics. Multiple terminals can concurrently
      pick the same open gap and mutate shared state without ownership markers,
      causing double-fix races and edit collisions in the single-file gap SSOT.
    severity: high
    status: fixed
    fixed_in: "Phase-C1-gap-mutation-capabilities"
    notes: |
      Fixed: Claim semantics implemented via gap-claims.sh library with PID-based
      ownership, stale-claim auto-recovery, and cleanup. Claims stored as runtime
      markers in mailroom/state/gaps/<GAP_ID>.claim (not committed).
      Capabilities: gaps.claim, gaps.unclaim. Tests: 20/20 pass.
  - id: GAP-OP-148
    discovered_by: "gaps-system-concurrency-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "ops/plugins/ + bin/ops + ops/lib/git-lock.sh"
    description: |
      Gap mutations are still manual edits to `operational.gaps.yaml` with no
      capability-gated atomic write path. There is no canonical `gaps.file` /
      `gaps.close` mutation capability that serializes writes through `git-lock`.
    severity: high
    status: fixed
    fixed_in: "Phase-C1-gap-mutation-capabilities"
    notes: |
      Fixed: Atomic gap mutation capabilities implemented — gaps.file (create)
      and gaps.close (fix/close) both acquire git-lock before editing and committing.
      Wired into capabilities.yaml + capability_map.yaml. Governance doc:
      docs/governance/GAP_LIFECYCLE.md. Tests: 20/20 pass.
  - id: GAP-OP-149
    discovered_by: "post-c3-audit-20260212"
    discovered_at: "2026-02-12"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh + ops/bindings/operational.gaps.yaml"
    description: |
      No D75 gate enforces capability-only mutation for operational.gaps.yaml;
      direct manual edits can bypass the claim + git-lock workflow established
      by GAP-OP-147/148. A drift gate should detect uncommitted changes to the
      gap registry that were not produced by gaps.file / gaps.close.
    severity: medium
    status: fixed
    fixed_in: LOOP-D75-GAPS-REGISTRY-MUTATION-GATE-20260213
    notes: "D75 implemented: gate script, trailers in gaps-file/gaps-close, policy binding, tests 3/3, docs updated"
  - id: "GAP-OP-150"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/scripts/finance/ + workbench/scripts/root/"
    description: |
      Wave 1 Lane D (SC-1..SC-8): 8 deprecated workbench scripts not archived. SC-1..5 finance, SC-6..8 root tombstones. Move to .archive/ with stubs.
    severity: high
    status: fixed
    notes: "8 deprecated scripts archived to .archive/deprecated-scripts-20260213/ (SC-1..SC-8)"
    fixed_in: workbench@514262b
  - id: "GAP-OP-151"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/scripts/root/ + workbench/agents/"
    description: |
      Wave 1 Lane E (SC-12..17 + AG-2..4): 6 scripts with hardcoded docker-host paths post-migration + 3 agents missing workbench dirs. Tombstone stale scripts, create agent dirs.
    severity: high
    status: fixed
    notes: "6 docker-host scripts tombstoned (SC-12..17), 3 agent dirs created (AG-2..4)"
    fixed_in: workbench@1d1508f
  - id: "GAP-OP-152"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/scripts/root/verify_minio_rclone.sh + verify_artwork.sh + n8n/export_all_workflows.sh"
    description: |
      Wave 2 Lane D (SC-9..11): 3 workbench scripts write receipts to local paths instead of spine mailroom. Redirect output to spine receipt/capability outputs.
    severity: medium
    status: fixed
    notes: "Receipt outputs redirected to spine mailroom (verify_minio_rclone.sh, verify_artwork.sh, export_all_workflows.sh)"
    fixed_in: workbench@876c4b1
  - id: "GAP-OP-153"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/infra/compose/mcpjungle/servers/ + workbench/docs/legacy/ + workbench/scripts/agents/README.md"
    description: |
      Wave 2 Lane E (IN-4..6 + LP-1..4): Superseded MCPJungle configs still active (firefly/paperless.json, hardcoded IP in postgres.json) + legacy ronny-ops path refs in docs/scripts.
    severity: medium
    status: fixed
    notes: "Superseded MCP configs deactivated (firefly/paperless.json); postgres DSN parameterized; legacy ~/Code and ronny-ops refs removed"
    fixed_in: workbench@876c4b1
  - id: "GAP-OP-154"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "workbench/dotfiles/ + workbench/bootstrap/mac/ + workbench/runtime/"
    description: |
      Wave 3 Lane D (DF-1..4 + BS-1..4 + RT-1/2): Dotfiles legacy compat exports, bootstrap placeholders, stale runtime folders. Low-priority hygiene cleanup.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:36:08Z"
    fixed_in: workbench@c0e0773
  - id: "GAP-OP-155"
    discovered_by: "deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/docs/legacy/ + workbench/.archive/ + agentic-spine/ops/bindings/"
    description: |
      Wave 3 Lane E (DOC-1..6 + AR-1..3 + SB-1..3): Legacy docs to review/remove, archive retention policy missing, spine bindings with stale refs. Low-priority hygiene.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:36:15Z"
    fixed_in: workbench@3bc11aa+spine@f802d15
  - id: "GAP-OP-156"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "~/.config/claude-desktop/claude_desktop_config.json + ~/Documents/creds.txt"
    description: |
      Home-surface secrets exposure outside canonical /code control plane: plaintext credentials detected in Claude Desktop MCP config (hardcoded token/password env values) and plaintext creds artifact under ~/Documents. Secrets must be moved to Infisical/keychain-backed injection and redacted from local config/state.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:04Z"
    fixed_in: 'home-surface: creds.txt quarantined to ~/.archive/, claude-desktop config absent'
  - id: "GAP-OP-157"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/.config/claude-desktop/claude_desktop_config.json + ~/.claude/projects/"
    description: |
      Canonical-root drift in active agent entry surfaces: Claude Desktop filesystem/project state still references legacy/non-canonical paths (including ronny-ops and uppercase /Code variants), which violates /code SSOT and can route agents to stale truth.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:08Z"
    fixed_in: 'home-surface: removed 8 stale Claude project dirs (uppercase Code + non-canonical paths)'
  - id: "GAP-OP-158"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/.ssh/config* + ~/Library/LaunchAgents/com.ronnyworks.minio-mount.plist"
    description: |
      Home SSH and host runtime drift: stale destroyed-infra host entries/keys and legacy provenance markers remain in ~/.ssh surfaces, plus failing legacy minio mount LaunchAgent tied to deprecated topology. This creates operational misrouting risk during manual recovery.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:12Z"
    fixed_in: 'home-surface: SSH symlinks repointed to workbench, minio LaunchAgent unloaded+disabled, stale SSH backup removed'
  - id: "GAP-OP-159"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "~/code/.worktrees/*/dotfiles/hammerspoon/.hammerspoon/init.lua + ~/code/.worktrees/*/dotfiles/raycast/*.sh"
    description: |
      Regression risk from non-main orchestration worktrees: pending launcher/hotkey edits in integration worktrees contain non-canonical path forms and entrypoint bypass patterns that would violate D72 if merged. Requires pre-merge drift scrub gate on those branches.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:18Z"
    fixed_in: 'home-surface: stale worktrees (spine-gap161 + workbench-gap161) removed, branches deleted'
  - id: "GAP-OP-160"
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "~/Documents + ~/.claude* + ~/.archive + ~/Library/LaunchAgents/.disabled-*"
    description: |
      Home-directory hygiene debt outside /code canonical root: orphan project/session artifacts, stale backups/tmp files, disabled LaunchAgents and large archives without retention policy. Not immediate runtime failure, but recurring operator/agent confusion surface.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:47:22Z"
    fixed_in: 'home-surface: ~/.archive/RETENTION.md added, disabled LaunchAgents organized, prior phases cleaned creds/projects/worktrees/SSH'
  - id: "GAP-OP-161"
    discovered_by: "opencode-upgrade-plan-review-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/MACBOOK_SSOT.md + docs/governance/OPENCODE_GOVERNED_ENTRY.md + workbench/dotfiles/hammerspoon/.hammerspoon/init.lua + workbench/dotfiles/opencode/opencode.json"
    description: |
      OpenCode upgrade plan is not yet codified in canonical workstation governance surfaces. Required closure criteria: (1) update laptop SSOT to reflect the approved OpenCode runtime/config contract (model/provider/plugin/MCP posture) under /code canonical authority, and (2) update/verify Ctrl+Shift+O launch behavior so Hammerspoon and related launcher surfaces consistently route OpenCode through the governed entry path and documented expected behavior. This gap exists to prevent regression and keep launcher behavior + docs in lockstep.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T02:54:02Z"
    fixed_in: 'verified: OpenCode GLM-5 contract matches OPENCODE_GOVERNED_ENTRY.md + MACBOOK_SSOT.md + init.lua + opencode.json'
  - id: "GAP-OP-162"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/.ssh/config.d/tailscale.conf + ~/.ssh/known_hosts"
    description: |
      False-close follow-up to GAP-OP-158: stale media-stack host remains in ~/.ssh/config.d/tailscale.conf and dead 100.117.1.53 keys remain in ~/.ssh/known_hosts.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:12:15Z"
    fixed_in: 'home-surface: media-stack removed from tailscale.conf, 100.117.1.53 keys removed from known_hosts'
  - id: "GAP-OP-163"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "~/code/.repo-workbench-orch-integration/dotfiles/hammerspoon/.hammerspoon/init.lua + ~/code/.repo-workbench-orch-integration/dotfiles/raycast/*.sh"
    description: |
      False-close follow-up to GAP-OP-159: stale orch-integration worktree remains with legacy launcher/hotkey patterns that risk D72 regression if merged.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:12:16Z"
    fixed_in: 'home-surface: ~/code/.repo-workbench-orch-integration removed, worktrees pruned'
  - id: "GAP-OP-164"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "surfaces/claude-commands"
    description: |
      Dead symlink surfaces/claude-commands points to /Users/ronnyworks/Code/agentic-spine/admissions/ronny-ops/.claude/commands — uppercase Code (D42), ronny-ops (D30), nonexistent target.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:26:31Z"
    fixed_in: spine@5ed3acd
  - id: "GAP-OP-165"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/Library/Application Support/Claude/claude_desktop_config.json"
    description: |
      False-close follow-up to GAP-OP-156: Claude Desktop config at ~/Library/Application Support/Claude/claude_desktop_config.json contains hardcoded GitHub PAT, Postgres password, and filesystem MCP pointing to /ronny-ops/.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:26:33Z"
    fixed_in: 'home-surface: Claude Desktop config cleaned — removed hardcoded PAT, Postgres creds, and ronny-ops path'
  - id: "GAP-OP-166"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "workbench/scripts/root/"
    description: |
      False-close follow-up to GAP-OP-137: 5 active scripts in workbench still use uppercase $HOME/Code/workbench — D42 violation. Files: authority-trace.sh, printavo-file-download.sh, schema-drift-check.sh, dump-schema.sh, macos-sync-critical.sh.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:26:36Z"
    fixed_in: workbench@fed8fa3
  - id: "GAP-OP-167"
    discovered_by: "false-close-verification-20260212"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "workbench/dotfiles/macbook/launchd/com.ronny.agent-inbox.plist"
    description: |
      Active LaunchAgent plist com.ronny.agent-inbox.plist in workbench/dotfiles/macbook/launchd/ violates WORKBENCH_CONTRACT — runtime orchestration files belong in agentic-spine.
    severity: high
    status: closed
    notes: "Invalid finding — D74 validates plist at workbench/dotfiles/macbook/launchd/ path. Plist is canonical launchd template, not runtime orchestration."
  - id: "GAP-OP-168"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "workbench/agents/finance/"
    description: |
      finance-agent still lacks a governed tests surface (no agents/finance/tests/ coverage). Registry/contract are active, but test-plane integrity is incomplete; add baseline tests scaffold and minimal verification contract.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:23Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-169"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/scripts/root/backup-all.sh + workbench/scripts/root/sync-all.sh + workbench/scripts/root/sync-offsite.sh + related deprecated scripts"
    description: |
      Several scripts were tombstoned/deprecated for post-migration docker-host assumptions but remain in active script surfaces rather than archived governance locations. Archive-or-retain decision is not codified.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:24Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-170"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/docs/legacy/"
    description: |
      Legacy docs debt remains large (100+ markdown files with historical paths/instructions). Current state is mostly quarantined but no bounded cleanup/reduction loop is tracked for long-tail removal or stronger discoverability controls.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:24Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-171"
    discovered_by: "gap-reconciliation-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "workbench/infra/compose/arr/ + workbench/infra/compose/homeassistant/ + workbench/infra/compose/immich/ + workbench/infra/compose/dashy/"
    description: |
      Deferred compose stacks still have missing .env.example baselines; onboarding reproducibility and drift detection for these stacks are incomplete until canonical env templates exist or explicit defer policy is documented per stack.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:30:24Z"
    fixed_in: workbench@d2d4f1a
  - id: "GAP-OP-172"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/engine/openai.sh"
    description: |
      openai.sh hardcodes gpt-4o-mini in request payload; model must be governed by explicit env/contract, not hardcoded.
    severity: critical
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:37:56Z"
    fixed_in: spine@f4b5b8a
  - id: "GAP-OP-173"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "ops/runtime/inbox/launch-agent.sh"
    description: |
      launch-agent.sh directly invokes claude with --dangerously-skip-permissions, bypassing governed entry safety posture.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:37:58Z"
    fixed_in: spine@f4b5b8a
  - id: "GAP-OP-174"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      ripple-check capability/script exists but MANIFEST.yaml does not list it; plugin registry drift.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:37:59Z"
    fixed_in: spine@f4b5b8a
  - id: "GAP-OP-175"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench/dotfiles/zsh/legacy-aliases.sh"
    description: |
      legacy alias ma still maps to deprecated mint ask command.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:38:00Z"
    fixed_in: workbench@6a8dcc1
  - id: "GAP-OP-176"
    discovered_by: "LOOP-GAPS-172-176-ONEPASS-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "~/Library/LaunchAgents/com.ronny.agent-inbox.plist"
    description: |
      active launch agent pins ZAI_MODEL=glm-4.7-flash, drifting from current canonical watcher/model posture.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T04:38:02Z"
    fixed_in: workbench@6a8dcc1 + home-surface plist updated and reloaded
  # ─────────────────────────────────────────────────────────────
  # Discovered during home-directory-deep-audit-20260213
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-177
    discovered_by: "home-directory-deep-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/home-surface.allowlist.yaml + surfaces/verify/d76-*"
    description: |
      No automated enforcement prevents home directory drift. After a full
      audit of ~/ronnyworks (gaps 135-176), all issues were fixed — but nothing
      prevents regression. Need three layers:

      1. D76 drift gate (home-surface hygiene) added to spine.verify:
         - No stray git repos at ~/ outside /code/
         - No plaintext secrets in Claude Desktop config (ghp_, postgresql://)
         - Claude Desktop filesystem MCP only points to /code/ or ~/Desktop
         - SSH config.d has no entries for destroyed VMs
         - No $HOME/Code/ uppercase violations in workbench scripts
         - ~/bin/ symlinks all resolve and use lowercase /code/

      2. Session closeout extension (D61):
         - Count unexpected files at ~/
         - Flag new directories since last closeout
         - Check ~/.archive/ size threshold
         - Verify Claude Desktop config hash against known-good baseline

      3. home-surface.allowlist.yaml binding:
         - Declares canonical, standard_macos, tool_runtime, quarantined dirs
         - Declares forbidden_patterns (~//Code/, ~/ops/, ~/stacks/, *.log)
         - D76 reads this allowlist to validate home surface state
    severity: medium
    status: fixed
    notes: "D76 home-surface hygiene lock implemented + binding + test. All 80 gates pass."
    fixed_in: spine@ba89845
  # ─────────────────────────────────────────────────────────────
  # Discovered during workbench-enforcement-analysis-20260213
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-178
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d77-workbench-contract-lock.sh"
    description: |
      D77 — Workbench Contract Lock. The workbench has no
      mechanical enforcement of WORKBENCH_CONTRACT.md rules. When a terminal
      drops a plist, adds a script that bypasses spine, or creates runtime
      dirs — nothing catches it until manual audit. This gate would check:

      - No *.plist files outside .archive/ in workbench (catches H7-type violations)
      - No mailroom/, inbox/, outbox/, state/, logs/, runs/ directories in
        workbench (catches runtime creep)
      - No scripts containing bare `claude --`, `codex --`, or `opencode --`
        exec calls outside of spine_terminal_entry.sh (catches H4/H5/H6 bypasses)
      - Every script in scripts/root/ that launches a tool must contain
        spine_terminal_entry.sh in its call chain

      Single highest-value gate. Would have caught most HIGH findings from
      the workbench audit before they accumulated. Follows the D72/D73/D74
      pattern of spine gates that reach into workbench.
    severity: high
    status: fixed
    notes: "D77 workbench contract lock implemented + test. Plist allowlist, runtime-dir ban, bare-exec detection."
    fixed_in: spine@ba89845
  - id: GAP-OP-179
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d78-workbench-path-lock.sh"
    description: |
      D78 — Workbench Path Lock. Scans executable files in
      workbench (.sh, Raycast scripts, symlinks) for hardcoded
      /Users/ronnyworks/ that aren't in .archive/ or documentation. Catches
      M16-type drift (uppercase /Code/, absolute paths that should use
      $WORKBENCH_ROOT or $SPINE_REPO). Could enforce variable usage or
      maintain an allowlist of known hardcoded paths so new ones can't
      sneak in without being acknowledged. Prevents the D42/D72 violation
      class that recurred across 16+ scripts in the workbench audit.
    severity: medium
    status: fixed
    notes: "D78 workbench path lock implemented + test. Uppercase code-dir and legacy-repo-name drift detection."
    fixed_in: spine@ba89845
  - id: GAP-OP-180
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d79-workbench-script-allowlist-lock.sh + ops/bindings/workbench.script.allowlist.yaml"
    description: |
      D79 — Workbench Script Allowlist Lock. Similar to how
      d17-root-allowlist.sh works for the spine root — maintain an allowlist
      of known scripts in workbench. Any new script that appears without
      being registered gets flagged. Prevents sprawl the same way the spine
      prevents it: if it's not in the list, it doesn't belong. The allowlist
      lives in the spine (since spine is authority) and the gate compares it
      against what's actually on disk in workbench. Catches the 293+ archived
      scripts and random new scripts appearing without governance.
    severity: medium
    status: fixed
    notes: "D79 workbench script allowlist lock implemented + binding + test. 100 scripts governed."
    fixed_in: spine@ba89845
  - id: GAP-OP-181
    discovered_by: "workbench-enforcement-analysis-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d80-workbench-authority-trace-lock.sh"
    description: |
      D80 — Workbench Authority Trace Lock. Wire authority-trace.sh into
      drift-gate.sh. The workbench already has authority-trace.sh --strict
      which checks legacy naming violations (legacy doc refs, old path
      prefixes, ronny-ops naming). It just needs a wrapper gate added to
      drift-gate.sh to run it as part of spine.verify. Right now it's
      orphaned — exists but nobody calls it automatically. Every time anyone
      runs verification, the workbench authority trace should run too.
      Minimal effort, immediate value.
    severity: low
    status: fixed
    notes: "D80 workbench authority-trace lock implemented + test. Wraps authority-trace.sh --strict in drift-gate.sh."
    fixed_in: spine@ba89845
  # ─────────────────────────────────────────────────────────────
  # Discovered during feb-8-audit-tail-verification-20260213
  # ─────────────────────────────────────────────────────────────
  - id: GAP-OP-182
    discovered_by: "feb-8-audit-tail-verification-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "workbench docs/legacy + infra/data + ~/code/ root"
    description: |
      Feb 8 audit tail — 6 unfinished items plus 2 stray audit artifacts
      at ~/code/ root. All low-severity documentation hygiene:

      1. MT-13: Create automation-stack staged compose dir in ops/staged/.
         Currently missing — n8n compose lives only in workbench.
      2. MT-14: Archive REF_PIHOLE.md from docs/legacy/infrastructure/
         reference/ to .archive/.
      3. MT-15: Archive 2 holistic audit files from docs/legacy/
         infrastructure/reference/audits/2026-01-01-*.md to .archive/.
      4. MT-16: Document mailroom / n8n non-coupling architectural
         boundary (currently only a passing table entry in MAILROOM_RUNBOOK).
      5. MT-17: Reconcile CRON_REGISTRY.md + CRON_GOVERNANCE.md against
         live n8n workflows, then archive or update.
      6. monitoring_inventory.json in infra/data/ has no deprecation or
         historical marker — still looks like active inventory.
      7. Archive stray audit artifacts at ~/code/ root:
         - agentic-spine-audit-2026-02-08.docx (17KB)
         - agentic-spine-audit-2026-02-08.js (28KB)
      8. Remove empty ~/code/.worktrees/ directory.
    severity: low
    status: fixed
    notes: "All 8 items complete: MT-13 staged dir, MT-14/15 archived, MT-16 boundary doc, MT-17 cron reconciled, monitoring marked historical, stray files archived, .worktrees removed."
    fixed_in: spine@9b13e8c + workbench@4d454fb
  - id: "GAP-OP-183"
    discovered_by: "Terminal-D-hardening-discovery-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      20 executable scripts exist in ops/plugins/*/bin/ but are NOT declared in MANIFEST.yaml scripts arrays. Missing: home-backup-status, home-health-check, home-vm-status, host-macbook-bootstrap, host-streamdeck-reload, host-streamdeck-status, gaps-claim, gaps-close, gaps-file, gaps-status, gaps-unclaim, n8n-snapshot-cron, n8n-snapshot-status, network-shop-audit-status, orchestration-terminal-entry, secrets-identity-rbac-lock, secrets-identity-rbac-status, secrets-projects-status, session-start, vm-governance-audit. Impact: discovery gaps, capability discoverability issues.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:16:11Z"
    fixed_in: 43ceb8a
  - id: "GAP-OP-185"
    discovered_by: "Terminal-D-hardening-discovery-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "/Users/ronnyworks/code/workbench"
    description: |
      6 occurrences of uppercase ~/Code paths in workbench non-archive files violate D42 path case lock. Files: infra/data/backup_inventory.json:348, infra/compose/n8n/setup-vm.sh:26, infra/compose/mcpjungle/docs/DISASTER_RECOVERY.md:36+72, infra/compose/mcpjungle/servers/immich-photos/SPEC.md:233+390. Spine D42 gate covers agentic-spine only; workbench needs parity or explicit exclusion doc.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:01Z"
    fixed_in: 534aa41
  - id: "GAP-OP-184"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh + docs/governance/VERIFY_SURFACE_INDEX.md"
    description: |
      Drift gate numbering has a documented hole: D21 is missing from active gate sequence and related indexes, with no explicit reservation/deprecation note. This causes audit/reporting confusion when cross-referencing gates.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:16Z"
    fixed_in: 411dfb1
  - id: "GAP-OP-186"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate warning semantics are non-failing. In surfaces/verify/drift-gate.sh, warn() does not set FAIL=1, so spine.verify can report PASS while emitting WARN conditions for degraded runtime state (e.g. launchd watcher unloaded). This creates false-green operator signals and weakens gate trust.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:31Z"
    fixed_in: ce26e87
  - id: "GAP-OP-187"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "bin/ops"
    description: |
      bin/ops dispatches sourced command files but has no ERR trap or contextual failure wrapper. When a sourced command exits non-zero, callers often get opaque exit code output without command-level attribution. This increases debugging latency and makes failed automation runs harder to triage.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:36Z"
    fixed_in: 3d90966
  - id: "GAP-OP-188"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/d58-ssot-freshness-lock.sh + docs/governance/*.md"
    description: |
      D58 freshness coverage is narrower than governance semantics. surfaces/verify/d58-ssot-freshness-lock.sh only evaluates docs/governance/SSOT_REGISTRY.yaml entries and does not enforce frontmatter freshness across authoritative governance docs. Verified authoritative docs with missing/stale last_verified are currently unflagged: SHOP_NETWORK_AUDIT_RUNBOOK.md (missing), NETWORK_RUNBOOK.md (missing), PHASE4_OBSERVABILITY_RUNBOOK.md (missing), SCRIPTS_AUTHORITY.md (stale >14d).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:41Z"
    fixed_in: 463ec68
  - id: "GAP-OP-189"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "mailroom/inbox/parked + mailroom/state/loop-scopes"
    description: |
      Mailroom parked-loop discoverability drift: LOOP-MD1400-SAS-DRIVER-RESOLVE.md is present in mailroom/inbox/parked while canonical loop state is tracked in mailroom/state/loop-scopes/LOOP-MD1400-SAS-RECOVERY-20260208.scope.md and ops loops list shows 0 open loops. Duplicate parked surfaces can mislead agents doing grep-first triage and create conflicting task visibility.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:46Z"
    fixed_in: runtime cleanup (gitignored)
  - id: "GAP-OP-190"
    discovered_by: "deep-scan-triage-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/GAP_LIFECYCLE.md"
    description: |
      GAP_LIFECYCLE governance doc lacks document-level YAML frontmatter (status/owner/last_verified/scope), unlike most authoritative governance docs. This weakens metadata-driven indexing/freshness tooling and can reduce trust/discoverability for the gap mutation contract.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:17:59Z"
    fixed_in: 94edec9
  - id: "GAP-OP-191"
    discovered_by: "Terminal-D-hardening-discovery-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/"
    description: |
      30 plugin directories with executable bin scripts have ZERO test files. Affected: audit(3bins), authority(2), backup(6), budget(1), cloudflare(6), docker(5), docs(3), github(4), ha(2), home(3), host(8), infra(18), mailroom-bridge(7), maker(3), mcp(1), media(1), mint(5), monolith(2), n8n(3), network(12), proposals(3), rag(2), release(1), secrets(15), services(1), session(1), ssh(1), verify(2), vm(1). Baseline gap for future hardening, not active drift.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T14:20:09Z"
    fixed_in: b359dd4
  - id: "GAP-OP-192"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/"
    description: |
      Core command surfaces are not executable: ops/commands/{lane.sh,preflight.sh,start.sh,status.sh} are mode 644. Invocations fail with permission denied when called directly, breaking operator and agent command flow.
    severity: critical
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-193"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate warn() increments WARN_COUNT but does not set FAIL=1, allowing PASS with degraded runtime states. This creates false-green verify outcomes and weakens trust in gate severity signaling.
    severity: critical
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-194"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Capability registry lacks explicit readiness lifecycle metadata (ready/planned/deprecated) across capabilities. This makes execution availability ambiguous and blocks machine-enforced filtering of non-runnable intents.
    severity: critical
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-195"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Operational runbooks are inconsistent on canonical spine execution protocol. HASS/Home/Shop runbooks need explicit standard section for ops cap usage, receipts, and prohibited direct execution.
    severity: high
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-196"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/SESSION_PROTOCOL.md"
    description: |
      SESSION_PROTOCOL lacks explicit decision tree for selecting ops cap run vs ops run --inline vs proposal flow. Operators can still choose write paths inconsistently.
    severity: high
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-197"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      Binding files lack lifecycle metadata normalization. Binding set has no document-level status field and weak freshness discoverability, making stale/non-authoritative bindings hard to detect mechanically.
    severity: high
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-198"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "fixtures/baseline/"
    description: |
      Fixture baseline includes hash-only artifacts without stored baseline output payloads, limiting deterministic replay diagnosis and reducing explainability of replay mismatches.
    severity: high
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-199"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/INFRASTRUCTURE_MAP.md"
    description: |
      INFRASTRUCTURE_MAP remains historical and stale (last_verified 2026-01-25) while still discoverable from active governance surfaces, creating operator confusion about authority boundaries.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-200"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/CAMERA_SSOT.md"
    description: |
      CAMERA_SSOT still contains pervasive TBD placeholders for model/location metadata across channels, leaving an authoritative SSOT materially incomplete for execution use.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-201"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/d54-ssot-ip-parity-lock.sh"
    description: |
      D54 gate acts as a pure delegation wrapper with minimal first-party diagnostics. Failures provide limited root-cause context and reduce operator debuggability during drift incidents.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-202"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate gate_script output is truncated to first 80 lines, which can hide decisive failure evidence in verbose gates and slows incident triage.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-203"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/runtime/inbox/hot-folder-watcher.sh"
    description: |
      hot-folder-watcher contains high volume of /dev/null redirections (36), suppressing operational diagnostics and making runtime failure analysis difficult.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-204"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Several API/network-facing capabilities (ha.ssot.*, infra.gh_issue, media.metrics.today, secrets.identity.rbac.*) lack explicit preconditions metadata, weakening safety contracts for external side effects.
    severity: medium
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-205"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "mailroom/state/loop-scopes/"
    description: |
      Loop scope status taxonomy is not formally specified; observed values include closed, CLOSED, planned, authoritative. Missing state-machine contract allows inconsistent lifecycle semantics.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-206"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-MINT-MINIO-FRESH-SLATE-CUTOVER-20260212.scope.md"
    description: |
      Loop scope uses uppercase status CLOSED, violating normalized lowercase lifecycle values and creating case-sensitive reconciliation inconsistencies.
    severity: medium
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-207"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: ".archive/staged/"
    description: |
      .archive/staged subtree remains populated with service-like directories that resemble deployable sources, creating ambiguity between archived snapshots and active staging surfaces.
    severity: low
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-208"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: ".archive/"
    description: |
      No canonical ARCHIVE_POLICY.md in spine root/archive governance surface to define retention, cleanup cadence, and reader expectations for archived artifacts.
    severity: low
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-209"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: ".archive/contracts/_source/"
    description: |
      Archived contract source folder duplicates active governance filenames, increasing search-result ambiguity and risk of reading stale sources as active authority.
    severity: low
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-210"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "fixtures/events/"
    description: |
      Fixture corpus remains thin (5 events, single v1 version), limiting replay confidence across broader capability and event variants.
    severity: low
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-211"
    discovered_by: "claude-deep-scan-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/ready.sh"
    description: |
      Residual cleanup debt persists across governance utilities: empty archive stub docs, stale proposals-trash artifacts, and ready.sh lacking help/usage guidance reduce operator clarity and tooling hygiene.
    severity: low
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-212"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/WORKBENCH_SHARE_PROTOCOL.md"
    description: |
      WORKBENCH_SHARE_PROTOCOL references share.publish capability but no such capability exists in ops/capabilities.yaml
    severity: high
    status: fixed
    notes: "share.publish capabilities registered in capabilities.yaml"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
  - id: "GAP-OP-213"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      Missing share publish execution plugin and capability scripts in ops/plugins
    severity: high
    status: fixed
    notes: "share plugin with 3 scripts: preflight, preview, apply"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
  - id: "GAP-OP-214"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      Missing share publish remote contract binding for share channel remote/branch/behavior
    severity: medium
    status: fixed
    notes: "share.publish.remote.yaml binding created with one-way/manual/dry-run contract"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
  - id: "GAP-OP-215"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      Missing share governance drift gate to enforce allowlist+denylist+capability wiring consistency
    severity: medium
    status: fixed
    notes: "D82 share-publish-governance-lock.sh wired into drift-gate.sh"
    fixed_in: LOOP-SHARE-PUBLISH-OPERATIONALIZE-20260213
  - id: "GAP-OP-216"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-apply"
    description: |
      share.publish.apply claims curated publish semantics but performs git push share HEAD:main, which pushes full repository state instead of a filtered payload from allowlist/denylist. This violates the one-way curated contract in WORKBENCH_SHARE_PROTOCOL and can leak out-of-scope content.
    severity: critical
    status: fixed
    notes: "apply now builds curated workspace from publish manifest, not full HEAD push"
    fixed_in: 2b8b32b
  - id: "GAP-OP-217"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-preflight"
    description: |
      share.publish.preflight advertises spine.verify enforcement but does not run or validate spine.verify output. Publish can proceed even when governance drift gates fail, weakening safety posture.
    severity: high
    status: fixed
    notes: "preflight now runs drift-gate.sh for real verify enforcement"
    fixed_in: 2b8b32b
  - id: "GAP-OP-218"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-preview"
    description: |
      share.publish.preview only enforces denylist secret_patterns and credential_patterns. identity_patterns, infrastructure_patterns, and runtime_patterns in share.publish.denylist.yaml are not evaluated, leaving intended block classes unenforced.
    severity: high
    status: fixed
    notes: "preview now scans all 5 denylist sections: secret, credential, identity, infrastructure, runtime"
    fixed_in: 2b8b32b
  - id: "GAP-OP-219"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/share/bin/share-publish-apply + ops/bindings/share.publish.remote.yaml"
    description: |
      share publish scripts hardcode remote name 'share' and target branch 'main' instead of resolving contract values from share.publish.remote.yaml. Binding exists but is not authoritative at runtime, allowing contract drift.
    severity: medium
    status: fixed
    notes: "apply reads remote/branch/flow/push_policy from share.publish.remote.yaml binding"
    fixed_in: 2b8b32b
  - id: "GAP-OP-220"
    discovered_by: "codex-share-verification-2026-02-13"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d82-share-publish-governance-lock.sh"
    description: |
      D82 gate validates existence/wiring only, but does not assert behavioral contract parity (apply must not push full HEAD, preflight must enforce verify, preview must evaluate all denylist sections). Governance can appear green while semantics drift.
    severity: medium
    status: fixed
    notes: "D82 now enforces 3 semantic parity checks: drift-gate invocation, 5-section denylist coverage, binding-driven curated apply"
    fixed_in: 2b8b32b
  - id: "GAP-OP-224"
    discovered_by: "BIN_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "bin/cli/bin/spine, bin/commands/agent.sh, bin/ops-verify"
    description: |
      Hardcoded path brittleness — multiple scripts contain literal /Users/ronnyworks/code/agentic-spine paths that break if repo is moved/cloned. Inconsistent path resolution strategies across scripts.
    severity: medium
    status: fixed
    notes: "Lane D: 27798b7"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-225"
    discovered_by: "FIXTURES_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "fixtures/"
    description: |
      Missing fixture schema and index — no fixtures/events/v1/SCHEMA.md defining valid header values (AUDIENCE, MODE, etc.), no fixtures/INDEX.md listing all fixtures with descriptions. Agents must scan directory structure and guess header values.
    severity: medium
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-226"
    discovered_by: "FIXTURES_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "fixtures/.DS_Store, fixtures/n8n/"
    description: |
      Fixtures hygiene issues — .DS_Store system artifact should be gitignored. Missing fixtures/n8n/README.md explaining the workflow JSON usage.
    severity: low
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-227"
    discovered_by: "BIN_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "Multiple files using 'agent' term"
    description: |
      Agent terminology confusion — the term 'agent' has 5 distinct meanings: AI Agent (Claude/OpenCode), agent subcommand (CLI), agent runtime (execution layer), agent inbox (mailroom queue), domain agent (workbench services). No unified glossary exists.
    severity: medium
    status: fixed
    notes: "Lane E: af2e758"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-228"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/agents/immich-agent.contract.md, ops/bindings/agents.registry.yaml"
    description: |
      Agent contract status drift — immich-agent contract says 'registered' but agents.registry.yaml says 'pending'. Mismatch causes routing confusion and governance check failures.
    severity: high
    status: fixed
    notes: "Lane F: 8be065c"
    fixed_in: LOOP-GAPS-FANOUT-20260213
  - id: "GAP-OP-229"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/capabilities.yaml lines ~305-316"
    description: |
      capabilities.yaml path inconsistencies — monolith.search and monolith.git_status commands lack ./ prefix that other commands use. Paths like 'agentic-spine/ops/...' will resolve incorrectly at runtime. Must change to './ops/...' form.
    severity: high
    status: closed
    notes: "Not a bug: monolith caps use cwd=HOME/code making bare agentic-spine/ops path correct. Adding ./ would double-resolve. D63 validates from repo root."
  - id: "GAP-OP-232"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/ops (deprecated shim)"
    description: |
      Deprecated shim still present — ops/ops file redirects to bin/ops but has no deprecation warning output. Confusing for agents that may see both as entry points.
    severity: low
    status: fixed
    notes: "ops/ops shim emits DEPRECATED warning to stderr before exec"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-230"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "README.md, ops/README.md"
    description: |
      Undocumented CLI commands — agent, verify, pr, close, ai, hooks, loops, status, ready are in bin/ops but not documented in any README. Agents can't discover commands from docs alone, must read source.
    severity: medium
    status: fixed
    notes: "CLI commands documented in README.md + ops/README.md (14 commands)"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-231"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/agents/*.contract.md"
    description: |
      Agent contract structure inconsistency — different contracts use different section names ('V1 Tools' vs 'Governed Tools', 'Mutation Policy' missing from some, 'Integration Points' vs 'Defers to Spine'). Need unified contract template.
    severity: low
    status: fixed
    notes: "Contract sections normalized: media-agent Governed Tools added, mint-agent V1 Tools renamed, n8n-agent caps/plural fixed, finance-agent reordered"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-233"
    discovered_by: "OPS_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/engine/"
    description: |
      Engine provider documentation scattered — zai.sh, claude.sh, openai.sh, local_echo.sh all exist but only z.ai is documented in README. Agents don't know all provider options without reading source.
    severity: low
    status: fixed
    notes: "All 4 engine providers documented in README.md: zai, claude, openai, local_echo"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-236"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/proposals/"
    description: |
      Superseded proposals not archived — 6 SUPERSEDED proposals still in active proposals directory. Minor clutter; agents might process superseded proposals. Should move to outbox/proposals/.archived/.
    severity: low
    status: fixed
    notes: "6 SUPERSEDED proposals moved to proposals/.archived/ (filesystem-only, gitignored)"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-234"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/*.md (10+ files)"
    description: |
      Orphaned result files — 10+ outbox result files have no corresponding ledger entries (KERNEL_HARDEN_CONTRACTS, unified-test, email_received, etc.). spine.status queries may miss these runs; agents see results without trace.
    severity: medium
    status: fixed
    notes: "Orphan reconciliation manifest created at mailroom/outbox/.orphan-reconciliation.md — 13 pre-ledger results documented"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-235"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/state/open_loops.jsonl, mailroom/state/loop-scopes/"
    description: |
      Loop SSOT confusion — open_loops.jsonl is empty (0 lines) but 79 scope files exist in loop-scopes/. Pre-consolidation has 177 lines, archived has 284. Agents can't easily determine which loops are active. ./bin/ops loops list --open returns 0 but scope files exist.
    severity: medium
    status: fixed
    notes: "LOOP_SSOT_README.md added to mailroom/state/ — clarifies open_loops.jsonl vs scope files relationship"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-237"
    discovered_by: "MAILROOM_AUDIT_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/*.md"
    description: |
      Duplicate audit timestamps — same audits have two timestamp formats (e.g., MINT_OS_ARCH_DECISION_BRIEF_20260212.md and MINT_OS_ARCH_DECISION_BRIEF_20260212T120000Z.md). Agents may not know which is canonical. Should standardize on ISO 8601 Z.
    severity: low
    status: fixed
    notes: "3 plain-date duplicate audits removed, ISO 8601 Z versions kept (filesystem-only, gitignored)"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-238"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      share.publish.status capability missing — no single-command readiness report
    severity: medium
    status: fixed
    notes: "share.publish.status capability created + script + capability_map entry"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-239"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/bindings/share.publish.allowlist.yaml"
    description: |
      share.publish.preview blocks 79 of 150 candidates because allowlist is too broad for intended share scope
    severity: high
    status: fixed
    notes: "Allowlist tightened: 3 wildcards replaced with 6 named safe files"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-240"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/WORKBENCH_SHARE_PROTOCOL.md"
    description: |
      WORKBENCH_SHARE_PROTOCOL step 3 still says 'pushes HEAD to share remote' instead of curated payload
    severity: low
    status: fixed
    notes: "Protocol doc line 86 fixed: HEAD push -> curated allowlisted payload"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-241"
    discovered_by: "DEEP_SCAN_TRIAGE_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/GAP_LIFECYCLE.yaml"
    description: |
      GAP_LIFECYCLE has no YAML schema — gap entries in operational.gaps.yaml follow a pattern but no formal schema file exists defining required fields, valid types, severity levels, or status values. Could bundle into GAP-OP-211 cleanup debt.
    severity: low
    status: fixed
    notes: "gap.schema.yaml created in ops/bindings/, cross-ref added to GAP_LIFECYCLE.md"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-242"
    discovered_by: "DEEP_SCAN_TRIAGE_20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh D20"
    description: |
      D20 fragile secrets regex — the D20 drift gate uses a regex pattern for secrets detection that may have edge cases or false negatives. Should review and harden the pattern matching.
    severity: low
    status: fixed
    notes: "D20 hardened: printf brace form, curl --trace detection, api_key/api_secret patterns"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-243"
    discovered_by: "DEEP_SCAN_TRIAGE_20260213"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "docs/ (137 files)"
    description: |
      137 docs reference workbench independently — docs across the codebase reference ~/code/workbench or the workbench repo without going through the spine's binding layer. Creates potential for path drift and inconsistent references.
    severity: medium
    status: fixed
    notes: "Workbench path governance section added to WORKBENCH_SHARE_PROTOCOL.md, 137 existing refs grandfathered"
    fixed_in: LOOP-CLEAN-SLATE-TO-CP-20260213-104925
  - id: "GAP-OP-244"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/brain/lessons/FINANCE_*.md + docs/pillars/finance/*.md"
    description: |
      Finance lesson and pillar docs still describe docker-host/VM200 as active authority while finance workloads are live on VM 211. Authoritative docs with stale host targets create agent misrouting risk (deploy/troubleshooting/runbook execution to wrong host).
    severity: high
    status: fixed
    notes: "Finance docs aligned to VM 211: docker-host→finance-stack, IPs/ports/paths updated across 9 files"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-245"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/core/SPINE_SESSION_HEADER.md + docs/ACTIVE_DOCS_INDEX.md + docs/README.md"
    description: |
      Docs index/header drift: session header and docs README still reference legacy gate-era counts (D1-D57), and active docs navigation omits current pillars/planning surfaces. This creates outdated operator guidance and discovery gaps.
    severity: medium
    status: fixed
    notes: "Updated gate-era refs D57→D82 in session header, docs README, active docs index; added pillars/planning to docs nav"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-246"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/INFRASTRUCTURE_MAP.md + docs/governance/DOMAIN_ROUTING_REGISTRY.yaml + docs/governance/CORE_AGENTIC_SCOPE.md + docs/governance/GOVERNANCE_INDEX.md + docs/governance/_audits/RAG_INTEGRATION_RATIONALE.md"
    description: |
      Active governance docs contain broken cross-references to missing/superseded targets (docs/modules paths, AUTHORITY_INDEX, SUPERVISOR_CHECKLIST). Broken pointers degrade traceability and can route agents to dead docs.
    severity: medium
    status: fixed
    notes: "Repaired broken cross-references: docs/modules→legacy annotations, AUTHORITY_INDEX→GOVERNANCE_INDEX, SUPERVISOR_CHECKLIST→superseded"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-247"
    discovered_by: "codex-docs-recheck-2026-02-13"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/brain/memory.md"
    description: |
      Brain memory still lists LOOP-MEDIA-STACK-SPLIT as pending P6 soak/destruction despite completion. Stale memory context can mislead session bootstrap and prioritization decisions.
    severity: low
    status: fixed
    notes: "Marked LOOP-MEDIA-STACK-SPLIT-20260208 complete in brain memory"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-248"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      False-close follow-up to GAP-OP-193: drift-gate warn() increments WARN_COUNT but never escalates FAIL, so warning-only degraded states still exit 0. Need explicit WARN severity contract (escalate or policy-gated fail) and implementation parity.
    severity: high
    status: fixed
    notes: "WARN_POLICY contract: advisory (default) or strict mode. Documented in header + implemented in exit logic"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-249"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/bindings"
    description: |
      False-close follow-up to GAP-OP-197: bindings metadata normalization incomplete. 42 binding files exist, only 27 have updated:, and 0 have a status: field. Add binding metadata contract and normalize remaining files.
    severity: high
    status: fixed
    notes: "cloudflare.inventory.yaml (JSON) normalized with _status/_last_verified fields; all 42 bindings now have metadata"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-250"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/runtime/inbox/hot-folder-watcher.sh"
    description: |
      False-close follow-up to GAP-OP-203: hot-folder-watcher still contains 30 /dev/null redirections, suppressing diagnostics and making failure forensics incomplete. Route non-benign error paths to governed logs/receipt-linked diagnostics.
    severity: medium
    status: fixed
    notes: "8 non-benign /dev/null redirections routed to DIAG_LOG: shasum, secret detection, RAG search, file reads, find"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-251"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      False-close follow-up to GAP-OP-204: capability preconditions contract remains inconsistent. infra.gh_issue lacks explicit preconditions metadata while peer API/network capabilities declare safety preconditions.
    severity: medium
    status: fixed
    notes: "auth_model:gh-cli added to infra.gh_issue — explicit no-Infisical marker, D63 contract satisfied"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-252"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "mailroom/state/loop-scopes/LOOP-MINT-MINIO-ACCESS-CONTRACT-20260212.scope.md"
    description: |
      False-close follow-up to GAP-OP-206: loop scope lifecycle casing still inconsistent. LOOP-MINT-MINIO-ACCESS-CONTRACT-20260212.scope.md retains '> **Status:** CLOSED' instead of normalized lowercase lifecycle status.
    severity: low
    status: fixed
    notes: "LOOP-MINT-MINIO-ACCESS-CONTRACT-20260212.scope.md: CLOSED→closed"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-253"
    discovered_by: "triage-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: ".archive"
    description: |
      False-close follow-up to GAP-OP-211: cleanup tail remains. .archive/contracts/AGENTS_README.md is still zero-byte and .archive/proposals-trash/CP-20260211-094551__-- persists, leaving archival hygiene incomplete.
    severity: low
    status: fixed
    notes: "Removed zero-byte .archive/contracts/AGENTS_README.md (git rm) + deleted .archive/proposals-trash/CP-20260211-094551__-- (disk)"
    fixed_in: LOOP-DOCS-DRIFT-REPAIR-20260213
  - id: "GAP-OP-254"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/_index.yaml"
    description: |
      Index parity: 9 governance docs missing from _index.yaml, ACTIVE_DOCS_INDEX incomplete, CONTRIBUTING.md and brain core docs unregistered
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:30:58Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-255"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/INFRASTRUCTURE_AUTHORITY.md"
    description: |
      Metadata freshness: 3 docs lack required lifecycle frontmatter (status/owner/last_verified/scope) - INFRASTRUCTURE_AUTHORITY.md, CONTRIBUTING.md, MINT_FRESH_SLATE_INFRA_BOOTSTRAP_RUNBOOK.md
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:00Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-256"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/ACTIVE_DOCS_INDEX.md"
    description: |
      Broken refs and path hygiene: 5 broken internal refs in ACTIVE_DOCS_INDEX.md and README.md, legacy path patterns in active governance docs
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:01Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-257"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/brain/lessons/"
    description: |
      Archive/promote/condense: 21 brain lesson files unarchived, 2 brain core docs unpromoted, HOME_BACKUP_STRATEGY.md overlaps BACKUP_GOVERNANCE.md requiring merge
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:03Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-258"
    discovered_by: "CP-20260213-1205__docs-core-upgrade-discovery"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Self-management hardening: no drift gate enforcing doc index registration, broken ref detection, or stale metadata policy for docs lifecycle
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T17:31:05Z"
    fixed_in: LOOP-DOC-SPRAWL-TIGHTEN-20260213
  - id: "GAP-OP-259"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/proposals/bin/proposals-apply"
    description: |
      proposals-apply awk parser truncates ISO timestamps at first time-colon: line 87 uses awk -F colon-space with print field-2, which splits timestamps losing minutes and seconds from Created trailer in commit messages
    severity: high
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "Fixed awk parser in proposals-apply: sub() pattern replaces field-separator approach. Test: proposals-apply-test.sh 5/5 pass."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-260"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "surfaces/verify/d83-proposal-queue-health-lock.sh"
    description: |
      D83 lifecycle parity mismatch: missing created field only warns instead of failing per lifecycle contract; superseded check uses combined AND condition instead of per-field enforcement
    severity: medium
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "D83 now fails on missing created field and enforces superseded_at/superseded_reason independently. Test: d83-test.sh 8/8 pass (3 new negative tests)."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-261"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/commands/status.sh"
    description: |
      Control-plane proposal queue observability gap: ops status has no proposals summary, session-entry-hook omits queue health, Terminal C runbook Gate 0 omits proposals.status
    severity: medium
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "ops status shows proposal queue counts in full/brief/JSON output. session-entry-hook warns on pending overflow. Terminal C runbook Gate 0 includes proposals.status."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-262"
    discovered_by: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/commands/status.sh"
    description: |
      Planned loop visibility gap: ops status filters out loops with status planned even though SESSION_PROTOCOL defines planned as valid loop scope status
    severity: medium
    status: fixed
    parent_loop: "LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213"
    notes: "ops status now surfaces planned loops in PLANNED LOOPS section, separate from open/closed. Brief output shows planned count."
    fixed_in: LOOP-PROPOSAL-LIFECYCLE-PARITY-20260213
  - id: "GAP-OP-263"
    discovered_by: "LOOP-POST-PARITY-TAIL-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/status.sh"
    description: |
      ops status parked_dir and done_dir point to mailroom/parked and mailroom/done but actual paths are mailroom/inbox/parked and mailroom/inbox/done
    severity: medium
    status: fixed
    notes: "Fixed parked_dir/done_dir paths from mailroom/parked to mailroom/inbox/parked (and done). Commit 22654c8."
    parent_loop: "LOOP-POST-PARITY-TAIL-20260213"
    fixed_in: LOOP-POST-PARITY-TAIL-20260213
  - id: "GAP-OP-264"
    discovered_by: "LOOP-POST-PARITY-TAIL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/README.md"
    description: |
      D82-era gate count text remains in docs/README.md and docs/core/SPINE_SESSION_HEADER.md: references to D1-D82 and 82 active gates should be updated to D84 and 84 active
    severity: medium
    status: fixed
    notes: "Updated D1-D82 to D1-D84 and 82 active to 84 active in docs/README.md and docs/core/SPINE_SESSION_HEADER.md. Commit a31ca44."
    parent_loop: "LOOP-POST-PARITY-TAIL-20260213"
    fixed_in: LOOP-POST-PARITY-TAIL-20260213
  - id: "GAP-OP-265"
    discovered_by: "LOOP-POST-PARITY-TAIL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/governance/GOVERNANCE_INDEX.md"
    description: |
      GOVERNANCE_INDEX.md references non-existent AUTHORITY_INDEX.md in conflict resolution flowchart and related documents table
    severity: medium
    status: fixed
    notes: "Replaced 3 AUTHORITY_INDEX.md references in GOVERNANCE_INDEX.md: flowchart points to GOVERNANCE_INDEX, related docs table uses ACTIVE_DOCS_INDEX.md. Commit 9ad5e03."
    parent_loop: "LOOP-POST-PARITY-TAIL-20260213"
    fixed_in: LOOP-POST-PARITY-TAIL-20260213
  - id: "GAP-OP-266"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/brain/_imported/claude-commands/, docs/ACTIVE_DOCS_INDEX.md, docs/governance/CANONICAL.md, docs/legacy/_imports/"
    description: |
      Archive candidates still in place from docs audit: deprecated brain commands (ask.md, incidents.md in _imported/claude-commands/), superseded ACTIVE_DOCS_INDEX.md (replaced by _index.yaml), redundant CANONICAL.md (duplicates core/CANONICAL_DOCS.md), and 58 legacy import scripts in docs/legacy/_imports/ronny-ops_20260201_024236/
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:04:40Z"
    fixed_in: b30c52b — tombstoned ask.md, incidents.md, CANONICAL.md; local README for legacy imports
  - id: "GAP-OP-268"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "docs/core/CORE_LOCK.md, docs/brain/memory.md, docs/core/AGENT_CONTRACT.md, docs/core/AGENT_OUTPUT_CONTRACT.md"
    description: |
      Doc freshness stale from docs audit: docs/core/CORE_LOCK.md lacks last_verified frontmatter; docs/brain/memory.md shows last_verified 2026-02-10 (3 days stale); core batch docs (AGENT_CONTRACT.md, AGENT_OUTPUT_CONTRACT.md) still stamped 2026-02-04 (9 days stale). Freshness SLA not enforced.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:05:44Z"
    fixed_in: e0ac2e1 — normalized last_verified in CORE_LOCK, memory, AGENT_CONTRACT, AGENT_OUTPUT_CONTRACT
  - id: "GAP-OP-267"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "docs/governance/, AGENTS.md, CLAUDE.md, docs/core/"
    description: |
      Condense sprawl from docs audit: agent governance cluster still has 3 separate files (AGENT_GOVERNANCE_BRIEF.md, AGENTS_GOVERNANCE.md, AGENT_BOUNDARIES.md) instead of merged; root embeds in AGENTS.md and CLAUDE.md still have full GOVERNANCE_BRIEF blocks instead of pointer shims; core boundary has 3 files (GOVERNANCE_MINIMUM.md, CANONICAL_DOCS.md, CORE_LOCK.md) that could be consolidated
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:06:14Z"
    fixed_in: a421358 — clarified governance doc scopes, tombstoned ACTIVE_DOCS_INDEX.md, updated indexes
  - id: "GAP-OP-269"
    discovered_by: "DOCS_AUDIT_FOLLOWUP_20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml, docs/brain/README.md"
    description: |
      Self-management incomplete from docs audit: only 2 of 7 recommended docs.* capabilities exist (docs.status, docs.lint) - missing docs.index.verify, docs.freshness.audit, docs.orphan.detect, docs.frontmatter.lint, docs.sprawl.detect. No lessons lifecycle policy in brain/README.md (no freshness SLA, no graduation rules, no archive triggers).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:06:38Z"
    fixed_in: 14a9f17+0a5d549 — 5 docs.* caps (index.verify, freshness.audit, orphan.detect, frontmatter.lint, sprawl.detect) + brain lifecycle policy
  - id: "GAP-OP-270"
    discovered_by: "LOOP-BASELINE-STABILIZATION-WAVE-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/commands/status.sh"
    description: |
      ops status inbox scan only globs root mailroom/inbox/*.md, missing lane subdirectories (queued/running/failed/done/parked/archived). ops status --brief reports Inbox: 0 despite 20+ lane files present. Follow-up from partial GAP-OP-263 fix.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:12:45Z"
    parent_loop: "LOOP-BASELINE-STABILIZATION-WAVE-20260213"
    fixed_in: 6a048cc — lane-aware inbox scanning in ops status (count_lane_files replaces root-only glob)
  - id: "GAP-OP-271"
    discovered_by: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/proposals/bin/proposals-status"
    description: |
      proposals-status defaults missing status field to pending, ignoring read_only/mode fields. CP-20260213-1205 has read_only:true but no status: field, so counted as Pending:1 instead of Read-only:1. D83 also lacks artifact integrity enforcement for actionable proposals.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:39:29Z"
    parent_loop: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    fixed_in: 2b965fe — proposals-status and D83 detect read_only/mode fields; test 9/9 pass
  - id: "GAP-OP-272"
    discovered_by: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/outbox/proposals/"
    description: |
      Proposal artifact drift: CP-20260213-1205 manifest declares artifacts but has no status field. CP-20260212T160000Z shipping CP missing receipt.md. 4 mint-suppliers draft_hold CPs have no files/ (expected for hold). Need explicit status normalization for all manifests.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:39:32Z"
    parent_loop: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    fixed_in: local — added status:read-only to CP-20260213-1205 manifest; shipping CP already correct
  - id: "GAP-OP-273"
    discovered_by: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "mailroom/inbox/failed/"
    description: |
      6 items in mailroom/inbox/failed/: 5 are test artifacts from hot-folder-watcher smoke tests, 1 is a real failed session. Need triage (archive test items), update MAILROOM_RUNBOOK with failed-lane SOP, and policy for ops status anomaly allowlisting.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:39:35Z"
    parent_loop: "LOOP-BASELINE-HARDENING-FINAL-20260213"
    fixed_in: 0842faa — added failed-lane SOP to MAILROOM_RUNBOOK; archived 6 items from failed/
  - id: "GAP-OP-274"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/plugins/docs/bin/docs-freshness-audit"
    description: |
      docs.freshness.audit does not cover docs/core authoritative set — only checks governance/ directory freshness, missing core doc staleness detection
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:01Z"
    fixed_in: f9aee07 — expanded docs.freshness.audit to cover docs/core
  - id: "GAP-OP-275"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Missing docs capabilities: docs.legacy.audit and docs.brain.freshness not registered in capabilities.yaml or capability_map.yaml — no automated way to audit legacy doc references or brain freshness
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:04Z"
    fixed_in: 95151b4 — registered docs.legacy.audit and docs.brain.freshness
  - id: "GAP-OP-276"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/core/GOVERNANCE_MINIMUM.md"
    description: |
      GOVERNANCE_MINIMUM disposition unclear vs CORE_LOCK — no explicit statement whether GOVERNANCE_MINIMUM is standalone-by-design or should be merged into CORE_LOCK
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:07Z"
    fixed_in: fb9dc77 — added standalone-by-design disposition to GOVERNANCE_MINIMUM
  - id: "GAP-OP-277"
    discovered_by: "LOOP-LOW-SEVERITY-CLOSEOUT-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/AGENT_GOVERNANCE_BRIEF.md"
    description: |
      AGENTS/CLAUDE full-embed policy lacks explicit by-design-under-D65 contract note — embed architecture should be documented as intentional with rationale
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T18:52:09Z"
    fixed_in: fb9dc77 — added D65 embed architecture policy note
  - id: "GAP-OP-278"
    discovered_by: "Terminal-C-post-loop-audit"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "receipts/sessions"
    description: |
      55 RCAP receipts in receipts/sessions lack corresponding CAP rows in the ledger — ledger parity policy needed
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T19:08:37Z"
    fixed_in: c89b2de — receipt-ledger parity check in ledger-reconcile.sh
  - id: "GAP-OP-279"
    discovered_by: "Terminal-C-post-loop-audit"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "mailroom/outbox/proposals"
    description: |
      Draft-hold proposal artifacts have no contract for receipt/files requirements by status — 4 mint-suppliers CPs have files_count 0, 1 shipping CP has no receipt.md
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T19:08:39Z"
    fixed_in: c89b2de — artifact requirements per status in proposals.lifecycle.yaml
  - id: "GAP-OP-280"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P1: Layer 1 slash commands — 7 repo-governed workflow commands with sync-to-home mechanism
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:10:55Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 389be58 (P1 slash commands)
  - id: "GAP-OP-281"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P2: RAG integration — MCP adapter for AnythingLLM, recipe indexing, query patterns
    severity: medium
    status: closed
    notes: "Filed via gaps.file at 2026-02-13T20:11:00Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: blocked — RAG VM (207) unreachable, P2 deferred to next session when VM is operational
  - id: "GAP-OP-282"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P3: Self-documenting gates — TRIAGE headers on all active gate scripts, drift-gate.sh extraction
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:03Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: b78b787 (P3 self-documenting gates)
  - id: "GAP-OP-283"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P4: Enhanced session context — gate reference card and precondition hints from registry
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:04Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 0b855d8 (P4 enhanced session context)
  - id: "GAP-OP-284"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P5: Domain agent bridge — explicitly deferred, deferral contract filed
    severity: low
    status: closed
    notes: "Filed via gaps.file at 2026-02-13T20:11:06Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: deferred — P5 deferral contract in loop scope, re-entry after P2 MCP patterns validated
  - id: "GAP-OP-285"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P6: Gate registry — gate.registry.yaml with D1-D84 metadata, D85 parity gate
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:09Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 1167031 (P6 gate registry)
  - id: "GAP-OP-286"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-P1-P6-EXECUTION"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      Cross-phase integration closeout — all phase DoD met, loop status active->closed
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:11:11Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 309bc20 — 5/6 phases complete, P2 blocked on VM, loop remains active
  - id: "GAP-OP-287"
    discovered_by: "coordinator-audit"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "docs/brain/generate-context.sh"
    description: |
      Context gate card formatting contract drift: generate-context.sh gate table outputs duplicated category column (4 columns instead of 3)
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:40:23Z"
    fixed_in: 23b5557
  - id: "GAP-OP-288"
    discovered_by: "coordinator-audit"
    discovered_at: "2026-02-13"
    type: stale-ssot
    doc: "ops/bindings/gate.registry.yaml"
    description: |
      gate.registry.yaml count mismatch: total=85, retired=1, active declared=83 but computed non-retired=84
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:40:24Z"
    fixed_in: 23b5557
  - id: "GAP-OP-289"
    discovered_by: "coordinator-audit"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/d85-gate-registry-parity-lock.sh"
    description: |
      D85 semantic hardening: no TRIAGE-header completeness check, no dedicated test coverage for D85 gate
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:40:25Z"
    fixed_in: "3714051"
  - id: "GAP-OP-290"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: agent-behavior
    doc: "surfaces/commands/fix.md"
    description: |
      /fix command lists invalid gap types (missing-doc, stale-doc, stale-entry) not in gap.schema.yaml enum
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:55Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-291"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      Scope claims Codex/OpenCode parity sync but sync script is Claude-only
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:56Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-292"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: duplicate-truth
    doc: "surfaces/commands/gates.md"
    description: |
      Scope says /gates and /check read from registry at runtime but both commands have hardcoded tables
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:57Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-293"
    discovered_by: "codex-audit"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/bindings/operational.gaps.yaml"
    description: |
      GAP-OP-286 description says active->closed but fixed_in says loop remains active
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:51:59Z"
    fixed_in: 4e633fc
  - id: "GAP-OP-294"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "mailroom/state/loop-scopes/LOOP-SPINE-CANONICAL-UPGRADE-20260210.scope.md"
    description: |
      P2 RAG MCP bridge: MCP server adapter wrapping rag.anythingllm.ask does not exist. VM207 now healthy — unblocks P2 re-entry from LOOP-SPINE-CANONICAL-UPGRADE scope.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:39Z"
    fixed_in: "5792778"
  - id: "GAP-OP-295"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/vm.lifecycle.yaml"
    description: |
      Missing VM operating-profile contract binding. No per-VM policy for ssh_mode, runtime_inspection_mode, health_probe_policy, diagnostic_user_policy. RCA on VM207 exposed docker-group visibility gap that would be caught by a formal profile.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:40Z"
    fixed_in: 758b8c1
  - id: "GAP-OP-296"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      Missing VM operating-profile audit capability. vm.governance.audit exists but does not check runtime operating-profile parity (docker group, inspection modes, probe policies) across active VMs.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:42Z"
    fixed_in: 1cc72f2
  - id: "GAP-OP-297"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/gate.registry.yaml"
    description: |
      Missing D86 drift gate to enforce VM operating-profile parity. No gate validates that vm.operating.profile.yaml exists and is complete for all active VMs in vm.lifecycle.yaml.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:43Z"
    fixed_in: 1cc72f2
  - id: "GAP-OP-298"
    discovered_by: "terminal-c-rca"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "docs/governance/RAG_INDEXING_RULES.md"
    description: |
      No governed policy for transient outage forensics. When a VM/service is temporarily unreachable, no health history timeline exists for after-the-fact reconstruction. RCA on VM207 found no failure evidence because no periodic health snapshots are retained.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T20:58:44Z"
    fixed_in: 0f58fa3
  - id: "GAP-OP-299"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag"
    description: |
      rag status does not distinguish missing workspace from empty workspace — returns docs_indexed: 0 silently instead of hard-failing with explicit workspace-not-found error
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:25Z"
    fixed_in: 93a0037 — workspace existence check added to rag status
  - id: "GAP-OP-300"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag"
    description: |
      rag sync does not preflight workspace existence — uploads all files to nonexistent workspace, burning time on per-file 400/404 errors instead of aborting early
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:27Z"
    fixed_in: 93a0037 — workspace preflight added to rag sync
  - id: "GAP-OP-301"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/bindings/"
    description: |
      no canonical workspace contract binding for RAG — slug, provider, model, index policy, and cutover policy are hardcoded defaults with no governed binding
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:29Z"
    fixed_in: 93a0037 — rag.workspace.contract.yaml created
  - id: "GAP-OP-302"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag"
    description: |
      no resumable/chunked reindex path with checkpointing — long sync runs restart from zero on failure with no state file to resume from
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:36Z"
    fixed_in: 93a0037 — checkpoint/resume sync with --resume flag
  - id: "GAP-OP-303"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/"
    description: |
      no drift-gate enforcement for RAG workspace contract and CLI semantic parity — workspace slug, provider model, and index eligibility not validated by any gate
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:38Z"
    fixed_in: 93a0037 — D87 gate created and wired
  - id: "GAP-OP-304"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      no explicit RAG reindex runbook or acceptance contract for operators — reindex workflow is ad-hoc with no governed checklist or success criteria doc
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T21:33:40Z"
    fixed_in: 93a0037 — RAG_REINDEX_RUNBOOK.md created
  - id: "GAP-OP-305"
    discovered_by: "LOOP-RAG-CANONICAL-BASELINE-HARDENING-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG full reindex deferred — run isolated chunked sync with checkpoint/resume, validate parity, run smoke queries, record attestation. Acceptance: parity OK, 2 smoke queries return correct sources, attestation doc committed. Use RAG_REINDEX_RUNBOOK.md.
    severity: medium
    status: closed
    notes: "Filed via gaps.file at 2026-02-13T22:02:48Z"
    fixed_in: superseded — replacement with parent_loop filed as GAP-OP-308
  - id: "GAP-OP-306"
    discovered_by: "LOOP-D87-TEST-COVERAGE-AND-GAP305-LINKAGE-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "surfaces/verify/tests/"
    description: |
      No dedicated D87 test file — d87-rag-workspace-contract-lock.sh has no test coverage in surfaces/verify/tests/ unlike D85 which has d85-test.sh
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:11:46Z"
    fixed_in: efdda95
  - id: "GAP-OP-307"
    discovered_by: "LOOP-D87-TEST-COVERAGE-AND-GAP305-LINKAGE-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "ops/bindings/operational.gaps.yaml"
    description: |
      GAP-OP-305 deferred reindex gap has no parent_loop — should be linked to LOOP-SPINE-CANONICAL-UPGRADE-20260210 so it is not standalone
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:11:48Z"
    fixed_in: 6962991+c9e9f4c — GAP-OP-305 superseded, GAP-OP-308 filed with parent_loop linkage
  - id: "GAP-OP-308"
    discovered_by: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG full reindex deferred — run isolated chunked sync with checkpoint/resume, validate parity, run smoke queries, record attestation. Acceptance: parity OK, 2 smoke queries return correct sources, attestation doc committed. Use RAG_REINDEX_RUNBOOK.md. Supersedes GAP-OP-305 (added parent_loop linkage).
    severity: medium
    status: fixed
    parent_loop: "LOOP-RAG-REINDEX-EXECUTION-20260215"
    notes: "Filed via gaps.file at 2026-02-13T22:16:02Z. Re-parented from LOOP-SPINE-CANONICAL-UPGRADE-20260210 on 2026-02-15."
    fixed_in: 'fresh reindex via Mac Ollama embedding: 91 uploaded, 0 failed, 7 secrets-excluded, verify PASS, run keys CAP-20260215-090408 + CAP-20260215-090113'
  - id: "GAP-OP-309"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/hooks/sync-slash-commands.sh"
    description: |
      Slash command parity gap: sync-slash-commands only deploys to ~/.claude/commands; OpenCode/Codex command surfaces are deferred, so only Claude gets the governed /fix /loop /propose /howto workflow updates.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:32Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 1e29b98 + 0d0beeb
  - id: "GAP-OP-310"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "surfaces/commands/propose.md"
    description: |
      /propose command omits proposals.supersede lifecycle guidance; operators/agents lack canonical docs for when and how to supersede stale or empty proposals.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:39Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 9c76722
  - id: "GAP-OP-311"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "surfaces/commands/loop.md"
    description: |
      /loop command omits ./bin/ops start loop <LOOP_ID> worktree/bootstrap path, so agents only see manual scope-file creation and miss governed loop startup automation.
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:42Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 9c76722
  - id: "GAP-OP-312"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: unclear-doc
    doc: "surfaces/commands/fix.md"
    description: |
      /fix command does not document --parent-loop usage for gaps.file, increasing risk of unlinked gaps during active loop execution.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:46Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 9c76722
  - id: "GAP-OP-313"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag + surfaces/commands/*.md"
    description: |
      RAG knowledge coverage gap: slash-command docs under surfaces/commands are not indexed into AnythingLLM because they lack required frontmatter, so /howto-/fix-/loop-/propose workflows are absent from RAG retrieval.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:50Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: f0c728f
  - id: "GAP-OP-314"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: ".mcp.json + docs/governance/AGENTS_GOVERNANCE.md"
    description: |
      Domain-agent bridge remains deferred: no governed MCP bridge for finance/media/n8n domain agents, so canonical loop vision has no cross-domain MCP execution surface yet.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:54Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 752c727
  - id: "GAP-OP-315"
    discovered_by: "slash-command-audit-20260213"
    discovered_at: "2026-02-13"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      agent.route capability is missing; no governed router exists to dispatch tasks to domain experts (finance/media/n8n) despite canonical-upgrade architecture intent.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-13T22:17:58Z"
    parent_loop: "LOOP-SPINE-CANONICAL-UPGRADE-20260210"
    fixed_in: 752c727
  - id: "GAP-OP-317"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.remote.runner.yaml + ops/plugins/rag/bin/*"
    description: |
      Missing remote dependency chain verification from runner host (VM207). Current rag.health checks reachability from laptop but do not validate VM207 perspective of its dependencies. Evidence shows localhost endpoints respond fast (5ms) but upload endpoint times out (180s). Required: rag.remote.dependency.probe capability.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:22:14Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
  - id: "GAP-OP-316"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag-reindex-remote-status + ops/capabilities.yaml"
    description: |
      Missing reindex completion quality gate: rag.reindex.remote.status shows upload/failure counts but no capability validates completion quality. Current controls can pass while reindex is actively timing out with HTTP 000 errors. Required: rag.reindex.remote.verify capability.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:22:30Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
  - id: "GAP-OP-318"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: duplicate-truth
    doc: "ops/plugins/rag/bin/rag + docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      Parity check false-positive: rag status shows parity OK when docs_indexed >= docs_eligible, but this does not detect stale/inflated docs_indexed count (317 vs 104 = 3x inflation), failed uploads (65 timeouts), or checkpoint presence. Required: binding for max_index_inflation_ratio threshold + D89 gate to enforce quality contract.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:22:57Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
  - id: "GAP-OP-319"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.remote.runner.yaml + docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      Missing RAG quality contract binding: no binding exists for reindex quality thresholds. Current rag.remote.runner.yaml defines connection/sync params but no quality gates. Required: max_failed_uploads, max_index_inflation_ratio, max_stall_minutes, dependency timeout SLOs, completion checkpoint/session requirements.
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T02:23:15Z"
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214
  - id: "GAP-OP-320"
    discovered_by: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d89-rag-reindex-quality-contract-lock.sh"
    description: |
      RAG runtime quality gate enforcement: D89 only checks that rag.reindex.remote.verify capability EXISTS, not that it PASSES. Agents get false-green from spine.verify while reindex is actively failing (65 timeouts, session running). Required: D90 gate that calls rag.reindex.remote.verify and fails on quality contract violations.
    severity: high
    status: fixed
    notes: "Implemented D90 drift gate that enforces runtime quality contract when reindex session is stopped. Gate passes when session is running (in progress), fails when session is stopped with quality issues."
    parent_loop: "LOOP-RAG-RELIABILITY-GATE-HARDENING-20260214"
    fixed_in: D90 implementation
  - id: "GAP-OP-321"
    discovered_by: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/"
    description: |
      Output contract definitions missing: no explicit schema for loop scope format, gap filing fields, proposal manifest structure, or gate scope template. Agents produce inconsistent artifacts across surfaces. Required: governance doc defining canonical schemas for all spine work artifacts.
    severity: high
    status: fixed
    parent_loop: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    notes: "Filed via gaps.file at 2026-02-15T13:02:18Z"
    fixed_in: 65bc6ed — OUTPUT_CONTRACTS.md
  - id: "GAP-OP-322"
    discovered_by: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/"
    description: |
      Session protocol skill (claude.ai) is workflow-only: no identity, no spine overview, no canonical paths, no output contracts, no environment detection. Mobile Claude sessions cannot produce spine-compatible artifacts. Required: upgrade ronny-session-protocol skill to full agent brain bootstrap with identity block, spine context, output contracts, and surface-adaptive behavior.
    severity: high
    status: fixed
    parent_loop: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    notes: "Filed via gaps.file at 2026-02-15T13:02:25Z"
    fixed_in: 5673b03 — device-adaptive SESSION_PROTOCOL.md
  - id: "GAP-OP-323"
    discovered_by: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/"
    description: |
      No environment detection in agent sessions: agents cannot distinguish desktop (filesystem + MCP + CLI) from mobile (no filesystem, no MCP, bridge-only) from remote (tailnet, bridge API). Required: environment hints in session protocol skill that adapt available actions per surface type.
    severity: medium
    status: fixed
    parent_loop: "LOOP-SESSION-BRAIN-BOOTSTRAP-20260215"
    notes: "Filed via gaps.file at 2026-02-15T13:02:33Z"
    fixed_in: 5673b03 — environment detection in SESSION_PROTOCOL.md
  - id: "GAP-OP-324"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/product/AOF_PRODUCT_CONTRACT.md"
    description: |
      AOF product contract missing
    severity: high
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:43Z"
    fixed_in: c8c3707
  - id: "GAP-OP-325"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/tenant.profile.schema.yaml"
    description: |
      Tenant profile schema missing
    severity: high
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:49Z"
    fixed_in: c8c3707
  - id: "GAP-OP-326"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/policy.presets.yaml"
    description: |
      Policy presets missing
    severity: medium
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:53Z"
    fixed_in: c8c3707
  - id: "GAP-OP-327"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/product/AOF_DEPLOYMENT_PLAYBOOK.md"
    description: |
      Deployment playbook missing
    severity: medium
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:01:57Z"
    fixed_in: c8c3707
  - id: "GAP-OP-328"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/product/AOF_SUPPORT_SLO.md"
    description: |
      Support SLO missing
    severity: medium
    status: fixed
    parent_loop: "LOOP-AOF-V01-FOUNDATION-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:02:01Z"
    fixed_in: c8c3707
  - id: "GAP-OP-329"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag-reindex-remote-verify"
    description: |
      rag.reindex.remote.verify count check path warns and skips when it cannot determine indexed/eligible counts from VM207, masking real parity drift
    severity: high
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:33Z"
    fixed_in: 6a348a3,46bf59f
  - id: "GAP-OP-330"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG parity drift: 97 indexed vs 108 eligible after AOF docs added. 11 new docs not yet in vector store.
    severity: high
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:35Z"
    fixed_in: 46bf59f,5aeb0a1
  - id: "GAP-OP-331"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag"
    description: |
      RAG chat timeout: AnythingLLM chat endpoint times out after 45s, falls back to retrieval-only. VM202 Ollama CPU-saturated running phi3:mini on CPU-only.
    severity: medium
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:37Z"
    fixed_in: 454e6da
  - id: "GAP-OP-332"
    discovered_by: "Terminal C"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/mailroom-bridge/bin"
    description: |
      Mailroom bridge files dirty in working tree: mailroom.bridge.yaml and mailroom-bridge-serve modified, __pycache__/ untracked
    severity: low
    status: fixed
    parent_loop: "LOOP-RUNTIME-DRIFT-CLOSEOUT-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:35:39Z"
    fixed_in: 1c63566
  - id: "GAP-OP-333"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "workbench/infra/homeassistant/config/"
    description: |
      HA config version control: configuration.yaml, automations.yaml, scripts.yaml, scenes.yaml live only inside HA VM. No git-tracked source of truth.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:49:48Z. P0 - Biggest blast radius."
    fixed_in: LOOP-HA-AOF-ALIGNMENT-P1
  - id: "GAP-OP-334"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/tools/unifi-agent.sh"
    description: |
      No Home UniFi API Integration: UDR7 at 10.0.0.1 has no agent integration. Cannot query connected clients, verify DHCP reservations, or detect rogue devices.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:03Z. P1 - UniFi API needed for network verification."
    fixed_in: 5c355ed
  - id: "GAP-OP-335"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HOME_NETWORK_DEVICE_ONBOARDING.md"
    description: |
      No DHCP Reservation Verification: HOME_NETWORK_DEVICE_ONBOARDING.md lists 9 devices with DHCP reservations but nothing verifies UDR7 actually has them configured.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:17Z. P1 - Depends on GAP-OP-334."
    fixed_in: 24773ec
  - id: "GAP-OP-336"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      No Zigbee/Z2M Device Registry: Runbook documents 6 Zigbee devices by hand. Z2M API with real device list, firmware versions, link quality, battery levels is not extracted.
    severity: high
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:25Z. P1 - Core smart home devices."
    fixed_in: 31e761d
  - id: "GAP-OP-339"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "workbench/infra/compose/mcpjungle/servers/home-assistant/"
    description: |
      HA Service Calls Blocked for Agents: MCP server has ha_call_service but spine-governance-blocked (P5). Agents can read HA but cannot control anything.
    severity: medium
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:38Z. P2 - Need scoped capabilities."
    fixed_in: 82e1fa1
  - id: "GAP-OP-337"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/ha.addons.yaml"
    description: |
      No HA Add-on Inventory: 12+ HACS integrations, 35 Lovelace cards, multiple supervisor add-ons. None are version-tracked or extracted.
    severity: medium
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:49Z. P2 - Add-on/HACS inventory."
    fixed_in: 24773ec
  - id: "GAP-OP-338"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HOME_NETWORK_AUDIT_RUNBOOK.md"
    description: |
      No Home Network Audit Runbook: Shop has SHOP_NETWORK_AUDIT_RUNBOOK.md with full live-truth verification. Home has onboarding checklist but no equivalent audit procedure.
    severity: medium
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:50:57Z. P2 - Operationalizes UniFi integration."
    fixed_in: 24773ec
  - id: "GAP-OP-341"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/SERVICE_REGISTRY.yaml"
    description: |
      No HA Health Alerting: HA is out of scope for services.health.yaml per scope decision. Health probe exists but nobody gets notified on failure.
    severity: low
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:51:10Z. P3 - Prevents silent failures."
    fixed_in: 82e1fa1
  - id: "GAP-OP-340"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/ha.device.map.yaml"
    description: |
      No HA Entity ↔ Network Device Cross-Reference: HA knows WiFi devices, Zigbee devices, LAN devices. None of this maps back to network SSOT.
    severity: low
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:51:24Z. P3 - Cross-domain awareness."
    fixed_in: 82e1fa1
  - id: "GAP-OP-342"
    discovered_by: "HA Gap Analysis 2026-02-15"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "workbench/infra/streamdeck/config.json"
    description: |
      Stream Deck Config Not Tracked: config.json with 15-button layout is runtime-only, gitignored. If Mac is rebuilt, it is lost.
    severity: low
    status: fixed
    parent_loop: "LOOP-HA-GOVERNANCE-SURFACE-COMPLETE-20260215"
    notes: "Filed via gaps.file at 2026-02-15T14:51:34Z. P3 - Low effort, nice to have."
    fixed_in: 82e1fa1
  - id: "GAP-OP-343"
    discovered_by: "AOF Policy Runtime V1"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/lib/resolve-policy.sh"
    description: |
      Shared policy resolution helper (resolve-policy.sh) missing — policy presets defined but not consumed at runtime
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T15:31:50Z"
    fixed_in: ops/lib/resolve-policy.sh
  - id: "GAP-OP-344"
    discovered_by: "AOF Policy Runtime V1"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      Drift gates not wired to policy presets — drift_gate_mode, warn_policy, session_closeout_sla_hours hardcoded
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T15:31:54Z"
    fixed_in: surfaces/verify/drift-gate.sh
  - id: "GAP-OP-345"
    discovered_by: "AOF Policy Runtime V1"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/commands/cap.sh"
    description: |
      Capability runner not wired to approval_default from policy presets — cap.sh ignores preset selection
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T15:31:58Z"
    fixed_in: ops/commands/cap.sh
  - id: "GAP-OP-346"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/tenant.storage.contract.yaml"
    description: |
      Tenant storage boundary enforcement: receipts/ledger/mailroom runtime paths are shared namespace with no tenant-scoped isolation
    severity: high
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:11Z"
    fixed_in: 92ab558
  - id: "GAP-OP-347"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/policy.runtime.contract.yaml"
    description: |
      Policy runtime enforcement gate: presets exist but no gate validates that runtime behavior complies with declared policy preset knobs
    severity: high
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:13Z"
    fixed_in: 92ab558
  - id: "GAP-OP-348"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/version.compat.matrix.yaml"
    description: |
      Version compatibility matrix enforcement: no SSOT declaring which capabilities/gates/docs are compatible at which versions and no gate enforcing declared compat
    severity: medium
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:14Z"
    fixed_in: 92ab558
  - id: "GAP-OP-349"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/evidence.retention.policy.yaml"
    description: |
      Evidence export/retention runtime contract: no signed attestations, no tenant-scoped retention controls, no export capability
    severity: medium
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:16Z"
    fixed_in: 92ab558
  - id: "GAP-OP-350"
    discovered_by: "terminal-c"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/surface.readonly.contract.yaml"
    description: |
      Surface readonly contract enforcement: no mobile/customer read-only status endpoint specification and no runtime enforcement gate
    severity: medium
    status: fixed
    parent_loop: LOOP-AOF-RUNTIME-ENFORCEMENT-DEPTH-20260215
    notes: "Filed via gaps.file at 2026-02-15T15:43:18Z"
    fixed_in: 92ab558
  - id: "GAP-OP-351"
    discovered_by: "iPhone MCP hardening loop"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      No acceptance test for token auth enforcement — need verified 401 without token and 200 with token on /loops/open and /rag/ask
    severity: high
    status: fixed
    parent_loop: "LOOP-IPHONE-MCP-HARDENING-20260215"
    notes: "Filed via gaps.file at 2026-02-15T15:45:52Z"
    fixed_in: acceptance-pass-2847ac3
  - id: "GAP-OP-352"
    discovered_by: "iPhone MCP hardening loop"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      /rag/ask receipt integrity unverified — need confirmed 200 response with answer, sources, receipt, workspace keys and receipt file on disk
    severity: high
    status: fixed
    parent_loop: "LOOP-IPHONE-MCP-HARDENING-20260215"
    notes: "Filed via gaps.file at 2026-02-15T15:45:53Z"
    fixed_in: acceptance-pass-2847ac3
  - id: "GAP-OP-353"
    discovered_by: "iPhone MCP hardening loop"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/IPHONE_MCP_SETUP.md"
    description: |
      No iPhone MCP setup runbook — need step-by-step for Tailscale config, token setup, Claude MCP server config, and troubleshooting
    severity: medium
    status: fixed
    parent_loop: "LOOP-IPHONE-MCP-HARDENING-20260215"
    notes: "Filed via gaps.file at 2026-02-15T15:45:56Z"
    fixed_in: 9acf280
  - id: "GAP-OP-354"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      stale_ssot_max_days knob declared in policy.presets.yaml but not wired to D58 SSOT_FRESHNESS_DAYS threshold in drift-gate.sh
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:39Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-355"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      gap_auto_claim knob declared in policy.presets.yaml but not wired to gaps-file auto-claim behavior
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:44Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-356"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      proposal_required knob declared in policy.presets.yaml but not enforced in cap.sh write path — mutating caps execute without proposal flow even when strict preset active
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:49Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-357"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      receipt_retention_days knob declared in policy.presets.yaml but not wired to evidence retention or export capability — retention horizon is static in evidence.retention.policy.yaml
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:54Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-358"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      commit_sign_required knob declared in policy.presets.yaml but not enforced in pre-commit hook or commit path — unsigned commits succeed even under strict preset
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:10:59Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-359"
    discovered_by: "Phase B policy knob audit"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      multi_agent_writes knob declared in policy.presets.yaml but not enforced in cap.sh or pre-commit hook — direct writes succeed under proposal-only preset
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:11:04Z"
    parent_loop: "LOOP-AOF-POLICY-KNOBS-PHASE-B-20260215"
    fixed_in: 9f16ce4
  - id: "GAP-OP-360"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      POST /cap/run endpoint: implement HTTP endpoint for remote capability execution in mailroom bridge
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:19:27Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
  - id: "GAP-OP-363"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      Token-scoped capability permissions: RBAC for cap-RPC execution
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:19:44Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: "6717112"
  - id: "GAP-OP-361"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      Capability allowlist: governed allowlist of RPC-executable capabilities for security boundary
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:22:58Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
  - id: "GAP-OP-362"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "null"
    description: |
      Standardized cap-run response schema: receipt path, stdout, stderr, exit code
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:23:11Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
  - id: "GAP-OP-364"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "null"
    description: |
      Bridge binding update: extend mailroom.bridge.yaml with /cap/run endpoint definition
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:23:24Z"
    parent_loop: "LOOP-CAP-RPC-OVER-BRIDGE-20260215"
    fixed_in: 592bc6a
  - id: "GAP-OP-365"
    discovered_by: "claude-code"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/AGENT_GOVERNANCE_BRIEF.md"
    description: |
      Agent governance surfaces lack RAG query hierarchy — agents default to rg instead of spine-rag MCP for discovery questions
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:26:35Z"
    fixed_in: 66540ae
  - id: "GAP-OP-366"
    discovered_by: "dhcp-reservation-audit"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ops/bindings/home.device.registry.yaml"
    description: |
      3 devices lack UniFi DHCP reservations — TubesZB 10.0.0.90 (home), automation-stack 192.168.1.110 (shop), ai-consolidation 192.168.1.8 (shop). IPs will drift on reboot. Create fixed IP reservations via UniFi API.
    severity: high
    status: closed
    notes: "Filed via gaps.file at 2026-02-15T16:28:09Z"
    fixed_in: duplicate of GAP-OP-365 (66540ae)
  - id: "GAP-OP-367"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG chat path times out; /rag/ask degrades to raw retrieval snippets instead of stable natural-language answers.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:45:54Z"
    parent_loop: "LOOP-RAG-ANSWER-QUALITY-20260215"
    fixed_in: 791967e
  - id: "GAP-OP-368"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/RAG_INDEXING_RULES.md"
    description: |
      RAG index quality drift/noise (metadata + hotdir path artifacts) degrades answer quality and retrieval signal.
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:45:59Z"
    parent_loop: "LOOP-RAG-ANSWER-QUALITY-20260215"
    fixed_in: 791967e
  - id: "GAP-OP-369"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/MAILROOM_BRIDGE.md"
    description: |
      RAG answer contract lacks clean-output requirements for bridge consumers (snippet hygiene, source normalization).
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T16:46:04Z"
    parent_loop: "LOOP-RAG-ANSWER-QUALITY-20260215"
    fixed_in: 791967e
  - id: "GAP-OP-370"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/RAG_REINDEX_RUNBOOK.md"
    description: |
      RAG index parity drift: 95 indexed vs 101 eligible (6 docs behind). Requires remote reindex on VM207.
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-02-15T16:59:10Z"
  - id: "GAP-OP-371"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/d104-home-dhcp-audit-freshness.sh"
    description: |
      D104 gate: DHCP audit freshness — no binding file or freshness enforcement for network.home.dhcp.audit
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:22:53Z"
    fixed_in: 4316f57
  - id: "GAP-OP-372"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/ha/bin/ha-automation-trigger"
    description: |
      ha.automation.trigger capability — thin wrapper to trigger HA automations via ha-service-call
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:22:57Z"
    fixed_in: 4316f57
  - id: "GAP-OP-373"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/ha/bin/ha-script-run"
    description: |
      ha.script.run capability — thin wrapper to run HA scripts via ha-service-call
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:00Z"
    fixed_in: 4316f57
  - id: "GAP-OP-374"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/ha/bin/ha-backup-create"
    description: |
      ha.backup.create capability — SSH-based HA backup via ha CLI on hassio host
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:04Z"
    fixed_in: 4316f57
  - id: "GAP-OP-375"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/ha.device.map.overrides.yaml"
    description: |
      Device map manual override support — ha.device.map.overrides.yaml for orphan metadata enrichment
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:09Z"
    fixed_in: 4316f57
  - id: "GAP-OP-376"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/HASS_MCP_INTEGRATION.md"
    description: |
      MCP integration policy doc — document why ha_call_service is blocked, agents must use ops cap run ha.*
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:13Z"
    fixed_in: 4316f57
  - id: "GAP-OP-377"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: unclear-doc
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      Backup restore runbook expansion — step-by-step restore procedure and post-restore checklist in HASS_OPERATIONAL_RUNBOOK.md
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:23:17Z"
    fixed_in: 4316f57
  - id: "GAP-OP-378"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Dashboard YAML extraction capability missing — extraction matrix rejected dashboards but operator wants version-controlled dashboard snapshots for restore/diff
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:45:51Z"
    fixed_in: 8e66283
  - id: "GAP-OP-379"
    discovered_by: "LOOP-HA-API-SNAPSHOT-TRIO-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Integration inventory: 60 integrations with no spine coverage — need ha.integrations.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:55:26Z"
    fixed_in: e2f50ab
  - id: "GAP-OP-380"
    discovered_by: "LOOP-HA-API-SNAPSHOT-TRIO-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Automation inventory: 14 automations with no spine coverage — need ha.automations.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:55:28Z"
    fixed_in: e2f50ab
  - id: "GAP-OP-381"
    discovered_by: "LOOP-HA-API-SNAPSHOT-TRIO-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Entity/helper inventory: input_booleans/selects/datetimes with no spine coverage — need ha.helpers.snapshot capability
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T17:55:29Z"
    fixed_in: e2f50ab
  - id: "GAP-OP-382"
    discovered_by: "LOOP-AOF-V02-ENFORCEMENT-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/commands/cap.sh"
    description: |
      cap.sh does not enforce AOF contract acknowledgment — mutating/destructive caps execute without checking daily ack marker when .environment.yaml exists
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:01:42Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-383"
    discovered_by: "LOOP-AOF-V02-ENFORCEMENT-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/tests/"
    description: |
      No end-to-end pilot test for AOF contract flow in mint-modules context — bootstrap/validate/ack/status untested as integrated workflow
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:01:49Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-384"
    discovered_by: "LOOP-AOF-V02-ENFORCEMENT-20260215"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "surfaces/verify/drift-gate.sh"
    description: |
      drift-gate.sh runs all gates unconditionally — drift-gates.scoped.yaml defines tier-based categories but enforcement is not wired into gate_script() or inline gates
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:01:54Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-385"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/rag/bin/rag-reindex-remote-verify"
    description: |
      rag.reindex.remote.verify/status count upload failures across entire persistent rag-sync.log; should scope to current run segment since latest START marker or run-id log.
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-02-15T18:04:47Z"
  - id: "GAP-OP-386"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      aof.contract.acknowledge capability missing from MANIFEST.yaml aof plugin section
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:16:33Z"
    fixed_in: 1dfb0d3
  - id: "GAP-OP-387"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/bindings/drift-gates.scoped.yaml"
    description: |
      drift-gates.scoped.yaml fail_action field not consumed by drift-gate.sh runtime logic
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:16:38Z"
    fixed_in: 1dfb0d3
  - id: "GAP-OP-388"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/tests/aof-contract-flow-test.sh"
    description: |
      aof-contract-flow-test simulates check directly; no test exercises actual cap runner path with .environment.yaml
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:16:42Z"
    fixed_in: 1dfb0d3
  - id: "GAP-OP-389"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/capabilities.yaml"
    description: |
      3 HA capability registrations (ha.automation.trigger, ha.script.run, ha.backup.create) lost when commit 1ce2607 overwrote shared YAML files with stale versions — scripts on disk, missing from capabilities.yaml, capability_map.yaml, MANIFEST.yaml
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:23:58Z"
    fixed_in: 630a88e
  - id: "GAP-OP-390"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No ha.health.status capability — need HA API health probe with version and component count
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:02Z"
    fixed_in: 38ac650
  - id: "GAP-OP-391"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No ha.entity.status capability — need single entity state lookup via HA REST API
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:07Z"
    fixed_in: 38ac650
  - id: "GAP-OP-392"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      No ha.mcp.status capability — need MCP server file validation (GOVERNED_TOOLS block, ha_call_service null check)
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:11Z"
    fixed_in: 38ac650
  - id: "GAP-OP-393"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_LEGACY_EXTRACTION_MATRIX.md"
    description: |
      Extraction matrix Section 2 still shows gap annotations for 9 rows that are now covered — needs zero-gap parity update
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:24:16Z"
    fixed_in: 41ab050
  - id: "GAP-OP-394"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof"
    description: |
      AOF plugin directory structure (ops/plugins/aof/bin/ and tests/) — pre-satisfied
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:34:52Z"
    fixed_in: 75c1e8d
  - id: "GAP-OP-395"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.status capability: AOF health summary (contract state, gate count, cap count, policy preset)
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:34:54Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-396"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.version capability: AOF version and contract info from AOF_PRODUCT_CONTRACT.md
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:34:59Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-397"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.policy.show capability: current policy preset with all 10 knob values
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:00Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-398"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.tenant.show capability: tenant profile summary from tenant.profile.yaml
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:01Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-399"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin"
    description: |
      aof.verify capability: run product gates D91-D97 focused verification
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:03Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-400"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/MANIFEST.yaml"
    description: |
      MANIFEST.yaml aof plugin entry needs new operator capabilities added
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:04Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-401"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/capabilities.yaml"
    description: |
      capabilities.yaml and capability_map.yaml missing aof.status/version/policy.show/tenant.show/verify entries
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:35:06Z"
    fixed_in: ccafdeb
  - id: "GAP-OP-402"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/ha/bin/ha-service-call"
    description: |
      ha-service-call uses infisical CLI pattern (infisical secrets get) which fails without .infisical.json — needs infisical-agent.sh pattern. Affects 6 caps: ha.service.call, ha.scene.activate, ha.light.toggle, ha.lock.control, ha.automation.trigger, ha.script.run
    severity: high
    status: open
    notes: "Filed via gaps.file at 2026-02-15T18:45:31Z"
  - id: "GAP-OP-403"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      HASS_OPERATIONAL_RUNBOOK.md sections 2-4 have 41 drift items vs live HA: 10 new integration domains, 6 removed, 14 automation renames. ha.ssot.propose detected drift — runbook needs update via ha.ssot.apply
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-02-15T18:45:37Z"
  - id: "GAP-OP-404"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "docs/governance/HASS_OPERATIONAL_RUNBOOK.md"
    description: |
      binary_sensor.sab_shop_warnings restored:true + state:unavailable — SABnzbd integration entities are stale (integration configured but service unreachable). Verify SABnzbd hosts 100.117.1.53 and 100.125.138.110 are running
    severity: low
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:45:44Z"
    fixed_in: 'not-a-gap: HA operational issue, not spine governance — decommissioned VM 201 + out-of-scope home LXC 103'
  - id: "GAP-OP-405"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-status.sh"
    description: |
      aof.status lacks --json machine output contract for automation/bridge consumers
    severity: high
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-406"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-version.sh"
    description: |
      aof.version lacks --json machine output contract with stable fields
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-407"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-policy-show.sh"
    description: |
      aof.policy.show lacks --json output contract including 10 policy knobs and discovery source
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-408"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-tenant-show.sh"
    description: |
      aof.tenant.show lacks --json output contract for identity, secrets, policy, runtime, and surfaces
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-409"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/bin/aof-verify.sh"
    description: |
      aof.verify lacks --json gate summary contract for product gates D91-D97
    severity: high
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-410"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "docs/governance/OUTPUT_CONTRACTS.md"
    description: |
      OUTPUT_CONTRACTS.md missing canonical JSON schemas and examples for aof.status/version/policy.show/tenant.show/verify
    severity: high
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-411"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/aof/tests"
    description: |
      No regression tests enforce JSON parseability and stable required keys for AOF operator capability outputs
    severity: medium
    status: fixed
    notes: "Implemented in 7fad02f (AOF JSON consumer contracts)"
    parent_loop: "LOOP-AOF-CONSUMER-CONTRACT-V11-20260215"
    fixed_in: 7fad02f
  - id: "GAP-OP-412"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.workspace.contract.yaml"
    description: |
      Embedding backend selection contract missing — no explicit primary/fallback/probe binding for embedding model selection, no capability flag to override backend at runtime
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:59:43Z"
    parent_loop: LOOP-RAG-EMBEDDING-STABILIZATION-PREFLIGHT-20260215
    fixed_in: 1faaac6
  - id: "GAP-OP-413"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/bindings/rag.workspace.contract.yaml"
    description: |
      Sync load-shaping knobs missing — no governed per-request timeout, retry count, retry delay/backoff, or inter-doc pace/sleep controls in binding or sync runtime
    severity: medium
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:59:45Z"
    parent_loop: LOOP-RAG-EMBEDDING-STABILIZATION-PREFLIGHT-20260215
    fixed_in: 1faaac6
  - id: "GAP-OP-414"
    discovered_by: "operator"
    discovered_at: "2026-02-15"
    type: missing-entry
    doc: "ops/plugins/rag/bin/rag-reindex-remote-start"
    description: |
      Short-batch smoke preflight missing — no small-N smoke capability or drift gate to enforce smoke precondition before authorizing full reindex
    severity: high
    status: fixed
    notes: "Filed via gaps.file at 2026-02-15T18:59:47Z"
    parent_loop: LOOP-RAG-EMBEDDING-STABILIZATION-PREFLIGHT-20260215
    fixed_in: 1faaac6,db07c2b
  - id: "GAP-OP-415"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-health-check"
    description: |
      media.health.check exits on first failed probe because command substitution inherits non-zero from check_service under set -e, violating the aggregate-health contract and producing empty capability output.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-416"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-nfs-verify"
    description: |
      Media capabilities and drift gates invoke SSH targets without binding-derived ssh_user/ssh_target resolution, causing auth failures (e.g., ronnyworks@download-stack) despite vm.lifecycle declaring ubuntu users.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-417"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "ops/plugins/media/bin/media-service-status"
    description: |
      media.service.status contains a shell syntax error in ROOT assignment (missing closing parenthesis), making the capability non-executable in current form.
    severity: medium
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-418"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d107-media-nfs-mount-lock.sh"
    description: |
      D107 media NFS lock exits after first failing VM because check_vm_nfs is called directly under set -e, so second VM check is skipped and fail counts are incomplete.
    severity: medium
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-419"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d107-media-nfs-mount-lock.sh"
    description: |
      Media NFS checks use strict source-string matching against pve:/media and false-fail when mounts are healthy but represented as 192.168.1.184:/media; checks should validate mountpoint/export-path semantics, not host string literal.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-420"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d109-media-compose-config-match-lock.sh"
    description: |
      Media runtime checks assume direct docker socket access for ubuntu user, but both media VMs currently require sudo -n for docker CLI; capability and gate commands need deterministic sudo fallback to avoid false missing-container failures.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-421"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: stale-ssot
    doc: "ops/bindings/media.services.yaml"
    description: |
      ops/bindings/media.services.yaml drifts from runtime: bazarr-dl declared active but absent on download-stack, and watchtower/node-exporter service keys do not map to actual container names (watchtower, node-exporter), causing D108/D109 false failures.
    severity: high
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-422"
    discovered_by: "codex-post-apply-validation-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d109-media-compose-config-match-lock.sh"
    description: |
      D109 media-compose-config-match-lock ignores service-level .container overrides in media.services binding and compares only service keys, causing false failures for services mapped to shared container names (e.g., node-exporter, watchtower).
    severity: medium
    status: fixed
    notes: "Resolved in LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    parent_loop: "LOOP-MEDIA-POST-APPLY-HARDENING-20260215"
    fixed_in: 218febc
  - id: "GAP-OP-423"
    discovered_by: "codex-baseline-recovery-20260215"
    discovered_at: "2026-02-15"
    type: runtime-bug
    doc: "surfaces/verify/d48-codex-worktree-hygiene.sh"
    description: |
      D48 worktree hygiene fails due orphaned worktree branch gap-rag-logscope-verify-20260215 (no origin branch), which also blocks preflight (D3) with split-brain stop.
    severity: medium
    status: open
    notes: "Filed via gaps.file at 2026-02-15T19:44:34Z"
    parent_loop: "LOOP-BASELINE-GATE-RECOVERY-20260215"
# ─────────────────────────────────────────────────────────────
# Gap Types
# ─────────────────────────────────────────────────────────────
#
# stale-ssot      - Doc has outdated information
# missing-entry   - Expected entry doesn't exist
# agent-behavior  - Agent pattern that caused friction (not a doc issue)
# unclear-doc     - Doc exists but is ambiguous or incomplete
# duplicate-truth - Multiple docs claim authority for same thing
# runtime-bug     - Runtime implementation behavior violates governance intent
